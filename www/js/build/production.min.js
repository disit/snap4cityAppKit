!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}function E(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c)}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?null==(f=g[b])&&(f=g[n.camelCase(b)]):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||("none"!==(c=Fb(a,b))&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),(b=(Db[0].contentWindow||Db[0].contentDocument).document).write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function Vb(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;e--;)if((b=Ub[e]+c)in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)(d=a[g]).style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)(d=a[g]).style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if((0>(e=Kb(a,b,f))||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function kc(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=n.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),f=1-(c/j.duration||0),g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Jc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ed(a){return n.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;f>e&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:k&&!k.call("\ufeff ")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,i=[];if(s(a))for(;g>f;f++)null!=(d=b(a[f],f,c))&&i.push(d);else for(f in a)null!=(d=b(a[f],f,c))&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(!(g=b.getElementById(h))||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){for(m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;j--;)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}function nb(){}function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=sb(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if((c=d.filter[a[j].type].apply(null,a[j].matches))[s]){for(e=++j;f>e&&!d.relative[a[e].type];e++);return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){for(n=0;o=a[n++];)if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){for(n=0;o=b[n++];)o(r,s,g,i);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if((i=m[0]=m[0].slice(0)).length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(!(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0]))return e;a=a.slice(i.shift().value.length)}for(h=V.needsContext.test(a)?0:i.length;h--&&(j=i[h],!d.relative[k=j.type]);)if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),!(a=f.length&&pb(i)))return G.apply(e,f),e;break}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(1&(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)k.unshift(c);for(;h[d]===k[d];)d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},(d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){for(n=(j=(k=q[s]||(q[s]={}))[a]||[])[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(t&&((l[s]||(l[s]={}))[a]=[u,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}}).pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(b);return nb.prototype=d.filters=d.pseudos,d.setFilters=new nb,g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){for(b||(b=ob(a)),c=b.length;c--;)(f=ub(b[c]))[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f},c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a))||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=z.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))}).prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};n.Callbacks=function(a){var b,c,d,e,f,g,h=[],i=!(a="string"==typeof a?G[a]||H(a):n.extend({},a)).once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(!1===h[f].apply(l[0],l[1])&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){for(var d;(d=n.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(!0===a?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,!0!==a&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}}),n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var M,L="undefined";for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?n.cache[a[n.expando]]:a[n.expando])&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){for(c=g.length;c--;)0===(d=g[c].name).indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b);"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,function(){n.dequeue(a,b)},f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=n._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),h=(b=(b||"").match(F)||[""]).length;h--;)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&!1!==j.setup.call(a,d,p,k)||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){for(j=(b=(b||"").match(F)||[""]).length;j--;)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},m=k[o=(d?l.delegateType:l.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||!1!==k.trigger.apply(d,c))){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}for(m=0;(h=o[m++])&&!b.isPropagationStopped();)b.type=m>1?i:k.bindType||p,(f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"))&&f.apply(h,c),(f=g&&h[g])&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||!1===k._default.apply(o.pop(),c))&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){(l=d[g])&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,void 0!==(c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return!n.nodeName(this,"form")&&void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!n.nodeName(this,"form")&&void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=cb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ub=eb(z).appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td,n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return(d=vb(f,"script")).length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if((f=a[q])||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody)for(e=(f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild)&&f.childNodes.length;e--;)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(n.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;f=p[q++];)if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c))for(e=0;f=h[e++];)pb.test(f.type||"")&&c.push(f);return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xb(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&n.cleanData(vb(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)1===(b=this[c]||{}).nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(f=(g=n.map(vb(i,"script"),yb)).length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};!function(){var a,b,c=z.createElement("div");c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(a=c.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e;if(null==b){if(!(a=z.getElementsByTagName("body")[0]))return;"border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Jb,Kb,Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),null==(g=c?c[b]:void 0)&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,(f=e&&e.left)&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(b=h.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];return f?(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c):void 0},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(!(b=z.getElementsByTagName("body")[0]))return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),(e=d.appendChild(z.createElement("div"))).style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}})}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if("string"===(f=typeof c)&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),(g=n.cssHooks[b]||n.cssHooks[h])&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),!0===c||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(0,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""))&&"auto"!==b?b:0:a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[function(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(null==(h=n._queueHooks(a,"fx")).unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],d=(c=z.createElement("select")).appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,(b=z.createElement("input")).setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,n(this).val()):a)?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),(b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(mc,""):null==c?"":c:void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(!(!(c=d[i]).selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:null==(e=n.find.attr(a,b))?void 0:e:null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return!1===b?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""!==b&&b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return(1!==g||!n.isXMLDoc(a))&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(F)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||!1===a?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){(Ac=z.createElement("a")).href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&((w=v.getResponseHeader("Last-Modified"))&&(n.lastModified[e]=w),(w=v.getResponseHeader("etag"))&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j)for(j={};b=Dc.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;(h=k.global)&&0==n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(!1===k.beforeSend.call(l,v,k)||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,(Zc=l.ajax=!!Zc)&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){(b=z.createElement("script")).async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):!1!==b.jsonp&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});var application={appID:"smak-x",version:"0.0.2",uid:null,uid2:null,menuToCheckArray:[],remoteJsonUrl:"http://www.disit.org/km4city/appdevkit/",initialize:function(){application.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",application.onDeviceReady,!1),document.addEventListener("pause",application.onPause,!1),document.addEventListener("resume",application.onResume,!1),document.addEventListener("backbutton",application.onBackKeyDown,!1),window.addEventListener("resize",application.onResize,!1)},checkConnection:function(){return!0},onDeviceReady:function(){application.receivedEvent("deviceready");var loadAllTimeout=0;"Android"!=device.platform&&"windows"!=device.platform||(null===localStorage.getItem("acceptInformation")||"all"==localStorage.getItem("profile")&&localStorage.getItem("appVersion")!=application.version)&&(loadAllTimeout=5500),setTimeout(function(){null===localStorage.getItem("acceptInformation")||"all"==localStorage.getItem("profile")&&localStorage.getItem("appVersion")!=application.version?ChooseLanguage.show():application.startingApp()},loadAllTimeout),cordova.getAppVersion.getVersionNumber().then(function(version){application.version=version}),cordova.getAppVersion.getAppName().then(function(appName){application.appID=appName.substring(0,1).toLowerCase()+"dck-"+device.platform.substring(0,1).toLowerCase()}),application.uid=forge_sha256(device.uuid)},startingApp:function(){SettingsManager.initializeSettings(),application.checkConnection()||navigator.notification.alert(Globalization.alerts.connectionError.message,function(){},Globalization.alerts.connectionError.title),MapManager.createMap(),PrincipalMenu.show(),InfoManager.checkNewSingleTemplates(),"Win32NT"!=device.platform&&"windows"!=device.platform||application.resetBackButtonListener()},resetInterface:function(){for(var i=application.menuToCheckArray.length-1;i>=0;i--)null!=window[application.menuToCheckArray[i]]&&null!=window[application.menuToCheckArray[i]].closeAll&&window[application.menuToCheckArray[i]].closeAll();MapManager.reduceMenuShowMap(null,!0)},confirm:function(msg,callback,title,buttons){for(var buttonsWithLabel=[],i=0;i<buttons.length;i++){var button={label:buttons[i],indexButton:i+1,callback:callback.toString().replace(/}$/,"").replace(/.+{/,"").replace(/indexButton/g,i+1)};buttonsWithLabel.push(button)}var confirmModal={msg:msg,title:title,buttonsWithLabel:buttonsWithLabel};ViewManager.render(confirmModal,"#dialogModal","DialogModal"),$("#dialogModal").modal("show")},alert:function(msg,callback,title){var alertModal={msg:msg,title:title};ViewManager.render(alertModal,"#dialogModal","Alert"),$("#dialogModal").modal("show")},onResize:function(){for(var i=application.menuToCheckArray.length-1;i>=0;i--)null!=window[application.menuToCheckArray[i]]&&null!=window[application.menuToCheckArray[i]].refreshMenuPosition&&window[application.menuToCheckArray[i]].refreshMenuPosition()},onBackKeyDown:function(event){"Web"==device.platform&&-1==event.oldURL.indexOf("#b")||("Android"!=device.platform&&"iOS"!=device.platform||!PrincipalMenu.open||ChooseLanguage.open||ChooseProfile.open||PrincipalMenu.secondaryMenuOpen||(PrincipalMenu.modifing?PrincipalMenu.savePrincipalMenu():(PrincipalMenu.resetEventsBadge(),application.close())),0==application.menuToCheckArray.length?(PrincipalMenu.show(),PrincipalMenu.modifing?PrincipalMenu.savePrincipalMenu():application.resetBackButtonListener()):(null!=window[application.menuToCheckArray[0]]&&null!=window[application.menuToCheckArray[0]].open&&"PrincipalMenu"!=application.menuToCheckArray[0]&&0==window[application.menuToCheckArray[0]].open&&(application.resetInterface(),PrincipalMenu.show()),null!=window[application.menuToCheckArray[0]]&&null!=window[application.menuToCheckArray[0]].checkForBackButton&&window[application.menuToCheckArray[0]].checkForBackButton(),0==application.menuToCheckArray.length&&(PrincipalMenu.open||"Web"==device.platform||window.plugins.toast.showWithOptions({message:Globalization.labels.principalMenu.returnMenu,duration:"long",position:"bottom",addPixelsY:-40},function(){},function(){}))),"Web"!=device.platform||PrincipalMenu.open||application.setBackButtonListener())},onPause:function(event){"Web"!=device.platform&&"undefined"!=typeof GpsManager&&GpsManager.stopWatchingPosition()},onResume:function(event){"Web"!=device.platform&&"undefined"!=typeof GpsManager&&GpsManager.watchingPosition()},close:function(){"Web"!=device.platform&&navigator.Backbutton.goHome(function(){},function(){})},setBackButtonListener:function(){"Win32NT"!=device.platform&&"windows"!=device.platform||document.addEventListener("backbutton",application.onBackKeyDown,!1)},resetBackButtonListener:function(){"Win32NT"!=device.platform&&"windows"!=device.platform||document.removeEventListener("backbutton",application.onBackKeyDown,!1)},addingMenuToCheck:function(menuToCheck){application.menuToCheckArray.unshift(menuToCheck)},removingMenuToCheck:function(menuToCheck){-1!=application.menuToCheckArray.indexOf(menuToCheck)&&application.menuToCheckArray.splice(application.menuToCheckArray.indexOf(menuToCheck),1)},receivedEvent:function(id){}},Parameters={timeoutSplashScreen:7e3,timeoutStartApplication:2e3,scanAndSendPeriod:18e4,periodBackgroundTracker:3e4,periodResendBackGroundTracker:3e4,periodBackgroundNotifier:36e5,maxSizeChronology:100,textSizeCategorySearcher:22,timeoutGettingMenuCategorySearcher:2500,veryLargePanelCategorySearcher:453,largePanelCategorySearcher:420,mediumPanelCategorySearcher:385,normalPanelCategorySearcher:350,smallPanelCategorySearcher:315,verySmallPanelCategorySearcher:278,timeoutGetQuery:3e4,timeoutPostQuery:2e4,timeoutAuthentication:1e4,timeoutGPS:8e3,periodNotify:18e5,distsQueryManager:.3,distsRecommenderQueryManager:2,resultsQueryManager:50,limitDistance:150,peridoNightDat:18e5,maxRowLog:100,hidePanelGeneralDuration:0,timeoutInfoSOC:6e5,showBadgeAfterThisTime:432e5},RelativePath={images:"img/mapicons/",labels:"js/data/json/labels/",alerts:"js/data/json/alerts/",profiles:"js/data/json/profiles/",jsonFolder:"js/data/json/",build:"js/build/"},CategorySearcher={openPanelMenu:!1,open:!1,results:null,expanded:!1,forceSelectedKeys:null,tplSearch:!1,currentLanguage:null,currentProfile:null,currentMenu:null,activeTree:"categorySearchFancyTree",currentMenuAll:null,textSize:null,defaultTextSize:Parameters.textSizeCategorySearcher,idMenu:"resultsMenu",varName:"CategorySearcher",createMenu:function(divId,source,profile){$("#"+divId).fancytree({source:source,extensions:["glyph","persist","filter"],checkbox:!0,selectMode:3,imagePath:RelativePath.images,clickFolderMode:2,click:function(event,data){if(!data.node.folder)return data.node.toggleSelected(),!1},glyph:{map:{doc:"glyphicon glyphicon-file",docOpen:"glyphicon glyphicon-file",checkbox:"icon ion-android-checkbox-outline-blank",checkboxSelected:"icon ion-android-done",checkboxUnknown:"icon ion-android-checkbox-outline",error:"glyphicon glyphicon-warning-sign",expanderClosed:"icon ion-chevron-right",expanderLazy:"icon ion-chevron-right",expanderOpen:"icon ion-chevron-up",folder:"glyphicon glyphicon-folder-close",folderOpen:"glyphicon glyphicon-folder-open",loading:"glyphicon glyphicon-refresh"}},persist:{cookiePrefix:"categorySearchFancyTree",expandLazy:!1,overrideSource:!0,store:"local",types:"selected"},filter:{autoApply:!1,counter:!1,fuzzy:!1,leavesOnly:!0,highlight:!1,nodata:Globalization.labels.categorySearchMenu.noService,mode:"hide"}}),CategorySearcher.rescaleFontSize(),"all"!=profile&&($(".fancytree-exp-n span.fancytree-expander, .fancytree-exp-nl span.fancytree-expander").css("width","0px"),$("span.fancytree-checkbox").css("margin-left","0.2em")),$("span.fancytree-checkbox").css("font-size","24px").css("margin-top","-1px"),$("img.fancytree-icon").css("font-size","24px")},filterMenu:function(){var match=$("input[name=search]").val();if(match.length>=2){CategorySearcher.activeTree="categorySearchFancyTreeComplete",CategorySearcher.selectAll(),$("#categorySearchFancyTreeComplete").show(0),$("#categorySearchFancyTree").hide(0);$("#categorySearchFancyTreeComplete").fancytree("getTree").filterNodes(match,{autoExpand:!0,leavesOnly:!0})}else""==match&&($("#categorySearchFancyTreeComplete").fancytree("getTree").clearFilter(),CategorySearcher.activeTree="categorySearchFancyTree",$("#categorySearchFancyTreeComplete").hide(0),$("#categorySearchFancyTree").show(0))},resetFilterMenu:function(){$("input[name=search]").val(""),$("#categorySearchFancyTreeComplete").fancytree("getTree").clearFilter(),CategorySearcher.activeTree="categorySearchFancyTree",$("#categorySearchFancyTreeComplete").hide(0),$("#categorySearchFancyTree").show(0),CategorySearcher.selectAll()},refreshCategoryMenu:function(){CategorySearcher.textSize!=SettingsManager.textSize&&(CategorySearcher.textSize=SettingsManager.textSize),CategorySearcher.currentLanguage==SettingsManager.language&&CategorySearcher.currentProfile==SettingsManager.profile||(CategorySearcher.currentLanguage=SettingsManager.language,CategorySearcher.currentProfile=SettingsManager.profile,ViewManager.render(null,"#categorySearchMenu","CategorySearchMenu"),application.checkConnection()?($.ajax({url:"http://www.disit.org/km4city/mapSearchMenu/mapSearchMenu."+SettingsManager.language+"."+SettingsManager.profile+".json",cache:!1,timeout:Parameters.timeoutGettingMenuCategorySearcher,dataType:"json",beforeSend:function(){Loading.showSettingsLoading()},success:function(data){CategorySearcher.currentMenu=data,localStorage.setItem("categorySearchMenu."+SettingsManager.language+"."+SettingsManager.profile+".json",JSON.stringify(data)),CategorySearcher.createMenu("categorySearchFancyTree",CategorySearcher.currentMenu,SettingsManager.profile)},error:function(data){CategorySearcher.currentMenu=CategorySearcher.searchMenuLocally(SettingsManager.profile),CategorySearcher.createMenu("categorySearchFancyTree",CategorySearcher.currentMenu,SettingsManager.profile)},complete:function(){Loading.hideSettingsLoading()}}),$.ajax({url:"http://www.disit.org/km4city/mapSearchMenu/mapSearchMenu."+SettingsManager.language+".all.json",cache:!1,timeout:Parameters.timeoutGettingMenuCategorySearcher,dataType:"json",beforeSend:function(){Loading.showSettingsLoading()},success:function(data){CategorySearcher.currentMenuAll=data,localStorage.setItem("categorySearchMenu."+SettingsManager.language+".all.json",JSON.stringify(data)),CategorySearcher.createMenu("categorySearchFancyTreeComplete",CategorySearcher.currentMenuAll,"all")},error:function(data){CategorySearcher.currentMenuAll=CategorySearcher.searchMenuLocally("all"),CategorySearcher.createMenu("categorySearchFancyTreeComplete",CategorySearcher.currentMenuAll,"all")},complete:function(){Loading.hideSettingsLoading()}})):(CategorySearcher.currentMenu=CategorySearcher.searchMenuLocally(SettingsManager.profile),CategorySearcher.createMenu("categorySearchFancyTree",CategorySearcher.currentMenu,SettingsManager.profile),CategorySearcher.currentMenuAll=CategorySearcher.searchMenuLocally("all"),CategorySearcher.createMenu("categorySearchFancyTreeComplete",CategorySearcher.currentMenuAll,"all")),CategorySearcher.activeTree="categorySearchFancyTree"),CategorySearcher.rescaleFontSize()},searchMenuLocally:function(profile){var currentMenu=null;return null!=localStorage.getItem("categorySearchMenu."+SettingsManager.language+"."+profile+".json")&&(currentMenu=JSON.parse(localStorage.getItem("categorySearchMenu."+SettingsManager.language+"."+profile+".json"))),null==currentMenu&&$.ajax({url:RelativePath.jsonFolder+"mapSearchMenu/mapSearchMenu."+SettingsManager.language+"."+profile+".json",async:!1,dataType:"json",success:function(data){currentMenu=data}}),currentMenu},deselectAll:function(){return $("#"+CategorySearcher.activeTree).fancytree("getTree").visit(function(node){node.setSelected(!1)}),!1},selectAll:function(){return $("#"+CategorySearcher.activeTree).fancytree("getTree").visit(function(node){node.setSelected(!0)}),!1},resetMenu:function(){$("#"+CategorySearcher.activeTree).fancytree("getTree").visit(function(node){node.setExpanded(!1)}),CategorySearcher.deselectAll()},rescaleFontSize:function(){var currentTextSize=CategorySearcher.textSize;$("div#categorySearchMenu.ui-panel").css("height",$(window).height()-55+"px"),26==currentTextSize&&($(window).width()>Parameters.veryLargePanelCategorySearcher?$("div#categorySearchMenu.ui-panel").css("width",Parameters.veryLargePanelCategorySearcher+"px"):currentTextSize=24),24==currentTextSize&&($(window).width()>Parameters.largePanelCategorySearcher?$("div#categorySearchMenu.ui-panel").css("width",Parameters.veryLargePanelCategorySearcher+"px"):currentTextSize=22),22==currentTextSize&&($(window).width()>Parameters.mediumPanelCategorySearcher?$("div#categorySearchMenu.ui-panel").css("width",Parameters.mediumPanelCategorySearcher+"px"):currentTextSize=20),20==currentTextSize&&($(window).width()>Parameters.normalPanelCategorySearcher?$("div#categorySearchMenu.ui-panel").css("width",Parameters.normalPanelCategorySearcher+"px"):currentTextSize=18),18==currentTextSize&&($(window).width()>Parameters.smallPanelCategorySearcher?$("div#categorySearchMenu.ui-panel").css("width",Parameters.smallPanelCategorySearcher+"px"):currentTextSize=16),16==currentTextSize&&$(window).width()>Parameters.verySmallPanelCategorySearcher&&$("div#categorySearchMenu.ui-panel").css("width",Parameters.verySmallPanelCategorySearcher+"px"),$("#categorySearchFancyTree").children("ul.fancytree-container").css("font-size",currentTextSize+"px"),$("#categorySearchFancyTreeComplete").children("ul.fancytree-container").css("font-size",currentTextSize+"px")},search:function(forceSelection){if(null!=SearchManager.searchCenter){var selectedNodeNumber=$("#"+CategorySearcher.activeTree).fancytree("getTree").getSelectedNodes().length;if(0==selectedNodeNumber&&null==CategorySearcher.forceSelectedKeys)return navigator.notification.alert(Globalization.alerts.servicesCategoryNotSelected.message,function(){},Globalization.alerts.servicesCategoryNotSelected.title),!1;var selectedKeys=["Service"];if($("#"+CategorySearcher.activeTree).fancytree("getTree").isFilterActive()?(selectedKeys=[],selectedKeys=$.map($("#"+CategorySearcher.activeTree).fancytree("getTree").getSelectedNodes(),function(node){if(node.isMatched()&&!node.hasChildren())return node.key})):selectedNodeNumber==$("#"+CategorySearcher.activeTree).fancytree("getTree").count()&&"all"==SettingsManager.profile||(selectedKeys=$.map($("#"+CategorySearcher.activeTree).fancytree("getTree").getSelectedNodes(!0),function(node){return node.key})),0==selectedKeys.length&&null==CategorySearcher.forceSelectedKeys)return navigator.notification.alert(Globalization.alerts.servicesCategoryNotSelected.message,function(){},Globalization.alerts.servicesCategoryNotSelected.title),!1;null!=CategorySearcher.forceSelectedKeys&&(selectedKeys=CategorySearcher.forceSelectedKeys);var categoriesQuery=QueryManager.createCategoriesQuery(selectedKeys,SearchManager.searchCenter,"user");APIClient.executeQuery(categoriesQuery,CategorySearcher.successQuery,CategorySearcher.errorQuery)}else navigator.notification.confirm(Globalization.alerts.noPosition.message,function(indexButton){"Android"==device.platform?(3==indexButton&&CheckGPS.openSettings(),1!=indexButton&&0!=indexButton||CategorySearcher.resetSearch()):"iOS"!=device.platform&&"Win32NT"!=device.platform&&"windows"!=device.platform&&"Web"!=device.platform||1!=indexButton&&0!=indexButton||CategorySearcher.resetSearch()},Globalization.alerts.noPosition.title,Globalization.alerts.noPosition.buttonName)},onKeyEnter:function(event){return 13!=event.which&&13!=event.keyCode||(SearchManager.search("CategorySearcher"),CategorySearcher.hidePanelMenu(),!1)},showPanelMenu:function(){0==CategorySearcher.openPanelMenu?(CategorySearcher.openPanelMenu=!0,null==localStorage.getItem("firstStart")&&(CategorySearcher.selectAll(),localStorage.setItem("firstStart","false")),application.addingMenuToCheck(CategorySearcher.varName),application.setBackButtonListener(),$("#categorySearchMenu").css("height",$("#content").height()+"px"),$("input[name=search]").attr("placeholder",Globalization.labels.categorySearchMenu.filter),$("#categorySearchMenuImage").addClass("glyphicon-chevron-right").removeClass("glyphicon-th-list")):CategorySearcher.resetPanel()},hidePanelMenu:function(){$("#categorySearchMenu").panel("close"),$("#categorySearchMenuImage").removeClass("glyphicon-chevron-right").addClass("glyphicon-th-list"),CategorySearcher.openPanelMenu=!1,CategorySearcher.open||application.removingMenuToCheck(CategorySearcher.varName)},checkForBackButton:function(){CategorySearcher.open&&!CategorySearcher.openPanelMenu&&CategorySearcher.hide(),CategorySearcher.openPanelMenu&&CategorySearcher.hidePanelMenu()},refreshMenuPosition:function(){CategorySearcher.open&&(MapManager.showMenuReduceMap("#"+CategorySearcher.idMenu),Utility.checkAxisToDrag("#"+CategorySearcher.idMenu),CategorySearcher.expanded&&CategorySearcher.expandResultsMenu()),CategorySearcher.rescaleFontSize()},closeAll:function(){CategorySearcher.hidePanelMenu(),CategorySearcher.hide()},refreshMenu:function(){0==$("#"+CategorySearcher.idMenu).length&&$("#indexPage").append('<div id="'+CategorySearcher.idMenu+'" class="commonHalfMenu"></div>'),ViewManager.render(CategorySearcher.results,"#"+CategorySearcher.idMenu,"ResultsMenu"),Utility.movingPanelWithTouch("#"+CategorySearcher.idMenu+"ExpandHandler","#"+CategorySearcher.idMenu)},expandResultsMenu:function(){Utility.expandMenu("#"+CategorySearcher.idMenu,"#"+CategorySearcher.idMenu+"Expand","#"+CategorySearcher.idMenu+"Collapse"),CategorySearcher.expanded=!0},collapseResultsMenu:function(){Utility.collapseMenu("#"+CategorySearcher.idMenu,"#"+CategorySearcher.idMenu+"Expand","#"+CategorySearcher.idMenu+"Collapse"),CategorySearcher.expanded=!1},show:function(){application.resetInterface(),MapManager.showMenuReduceMap("#"+CategorySearcher.idMenu),$("#"+CategorySearcher.idMenu+"Collapse").hide(),CategorySearcher.open=!0,InfoManager.addingMenuToManage(CategorySearcher.varName),application.addingMenuToCheck(CategorySearcher.varName),application.setBackButtonListener()},showWithoutResetInterface:function(){MapManager.showMenuReduceMap("#"+CategorySearcher.idMenu),$("#"+CategorySearcher.idMenu+"Collapse").hide(),CategorySearcher.open=!0,InfoManager.removingMenuToManage(CategorySearcher.varName),application.removingMenuToCheck(CategorySearcher.varName),InfoManager.addingMenuToManage(CategorySearcher.varName),application.addingMenuToCheck(CategorySearcher.varName),application.setBackButtonListener()},hide:function(){$("#"+CategorySearcher.idMenu).css({"z-index":"1001"}),MapManager.reduceMenuShowMap("#"+CategorySearcher.idMenu),CategorySearcher.open=!1,InfoManager.removingMenuToManage(CategorySearcher.varName),application.removingMenuToCheck(CategorySearcher.varName)},resetPanel:function(){CategorySearcher.openPanelMenu=!1,$("#categorySearchMenuImage").toggleClass("glyphicon-chevron-right glyphicon-th-list"),CategorySearcher.open||application.removingMenuToCheck(CategorySearcher.varName),application.resetBackButtonListener()},resetSearch:function(){CategorySearcher.forceSelectedKeys=null,QueryManager.resetMaxDists(),Loading.hideAutoSearchLoading()},successQuery:function(response){var lengthCategory=0,emptyCategory=0,responseObject={Results:{fullCount:0,type:"FeatureCollection",features:[]}};for(var category in response)lengthCategory++;for(var category in response)0!=response[category].features.length?(responseObject.Results.features=responseObject.Results.features.concat(response[category].features),responseObject.Results.fullCount=responseObject.Results.fullCount+response[category].fullCount):++emptyCategory==lengthCategory&&SearchManager.startAutoSearch(CategorySearcher.varName);if("selectedServiceMarker"==SearchManager.typeOfSearchCenter&&(MapManager.searchOnSelectedServiceMarker=!0),0!=responseObject.Results.features.length){for(var i=0;i<responseObject.Results.features.length;i++)responseObject.Results.features[i].id=i,Utility.enrichService(responseObject.Results.features[i],i);null!=responseObject.Results.features[0].properties.distanceFromSearchCenter?responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS}),CategorySearcher.results=responseObject.Results,CategorySearcher.refreshMenu(),CategorySearcher.show(),MapManager.addGeoJSONLayer(responseObject),CategorySearcher.resetSearch(),$("#categorySearchGoButton").css("width","50%"),$("#categorySearchLastResultsButton").show()}},lastResults:function(){CategorySearcher.refreshMenu(),CategorySearcher.show(),MapManager.addGeoJSONLayerWithoutArea({Results:CategorySearcher.results}),CategorySearcher.results.tplSearch&&($("input[name=filterTplResults]").attr("placeholder",Globalization.labels.categorySearchMenu.filterLines),$("#resultsMenuInner").css("top","92px"))},errorQuery:function(error){CategorySearcher.resetSearch(),navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)}},Utility={iconUrl:null,retry:0,retryNumber:3,createEmptyFile:function(filename){"undefined"!=typeof cordova&&window.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(dir){dir.getFile(filename,{create:!0},function(file){})})},deleteEmptyFile:function(filename){"undefined"!=typeof cordova&&window.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(dir){dir.getFile(filename,{create:!1},function(file){file.remove(function(){Utility.retry=0},function(){Utility.retry<Utility.retryNumber?(Utility.retry++,Utility.deleteEmptyFile(filename)):Utility.retry=0})})})},capitalize:function(string,a){if(""!=string){var tempstr=string.toLowerCase();return 0==a||void 0==a?tempstr.replace(tempstr[0],tempstr[0].toUpperCase()):tempstr.replace(tempstr[0],tempstr[0].toUpperCase()).split(" ").map(function(i){if(null!=i[0])return i[0].toUpperCase()+i.substring(1)}).join(" ")}return string},escapeHtml:function(stringToEscape){var escaped=stringToEscape;return null!=stringToEscape&&(escaped=stringToEscape.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),escaped},unescapeHtml:function(stringToEscape){return $("<div>").html(stringToEscape).text()},unescapeHtmlMst:function(){return function(text,render){var value=render(text);return void 0!=value&&""!=value&&(value=value.replace(/@\w+/,"")),$("<div>"+value+"</div>").text()}},uriToLabelDBPediaMst:function(){return function(text,render){var value=render(text);return value.substring(value.lastIndexOf(";")+1).replace(/_/g," ").replace(/-/g," ")}},uriGlobalizeDBPediaMst:function(){return function(text,render){var value=render(text);return"eng"==SettingsManager.language?value.replace(value.substring(0,value.indexOf(".")),"http:&#x2F;&#x2F;en."):"eng"!=SettingsManager.language?value:void 0}},removeUnderscoreMst:function(){return function(text,render){return render(text).replace(/_/g," ")}},changeFormatEventsDateMst:function(){return function(text,render){var value=render(text);if("eng"!=SettingsManager.language)try{return dateFormat(value,"dd-mm-yyyy")}catch(e){return value}else try{return dateFormat(value,"mm-dd-yyyy")}catch(e){return value}}},changeFormatDateTimeMst:function(){return function(text,render){var value=render(text);if(console.log(value),"iOS"==device.platform)return-1!=value.indexOf("+")?(console.log("1. "+value.substring(0,value.indexOf("+")).replace("T"," ")),value.substring(0,value.indexOf("+")).replace("T"," ")):(console.log("2. "+value.replace("T"," ")),value.replace("T"," "));if(-1==value.indexOf("+")||"Win32NT"!=device.platform&&"windows"!=device.platform||(value=value.substring(0,value.indexOf("+"))),-1!=value.indexOf(".")&&(value=value.substring(0,value.indexOf("."))),"eng"!=SettingsManager.language)try{return dateFormat(value.replace("T"," ").replace("Z",""),"dd-mm-yyyy HH:MM")}catch(e){return value}else try{return dateFormat(value.replace("T"," ").replace("Z",""),"mm-dd-yyyy HH:MM")}catch(e){return value}}},changeFormatDateTimeWOYearMst:function(){return function(text,render){var value=render(text);if("iOS"==device.platform)return-1!=value.indexOf("+")?value.substring(4,value.indexOf("+")).replace("T"," "):value.replace("T"," ");if(-1==value.indexOf("+")||"Win32NT"!=device.platform&&"windows"!=device.platform||(value=value.substring(0,value.indexOf("+"))),-1!=value.indexOf(".")&&(value=value.substring(0,value.indexOf("."))),"eng"!=SettingsManager.language)try{return dateFormat(value.replace("T"," ").replace("Z",""),"dd-mm HH:MM")}catch(e){return value}else try{return dateFormat(value.replace("T"," ").replace("Z",""),"mm-dd HH:MM")}catch(e){return value}}},shortingDayWeatherMst:function(){return function(text,render){return render(text).substring(0,3)}},checkServiceIcon:function(iconUrl,type){return $.ajax({url:iconUrl,async:!1,success:function(){Utility.iconUrl=iconUrl},error:function(){"classic"==type&&(Utility.iconUrl=RelativePath.images+"Default.png"),"over"==type&&(Utility.iconUrl=RelativePath.images+"Default_over.png")}}),Utility.iconUrl},enrichService:function(serviceToEnrich,identifier){if(null!=serviceToEnrich){if(null!=serviceToEnrich.properties.name&&(serviceToEnrich.properties.name=serviceToEnrich.properties.name.replace(/_/g," ").toLowerCase(),serviceToEnrich.properties.nameEscaped=Utility.escapeHtml(serviceToEnrich.properties.name).replace(/_/g," ").toLowerCase().replace("/af�/g","afè")),null!=serviceToEnrich.properties.address&&(serviceToEnrich.properties.addressEscaped=Utility.escapeHtml(serviceToEnrich.properties.address).replace(/_/g," ")),null!=serviceToEnrich.properties.description&&(serviceToEnrich.properties.descriptionEscaped=Utility.escapeHtml(serviceToEnrich.properties.description).replace(/_/g," "),serviceToEnrich.properties.description=serviceToEnrich.properties.description.replace(/ � /g," è ").replace(/ pi� /g," più ").replace(/ch� /g," ché ").replace(/ll�/g,"ll'").replace(/ l�/gi,"l'").replace(/it�/g,"ità").replace(/ealt�/g,"ealtà").replace(/ed�/g,"edì").replace(/erd�/g,"erdì")),null!=serviceToEnrich.properties.description2&&(serviceToEnrich.properties.description2Escaped=Utility.escapeHtml(serviceToEnrich.properties.description2).replace(/_/g," "),serviceToEnrich.properties.description2=serviceToEnrich.properties.description2.replace(/ � /g," è ").replace(/ pi� /g," più ").replace(/ch� /g," ché ").replace(/ll�/g,"ll'").replace(/ l�/gi,"l'").replace(/it�/g,"ità").replace(/ealt�/g,"ealtà").replace(/ed�/g,"edì").replace(/erd�/g,"erdì")),null!=serviceToEnrich.properties.multimedia){var multimediaFormat=serviceToEnrich.properties.multimedia.substring(serviceToEnrich.properties.multimedia.length-4);".mp3"==multimediaFormat?serviceToEnrich.properties.audioMP3=serviceToEnrich.properties.multimedia:".wav"==multimediaFormat||".ogg"==multimediaFormat?(serviceToEnrich.properties.audio=serviceToEnrich.properties.multimedia,serviceToEnrich.properties.multimediaFormat=multimediaFormat):".pdf"==multimediaFormat?serviceToEnrich.properties.textPDF=serviceToEnrich.properties.multimedia.replace("http://",""):""!=multimediaFormat&&(serviceToEnrich.properties.carouselContent=[{photo:APIClient.apiUrl+"imgcache?size=medium&imageUrl="+serviceToEnrich.properties.multimedia,active:"active",index:0}],serviceToEnrich.properties.carouselThumbContent=[{photo:APIClient.apiUrl+"imgcache?size=thumb&imageUrl="+serviceToEnrich.properties.multimedia,active:"active",index:0,photoModal:APIClient.apiUrl+"imgcache?size=medium&imageUrl="+serviceToEnrich.properties.multimedia}],serviceToEnrich.properties.image=APIClient.apiUrl+"imgcache?size=medium&imageUrl="+serviceToEnrich.properties.multimedia,serviceToEnrich.properties.imageThumb=APIClient.apiUrl+"imgcache?size=thumb&imageUrl="+serviceToEnrich.properties.multimedia)}if(null!=serviceToEnrich.properties.photos&&0!=serviceToEnrich.properties.photos.length){j=0;null==serviceToEnrich.properties.carouselContent&&(null==serviceToEnrich.properties.image&&(serviceToEnrich.properties.image=serviceToEnrich.properties.photos[j],null==serviceToEnrich.properties.photoThumbs&&(serviceToEnrich.properties.imageThumb=serviceToEnrich.properties.photos[j])),serviceToEnrich.properties.carouselContent=[{photo:serviceToEnrich.properties.photos[j],active:"active",index:j}],j++);for(i=j;i<serviceToEnrich.properties.photos.length;i++)serviceToEnrich.properties.carouselContent.push({photo:serviceToEnrich.properties.photos[i],active:"",index:i})}if(null!=serviceToEnrich.properties.photoThumbs&&0!=serviceToEnrich.properties.photoThumbs.length){var j=0;null==serviceToEnrich.properties.carouselThumbContent&&(null==serviceToEnrich.properties.imageThumb&&(serviceToEnrich.properties.imageThumb=serviceToEnrich.properties.photoThumbs[j]),null!=serviceToEnrich.properties.photos?serviceToEnrich.properties.carouselThumbContent=[{photo:serviceToEnrich.properties.photoThumbs[j],active:"active",index:j,photoModal:serviceToEnrich.properties.photos[j]}]:serviceToEnrich.properties.carouselThumbContent=[{photo:serviceToEnrich.properties.photoThumbs[j],active:"active",index:j,photoModal:""}],j++);for(i=j;i<serviceToEnrich.properties.photoThumbs.length;i++)null!=serviceToEnrich.properties.photos?serviceToEnrich.properties.carouselThumbContent.push({photo:serviceToEnrich.properties.photoThumbs[i],active:"",index:i,photoModal:serviceToEnrich.properties.photos[i]}):serviceToEnrich.properties.carouselThumbContent.push({photo:serviceToEnrich.properties.photoThumbs[i],active:"",index:i,photoModal:""})}if(null!=serviceToEnrich.properties.carouselThumbContent&&0!=serviceToEnrich.properties.carouselThumbContent.length&&(serviceToEnrich.properties.carouselThumb=!0,serviceToEnrich.properties.carouselThumbHeight=.2*$(window).width(),1==serviceToEnrich.properties.carouselThumbContent.length&&(serviceToEnrich.properties.onlyOneThumbImage=!0)),null!=serviceToEnrich.properties.carouselContent&&0!=serviceToEnrich.properties.carouselContent.length&&(serviceToEnrich.properties.carousel=!0,serviceToEnrich.properties.carouselHeight=.2*$(window).width(),1==serviceToEnrich.properties.carouselContent.length&&(serviceToEnrich.properties.onlyOneImage=!0)),null!=serviceToEnrich.properties.comments&&0!=serviceToEnrich.properties.comments.length){serviceToEnrich.properties.carouselCommentContent=[{comment:serviceToEnrich.properties.comments[0].text,time:serviceToEnrich.properties.comments[0].timestamp,active:"active",index:0}];for(var i=1;i<serviceToEnrich.properties.comments.length;i++)serviceToEnrich.properties.carouselCommentContent.push({comment:serviceToEnrich.properties.comments[i].text,time:serviceToEnrich.properties.comments[i].timestamp,active:"",index:i})}if(null!=serviceToEnrich.properties.carouselCommentContent&&0!=serviceToEnrich.properties.carouselCommentContent.length&&(serviceToEnrich.properties.carouselComment=!0,1==serviceToEnrich.properties.carouselCommentContent.length&&(serviceToEnrich.properties.onlyOneComment=!0)),null!=serviceToEnrich.properties.startDate&&null!=serviceToEnrich.properties.endDate&&serviceToEnrich.properties.startDate==serviceToEnrich.properties.endDate&&(serviceToEnrich.properties.date=serviceToEnrich.properties.startDate,serviceToEnrich.properties.startDate=null,serviceToEnrich.properties.endDate=null),null!=serviceToEnrich.properties.startTime&&(serviceToEnrich.properties.startTime=serviceToEnrich.properties.startTime.replace(/ed�/g,"edì").replace(/erd�/g,"erdì")),null!=serviceToEnrich.properties.website){var link=serviceToEnrich.properties.website;link=(link=$("<div>"+link+"</div>").text()).replace(/http[:]\/\//g,""),serviceToEnrich.properties.website=link}if(null!=serviceToEnrich.properties.linkDBpedia&&0!=serviceToEnrich.properties.linkDBpedia.length&&(serviceToEnrich.properties.dbPedia="true"),null==serviceToEnrich.properties.carousel&&null==serviceToEnrich.properties.image||(serviceToEnrich.properties.images=!0),"Android"==device.platform&&(serviceToEnrich.properties.android="true"),"iOS"==device.platform&&(serviceToEnrich.properties.ios="true"),"Win32NT"!=device.platform&&"windows"!=device.platform||(serviceToEnrich.properties.wp8="true","windows"==device.platform&&(serviceToEnrich.properties.windows="true")),"Web"==device.platform&&(serviceToEnrich.properties.web="true"),null!=serviceToEnrich.properties.serviceType){if(null==serviceToEnrich.properties.category&&(serviceToEnrich.properties.category=serviceToEnrich.properties.serviceType.substring(0,serviceToEnrich.properties.serviceType.indexOf("_"))),""==serviceToEnrich.properties.category&&(serviceToEnrich.properties.category=serviceToEnrich.properties.serviceType),null==serviceToEnrich.properties.subCategory&&(serviceToEnrich.properties.subCategory=serviceToEnrich.properties.serviceType.substring(serviceToEnrich.properties.serviceType.indexOf("_")+1)),null!=serviceToEnrich.properties.agency&&null==serviceToEnrich.properties.alternativeIcon){temporaryServiceType=serviceToEnrich.properties.serviceType+"_"+serviceToEnrich.properties.agency.toLowerCase().replace(/\./g,"").replace(/&/g,"").replace(/ù/g,"u").replace(/à/g,"a").replace(/ /g,"");null!=(checkIcon=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+temporaryServiceType+".png","classic"))&&-1==checkIcon.indexOf("Default")&&(serviceToEnrich.properties.alternativeIcon=temporaryServiceType)}if(null!=serviceToEnrich.properties.brand&&""!=serviceToEnrich.properties.brand&&null==serviceToEnrich.properties.alternativeIcon){var temporaryServiceType=serviceToEnrich.properties.serviceType+"_"+serviceToEnrich.properties.brand.toLowerCase().replace(/\./g,"").replace(/&/g,"").replace(/ù/g,"u").replace(/à/g,"a").replace(/ /g,""),checkIcon=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+temporaryServiceType+".png","classic");null!=checkIcon&&-1==checkIcon.indexOf("Default")&&(serviceToEnrich.properties.alternativeIcon=temporaryServiceType)}}Utility.refreshDinamicFields(serviceToEnrich,identifier)}},refreshDinamicFields:function(serviceToRefresh,identifier){serviceToRefresh.properties.unescapeHtml=Utility.unescapeHtmlMst,serviceToRefresh.properties.uriToLabelDBPedia=Utility.uriToLabelDBPediaMst,serviceToRefresh.properties.uriGlobalizeDBPedia=Utility.uriGlobalizeDBPediaMst,serviceToRefresh.properties.removeUnderscore=Utility.removeUnderscoreMst,serviceToRefresh.properties.changeFormatEventsDate=Utility.changeFormatEventsDateMst,serviceToRefresh.properties.changeFormatDateTime=Utility.changeFormatDateTimeMst,serviceToRefresh.properties.changeFormatDateTimeWOYear=Utility.changeFormatDateTimeWOYearMst,serviceToRefresh.properties.currentLanguage=SettingsManager.language,null!=serviceToRefresh.properties.eventCategory?serviceToRefresh.properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/Event.png","classic"):null==serviceToRefresh.properties.alternativeIcon?serviceToRefresh.properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+serviceToRefresh.properties.serviceType+".png","classic"):serviceToRefresh.properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+serviceToRefresh.properties.alternativeIcon+".png","classic"),null!=identifier&&(serviceToRefresh.properties.identifier=identifier),serviceToRefresh.properties.distanceFromGPS=Math.round(GpsManager.getDistanceFromGPSInM(serviceToRefresh.geometry.coordinates[1],serviceToRefresh.geometry.coordinates[0]));var manualMarkerCoordinates=MapManager.manualMarkerCoordinates();serviceToRefresh.properties.distanceFromSearchCenter=null!=manualMarkerCoordinates?Math.round(GpsManager.getDistanceFromLatLonInM(serviceToRefresh.geometry.coordinates[1],serviceToRefresh.geometry.coordinates[0],manualMarkerCoordinates[0],manualMarkerCoordinates[1])):null,null==serviceToRefresh.properties.distanceFromGPS&&null==serviceToRefresh.properties.distanceFromSearchCenter||(serviceToRefresh.properties.distanceFromSomething=!0)},expandMenu:function(idMenu,idExpandButton,idCollapseButton){$(idMenu).css({height:"100%",width:"100%",top:"0px",left:"0px"}),$(idExpandButton).hide(),$(idCollapseButton).show()},collapseMenu:function(idMenu,idExpandButton,idCollapseButton){MapManager.showMenuReduceMap(idMenu),$(idMenu).css({"z-index":"1001"}),$(idCollapseButton).hide(),$(idExpandButton).show()},movingPanelWithTouch:function(idTouchElement,idPanel){$(idPanel).draggable({drag:function(e,ui){$(window).height()>$(window).width()?$(idPanel).css({top:e.pageY+"px",height:"auto"}):$(idPanel).css({left:e.pageX+"px",width:"auto"})},handle:idTouchElement}),Utility.checkAxisToDrag(idPanel)},checkAxisToDrag:function(panelName){$(window).height()>$(window).width()?($(panelName).draggable("option",{axis:"y",containment:[0,0,$(window).width(),.65*$(window).height()]}),$(panelName+" .realTimeInformation").css("position","absolute").css("margin-bottom","0px").css("transform","translateY(-47%)"),$(panelName+" .reduceForRealTimeInfo").each(function(){$(this).css("margin-right",$(this).children(".realTimeInformation").width())})):($(panelName).draggable("option",{axis:"x",containment:[0,0,.65*$(window).width(),$(window).height()]}),$(panelName+" .realTimeInformation").css("position","relative").css("margin-bottom","-10px").css("transform","none"),$(panelName+" .reduceForRealTimeInfo").css("margin-right","0px"))},checkAxisToDragReduced:function(panelName){$(window).height()>$(window).width()?($(panelName).draggable("option",{axis:"y",containment:[0,0,$(window).width(),.6*$(window).height()]}),$(panelName).css("top").replace("px","")>.6*$(window).height()&&($(panelName).css("top","60%"),$(panelName).css("height","40%"))):($(panelName).draggable("option",{axis:"x",containment:[0,0,.6*$(window).width(),$(window).height()]}),$(panelName).css("left").replace("px","")>.6*$(window).width()&&($(panelName).css("left","60%"),$(panelName).css("width","40%")))},loadFilesInsideDirectory:function(relativeDirectory,type,substring,recursive,singleFileCallback,finalCallback){"Web"==device.platform?Utility.loadFilesInsideDirectoryWeb(relativeDirectory.replace("www/",""),type,substring,recursive,singleFileCallback,finalCallback):window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+relativeDirectory,function(dir){function readSome(reader){reading++,reader.readEntries(function(entries){reading--,entries.length>0&&entries.forEach(function(entry){entry.isDirectory&&1==recursive?readSome(entry.createReader()):null!=type&&entry.name.split(".").pop()==type?null!=singleFileCallback&&singleFileCallback(entry.fullPath.substring(5)):null!=substring&&-1!=entry.name.indexOf(substring)&&null!=singleFileCallback&&singleFileCallback(entry.fullPath.substring(5))}),0==reading&&(null!=type&&console.log("DONE LOAD "+type+" ON "+relativeDirectory),null!=substring&&console.log("DONE LOAD "+substring+" ON "+relativeDirectory),null!=finalCallback&&finalCallback("SUCCESS LOAD OF "+relativeDirectory))},function(err){console.log(err)})}var reading=0;readSome(dir.createReader())})},loadFilesInsideDirectoryWeb:function(relativeDirectory,type,substring,recursive,singleFileCallback,finalCallback){function readSome(reader){reading++,function(entries,currentDirectory){reading--,entries.length>0&&entries.each(function(){-1!=$(this).attr("href").indexOf("/")&&1==recursive?$.ajax({url:currentDirectory+"/"+$(this).attr("href"),async:!1,success:function(data){readSome(data)}}):null!=type&&$(this).attr("href").split(".").pop()==type?null!=singleFileCallback&&singleFileCallback(currentDirectory+"/"+$(this).attr("href")):null!=substring&&-1!=$(this).attr("href").indexOf(substring)&&null!=singleFileCallback&&singleFileCallback(currentDirectory+"/"+$(this).attr("href"))}),0==reading&&(null!=type&&"Web"!=device.platform&&console.log("DONE LOAD "+type+" ON "+relativeDirectory),null!=substring&&"Web"!=device.platform&&console.log("DONE LOAD "+substring+" ON "+relativeDirectory),null!=finalCallback&&finalCallback("SUCCESS LOAD OF "+relativeDirectory))}($(reader).find("a:not([href^='/']):not([href^='?'])"),$(reader).filter("title").text().substring($(reader).filter("title").text().indexOf("/")))}var reading=0;$.ajax({url:relativeDirectory,async:!1,success:function(data){readSome(data)}})},loadJS:function(fullPath){$.ajax({url:fullPath,async:!1,dataType:"script"})}};;function naturalSort(a,b){"use strict";var oFxNcL,oFyNcL,re=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&&(""+s).toLowerCase()||""+s},x=i(a).replace(sre,"")||"",y=i(b).replace(sre,"")||"",xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),xD=parseInt(x.match(hre),16)||1!==xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),16)||xD&&y.match(dre)&&Date.parse(y)||null;if(yD){if(xD<yD)return-1;if(xD>yD)return 1}for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){if(oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0,oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0,isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;if(typeof oFxNcL!=typeof oFyNcL&&(oFxNcL+="",oFyNcL+=""),oFxNcL<oFyNcL)return-1;if(oFxNcL>oFyNcL)return 1}return 0}!function(h){"function"==typeof define&&define.amd?define(["jquery"],function(D){return h(D,window,document)}):"object"==typeof exports?module.exports=function(D,I){return D||(D=window),I||(I="undefined"!=typeof window?require("jquery"):require("jquery")(D)),h(I,D,D.document)}:h(jQuery,window,document)}(function(h,D,I,k){function X(a){var b,c,d={};h.each(a,function(e){(b=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" ")&&(c=e.replace(b[0],b[2].toLowerCase()),d[c]=e,"o"===b[1]&&X(a[e]))}),a._hungarianMap=d}function K(a,b,c){a._hungarianMap||X(a);var d;h.each(b,function(e){(d=a._hungarianMap[e])===k||!c&&b[d]!==k||("o"===d.charAt(0)?(b[d]||(b[d]={}),h.extend(!0,b[d],b[e]),K(a[d],b[d],c)):b[d]=b[e])})}function Da(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&E(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&E(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands),(a=a.sDecimal)&&db(a)}function eb(a){if(A(a,"ordering","bSort"),A(a,"orderMulti","bSortMulti"),A(a,"orderClasses","bSortClasses"),A(a,"orderCellsTop","bSortCellsTop"),A(a,"order","aaSorting"),A(a,"orderFixed","aaSortingFixed"),A(a,"paging","bPaginate"),A(a,"pagingType","sPaginationType"),A(a,"pageLength","iDisplayLength"),A(a,"searching","bFilter"),"boolean"==typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":""),"boolean"==typeof a.scrollX&&(a.scrollX=a.scrollX?"100%":""),a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&K(m.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable"),A(a,"orderData","aDataSort"),A(a,"orderSequence","asSorting"),A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function gb(a){if(!m.__browser){var b={};m.__browser=b;var c=h("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(h("<div/>").css({width:"100%",height:10}))).appendTo("body"),d=c.children(),e=d.children();b.barWidth=d[0].offsetWidth-d[0].clientWidth,b.bScrollOversize=100===e[0].offsetWidth&&100!==d[0].clientWidth,b.bScrollbarLeft=1!==Math.round(e.offset().left),b.bBounding=!!c[0].getBoundingClientRect().width,c.remove()}h.extend(a.oBrowser,m.__browser),a.oScroll.iBarWidth=m.__browser.barWidth}function hb(a,b,c,d,e,f){var g,j=!1;for(c!==k&&(g=c,j=!0);d!==e;)a.hasOwnProperty(d)&&(g=j?b(g,a[d],d,a):a[d],j=!0,d+=f);return g}function Ea(a,b){var c=m.defaults.column,d=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b||I.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.mData:d,idx:d});a.aoColumns.push(c),(c=a.aoPreSearchCols)[d]=h.extend({},m.models.oSearch,c[d]),ja(a,d,h(b).data())}function ja(a,b,c){var b=a.aoColumns[b],d=a.oClasses,e=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=e.attr("width")||null;var f=(e.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),K(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),E(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),E(b,c,"aDataSort"));var g=b.mData,j=Q(g),i=b.mRender?Q(b.mRender):null,c=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&(c(g.sort)||c(g.type)||c(g.filter)),b._setter=null,b.fnGetData=function(a,b,c){var d=j(a,b,k,c);return i&&b?i(d,b,a,c):d},b.fnSetData=function(a,b,c){return R(g)(a,b,c)},"number"!=typeof g&&(a._rowReadObject=!0),a.oFeatures.bSort||(b.bSortable=!1,e.addClass(d.sSortableNone)),a=-1!==h.inArray("asc",b.asSorting),c=-1!==h.inArray("desc",b.asSorting),b.bSortable&&(a||c)?a&&!c?(b.sSortingClass=d.sSortableAsc,b.sSortingClassJUI=d.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=d.sSortableDesc,b.sSortingClassJUI=d.sSortJUIDescAllowed):(b.sSortingClass=d.sSortable,b.sSortingClassJUI=d.sSortJUI):(b.sSortingClass=d.sSortableNone,b.sSortingClassJUI="")}function Y(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Fa(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}(""!==(b=a.oScroll).sY||""!==b.sX)&&ka(a),u(a,null,"column-sizing",[a])}function Z(a,b){var c=la(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function $(a,b){var c=la(a,"bVisible");return-1!==(c=h.inArray(b,c))?c:null}function aa(a){var b=0;return h.each(a.aoColumns,function(a,d){d.bVisible&&"none"!==h(d.nTh).css("display")&&b++}),b}function la(a,b){var c=[];return h.map(a.aoColumns,function(a,e){a[b]&&c.push(e)}),c}function Ga(a){var e,f,g,j,i,h,l,q,t,b=a.aoColumns,c=a.aoData,d=m.ext.type.detect;for(e=0,f=b.length;e<f;e++)if(l=b[e],t=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(g=0,j=d.length;g<j;g++){for(i=0,h=c.length;i<h&&(t[i]===k&&(t[i]=B(a,i,e,"type")),(q=d[g](t[i],a))||g===d.length-1)&&"html"!==q;i++);if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function ib(a,b,c,d){var e,f,g,j,i,n,l=a.aoColumns;if(b)for(e=b.length-1;0<=e;e--){var q=(n=b[e]).targets!==k?n.targets:n.aTargets;for(h.isArray(q)||(q=[q]),f=0,g=q.length;f<g;f++)if("number"==typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Ea(a);d(q[f],n)}else if("number"==typeof q[f]&&0>q[f])d(l.length+q[f],n);else if("string"==typeof q[f])for(j=0,i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&d(j,n)}if(c)for(e=0,a=c.length;e<a;e++)d(e,c[e])}function N(a,b,c,d){var e=a.aoData.length,f=h.extend(!0,{},m.models.oRow,{src:c?"dom":"data",idx:e});f._aData=b,a.aoData.push(f);for(var g=a.aoColumns,j=0,i=g.length;j<i;j++)g[j].sType=null;return a.aiDisplayMaster.push(e),(b=a.rowIdFn(b))!==k&&(a.aIds[b]=f),(c||!a.oFeatures.bDeferRender)&&Ha(a,e,c,d),e}function ma(a,b){var c;return b instanceof h||(b=h(b)),b.map(function(b,e){return c=Ia(a,e),N(a,c.data,e,c.cells)})}function B(a,b,c,d){var e=a.iDraw,f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,i=f.fnGetData(g,d,{settings:a,row:b,col:c});if(i===k)return a.iDrawError!=e&&null===j&&(L(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=e),j;if(i!==g&&null!==i||null===j||d===k){if("function"==typeof i)return i.call(g)}else i=j;return null===i&&"display"==d?"":i}function jb(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function Ja(a){return h.map(a.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\./g,".")})}function Q(a){if(h.isPlainObject(a)){var b={};return h.each(a,function(a,c){c&&(b[a]=Q(c))}),function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"==typeof a)return function(b,c,f,g){return a(b,c,f,g)};if("string"==typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f)for(var i=0,n=(j=Ja(f)).length;i<n;i++){if(f=j[i].match(ba),g=j[i].match(U),f){if(j[i]=j[i].replace(ba,""),""!==j[i]&&(a=a[j[i]]),g=[],j.splice(0,i+1),j=j.join("."),h.isArray(a))for(i=0,n=a.length;i<n;i++)g.push(c(a[i],b,j));a=""===(a=f[0].substring(1,f[0].length-1))?g:g.join(a);break}if(g)j[i]=j[i].replace(U,""),a=a[j[i]]();else{if(null===a||a[j[i]]===k)return k;a=a[j[i]]}}return a};return function(b,e){return c(b,e,a)}}return function(b){return b[a]}}function R(a){if(h.isPlainObject(a))return R(a._);if(null===a)return function(){};if("function"==typeof a)return function(b,d,e){a(b,"set",d,e)};if("string"==typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,d,e){var f;f=(e=Ja(e))[e.length-1];for(var g,j,i=0,n=e.length-1;i<n;i++){if(g=e[i].match(ba),j=e[i].match(U),g){if(e[i]=e[i].replace(ba,""),a[e[i]]=[],(f=e.slice()).splice(0,i+1),g=f.join("."),h.isArray(d))for(j=0,n=d.length;j<n;j++)f={},b(f,d[j],g),a[e[i]].push(f);else a[e[i]]=d;return}j&&(e[i]=e[i].replace(U,""),a=a[e[i]](d)),null!==a[e[i]]&&a[e[i]]!==k||(a[e[i]]={}),a=a[e[i]]}f.match(U)?a[f.replace(U,"")](d):a[f.replace(ba,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Ka(a){return G(a.aoData,"_aData")}function na(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0,a.aIds={}}function oa(a,b,c){for(var d=-1,e=0,f=a.length;e<f;e++)a[e]==b?d=e:a[e]>b&&a[e]--;-1!=d&&c===k&&a.splice(d,1)}function ca(a,b,c,d){var f,e=a.aoData[b],g=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=B(a,b,d,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==e.src)){var j=e.anCells;if(j)if(d!==k)g(j[d],d);else for(c=0,f=j.length;c<f;c++)g(j[c],c)}else e._aData=Ia(a,e,d,d===k?k:e._aData).data;if(e._aSortData=null,e._aFilterData=null,g=a.aoColumns,d!==k)g[d].sType=null;else{for(c=0,f=g.length;c<f;c++)g[c].sType=null;La(a,e)}}function Ia(a,b,c,d){var g,j,n,e=[],f=b.firstChild,i=0,l=a.aoColumns,q=a._rowReadObject,d=d!==k?d:q?{}:[],t=function(a,b){if("string"==typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),R(a)(d,b.getAttribute(c)))}},S=function(a){c!==k&&c!==i||(j=l[i],n=h.trim(a.innerHTML),j&&j._bAttrSrc?(R(j.mData._)(d,n),t(j.mData.sort,a),t(j.mData.type,a),t(j.mData.filter,a)):q?(j._setter||(j._setter=R(j.mData)),j._setter(d,n)):d[i]=n),i++};if(f)for(;f;)"TD"!=(g=f.nodeName.toUpperCase())&&"TH"!=g||(S(f),e.push(f)),f=f.nextSibling;else for(f=0,g=(e=b.anCells).length;f<g;f++)S(e[f]);return(b=b.firstChild?b:b.nTr)&&(b=b.getAttribute("id"))&&R(a.rowId)(d,b),{data:d,cells:e}}function Ha(a,b,c,d){var j,i,n,l,q,e=a.aoData[b],f=e._aData,g=[];if(null===e.nTr){for(j=c||I.createElement("tr"),e.nTr=j,e.anCells=g,j._DT_RowIndex=b,La(a,e),l=0,q=a.aoColumns.length;l<q;l++)n=a.aoColumns[l],(i=c?d[l]:I.createElement(n.sCellType))._DT_CellIndex={row:b,column:l},g.push(i),c&&!n.mRender&&n.mData===l||h.isPlainObject(n.mData)&&n.mData._===l+".display"||(i.innerHTML=B(a,b,l,"display")),n.sClass&&(i.className+=" "+n.sClass),n.bVisible&&!c?j.appendChild(i):!n.bVisible&&c&&i.parentNode.removeChild(i),n.fnCreatedCell&&n.fnCreatedCell.call(a.oInstance,i,B(a,b,l),f,b,l);u(a,"aoRowCreatedCallback",null,[j,f,b])}e.nTr.setAttribute("role","row")}function La(a,b){var c=b.nTr,d=b._aData;if(c){var e=a.rowIdFn(d);e&&(c.id=e),d.DT_RowClass&&(e=d.DT_RowClass.split(" "),b.__rowc=b.__rowc?pa(b.__rowc.concat(e)):e,h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass)),d.DT_RowAttr&&h(c).attr(d.DT_RowAttr),d.DT_RowData&&h(c).data(d.DT_RowData)}}function kb(a){var b,c,d,e,f,g=a.nTHead,j=a.nTFoot,i=0===h("th, td",g).length,n=a.oClasses,l=a.aoColumns;for(i&&(e=h("<tr/>").appendTo(g)),b=0,c=l.length;b<c;b++)f=l[b],d=h(f.nTh).addClass(f.sClass),i&&d.appendTo(e),a.oFeatures.bSort&&(d.addClass(f.sSortingClass),!1!==f.bSortable&&(d.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Ma(a,f.nTh,b))),f.sTitle!=d[0].innerHTML&&d.html(f.sTitle),Na(a,"header")(a,d,f,n);if(i&&da(a.aoHeader,g),h(g).find(">tr").attr("role","row"),h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH),h(j).find(">tr>th, >tr>td").addClass(n.sFooterTH),null!==j)for(b=0,c=(a=a.aoFooter[0]).length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}function ea(a,b,c){var d,e,f,n,g=[],j=[],i=a.aoColumns.length;if(b){for(c===k&&(c=!1),d=0,e=b.length;d<e;d++){for(g[d]=b[d].slice(),g[d].nTr=b[d].nTr,f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1);j.push([])}for(d=0,e=g.length;d<e;d++){if(a=g[d].nTr)for(;f=a.firstChild;)a.removeChild(f);for(f=0,b=g[d].length;f<b;f++)if(n=i=1,j[d][f]===k){for(a.appendChild(g[d][f].cell),j[d][f]=1;g[d+i]!==k&&g[d][f].cell==g[d+i][f].cell;)j[d+i][f]=1,i++;for(;g[d][f+n]!==k&&g[d][f].cell==g[d][f+n].cell;){for(c=0;c<i;c++)j[d+c][f+n]=1;n++}h(g[d][f].cell).attr("rowspan",i).attr("colspan",n)}}}}function O(a){b=u(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,d=a.asStripeClasses,e=d.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==y(a),i=a.aiDisplay;a.bDrawing=!0,g!==k&&-1!==g&&(a._iDisplayStart=j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=-1);var g=a._iDisplayStart,n=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!lb(a))return}else a.iDraw++;if(0!==i.length)for(f=j?a.aoData.length:n,j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];if(null===q.nTr&&Ha(a,l),l=q.nTr,0!==e){var t=d[c%e];q._sRowStripe!=t&&(h(l).removeClass(q._sRowStripe).addClass(t),q._sRowStripe=t)}u(a,"aoRowCallback",null,[l,q._aData,c,j]),b.push(l),c++}else c=f.sZeroRecords,1==a.iDraw&&"ajax"==y(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{class:e?d[0]:""}).append(h("<td />",{valign:"top",colSpan:aa(a),class:a.oClasses.sRowEmpty}).html(c))[0];u(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Ka(a),g,n,i]),u(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Ka(a),g,n,i]),(d=h(a.nTBody)).children().detach(),d.append(h(b)),u(a,"aoDrawCallback","draw",[a]),a.bSorted=!1,a.bFiltered=!1,a.bDrawing=!1}}function T(a,b){var c=a.oFeatures,d=c.bFilter;c.bSort&&mb(a),d?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),!0!==b&&(a._iDisplayStart=0),a._drawHold=b,O(a),a._drawHold=!1}function nb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),d=a.oFeatures,e=h("<div/>",{id:a.sTableId+"_wrapper",class:b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0],a.nTableWrapper=e[0],a.nTableReinsertBefore=a.nTable.nextSibling;for(var g,j,i,n,l,q,f=a.sDom.split(""),t=0;t<f.length;t++){if(g=null,"<"==(j=f[t])){if(i=h("<div/>")[0],"'"==(n=f[t+1])||'"'==n){for(l="",q=2;f[t+q]!=n;)l+=f[t+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter),-1!=l.indexOf(".")?(n=l.split("."),i.id=n[0].substr(1,n[0].length-1),i.className=n[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l,t+=q}e.append(i),e=h(i)}else if(">"==j)e=e.parent();else if("l"==j&&d.bPaginate&&d.bLengthChange)g=ob(a);else if("f"==j&&d.bFilter)g=pb(a);else if("r"==j&&d.bProcessing)g=qb(a);else if("t"==j)g=rb(a);else if("i"==j&&d.bInfo)g=sb(a);else if("p"==j&&d.bPaginate)g=tb(a);else if(0!==m.ext.feature.length)for(q=0,n=(i=m.ext.feature).length;q<n;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}g&&((i=a.aanFeatures)[j]||(i[j]=[]),i[j].push(g),e.append(g))}c.replaceWith(e),a.nHolding=null}function da(a,b){var d,e,f,g,j,i,n,l,q,t,c=h(b).children("tr");for(a.splice(0,a.length),f=0,i=c.length;f<i;f++)a.push([]);for(f=0,i=c.length;f<i;f++)for(e=(d=c[f]).firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){for(l=1*e.getAttribute("colspan"),q=1*e.getAttribute("rowspan"),l=l&&0!==l&&1!==l?l:1,q=q&&0!==q&&1!==q?q:1,g=0,j=a[f];j[g];)g++;for(n=g,t=1===l,j=0;j<l;j++)for(g=0;g<q;g++)a[f+g][n+j]={cell:e,unique:t},a[f+g].nTr=d}e=e.nextSibling}}function qa(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)!c[b][f].unique||d[f]&&a.bSortCellsTop||(d[f]=c[b][f].cell);return d}function ra(a,b,c){if(u(a,"aoServerParams","serverParams",[b]),b&&h.isArray(b)){var d={},e=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(e);c?(c=c[0],d[c]||(d[c]=[]),d[c].push(b.value)):d[b.name]=b.value}),b=d}var f,g=a.ajax,j=a.oInstance,i=function(b){u(a,null,"xhr",[a,b,a.jqXHR]),c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var n=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&n?n:h.extend(!0,b,n);delete g.data}n={data:b,success:function(b){var c=b.error||b.sError;c&&L(a,0,c),a.json=b,i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var d=u(a,null,"xhr",[a,null,a.jqXHR]);-1===h.inArray(!0,d)&&("parsererror"==c?L(a,0,"Invalid JSON response",1):4===b.readyState&&L(a,0,"Ajax error",7)),C(a,!1)}},a.oAjaxData=b,u(a,null,"preXhr",[a,b]),a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"==typeof g?a.jqXHR=h.ajax(h.extend(n,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(n,g)),g.data=f)}function lb(a){return!a.bAjaxDataGet||(a.iDraw++,C(a,!0),ra(a,ub(a),function(b){vb(a,b)}),!1)}function ub(a){var g,i,n,l,b=a.aoColumns,c=b.length,d=a.oFeatures,e=a.oPreviousSearch,f=a.aoPreSearchCols,j=[],q=V(a);g=a._iDisplayStart,i=!1!==d.bPaginate?a._iDisplayLength:-1;var k=function(a,b){j.push({name:a,value:b})};k("sEcho",a.iDraw),k("iColumns",c),k("sColumns",G(b,"sName").join(",")),k("iDisplayStart",g),k("iDisplayLength",i);var S={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:e.sSearch,regex:e.bRegex}};for(g=0;g<c;g++)n=b[g],l=f[g],i="function"==typeof n.mData?"function":n.mData,S.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),k("mDataProp_"+g,i),d.bFilter&&(k("sSearch_"+g,l.sSearch),k("bRegex_"+g,l.bRegex),k("bSearchable_"+g,n.bSearchable)),d.bSort&&k("bSortable_"+g,n.bSortable);return d.bFilter&&(k("sSearch",e.sSearch),k("bRegex",e.bRegex)),d.bSort&&(h.each(q,function(a,b){S.order.push({column:b.col,dir:b.dir}),k("iSortCol_"+a,b.col),k("sSortDir_"+a,b.dir)}),k("iSortingCols",q.length)),null===(b=m.ext.legacy.ajax)?a.sAjaxSource?j:S:b?j:S}function vb(a,b){var c=sa(a,b),d=b.sEcho!==k?b.sEcho:b.draw,e=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(d){if(1*d<a.iDraw)return;a.iDraw=1*d}for(na(a),a._iRecordsTotal=parseInt(e,10),a._iRecordsDisplay=parseInt(f,10),d=0,e=c.length;d<e;d++)N(a,c[d]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,O(a),a._bInitComplete||ta(a,b),a.bAjaxDataGet=!0,C(a,!1)}function sa(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?Q(c)(b):b}function pb(a){var b=a.oClasses,c=a.sTableId,d=a.oLanguage,e=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=(j=d.sSearch).match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:f.f?null:c+"_filter",class:b.sFilter}).append(h("<label/>").append(j)),f=function(){var b=this.value?this.value:"";b!=e.sSearch&&(fa(a,{sSearch:b,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive}),a._iDisplayStart=0,O(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===y(a)?400:0,i=h("input",b).val(e.sSearch).attr("placeholder",d.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?Oa(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);return h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==I.activeElement&&i.val(e.sSearch)}catch(d){}}),b[0]}function fa(a,b,c){var d=a.oPreviousSearch,e=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch,d.bRegex=a.bRegex,d.bSmart=a.bSmart,d.bCaseInsensitive=a.bCaseInsensitive};if(Ga(a),"ssp"!=y(a)){for(wb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive),f(b),b=0;b<e.length;b++)xb(a,e[b].sSearch,b,e[b].bEscapeRegex!==k?!e[b].bEscapeRegex:e[b].bRegex,e[b].bSmart,e[b].bCaseInsensitive);yb(a)}else f(b);a.bFiltered=!0,u(a,null,"search",[a])}function yb(a){for(var d,e,b=m.ext.search,c=a.aiDisplay,f=0,g=b.length;f<g;f++){for(var j=[],i=0,n=c.length;i<n;i++)e=c[i],d=a.aoData[e],b[f](a,d._aFilterData,e,d._aData,i)&&j.push(e);c.length=0,h.merge(c,j)}}function xb(a,b,c,d,e,f){if(""!==b)for(var g=a.aiDisplay,d=Pa(b,d,e,f),e=g.length-1;0<=e;e--)b=a.aoData[g[e]]._aFilterData[c],d.test(b)||g.splice(e,1)}function wb(a,b,c,d,e,f){var g,d=Pa(b,d,e,f),e=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster;if(0!==m.ext.search.length&&(c=!0),g=zb(a),0>=b.length)a.aiDisplay=f.slice();else for((g||c||e.length>b.length||0!==b.indexOf(e)||a.bSorted)&&(a.aiDisplay=f.slice()),c=(b=a.aiDisplay).length-1;0<=c;c--)d.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}function Pa(a,b,c,d){return a=b?a:Qa(a),c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(a,d?"i":"")}function zb(a){var c,d,e,f,g,j,i,h,b=a.aoColumns,l=m.ext.type.search;for(c=!1,d=0,f=a.aoData.length;d<f;d++)if(!(h=a.aoData[d])._aFilterData){for(j=[],e=0,g=b.length;e<g;e++)(c=b[e]).bSearchable?(i=B(a,d,e,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!=typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(ua.innerHTML=i,i=Zb?ua.textContent:ua.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j,h._sFilterRow=j.join("  "),c=!0}return c}function Ab(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function Bb(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function sb(a){var b=a.sTableId,c=a.aanFeatures.i,d=h("<div/>",{class:a.oClasses.sInfo,id:c?null:b+"_info"});return c||(a.aoDrawCallback.push({fn:Cb,sName:"information"}),d.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info")),d[0]}function Cb(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,d=a._iDisplayStart+1,e=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered),j=Db(a,j+=c.sInfoPostFix),null!==(c=c.fnInfoCallback)&&(j=c.call(a.oInstance,a,d,e,f,g,j)),h(b).html(j)}}function Db(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ga(a){var b,c,f,d=a.iInitDisplayStart,e=a.aoColumns;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){for(nb(a),kb(a),ea(a,a.aoHeader),ea(a,a.aoFooter),C(a,!0),c.bAutoWidth&&Fa(a),b=0,c=e.length;b<c;b++)(f=e[b]).sWidth&&(f.nTh.style.width=x(f.sWidth));u(a,null,"preInit",[a]),T(a),("ssp"!=(e=y(a))||g)&&("ajax"==e?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)N(a,f[b]);a.iInitDisplayStart=d,T(a),C(a,!1),ta(a,c)},a):(C(a,!1),ta(a)))}else setTimeout(function(){ga(a)},200)}function ta(a,b){a._bInitComplete=!0,(b||a.oInit.aaData)&&Y(a),u(a,null,"plugin-init",[a,b]),u(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c,Sa(a),u(a,null,"length",[a,c])}function ob(a){for(var b=a.oClasses,c=a.sTableId,d=a.aLengthMenu,f=(e=h.isArray(d[0]))?d[0]:d,d=e?d[1]:d,e=h("<select/>",{name:c+"_length","aria-controls":c,class:b.sLengthSelect}),g=0,j=f.length;g<j;g++)e[0][g]=new Option(d[g],f[g]);var i=h("<div><label/></div>").addClass(b.sLength);return a.aanFeatures.l||(i[0].id=c+"_length"),i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",e[0].outerHTML)),h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val()),O(a)}),h(a.nTable).bind("length.dt.DT",function(b,c,d){a===c&&h("select",i).val(d)}),i[0]}function tb(a){var b=a.sPaginationType,c=m.ext.pager[b],d="function"==typeof c,e=function(a){O(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;return d||c.fnInit(a,b,e),f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(d){var k,b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),b=(l=-1===i)?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),l=0;for(k=f.p.length;l<k;l++)Na(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,e)},sName:"pagination"})),b}function Ta(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();return 0===f||-1===e?d=0:"number"==typeof b?(d=b*e)>f&&(d=0):"first"==b?d=0:"previous"==b?0>(d=0<=e?d-e:0)&&(d=0):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:L(a,0,"Unknown paging action: "+b,5),b=a._iDisplayStart!==d,a._iDisplayStart=d,b&&(u(a,null,"page",[a]),c&&O(a)),b}function qb(a){return h("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing",class:a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none"),u(a,null,"processing",[a,b])}function rb(a){var b=h(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var d=c.sX,e=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),n=h(b[0].cloneNode(!1)),l=b.children("tfoot");l.length||(l=null),i=h("<div/>",{class:f.sScrollWrapper}).append(h("<div/>",{class:f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:d?d?x(d):null:"100%"}).append(h("<div/>",{class:f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{class:f.sScrollBody}).css({position:"relative",overflow:"auto",width:d?x(d):null}).append(b)),l&&i.append(h("<div/>",{class:f.sScrollFoot}).css({overflow:"hidden",border:0,width:d?d?x(d):null:"100%"}).append(h("<div/>",{class:f.sScrollFootInner}).append(n.removeAttr("id").css("margin-left",0).append("bottom"===j?g:null).append(b.children("tfoot")))));var k=(b=i.children())[0],f=b[1],t=l?b[2]:null;return d&&h(f).on("scroll.DT",function(){var a=this.scrollLeft;k.scrollLeft=a,l&&(t.scrollLeft=a)}),h(f).css(e&&c.bCollapse?"max-height":"height",e),a.nScrollHead=k,a.nScrollBody=f,a.nScrollFoot=t,a.aoDrawCallback.push({fn:ka,sName:"scrolling"}),i[0]}function ka(a){var P,v,w,y,D,c=(b=a.oScroll).sX,d=b.sXInner,e=b.sY,b=b.iBarWidth,f=h(a.nScrollHead),g=f[0].style,i=(j=f.children("div"))[0].style,n=j.children("table"),j=a.nScrollBody,l=h(j),q=j.style,t=h(a.nScrollFoot).children("div"),m=t.children("table"),o=h(a.nTHead),F=h(a.nTable),p=F[0],r=p.style,u=a.nTFoot?h(a.nTFoot):null,Eb=a.oBrowser,Ua=Eb.bScrollOversize,s=G(a.aoColumns,"nTh"),z=[],A=[],B=[],C=[],E=function(a){(a=a.style).paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};v=j.scrollHeight>j.clientHeight,a.scrollBarVis!==v&&a.scrollBarVis!==k?(a.scrollBarVis=v,Y(a)):(a.scrollBarVis=v,F.children("thead, tfoot").remove(),u&&(w=u.clone().prependTo(F),P=u.find("tr"),w=w.find("tr")),y=o.clone().prependTo(F),o=o.find("tr"),v=y.find("tr"),y.find("th, td").removeAttr("tabindex"),c||(q.width="100%",f[0].style.width="100%"),h.each(qa(a,y),function(b,c){D=Z(a,b),c.style.width=a.aoColumns[D].sWidth}),u&&J(function(a){a.style.width=""},w),f=F.outerWidth(),""===c?(r.width="100%",Ua&&(F.find("tbody").height()>j.offsetHeight||"scroll"==l.css("overflow-y"))&&(r.width=x(F.outerWidth()-b)),f=F.outerWidth()):""!==d&&(r.width=x(d),f=F.outerWidth()),J(E,v),J(function(a){B.push(a.innerHTML),z.push(x(h(a).css("width")))},v),J(function(a,b){-1!==h.inArray(a,s)&&(a.style.width=z[b])},o),h(v).height(0),u&&(J(E,w),J(function(a){C.push(a.innerHTML),A.push(x(h(a).css("width")))},w),J(function(a,b){a.style.width=A[b]},P),h(w).height(0)),J(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+B[b]+"</div>",a.style.width=z[b]},v),u&&J(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>",a.style.width=A[b]},w),F.outerWidth()<f?(P=j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")?f+b:f,Ua&&(j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y"))&&(r.width=x(P-b)),(""===c||""!==d)&&L(a,1,"Possible column misalignment",6)):P="100%",q.width=x(P),g.width=x(P),u&&(a.nScrollFoot.style.width=x(P)),!e&&Ua&&(q.height=x(p.offsetHeight+b)),c=F.outerWidth(),n[0].style.width=x(c),i.width=x(c),d=F.height()>j.clientHeight||"scroll"==l.css("overflow-y"),i[e="padding"+(Eb.bScrollbarLeft?"Left":"Right")]=d?b+"px":"0px",u&&(m[0].style.width=x(c),t[0].style.width=x(c),t[0].style[e]=d?b+"px":"0px"),F.children("colgroup").insertBefore(F.children("thead")),l.scroll(),!a.bSorted&&!a.bFiltered||a._drawHold||(j.scrollTop=0))}function J(a,b,c){for(var g,j,d=0,e=0,f=b.length;e<f;){for(g=b[e].firstChild,j=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,d):a(g,d),d++),g=g.nextSibling,j=c?j.nextSibling:null;e++}}function Fa(a){var m,o,b=a.nTable,c=a.aoColumns,e=(d=a.oScroll).sY,f=d.sX,g=d.sXInner,j=c.length,i=la(a,"bVisible"),n=h("th",a.nTHead),l=b.getAttribute("width"),k=b.parentNode,t=!1,p=a.oBrowser,d=p.bScrollOversize;for((m=b.style.width)&&-1!==m.indexOf("%")&&(l=m),m=0;m<i.length;m++)null!==(o=c[i[m]]).sWidth&&(o.sWidth=Fb(o.sWidthOrig,k),t=!0);if(d||!t&&!f&&!e&&j==aa(a)&&j==n.length)for(m=0;m<j;m++)null!==(i=Z(a,m))&&(c[i].sWidth=x(n.eq(m).width()));else{(j=h(b).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var r=h("<tr/>").appendTo(j.find("tbody"));for(j.find("thead, tfoot").remove(),j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone()),j.find("tfoot th, tfoot td").css("width",""),n=qa(a,j.find("thead")[0]),m=0;m<i.length;m++)o=c[i[m]],n[m].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?x(o.sWidthOrig):"",o.sWidthOrig&&f&&h(n[m]).append(h("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(a.aoData.length)for(m=0;m<i.length;m++)t=i[m],o=c[t],h(Gb(a,t)).clone(!1).append(o.sContentPadding).appendTo(r);for(h("[name]",j).removeAttr("name"),o=h("<div/>").css(f||e?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(j).appendTo(k),f&&g?j.width(g):f?(j.css("width","auto"),j.removeAttr("width"),j.width()<k.clientWidth&&l&&j.width(k.clientWidth)):e?j.width(k.clientWidth):l&&j.width(l),m=e=0;m<i.length;m++)k=h(n[m]),g=k.outerWidth()-k.width(),k=p.bBounding?Math.ceil(n[m].getBoundingClientRect().width):k.outerWidth(),e+=k,c[i[m]].sWidth=x(k-g);b.style.width=x(e),o.remove()}l&&(b.style.width=x(l)),!l&&!f||a._reszEvt||(b=function(){h(D).bind("resize.DT-"+a.sInstance,Oa(function(){Y(a)}))},d?setTimeout(b,1e3):b(),a._reszEvt=!0)}function Fb(a,b){if(!a)return 0;var c=h("<div/>").css("width",x(a)).appendTo(b||I.body),d=c[0].offsetWidth;return c.remove(),d}function Gb(a,b){var c=Hb(a,b);if(0>c)return null;var d=a.aoData[c];return d.nTr?d.anCells[b]:h("<td/>").html(B(a,c,b,"display"))[0]}function Hb(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=B(a,f,b,"display")+"",c=c.replace($b,""),(c=c.replace(/&nbsp;/g," ")).length>d&&(d=c.length,e=f);return e}function x(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function V(a){var b,c,f,g,j,i,d=[],e=a.aoColumns;b=a.aaSortingFixed,c=h.isPlainObject(b);var n=[];for(f=function(a){a.length&&!h.isArray(a[0])?n.push(a):h.merge(n,a)},h.isArray(b)&&f(b),c&&b.pre&&f(b.pre),f(a.aaSorting),c&&b.post&&f(b.post),a=0;a<n.length;a++)for(b=0,c=(f=e[i=n[a][0]].aDataSort).length;b<c;b++)g=f[b],j=e[g].sType||"string",n[a]._idx===k&&(n[a]._idx=h.inArray(n[a][1],e[g].asSorting)),d.push({src:i,col:g,dir:n[a][1],index:n[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]});return d}function mb(a){var b,c,j,h,d=[],e=m.ext.type.order,f=a.aoData,g=0,i=a.aiDisplayMaster;for(Ga(a),b=0,c=(h=V(a)).length;b<c;b++)(j=h[b]).formatter&&g++,Ib(a,j.col);if("ssp"!=y(a)&&0!==h.length){for(b=0,c=i.length;b<c;b++)d[i[b]]=b;g===h.length?i.sort(function(a,b){var c,e,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=0;g<i;g++)if(j=h[g],c=k[j.col],e=m[j.col],0!==(c=c<e?-1:c>e?1:0))return"asc"===j.dir?c:-c;return c=d[a],e=d[b],c<e?-1:c>e?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,p=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=p[i.col],i=e[i.type+"-"+i.dir]||e["string-"+i.dir],0!==(c=i(c,g)))return c;return c=d[a],g=d[b],c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,d=a.aoColumns,e=V(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){var j=(c=d[f]).asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort"),c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending),i.setAttribute("aria-label",b)}}function Va(a,b,c,d){var e=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;return c===k&&(c=h.inArray(a[1],f)),c+1<f.length?c+1:b?null:0};"number"==typeof e[0]&&(e=a.aaSorting=[e]),c&&a.oFeatures.bSortMulti?-1!==(c=h.inArray(b,G(e,"0")))?(null===(b=g(e[c],!0))&&1===e.length&&(b=0),null===b?e.splice(c,1):(e[c][1]=f[b],e[c]._idx=b)):(e.push([b,f[0],0]),e[e.length-1]._idx=0):e.length&&e[0][0]==b?(b=g(e[0]),e.length=1,e[0][1]=f[b],e[0]._idx=b):(e.length=0,e.push([b,f[0]]),e[0]._idx=0),T(a),"function"==typeof d&&d(a)}function Ma(a,b,c,d){var e=a.aoColumns[c];Wa(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Va(a,c,b.shiftKey,d),"ssp"!==y(a)&&C(a,!1)},0)):Va(a,c,b.shiftKey,d))})}function va(a){var f,g,b=a.aLastSort,c=a.oClasses.sSortColumn,d=V(a),e=a.oFeatures;if(e.bSort&&e.bSortClasses){for(e=0,f=b.length;e<f;e++)g=b[e].src,h(G(a.aoData,"anCells",g)).removeClass(c+(2>e?e+1:3));for(e=0,f=d.length;e<f;e++)g=d[e].src,h(G(a.aoData,"anCells",g)).addClass(c+(2>e?e+1:3))}a.aLastSort=d}function Ib(a,b){var e,c=a.aoColumns[b],d=m.ext.order[c.sSortDataType];d&&(e=d.call(a.oInstance,a,b,$(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)(c=a.aoData[j])._aSortData||(c._aSortData=[]),(!c._aSortData[b]||d)&&(f=d?e[j]:B(a,j,b,"sort"),c._aSortData[b]=g?g(f):f)}function wa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),search:Ab(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,d){return{visible:b.bVisible,search:Ab(a.aoPreSearchCols[d])}})};u(a,"aoStateSaveParams","stateSaveParams",[a,b]),a.oSavedState=b,a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Kb(a){var b,c,d=a.aoColumns;if(a.oFeatures.bStateSave){var e=a.fnStateLoadCallback.call(a.oInstance,a);if(e&&e.time&&(b=u(a,"aoStateLoadParams","stateLoadParams",[a,e]),-1===h.inArray(!1,b)&&!(0<(b=a.iStateDuration)&&e.time<+new Date-1e3*b)&&d.length===e.columns.length)){for(a.oLoadedState=h.extend(!0,{},e),e.start!==k&&(a._iDisplayStart=e.start,a.iInitDisplayStart=e.start),e.length!==k&&(a._iDisplayLength=e.length),e.order!==k&&(a.aaSorting=[],h.each(e.order,function(b,c){a.aaSorting.push(c[0]>=d.length?[0,c[1]]:c)})),e.search!==k&&h.extend(a.oPreviousSearch,Bb(e.search)),b=0,c=e.columns.length;b<c;b++){var f=e.columns[b];f.visible!==k&&(d[b].bVisible=f.visible),f.search!==k&&h.extend(a.aoPreSearchCols[b],Bb(f.search))}u(a,"aoStateLoaded","stateLoaded",[a,e])}}}function xa(a){var b=m.settings;return-1!==(a=h.inArray(a,G(b,"nTable")))?b[a]:null}function L(a,b,c,d){if(c="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+c,d&&(c+=". For more information about this error, please see http://datatables.net/tn/"+d),b)D.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,a&&u(a,null,"error",[a,d,c]),"alert"==b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,d,c)}}function E(a,b,c,d){h.isArray(c)?h.each(c,function(c,d){h.isArray(d)?E(a,b,d[0],d[1]):E(a,b,d)}):(d===k&&(d=c),b[c]!==k&&(a[d]=b[c]))}function Lb(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&(d=b[e],h.isPlainObject(d)?(h.isPlainObject(a[e])||(a[e]={}),h.extend(!0,a[e],d)):a[e]=c&&"data"!==e&&"aaData"!==e&&h.isArray(d)?d.slice():d);return a}function Wa(a,b,c){h(a).bind("click.DT",b,function(b){a.blur(),c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function u(a,b,c,d){var e=[];return b&&(e=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,d)})),null!==c&&(b=h.Event(c+".dt"),h(a.nTable).trigger(b,d),e.push(b.result)),e}function Sa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||0>b)&&(b=0),a._iDisplayStart=b}function Na(a,b){var c=a.renderer,d=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?d[c[b]]||d._:"string"==typeof c?d[c]||d._:d._}function y(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function ya(a,b){var c=[],c=Mb.numbers_length,d=Math.floor(c/2);return b<=c?c=W(0,b):a<=d?((c=W(0,c-2)).push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=W(b-(c-2),b):((c=W(a-d+2,a+d-1)).push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function db(a){h.each({num:function(b){return za(b,a)},"num-fmt":function(b){return za(b,a,Xa)},"html-num":function(b){return za(b,a,Aa)},"html-num-fmt":function(b){return za(b,a,Aa,Xa)}},function(b,c){v.type.order[b+a+"-pre"]=c,b.match(/^html\-/)&&(v.type.search[b+a]=v.type.search.html)})}function Nb(a){return function(){var b=[xa(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,b)}}var v,r,p,s,m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new r(a?xa(this[v.iApiIndex]):this)},this.fnAddData=function(a,b){var c=this.api(!0),d=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);return(b===k||b)&&c.draw(),d.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],d=c.oScroll;a===k||a?b.draw(!1):(""!==d.sX||""!==d.sY)&&ka(c)},this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,c){var d=this.api(!0),e=(a=d.rows(a)).settings()[0],h=e.aoData[a[0][0]];return a.remove(),b&&b.call(this,e,h),(c===k||c)&&d.draw(),h},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(a)},this.fnFilter=function(a,b,c,d,e,h){e=this.api(!0),null===b||b===k?e.search(a,c,d,h):e.column(b).search(a,c,d,h),e.draw()},this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var d=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==d||"th"==d?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)},this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b),(c===k||c)&&a.columns.adjust().draw()},this.fnSettings=function(){return xa(this[v.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,c,d,e){var h=this.api(!0);return c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a),(e===k||e)&&h.columns.adjust(),(d===k||d)&&h.draw(),0},this.fnVersionCheck=v.fnVersionCheck;var b=this,c=a===k,d=this.length;c&&(a={}),this.oApi=this.internal=v.internal;for(var e in m.ext.internal)e&&(this[e]=Nb(e));return this.each(function(){var j,e={},e=1<d?Lb(e,a,!0):a,g=0,i=this.getAttribute("id"),n=!1,l=m.defaults,q=h(this);if("table"!=this.nodeName.toLowerCase())L(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l),fb(l.column),K(l,l,!0),K(l.column,l.column,!0),K(l,h.extend(e,q.data()));var t=m.settings,g=0;for(j=t.length;g<j;g++){var p=t[g];if(p.nTable==this||p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){if(g=e.bRetrieve!==k?e.bRetrieve:l.bRetrieve,c||g)return p.oInstance;if(e.bDestroy!==k?e.bDestroy:l.bDestroy){p.oInstance.fnDestroy();break}return void L(p,0,"Cannot reinitialise DataTable",3)}if(p.sTableId==this.id){t.splice(g,1);break}}null!==i&&""!==i||(this.id=i="DataTables_Table_"+m.ext._unique++);var o=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:i,sTableId:i});o.nTable=this,o.oApi=b.internal,o.oInit=e,t.push(o),o.oInstance=1===b.length?b:q.dataTable(),eb(e),e.oLanguage&&Da(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=h.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=Lb(h.extend(!0,{},l),e),E(o.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),E(o,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),E(o.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),E(o.oLanguage,e,"fnInfoCallback"),z(o,"aoDrawCallback",e.fnDrawCallback,"user"),z(o,"aoServerParams",e.fnServerParams,"user"),z(o,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(o,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(o,"aoStateLoaded",e.fnStateLoaded,"user"),z(o,"aoRowCallback",e.fnRowCallback,"user"),z(o,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(o,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(o,"aoFooterCallback",e.fnFooterCallback,"user"),z(o,"aoInitComplete",e.fnInitComplete,"user"),z(o,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),o.rowIdFn=Q(e.rowId),gb(o),i=o.oClasses,e.bJQueryUI?(h.extend(i,m.ext.oJUIClasses,e.oClasses),e.sDom===l.sDom&&"lfrtip"===l.sDom&&(o.sDom='<"H"lfr>t<"F"ip>'),o.renderer?h.isPlainObject(o.renderer)&&!o.renderer.header&&(o.renderer.header="jqueryui"):o.renderer="jqueryui"):h.extend(i,m.ext.classes,e.oClasses),q.addClass(i.sTable),o.iInitDisplayStart===k&&(o.iInitDisplayStart=e.iDisplayStart,o._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading&&(o.bDeferLoading=!0,g=h.isArray(e.iDeferLoading),o._iRecordsDisplay=g?e.iDeferLoading[0]:e.iDeferLoading,o._iRecordsTotal=g?e.iDeferLoading[1]:e.iDeferLoading);var r=o.oLanguage;h.extend(!0,r,e.oLanguage),""!==r.sUrl&&(h.ajax({dataType:"json",url:r.sUrl,success:function(a){Da(a),K(l.oLanguage,a),h.extend(!0,r,a),ga(o)},error:function(){ga(o)}}),n=!0),null===e.asStripeClasses&&(o.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=o.asStripeClasses,v=q.children("tbody").find("tr").eq(0);if(-1!==h.inArray(!0,h.map(g,function(a){return v.hasClass(a)}))&&(h("tbody tr",this).removeClass(g.join(" ")),o.asDestroyStripes=g.slice()),t=[],0!==(g=this.getElementsByTagName("thead")).length&&(da(o.aoHeader,g[0]),t=qa(o)),null===e.aoColumns)for(p=[],g=0,j=t.length;g<j;g++)p.push(null);else p=e.aoColumns;for(g=0,j=p.length;g<j;g++)Ea(o,t?t[g]:null);if(ib(o,e.aoColumnDefs,p,function(a,b){ja(o,a,b)}),v.length){var s=function(a,b){return null!==a.getAttribute("data-"+b)?b:null};h(v[0]).children("th, td").each(function(a,b){var c=o.aoColumns[a];if(c.mData===a){var d=s(b,"sort")||s(b,"order"),e=s(b,"filter")||s(b,"search");null===d&&null===e||(c.mData={_:a+".display",sort:null!==d?a+".@data-"+d:k,type:null!==d?a+".@data-"+d:k,filter:null!==e?a+".@data-"+e:k},ja(o,a))}})}var w=o.oFeatures;if(e.bStateSave&&(w.bStateSave=!0,Kb(o),z(o,"aoDrawCallback",wa,"state_save")),e.aaSorting===k)for(g=0,j=(t=o.aaSorting).length;g<j;g++)t[g][1]=o.aoColumns[g].asSorting[0];if(va(o),w.bSort&&z(o,"aoDrawCallback",function(){if(o.bSorted){var a=V(o),b={};h.each(a,function(a,c){b[c.src]=c.dir}),u(o,null,"order",[o,a,b]),Jb(o)}}),z(o,"aoDrawCallback",function(){(o.bSorted||"ssp"===y(o)||w.bDeferRender)&&va(o)},"sc"),g=q.children("caption").each(function(){this._captionSide=q.css("caption-side")}),0===(j=q.children("thead")).length&&(j=h("<thead/>").appendTo(this)),o.nTHead=j[0],0===(j=q.children("tbody")).length&&(j=h("<tbody/>").appendTo(this)),o.nTBody=j[0],0===(j=q.children("tfoot")).length&&0<g.length&&(""!==o.oScroll.sX||""!==o.oScroll.sY)&&(j=h("<tfoot/>").appendTo(this)),0===j.length||0===j.children().length?q.addClass(i.sNoFooter):0<j.length&&(o.nTFoot=j[0],da(o.aoFooter,o.nTFoot)),e.aaData)for(g=0;g<e.aaData.length;g++)N(o,e.aaData[g]);else(o.bDeferLoading||"dom"==y(o))&&ma(o,h(o.nTBody).children("tr"));o.aiDisplay=o.aiDisplayMaster.slice(),o.bInitialised=!0,!1===n&&ga(o)}}),b=null,this},Ya={},Ob=/[\r\n]/g,Aa=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,cc=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Xa=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,M=function(a){return!a||!0===a||"-"===a},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){return Ya[b]||(Ya[b]=RegExp(Qa(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\./g,"").replace(Ya[b],"."):a},Za=function(a,b,c){var d="string"==typeof a;return!!M(a)||(b&&d&&(a=Qb(a,b)),c&&d&&(a=a.replace(Xa,"")),!isNaN(parseFloat(a))&&isFinite(a))},Rb=function(a,b,c){return!!M(a)||(M(a)||"string"==typeof a?!!Za(a.replace(Aa,""),b,c)||null:null)},G=function(a,b,c){var d=[],e=0,f=a.length;if(c!==k)for(;e<f;e++)a[e]&&a[e][b]&&d.push(a[e][b][c]);else for(;e<f;e++)a[e]&&d.push(a[e][b]);return d},ha=function(a,b,c,d){var e=[],f=0,g=b.length;if(d!==k)for(;f<g;f++)a[b[f]][c]&&e.push(a[b[f]][c][d]);else for(;f<g;f++)e.push(a[b[f]][c]);return e},W=function(a,b){var d,c=[];b===k?(b=0,d=a):(d=b,b=a);for(var e=b;e<d;e++)c.push(e);return c},Sb=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},pa=function(a){var c,d,f,b=[],e=a.length,g=0;d=0;a:for(;d<e;d++){for(c=a[d],f=0;f<g;f++)if(b[f]===c)continue a;b.push(c),g++}return b};m.util={throttle:function(a,b){var d,e,c=b!==k?b:200;return function(){var b=this,g=+new Date,h=arguments;d&&g<d+c?(clearTimeout(e),e=setTimeout(function(){d=k,a.apply(b,h)},c)):(d=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace(cc,"\\$1")}};var A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ba=/\[.*?\]$/,U=/\(\)$/,Qa=m.util.escapeRegex,ua=h("<div>")[0],Zb=ua.textContent!==k,$b=/<.*?>/g,Oa=m.util.throttle,Tb=[],w=Array.prototype,dc=function(a){var b,c,d=m.settings,e=h.map(d,function(a){return a.nTable});return a?a.nTable&&a.oApi?[a]:a.nodeName&&"table"===a.nodeName.toLowerCase()?-1!==(b=h.inArray(a,e))?[d[b]]:null:a&&"function"==typeof a.settings?a.settings().toArray():("string"==typeof a?c=h(a):a instanceof h&&(c=a),c?c.map(function(){return-1!==(b=h.inArray(this,e))?d[b]:null}).toArray():void 0):[]};r=function(a,b){if(!(this instanceof r))return new r(a,b);var c=[],d=function(a){(a=dc(a))&&(c=c.concat(a))};if(h.isArray(a))for(var e=0,f=a.length;e<f;e++)d(a[e]);else d(a);this.context=pa(c),b&&h.merge(this,b),this.selector={rows:null,cols:null,opts:null},r.extend(this,this,Tb)},m.Api=r,h.extend(r.prototype,{any:function(){return 0!==this.count()},concat:w.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new r(b[a],this[a]):null},filter:function(a){var b=[];if(w.filter)b=w.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new r(this.context,b)},flatten:function(){var a=[];return new r(this.context,a.concat.apply(a,this.toArray()))},join:w.join,indexOf:w.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,d){var f,g,h,i,n,m,t,e=[],l=this.context,p=this.selector;for("string"==typeof a&&(d=c,c=b,b=a,a=!1),g=0,h=l.length;g<h;g++){var o=new r(l[g]);if("table"===b)(f=c.call(o,l[g],g))!==k&&e.push(f);else if("columns"===b||"rows"===b)(f=c.call(o,l[g],this[g],g))!==k&&e.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(t=this[g],"column-rows"===b&&(m=Ba(l[g],p.opts)),i=0,n=t.length;i<n;i++)f=t[i],(f="cell"===b?c.call(o,l[g],f.row,f.column,g,i):c.call(o,l[g],f,g,i,m))!==k&&e.push(f)}return e.length||d?(a=new r(l,a?e.concat.apply([],e):e),b=a.selector,b.rows=p.rows,b.cols=p.cols,b.opts=p.opts,a):this},lastIndexOf:w.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(w.map)b=w.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new r(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:w.pop,push:w.push,reduce:w.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:w.reduceRight||function(a,b){return hb(this,a,b,this.length-1,-1,-1)},reverse:w.reverse,selector:null,shift:w.shift,sort:w.sort,splice:w.splice,toArray:function(){return w.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},unique:function(){return new r(this.context,pa(this))},unshift:w.unshift}),r.extend=function(a,b,c){if(c.length&&b&&(b instanceof r||b.__dt_wrapper)){var d,e,f;for(d=0,e=c.length;d<e;d++)f=c[d],b[f.name]="function"==typeof f.val?function(a,b,c){return function(){var d=b.apply(a,arguments);return r.extend(d,d,c.methodExt),d}}(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,r.extend(a,b[f.name],f.propExt)}},r.register=p=function(a,b){if(h.isArray(a))for(var c=0,d=a.length;c<d;c++)r.register(a[c],b);else for(var g,j,e=a.split("."),f=Tb,c=0,d=e.length;c<d;c++){g=(j=-1!==e[c].indexOf("()"))?e[c].replace("()",""):e[c];var i;a:{i=0;for(var n=f.length;i<n;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i)),c===d-1?i.val=b:f=j?i.methodExt:i.propExt}},r.registerPlural=s=function(a,b,c){r.register(a,c),r.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof r?a.length?h.isArray(a[0])?new r(a.context,a[0]):a[0]:k:a})},p("tables()",function(a){var b;if(a){b=r;var c=this.context;if("number"==typeof a)a=[c[a]];else var d=h.map(c,function(a){return a.nTable}),a=h(d).filter(a).map(function(){var a=h.inArray(this,d);return c[a]}).toArray();b=new b(a)}else b=this;return b}),p("table()",function(a){var b=(a=this.tables(a)).context;return b.length?new r(b[0]):a}),s("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)}),s("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)}),s("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)}),s("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)}),s("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)}),p("draw()",function(a){return this.iterator("table",function(b){"page"===a?O(b):("string"==typeof a&&(a="full-hold"!==a),T(b,!1===a))})}),p("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})}),p("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,d=a.fnRecordsDisplay(),e=-1===c;return{page:e?0:Math.floor(b/c),pages:e?1:Math.ceil(d/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:d,serverSide:"ssp"===y(a)}}),p("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){if(c){var d=new r(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==y(a))T(a,b);else{C(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort(),ra(a,[],function(c){na(a);for(var d=0,e=(c=sa(a,c)).length;d<e;d++)N(a,c[d]);T(a,b),C(a,!1)})}};p("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json}),p("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData}),p("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})}),p("ajax.url()",function(a){var b=this.context;return a===k?0===b.length?k:(b=b[0]).ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource:this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})}),p("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});var $a=function(a,b,c,d,e){var g,j,i,n,l,m,f=[];for(i=typeof b,b&&"string"!==i&&"function"!==i&&b.length!==k||(b=[b]),i=0,n=b.length;i<n;i++)for(l=0,m=(j=b[i]&&b[i].split?b[i].split(","):[b[i]]).length;l<m;l++)(g=c("string"==typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&(f=f.concat(g));if((a=v.selector[a]).length)for(i=0,n=a.length;i<n;i++)f=a[i](d,e,f);return pa(f)},ab=function(a){return a||(a={}),a.filter&&a.search===k&&(a.search=a.filter),h.extend({search:"none",order:"current",page:"all"},a)},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;return a.length=0,a},Ba=function(a,b){var c,d,e,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;if(d=b.order,e=b.page,"ssp"==y(a))return"removed"===j?[]:W(0,c.length);if("current"==e)for(c=a._iDisplayStart,d=a.fnDisplayEnd();c<d;c++)f.push(g[c]);else if("current"==d||"applied"==d)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===h.inArray(a,g)?a:null});else if("index"==d||"original"==d)for(c=0,d=a.aoData.length;c<d;c++)"none"==j?f.push(c):(-1===(e=h.inArray(c,g))&&"removed"==j||0<=e&&"applied"==j)&&f.push(c);return f};p("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=b;return $a("row",a,function(a){var b=Pb(a);if(null!==b&&!e)return[b];var j=Ba(c,e);return null!==b&&-1!==h.inArray(b,j)?[b]:a?"function"==typeof a?h.map(j,function(b){var e=c.aoData[b];return a(b,e._aData,e.nTr)?b:null}):(b=Sb(ha(c.aoData,j,"nTr")),a.nodeName?a._DT_RowIndex!==k?[a._DT_RowIndex]:a._DT_CellIndex?[a._DT_CellIndex.row]:(b=h(a).closest("*[data-dt-row]")).length?[b.data("dt-row")]:[]:"string"==typeof a&&"#"===a.charAt(0)&&(j=c.aIds[a.replace(/^#/,"")])!==k?[j.idx]:h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()):j},c,e)},1);return c.selector.rows=a,c.selector.opts=b,c}),p("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)}),p("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ha(a.aoData,b,"_aData")},1)}),s("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ca(b,c,a)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)}),s("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new r(c,b)}),s("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,d){var g,h,i,n,l,e=b.aoData,f=e[c];for(e.splice(c,1),g=0,h=e.length;g<h;g++)if(i=e[g],l=i.anCells,null!==i.nTr&&(i.nTr._DT_RowIndex=g),null!==l)for(i=0,n=l.length;i<n;i++)l[i]._DT_CellIndex.row=g;oa(b.aiDisplayMaster,c),oa(b.aiDisplay,c),oa(a[d],c,!1),Sa(b),(c=b.rowIdFn(f._aData))!==k&&delete b.aIds[c]}),this.iterator("table",function(a){for(var c=0,d=a.aoData.length;c<d;c++)a.aoData[c].idx=c}),this}),p("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,g,h=[];for(f=0,g=a.length;f<g;f++)(c=a[f]).nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(N(b,c));return h},1),c=this.rows(-1);return c.pop(),h.merge(c,b),c}),p("row()",function(a,b){return bb(this.rows(a,b))}),p("row().data()",function(a){var b=this.context;return a===k?b.length&&this.length?b[0].aoData[this[0]]._aData:k:(b[0].aoData[this[0]]._aData=a,ca(b[0],this[0],"data"),this)}),p("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null}),p("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?ma(b,a)[0]:N(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==k?b:a[0]])&&c._details&&(c._details.remove(),c._detailsShow=k,c._details=k)},Vb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new r(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<G(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){(a=g[a])._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=aa(b),f=0,h=g.length;f<h;f++)(c=g[f])._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&cb(f,c)}))}}};p("row().child()",function(a,b){c=this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)cb(this);else if(c.length&&this.length){var d=c[0],c=c[0].aoData[this[0]],e=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?e.push(a):(c=h("<tr><td/></tr>").addClass(b),h("td",c).addClass(b).html(a)[0].colSpan=aa(d),e.push(c[0]))};f(a,b),c._details&&c._details.remove(),c._details=h(e),c._detailsShow&&c._details.insertAfter(c.nTr)}return this}),p(["row().child.show()","row().child().show()"],function(){return Vb(this,!0),this}),p(["row().child.hide()","row().child().hide()"],function(){return Vb(this,!1),this}),p(["row().child.remove()","row().child().remove()"],function(){return cb(this),this}),p("row().child.isShown()",function(){var a=this.context;return!(!a.length||!this.length)&&(a[0].aoData[this[0]]._detailsShow||!1)});var ec=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(B(a,e[d],b));return c};p("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=a,f=b,g=c.aoColumns,j=G(g,"sName"),i=G(g,"nTh");return $a("column",e,function(a){var b=Pb(a);if(""===a)return W(g.length);if(null!==b)return[b>=0?b:g.length+b];if("function"==typeof a){var e=Ba(c,f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,e),i[f])?f:null})}var k="string"==typeof a?a.match(ec):"";if(k)switch(k[2]){case"visIdx":case"visible":if((b=parseInt(k[1],10))<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});return[m[m.length+b]]}return[Z(c,b)];case"name":return h.map(j,function(a,b){return a===k[1]?b:null});default:return[]}return a.nodeName&&a._DT_CellIndex?[a._DT_CellIndex.column]:(b=h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray()).length||!a.nodeName?b:(b=h(a).closest("*[data-dt-column]")).length?[b.data("dt-column")]:[]},c,f)},1);return c.selector.cols=a,c.selector.opts=b,c}),s("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)}),s("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",Wb,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)}),s("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return ha(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return ha(a.aoData,e,"anCells",b)},1)}),s("columns().visible()","column().visible()",function(a,b){var c=this.iterator("column",function(b,c){if(a===k)return b.aoColumns[c].bVisible;var i,n,l,f=b.aoColumns,g=f[c],j=b.aoData;if(a!==k&&g.bVisible!==a){if(a){var m=h.inArray(!0,G(f,"bVisible"),c+1);for(i=0,n=j.length;i<n;i++)l=j[i].nTr,f=j[i].anCells,l&&l.insertBefore(f[c],f[m]||null)}else h(G(b.aoData,"anCells",c)).detach();g.bVisible=a,ea(b,b.aoHeader),ea(b,b.aoFooter),wa(b)}});return a!==k&&(this.iterator("column",function(c,e){u(c,null,"column-visibility",[c,e,a,b])}),(b===k||b)&&this.columns.adjust()),c}),s("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?$(b,c):c},1)}),p("columns.adjust()",function(){return this.iterator("table",function(a){Y(a)},1)}),p("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return Z(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}}),p("column()",function(a,b){return bb(this.columns(a,b))}),p("cells()",function(a,b,c){if(h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null)),h.isPlainObject(b)&&(c=b,b=null),null===b||b===k)return this.iterator("table",function(b){var l,m,p,r,u,v,s,d=a,e=ab(c),f=b.aoData,g=Ba(b,e),j=Sb(ha(f,g,"anCells")),i=h([].concat.apply([],j)),n=b.aoColumns.length;return $a("cell",d,function(a){var c="function"==typeof a;if(null===a||a===k||c){for(m=[],p=0,r=g.length;p<r;p++)for(l=g[p],u=0;u<n;u++)v={row:l,column:u},c?(s=f[l],a(v,B(b,l,u),s.anCells?s.anCells[u]:null)&&m.push(v)):m.push(v);return m}return h.isPlainObject(a)?[a]:(c=i.filter(a).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray()).length||!a.nodeName?c:(s=h(a).closest("*[data-dt-row]")).length?[{row:s.data("dt-row"),column:s.data("dt-column")}]:[]},b,e)});var f,g,j,i,n,d=this.columns(b,c),e=this.rows(a,c),l=this.iterator("table",function(a,b){for(f=[],g=0,j=e[b].length;g<j;g++)for(i=0,n=d[b].length;i<n;i++)f.push({row:e[b][g],column:d[b][i]});return f},1);return h.extend(l.selector,{cols:b,rows:a,opts:c}),l}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b])&&a.anCells?a.anCells[c]:k},1)}),p("cells().data()",function(){return this.iterator("cell",function(a,b,c){return B(a,b,c)},1)}),s("cells().cache()","cell().cache()",function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)}),s("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return B(b,c,d,a)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)}),s("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){ca(b,c,a,d)})}),p("cell()",function(a,b,c){return bb(this.cells(a,b,c))}),p("cell().data()",function(a){var b=this.context,c=this[0];return a===k?b.length&&c.length?B(b[0],c[0].row,c[0].column):k:(jb(b[0],c[0].row,c[0].column,a),ca(b[0],c[0].row,"data",c[0].column),this)}),p("order()",function(a,b){var c=this.context;return a===k?0!==c.length?c[0].aaSorting:k:("number"==typeof a?a=[[a,b]]:a.length&&!h.isArray(a[0])&&(a=Array.prototype.slice.call(arguments)),this.iterator("table",function(b){b.aaSorting=a.slice()}))}),p("order.listener()",function(a,b,c){return this.iterator("table",function(d){Ma(d,a,b,c)})}),p("order.fixed()",function(a){if(!a){var b=(b=this.context).length?b[0].aaSortingFixed:k;return h.isArray(b)?{pre:b}:b}return this.iterator("table",function(b){b.aaSortingFixed=h.extend(!0,{},a)})}),p(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,d){var e=[];h.each(b[d],function(b,c){e.push([c,a])}),c.aaSorting=e})}),p("search()",function(a,b,c,d){var e=this.context;return a===k?0!==e.length?e[0].oPreviousSearch.sSearch:k:this.iterator("table",function(e){e.oFeatures.bFilter&&fa(e,h.extend({},e.oPreviousSearch,{sSearch:a+"",bRegex:null!==b&&b,bSmart:null===c||c,bCaseInsensitive:null===d||d}),1)})}),s("columns().search()","column().search()",function(a,b,c,d){return this.iterator("column",function(e,f){var g=e.aoPreSearchCols;if(a===k)return g[f].sSearch;e.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null!==b&&b,bSmart:null===c||c,bCaseInsensitive:null===d||d}),fa(e,e.oPreviousSearch,1))})}),p("state()",function(){return this.context.length?this.context[0].oSavedState:null}),p("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})}),p("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),p("state.save()",function(){return this.iterator("table",function(a){wa(a)})}),m.versionCheck=m.fnVersionCheck=function(a){for(var c,d,b=m.version.split("."),e=0,f=(a=a.split(".")).length;e<f;e++)if(c=parseInt(b[e],10)||0,d=parseInt(a[e],10)||0,c!==d)return c>d;return!0},m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;return h.each(m.settings,function(a,e){var f=e.nScrollHead?h("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?h("table",e.nScrollFoot)[0]:null;e.nTable!==b&&f!==b&&g!==b||(c=!0)}),c},m.tables=m.fnTables=function(a){var b=!1;h.isPlainObject(a)&&(b=a.api,a=a.visible);var c=h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable});return b?new r(c):c},m.camelToHungarian=K,p("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))}),h.each(["on","one","off"],function(a,b){p(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var d=h(this.tables().nodes());return d[b].apply(d,a),this})}),p("clear()",function(){return this.iterator("table",function(a){na(a)})}),p("settings()",function(){return new r(this.context,this.context)}),p("init()",function(){var a=this.context;return a.length?a[0].oInit:null}),p("data()",function(){return this.iterator("table",function(a){return G(a.aoData,"_aData")}).flatten()}),p("destroy()",function(a){return a=a||!1,this.iterator("table",function(b){var p,c=b.nTableWrapper.parentNode,d=b.oClasses,e=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(e),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr});b.bDestroying=!0,u(b,"aoDestroyCallback","destroy",[b]),a||new r(b).columns().visible(!0),k.unbind(".DT").find(":not(tbody *)").unbind(".DT"),h(D).unbind(".DT-"+b.sInstance),e!=g.parentNode&&(i.children("thead").detach(),i.append(g)),j&&e!=j.parentNode&&(i.children("tfoot").detach(),i.append(j)),b.aaSorting=[],b.aaSortingFixed=[],va(b),h(l).removeClass(b.asStripeClasses.join(" ")),h("th, td",g).removeClass(d.sSortable+" "+d.sSortableAsc+" "+d.sSortableDesc+" "+d.sSortableNone),b.bJUI&&(h("th span."+d.sSortIcon+", td span."+d.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+d.sSortJUIWrapper,this);h(this).append(a.contents()),a.detach()})),f.children().detach(),f.append(l),i[g=a?"remove":"detach"](),k[g](),!a&&c&&(c.insertBefore(e,b.nTableReinsertBefore),i.css("width",b.sDestroyWidth).removeClass(d.sTable),(p=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%p])})),-1!==(c=h.inArray(b,m.settings))&&m.settings.splice(c,1)})}),h.each(["column","row","cell"],function(a,b){p(b+"s().every()",function(a){var d=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,n){a.call(e[b](g,"cell"===b?h:d,"cell"===b?d:k),g,h,i,n)})})}),p("i18n()",function(a,b,c){var d=this.context[0];return(a=Q(a)(d.oLanguage))===k&&(a=b),c!==k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._),a.replace("%d",c)}),m.version="1.10.12",m.settings=[],m.models={},m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},X(m.defaults),m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},X(m.defaults.column),m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==y(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},m.ext=v={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version},h.extend(v,{afnFiltering:v.search,aTypes:v.type.detect,ofnSearch:v.type.search,oSort:v.type.order,afnSortData:v.order,aoFeatures:v.feature,oApi:v.internal,oStdClasses:v.classes,oPagination:v.pager}),h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var H="ui-state-default",ia="css_right ui-icon ui-icon-",Xb="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,m.ext.classes,{sPageButton:"fg-button ui-button "+H,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:H+" sorting_asc",sSortDesc:H+" sorting_desc",sSortable:H+" sorting",sSortableAsc:H+" sorting_asc_disabled",sSortableDesc:H+" sorting_desc_disabled",sSortableNone:H+" sorting_disabled",sSortJUIAsc:ia+"triangle-1-n",sSortJUIDesc:ia+"triangle-1-s",sSortJUI:ia+"carat-2-n-s",sSortJUIAscAllowed:ia+"carat-1-n",sSortJUIDescAllowed:ia+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+H,sScrollFoot:"dataTables_scrollFoot "+H,sHeaderTH:H,sFooterTH:H,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+" ui-corner-bl ui-corner-br"});var Mb=m.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[ya(a,b)]},simple_numbers:function(a,b){return["previous",ya(a,b),"next"]},full_numbers:function(a,b){return["first","previous",ya(a,b),"next","last"]},_numbers:ya,numbers_length:7}),h.extend(!0,m.ext.renderer,{pageButton:{_:function(a,b,c,d,e,f){var k,l,r,g=a.oClasses,j=a.oLanguage.oPaginate,i=a.oLanguage.oAria.paginate||{},m=0,p=function(b,d){var o,r,u,s;for(o=0,r=d.length;o<r;o++)if(s=d[o],h.isArray(s))u=h("<"+(s.DT_el||"div")+"/>").appendTo(b),p(u,s);else{switch(k=null,l="",s){case"ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;case"first":k=j.sFirst,l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case"previous":k=j.sPrevious,l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case"next":k=j.sNext,l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;case"last":k=j.sLast,l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;default:k=s+1,l=e===s?g.sPageButtonActive:""}null!==k&&(Wa(u=h("<a>",{class:g.sPageButton+" "+l,"aria-controls":a.sTableId,"aria-label":i[s],"data-dt-idx":m,tabindex:a.iTabIndex,id:0===c&&"string"==typeof s?a.sTableId+"_"+s:null}).html(k).appendTo(b),{action:s},function(b){Ta(a,b.data.action,!0)}),m++)}};try{r=h(b).find(I.activeElement).data("dt-idx")}catch(o){}p(h(b).empty(),d),r&&h(b).find("[data-dt-idx="+r+"]").focus()}}}),h.extend(m.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||M(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return M(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),h.extend(m.ext.type.search,{html:function(a){return M(a)?a:"string"==typeof a?a.replace(Ob," ").replace(Aa,""):""},string:function(a){return M(a)?a:"string"==typeof a?a.replace(Ob," "):a}});var za=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=Qb(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-1/0};h.extend(v.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return M(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return M(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}}),db(""),h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,d){h(a.nTable).on("order.dt.DT",function(e,f,g,h){a===f&&(e=c.idx,b.removeClass(c.sSortingClass+" "+d.sSortAsc+" "+d.sSortDesc).addClass("asc"==h[e]?d.sSortAsc:"desc"==h[e]?d.sSortDesc:c.sSortingClass))})},jqueryui:function(a,b,c,d){h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b),h(a.nTable).on("order.dt.DT",function(e,f,g,h){a===f&&(e=c.idx,b.removeClass(d.sSortAsc+" "+d.sSortDesc).addClass("asc"==h[e]?d.sSortAsc:"desc"==h[e]?d.sSortDesc:c.sSortingClass),b.find("span."+d.sSortIcon).removeClass(d.sSortJUIAsc+" "+d.sSortJUIDesc+" "+d.sSortJUI+" "+d.sSortJUIAscAllowed+" "+d.sSortJUIDescAllowed).addClass("asc"==h[e]?d.sSortJUIAsc:"desc"==h[e]?d.sSortJUIDesc:c.sSortingClassJUI))})}}});var Yb=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};return m.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);return isNaN(h)?Yb(f):(f=Math.abs(h),h=parseInt(f,10),f=c?b+(f-h).toFixed(c).substring(2):"",g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||""))}}},text:function(){return{display:Yb}}},h.extend(m.ext.internal,{_fnExternApiFunc:Nb,_fnBuildAjax:ra,_fnAjaxUpdate:lb,_fnAjaxParameters:ub,_fnAjaxUpdateDraw:vb,_fnAjaxDataSrc:sa,_fnAddColumn:Ea,_fnColumnOptions:ja,_fnAdjustColumnSizing:Y,_fnVisibleToColumnIndex:Z,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:la,_fnColumnTypes:Ga,_fnApplyColumnDefs:ib,_fnHungarianMap:X,_fnCamelToHungarian:K,_fnLanguageCompat:Da,_fnBrowserDetect:gb,_fnAddData:N,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:B,_fnSetCellData:jb,_fnSplitObjNotation:Ja,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:R,_fnGetDataMaster:Ka,_fnClearTable:na,_fnDeleteIndex:oa,_fnInvalidate:ca,_fnGetRowElements:Ia,_fnCreateTr:Ha,_fnBuildHead:kb,_fnDrawHead:ea,_fnDraw:O,_fnReDraw:T,_fnAddOptionsHtml:nb,_fnDetectHeader:da,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:pb,_fnFilterComplete:fa,_fnFilterCustom:yb,_fnFilterColumn:xb,_fnFilter:wb,_fnFilterCreateSearch:Pa,_fnEscapeRegex:Qa,_fnFilterData:zb,_fnFeatureHtmlInfo:sb,_fnUpdateInfo:Cb,_fnInfoMacros:Db,_fnInitialise:ga,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:ob,_fnFeatureHtmlPaginate:tb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:qb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:rb,_fnScrollDraw:ka,_fnApplyToChildren:J,_fnCalculateColumnWidths:Fa,_fnThrottle:Oa,_fnConvertToWidth:Fb,_fnGetWidestNode:Gb,_fnGetMaxLenString:Hb,_fnStringToCss:x,_fnSortFlatten:V,_fnSort:mb,_fnSortAria:Jb,_fnSortListener:Va,_fnSortAttachListener:Ma,_fnSortingClasses:va,_fnSortData:Ib,_fnSaveState:wa,_fnLoadState:Kb,_fnSettingsFromNode:xa,_fnLog:L,_fnMap:E,_fnBindAction:Wa,_fnCallbackReg:z,_fnCallbackFire:u,_fnLengthOverflow:Sa,_fnRenderer:Na,_fnDataSource:y,_fnRowAttributes:La,_fnCalculateEnd:function(){}}),h.fn.dataTable=m,m.$=h,h.fn.dataTableSettings=m.settings,h.fn.dataTableExt=m.ext,h.fn.DataTable=function(a){return h(this).dataTable(a).api()},h.each(m,function(a,b){h.fn.DataTable[a]=b}),h.fn.dataTable}),function(b){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(a){return b(a,window,document)}):"object"==typeof exports?module.exports=function(a,d){return a||(a=window),d&&d.fn.dataTable||(d=require("datatables.net")(a,d).$),b(d,a,a.document)}:b(jQuery,window,document)}(function(b,a,d){var f=b.fn.dataTable;return b.extend(!0,f.defaults,{dom:"<'row'<'col-xs-6 col-sm-6'l><'col-xs-6 col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),b.extend(f.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),f.ext.renderer.pageButton.bootstrap=function(a,h,r,m,j,n){var e,g,i,o=new f.Api(a),s=a.oClasses,k=a.oLanguage.oPaginate,t=a.oLanguage.oAria.paginate||{},p=0,q=function(d,f){var l,h,i,c;for(l=0,h=f.length;l<h;l++)if(c=f[l],b.isArray(c))q(d,c);else{switch(g=e="",c){case"ellipsis":e="&#x2026;",g="disabled";break;case"first":e=k.sFirst,g=c+(0<j?"":" disabled");break;case"previous":e=k.sPrevious,g=c+(0<j?"":" disabled");break;case"next":e=k.sNext,g=c+(j<n-1?"":" disabled");break;case"last":e=k.sLast,g=c+(j<n-1?"":" disabled");break;default:e=c+1,g=j===c?"active":""}e&&(i=b("<li>",{class:s.sPageButton+" "+g,id:0===r&&"string"==typeof c?a.sTableId+"_"+c:null}).append(b("<a>",{href:"#","aria-controls":a.sTableId,"aria-label":t[c],"data-dt-idx":p,tabindex:a.iTabIndex}).html(e)).appendTo(d),a.oApi._fnBindAction(i,{action:c},function(a){a.preventDefault(),!b(a.currentTarget).hasClass("disabled")&&o.page()!=a.data.action&&o.page(a.data.action).draw("page")}),p++)}};try{i=b(h).find(d.activeElement).data("dt-idx")}catch(u){}q(b(h).empty().html('<ul class="pagination"/>').children("ul"),m),i&&b(h).find("[data-dt-idx="+i+"]").focus()},f}),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return zb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){!1===tb.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qc[a]||(e(b),qc[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function j(){}function k(a,b){!1!==b&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=tb.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if(void 0!==b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),void 0!==b._i&&(a._i=b._i),void 0!==b._f&&(a._f=b._f),void 0!==b._l&&(a._l=b._l),void 0!==b._strict&&(a._strict=b._strict),void 0!==b._tzm&&(a._tzm=b._tzm),void 0!==b._isUTC&&(a._isUTC=b._isUTC),void 0!==b._offset&&(a._offset=b._offset),void 0!==b._pf&&(a._pf=b._pf),void 0!==b._locale&&(a._locale=b._locale),Ib.length>0)for(c in Ib)d=Ib[c],void 0!==(e=b[d])&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function r(a,b){var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=tb.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d||d,e&&a._d.setTime(+a._d+e*c),f&&nb(a,"Date",mb(a,"Date")+f*c),g&&lb(a,mb(a,"Month")+g*c),d&&tb.updateOffset(a,f||g)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jc[a]||kc[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d))&&(e[b]=a[d]);return e}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return hb(tb([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4==0&&a%100!=0||a%400==0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Bb]<0||a._a[Bb]>11?Bb:a._a[Cb]<1||a._a[Cb]>B(a._a[Ab],a._a[Bb])?Cb:a._a[Db]<0||a._a[Db]>24||24===a._a[Db]&&(0!==a._a[Eb]||0!==a._a[Fb]||0!==a._a[Gb])?Db:a._a[Eb]<0||a._a[Eb]>59?Eb:a._a[Fb]<0||a._a[Fb]>59?Fb:a._a[Gb]<0||a._a[Gb]>999?Gb:-1,a._pf._overflowDayOfYear&&(Ab>b||b>Cb)&&(b=Cb),a._pf.overflow=b)}function G(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(b=(e=H(a[f]).split("-")).length,c=(c=H(a[f+1]))?c.split("-"):null;b>0;){if(d=J(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Hb[a]&&Jb)try{b=tb.locale(),require("./locale/"+a),tb.locale(b)}catch(c){}return Hb[a]}function K(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(tb.isMoment(a)||v(a)?+a:+tb(a))-+c,c._d.setTime(+c._d+d),tb.updateOffset(c,!1),c):tb(a).local()}function L(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a){var b,c,d=a.match(Nb);for(b=0,c=d.length;c>b;b++)d[b]=pc[d[b]]?pc[d[b]]:L(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lc[b]||(lc[b]=M(b)),lc[b](a)):a.localeData().invalidDate()}function O(a,b){var d=5;for(Ob.lastIndex=0;d>=0&&Ob.test(a);)a=a.replace(Ob,function(a){return b.longDateFormat(a)||a}),Ob.lastIndex=0,d-=1;return a}function P(a,b){var d=b._strict;switch(a){case"Q":return Zb;case"DDDD":return _b;case"YYYY":case"GGGG":case"gggg":return d?ac:Rb;case"Y":case"G":case"g":return cc;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bc:Sb;case"S":if(d)return Zb;case"SS":if(d)return $b;case"SSS":if(d)return _b;case"DDD":return Qb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ub;case"a":case"A":return b._locale._meridiemParse;case"x":return Xb;case"X":return Yb;case"Z":case"ZZ":return Vb;case"T":return Wb;case"SSSS":return Tb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$b:Pb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return new RegExp(Y(X(a.replace("\\",""))))}}function Q(a){var b=(a=a||"").match(Vb)||[],d=((b[b.length-1]||[])+"").match(hc)||["-",0,0],e=60*d[1]+A(d[2]);return"+"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Bb]=3*(A(b)-1));break;case"M":case"MM":null!=b&&(e[Bb]=A(b)-1);break;case"MMM":case"MMMM":null!=(d=c._locale.monthsParse(b,a,c._strict))?e[Bb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Cb]=A(b));break;case"Do":null!=b&&(e[Cb]=A(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=A(b));break;case"YY":e[Ab]=tb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Ab]=A(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Db]=A(b);break;case"m":case"mm":e[Eb]=A(b);break;case"s":case"ss":e[Fb]=A(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Gb]=A(1e3*("0."+b));break;case"x":c._d=new Date(A(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Q(b);break;case"dd":case"ddd":case"dddd":null!=(d=c._locale.weekdaysParse(b))?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=tb.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;null!=(c=a._w).GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Ab],hb(tb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Ab],hb(tb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ib(d,e,f,h,g),a._a[Ab]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Cb]&&null==a._a[Bb]&&S(a),a._dayOfYear&&(f=b(a._a[Ab],e[Ab]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=db(f,0,a._dayOfYear),a._a[Bb]=d.getUTCMonth(),a._a[Cb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Db]&&0===a._a[Eb]&&0===a._a[Fb]&&0===a._a[Gb]&&(a._nextDay=!0,a._a[Db]=0),a._d=(a._useUTC?db:cb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Db]=24)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(b){if(b._f!==tb.ISO_8601){b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=O(b._f,b._locale).match(Nb)||[],c=0;c<e.length;c++)f=e[c],(d=(h.match(P(f,b))||[])[0])&&((g=h.substr(0,h.indexOf(d))).length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),pc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),!0===b._pf.bigHour&&b._a[Db]<=12&&(b._pf.bigHour=a),b._isPm&&b._a[Db]<12&&(b._a[Db]+=12),!1===b._isPm&&12===b._a[Db]&&(b._a[Db]=0),T(b),F(b)}else $(b)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=dc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fc.length;c>b;b++)if(fc[b][1].exec(d)){a._f=fc[b][0]+(e[6]||" ");break}for(b=0,c=gc.length;c>b;b++)if(gc[b][1].exec(d)){a._f+=gc[b][0];break}d.match(Vb)&&(a._f+="Z"),W(a)}else a._isValid=!1}function _(a){$(a),!1===a._isValid&&(delete a._isValid,tb.createFromInputFallback(a))}function ab(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function bb(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Kb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?_(b):u(d)?(b._a=ab(d.slice(0),function(a){return parseInt(a,10)}),T(b)):"object"==typeof d?U(b):"number"==typeof d?b._d=new Date(d):tb.createFromInputFallback(b)}function cb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function db(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function eb(a,b){if("string"==typeof a)if(isNaN(a)){if("number"!=typeof(a=b.weekdaysParse(a)))return null}else a=parseInt(a,10);return a}function fb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function gb(a,b,c){var d=tb.duration(a).abs(),e=yb(d.as("s")),f=yb(d.as("m")),g=yb(d.as("h")),h=yb(d.as("d")),i=yb(d.as("M")),j=yb(d.as("y")),k=e<mc.s&&["s",e]||1===f&&["m"]||f<mc.m&&["mm",f]||1===g&&["h"]||g<mc.h&&["hh",g]||1===h&&["d"]||h<mc.d&&["dd",h]||1===i&&["M"]||i<mc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,fb.apply({},k)}function hb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=tb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ib(a,b,c,d,e){var f,g,h=db(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:D(a-1)+g}}function jb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||tb.localeData(b._l),null===d||e===a&&""===d?tb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),tb.isMoment(d)?new k(d,!0):(e?u(e)?Z(b):W(b):bb(b),(c=new k(b))._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function kb(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return tb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function lb(a,b){var c;return"string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))?a:(c=Math.min(a.date(),B(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function mb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function nb(a,b,c){return"Month"===b?lb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ob(a,b){return function(c){return null!=c?(nb(this,a,c),tb.updateOffset(this,b),this):mb(this,a)}}function pb(a){return 400*a/146097}function qb(a){return 146097*a/400}function sb(a){"undefined"==typeof ender&&(ub=xb.moment,xb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",tb):tb)}for(var tb,ub,vb,xb="undefined"!=typeof global?global:this,yb=Math.round,zb=Object.prototype.hasOwnProperty,Ab=0,Bb=1,Cb=2,Db=3,Eb=4,Fb=5,Gb=6,Hb={},Ib=[],Jb="undefined"!=typeof module&&module&&module.exports,Kb=/^\/?Date\((\-?\d+)/i,Lb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ob=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pb=/\d\d?/,Qb=/\d{1,3}/,Rb=/\d{1,4}/,Sb=/[+\-]?\d{1,6}/,Tb=/\d+/,Ub=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vb=/Z|[\+\-]\d\d:?\d\d/gi,Wb=/T/i,Xb=/[\+\-]?\d+/,Yb=/[\+\-]?\d+(\.\d{1,3})?/,Zb=/\d/,$b=/\d\d/,_b=/\d{3}/,ac=/\d{4}/,bc=/[+-]?\d{6}/,cc=/[+-]?\d+/,dc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hc=/([\+\-]|\d\d)/gi,ic=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lc={},mc={s:45,m:45,h:22,d:26,M:11},nc="DDD w W M D d".split(" "),oc="M D H h m s w W".split(" "),pc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year();return(a>=0?"+":"-")+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+":"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qc={},rc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nc.length;)vb=nc.pop(),pc[vb+"o"]=function(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}(pc[vb],vb);for(;oc.length;)vb=oc.pop(),pc[vb+vb]=h(pc[vb],2);for(pc.DDDD=h(pc.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)"function"==typeof(b=a[c])?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=tb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=tb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return hb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(tb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),jb(g)}).suppressDeprecationWarnings=!1,tb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),tb.min=function(){return kb("isBefore",[].slice.call(arguments,0))},tb.max=function(){return kb("isAfter",[].slice.call(arguments,0))},tb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),jb(g).utc()},tb.unix=function(a){return tb(1e3*a)},tb.duration=function(a,b){var d,e,f,g,h=a,i=null;return tb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Lb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:A(i[Cb])*d,h:A(i[Db])*d,m:A(i[Eb])*d,s:A(i[Fb])*d,ms:A(i[Gb])*d}):(i=Mb.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=r(tb(h.from),tb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),tb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},tb.version="2.8.4",tb.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",tb.ISO_8601=function(){},tb.momentProperties=Ib,tb.updateOffset=function(){},tb.relativeTimeThreshold=function(b,c){return mc[b]!==a&&(c===a?mc[b]:(mc[b]=c,!0))},tb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return tb.locale(a,b)}),tb.locale=function(a,b){var c;return a&&(c=void 0!==b?tb.defineLocale(a,b):tb.localeData(a))&&(tb.duration._locale=tb._locale=c),tb._locale._abbr},tb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Hb[a]||(Hb[a]=new j),Hb[a].set(b),tb.locale(a),Hb[a]):(delete Hb[a],null)},tb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return tb.localeData(a)}),tb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return tb._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},tb.isMoment=function(a){return a instanceof k||null!=a&&c(a,"_isAMomentObject")},tb.isDuration=function(a){return a instanceof l},vb=rc.length-1;vb>=0;--vb)!function(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}tb[b]=function(e,f){var g,h,i=tb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=tb().utc().set(d,a);return i.call(tb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}(rc[vb]);tb.normalizeUnits=function(a){return x(a)},tb.invalid=function(a){var b=tb.utc(NaN);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},tb.parseZone=function(){return tb.apply(null,arguments).parseZone()},tb.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(tb.fn=k.prototype,{clone:function(){return tb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=tb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&w(this._a,(this._isUTC?tb.utc(this._a):tb(this._a)).toArray())>0)},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=N(this,a||tb.defaultFormat);return this.localeData().postformat(b)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return"year"===(b=x(b))||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-tb(this).startOf("month")-(g-tb(g).startOf("month")),f-=6e4*(this.zone()-tb(this).startOf("month").zone()-(g.zone()-tb(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return tb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(tb(),a)},calendar:function(a){var b=a||tb(),c=K(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,tb(b)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=eb(a,this.localeData()),this.add(a-b,"d")):b},month:ob("Month",!0),startOf:function(a){switch(a=x(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return(b=x(b))===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){return"millisecond"===(b=x(void 0!==b?b:"millisecond"))?(a=tb.isMoment(a)?a:tb(a),+this>+a):(tb.isMoment(a)?+a:+tb(a))<+this.clone().startOf(b)},isBefore:function(a,b){var c;return"millisecond"===(b=x(void 0!==b?b:"millisecond"))?+(a=tb.isMoment(a)?a:tb(a))>+this:(c=tb.isMoment(a)?+a:+tb(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return"millisecond"===(b=x(b||"millisecond"))?(a=tb.isMoment(a)?a:tb(a),+this==+a):(c=+tb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=tb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return(a=tb.apply(null,arguments))>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a*=60),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?t(this,tb.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?tb(a).zone():0,(this.zone()-a)%60==0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=yb((tb(this).startOf("day")-tb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=hb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=hb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=hb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(null!=(c=tb.localeData(b))&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),tb.fn.millisecond=tb.fn.milliseconds=ob("Milliseconds",!1),tb.fn.second=tb.fn.seconds=ob("Seconds",!1),tb.fn.minute=tb.fn.minutes=ob("Minutes",!1),tb.fn.hour=tb.fn.hours=ob("Hours",!0),tb.fn.date=ob("Date",!0),tb.fn.dates=f("dates accessor is deprecated. Use date instead.",ob("Date",!0)),tb.fn.year=ob("FullYear",!0),tb.fn.years=f("years accessor is deprecated. Use year instead.",ob("FullYear",!0)),tb.fn.days=tb.fn.day,tb.fn.months=tb.fn.month,tb.fn.weeks=tb.fn.week,tb.fn.isoWeeks=tb.fn.isoWeek,tb.fn.quarters=tb.fn.quarter,tb.fn.toJSON=tb.fn.toISOString,m(tb.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),f+=o((e-=o(qb(h=o(pb(e)))))/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=gb(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=tb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=tb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if("month"===(a=x(a))||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(qb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:tb.fn.lang,locale:tb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),tb.duration.fn.toString=tb.duration.fn.toISOString;for(vb in ic)c(ic,vb)&&function(a){tb.duration.fn[a]=function(){return this._data[a]}}(vb.toLowerCase());tb.duration.fn.asMilliseconds=function(){return this.as("ms")},tb.duration.fn.asSeconds=function(){return this.as("s")},tb.duration.fn.asMinutes=function(){return this.as("m")},tb.duration.fn.asHours=function(){return this.as("h")},tb.duration.fn.asDays=function(){return this.as("d")},tb.duration.fn.asWeeks=function(){return this.as("weeks")},tb.duration.fn.asMonths=function(){return this.as("M")},tb.duration.fn.asYears=function(){return this.as("y")},tb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),Jb?module.exports=tb:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&!0===c.config().noGlobal&&(xb.moment=ub),tb}),sb(!0)):sb()}.call(this),function(factory){"function"==typeof define&&define.amd?define(["jquery","moment","datatables"],factory):factory(jQuery,moment)}(function($,moment){$.fn.dataTable.moment=function(format,locale){var types=$.fn.dataTable.ext.type;types.detect.unshift(function(d){return d&&d.replace&&(d=d.replace(/<.*?>/g,"")),""===d||null===d?"moment-"+format:moment(d,format,locale,!0).isValid()?"moment-"+format:null}),types.order["moment-"+format+"-pre"]=function(d){return d&&d.replace&&(d=d.replace(/<.*?>/g,"")),""===d||null===d?-1/0:parseInt(moment(d,format,locale,!0).format("x"),10)}}});var bajb_backdetect={Version:"1.0.0",Description:"Back Button Detection",Browser:{IE:!(!window.attachEvent||window.opera),Safari:navigator.userAgent.indexOf("Apple")>-1,Opera:!!window.opera},FrameLoaded:0,FrameTry:0,FrameTimeout:null,OnBack:function(){console.log("Back Button Clicked")},BAJBFrame:function(){document.getElementById("BAJBOnBack");bajb_backdetect.FrameLoaded>1&&2==bajb_backdetect.FrameLoaded&&bajb_backdetect.OnBack(),bajb_backdetect.FrameLoaded++,1==bajb_backdetect.FrameLoaded&&(bajb_backdetect.Browser.IE?bajb_backdetect.SetupFrames():bajb_backdetect.FrameTimeout=setTimeout("bajb_backdetect.SetupFrames();",700))},SetupFrames:function(){clearTimeout(bajb_backdetect.FrameTimeout);var BBiFrame=document.getElementById("BAJBOnBack"),checkVar=BBiFrame.src.substr(-11,11);1==bajb_backdetect.FrameLoaded&&"HistoryLoad"!=checkVar?BBiFrame.src="blank.html?HistoryLoad":bajb_backdetect.FrameTry<2&&"HistoryLoad"!=checkVar&&(bajb_backdetect.FrameTry++,bajb_backdetect.FrameTimeout=setTimeout("bajb_backdetect.SetupFrames();",700))},SafariHash:"false",Safari:function(){"false"==bajb_backdetect.SafariHash?("#b"==window.location.hash?bajb_backdetect.SafariHash="true":window.location.hash="#b",setTimeout("bajb_backdetect.Safari();",100)):"true"==bajb_backdetect.SafariHash&&(""==window.location.hash?(bajb_backdetect.SafariHash="back",bajb_backdetect.OnBack()):setTimeout("bajb_backdetect.Safari();",100))},Initialise:function(){bajb_backdetect.Browser.Safari?setTimeout("bajb_backdetect.Safari();",600):document.write('<iframe src="blank.html" style="display:none;" id="BAJBOnBack" onunload="alert(\'de\')" onload="bajb_backdetect.BAJBFrame();"></iframe>')}};if(bajb_backdetect.Initialise(),function($){var nextId=0,Filestyle=function(element,options){this.options=options,this.$elementFilestyle=[],this.$element=$(element)};Filestyle.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(value){if(!0===value)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(!1!==value)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(value){if(!0===value)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(!1!==value)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(value){if(!0===value)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(!1!==value)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(value){if(!0===value)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(!1!==value)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var files=this.pushNameFiles();files.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+files.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(value){if(void 0===value)return this.options.size;var btn=this.$elementFilestyle.find("label"),input=this.$elementFilestyle.find("input");btn.removeClass("btn-lg btn-sm"),input.removeClass("input-lg input-sm"),"nr"!=value&&(btn.addClass("btn-"+value),input.addClass("input-"+value))},placeholder:function(value){if(void 0===value)return this.options.placeholder;this.options.placeholder=value,this.$elementFilestyle.find("input").attr("placeholder",value)},buttonText:function(value){if(void 0===value)return this.options.buttonText;this.options.buttonText=value,this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText)},buttonName:function(value){if(void 0===value)return this.options.buttonName;this.options.buttonName=value,this.$elementFilestyle.find("label").attr({class:"btn "+this.options.buttonName})},iconName:function(value){if(void 0===value)return this.options.iconName;this.$elementFilestyle.find(".icon-span-filestyle").attr({class:"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var content="",files=[];void 0===this.$element[0].files?files[0]={name:this.$element[0]&&this.$element[0].value}:files=this.$element[0].files;for(var i=0;i<files.length;i++)content+=files[i].name.split("\\").pop()+", ";return""!==content?this.$elementFilestyle.find(":text").val(content.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),files},constructor:function(){var _self=this,html="",id=_self.$element.attr("id"),btn="";""!==id&&id||(id="filestyle-"+nextId,_self.$element.attr({id:id}),nextId++),btn='<span class="group-span-filestyle '+(_self.options.input?"input-group-btn":"")+'"><label for="'+id+'" class="btn '+_self.options.buttonName+" "+("nr"==_self.options.size?"":"btn-"+_self.options.size)+'" '+(_self.options.disabled?'disabled="true"':"")+">"+_self.htmlIcon()+'<span class="buttonText">'+_self.options.buttonText+"</span></label></span>",html=_self.options.buttonBefore?btn+_self.htmlInput():_self.htmlInput()+btn,_self.$elementFilestyle=$('<div class="bootstrap-filestyle input-group" style="width: 100%">'+html+"</div>"),_self.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(e){if(13===e.keyCode||32===e.charCode)return _self.$elementFilestyle.find("label").click(),!1}),_self.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(_self.$elementFilestyle),_self.options.disabled&&_self.$element.attr("disabled","true"),_self.$element.change(function(){var files=_self.pushNameFiles();0==_self.options.input&&_self.options.badge?0==_self.$elementFilestyle.find(".badge").length?_self.$elementFilestyle.find("label").append(' <span class="badge">'+files.length+"</span>"):0==files.length?_self.$elementFilestyle.find(".badge").remove():_self.$elementFilestyle.find(".badge").html(files.length):_self.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&_self.$elementFilestyle.find("label").click(function(){return _self.$element.click(),!1})}};var old=$.fn.filestyle;$.fn.filestyle=function(option,value){var get="",element=this.each(function(){if("file"===$(this).attr("type")){var $this=$(this),data=$this.data("filestyle"),options=$.extend({},$.fn.filestyle.defaults,option,"object"==typeof option&&option);data||($this.data("filestyle",data=new Filestyle(this,options)),data.constructor()),"string"==typeof option&&(get=data[option](value))}});return void 0!==typeof get?get:element},$.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},$.fn.filestyle.noConflict=function(){return $.fn.filestyle=old,this},$(function(){$(".filestyle").each(function(){var $this=$(this),options={input:"false"!==$this.attr("data-input"),icon:"false"!==$this.attr("data-icon"),buttonBefore:"true"===$this.attr("data-buttonBefore"),disabled:"true"===$this.attr("data-disabled"),size:$this.attr("data-size"),buttonText:$this.attr("data-buttonText"),buttonName:$this.attr("data-buttonName"),iconName:$this.attr("data-iconName"),badge:"false"!==$this.attr("data-badge"),placeholder:$this.attr("data-placeholder")};$this.filestyle(options)})})}(window.jQuery),function($){"use strict";function forEach(array,callback){for(var index=0;index<array.length;++index)callback(array[index],index)}function Multiselect(select,options){this.$select=$(select),this.options=this.mergeOptions($.extend({},options,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=$.proxy(this.options.onChange,this),this.options.onSelectAll=$.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=$.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=$.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=$.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=$.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=$.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=$.proxy(this.options.onInitialized,this),this.options.onFiltering=$.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&$("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var $element=$(element),config=ko.toJS(valueAccessor());if($element.multiselect(config),allBindings.has("options")){var options=allBindings.get("options");ko.isObservable(options)&&ko.computed({read:function(){options(),setTimeout(function(){var ms=$element.data("multiselect");ms&&ms.updateOriginalOptions(),$element.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:element})}if(allBindings.has("value")){var value=allBindings.get("value");ko.isObservable(value)&&ko.computed({read:function(){value(),setTimeout(function(){$element.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:element}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(allBindings.has("selectedOptions")){var selectedOptions=allBindings.get("selectedOptions");ko.isObservable(selectedOptions)&&ko.computed({read:function(){selectedOptions(),setTimeout(function(){$element.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:element}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var setEnabled=function(enable){setTimeout(function(){enable?$element.multiselect("enable"):$element.multiselect("disable")})};if(allBindings.has("enable")){var enable=allBindings.get("enable");ko.isObservable(enable)?ko.computed({read:function(){setEnabled(enable())},disposeWhenNodeIsRemoved:element}).extend({rateLimit:100,notifyWhenChangesStop:!0}):setEnabled(enable)}if(allBindings.has("disable")){var disable=allBindings.get("disable");ko.isObservable(disable)?ko.computed({read:function(){setEnabled(!disable())},disposeWhenNodeIsRemoved:element}).extend({rateLimit:100,notifyWhenChangesStop:!0}):setEnabled(!disable)}ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$element.multiselect("destroy")})},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){var $element=$(element),config=ko.toJS(valueAccessor());$element.multiselect("setOptions",config),$element.multiselect("rebuild")}}),Multiselect.prototype={defaults:{buttonText:function(options,select){if(this.disabledText.length>0&&(select.prop("disabled")||0==options.length&&this.disableIfEmpty))return this.disabledText;if(0===options.length)return this.nonSelectedText;if(this.allSelectedText&&options.length===$("option",$(select)).length&&1!==$("option",$(select)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+options.length+")":this.allSelectedText;if(options.length>this.numberDisplayed)return options.length+" "+this.nSelectedText;var selected="",delimiter=this.delimiterText;return options.each(function(){var label=void 0!==$(this).attr("label")?$(this).attr("label"):$(this).text();selected+=label+delimiter}),selected.substr(0,selected.length-this.delimiterText.length)},buttonTitle:function(options,select){if(0===options.length)return this.nonSelectedText;var selected="",delimiter=this.delimiterText;return options.each(function(){var label=void 0!==$(this).attr("label")?$(this).attr("label"):$(this).text();selected+=label+delimiter}),selected.substr(0,selected.length-this.delimiterText.length)},checkboxName:function(option){return!1},optionLabel:function(element){return $(element).attr("label")||$(element).text()},optionClass:function(element){return $(element).attr("class")||""},onChange:function(option,checked){},onDropdownShow:function(event){},onDropdownHide:function(event){},onDropdownShown:function(event){},onDropdownHidden:function(event){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function($select,$container){},onFiltering:function($filter){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item multiselect-filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:Multiselect,buildContainer:function(){this.$container=$(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=$(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%",overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var tabindex=this.$select.attr("tabindex");tabindex&&this.$button.attr("tabindex",tabindex),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=$(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var height=Math.min(this.options.maxHeight,26*$('option[data-role!="divider"]',this.$select).length+19*$('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),moveCalc=height+34;this.$ul.css({"max-height":height+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+moveCalc+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each($.proxy(function(index,element){var $element=$(element),tag=$element.prop("tagName").toLowerCase();$element.prop("value")!==this.options.selectAllValue&&("optgroup"===tag?this.createOptgroup(element):"option"===tag&&("divider"===$element.data("role")?this.createDivider():this.createOptionValue(element)))},this)),$("li:not(.multiselect-group) input",this.$ul).on("change",$.proxy(function(event){var $target=$(event.target),checked=$target.prop("checked")||!1,isSelectAllOption=$target.val()===this.options.selectAllValue;this.options.selectedClass&&(checked?$target.closest("li").addClass(this.options.selectedClass):$target.closest("li").removeClass(this.options.selectedClass));var value=$target.val(),$option=this.getOptionByValue(value),$optionsNotThis=$("option",this.$select).not($option),$checkboxesNotThis=$("input",this.$container).not($target);if(isSelectAllOption?checked?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(checked?($option.prop("selected",!0),this.options.multiple?$option.prop("selected",!0):(this.options.selectedClass&&$($checkboxesNotThis).closest("li").removeClass(this.options.selectedClass),$($checkboxesNotThis).prop("checked",!1),$optionsNotThis.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&$optionsNotThis.closest("a").css("outline","")):$option.prop("selected",!1),this.options.onChange($option,checked),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1},this)),$("li a",this.$ul).on("mousedown",function(e){if(e.shiftKey)return!1}),$("li a",this.$ul).on("touchstart click",$.proxy(function(event){event.stopPropagation();var $target=$(event.target);if(event.shiftKey&&this.options.multiple){$target.is("label")&&(event.preventDefault(),($target=$target.find("input")).prop("checked",!$target.prop("checked")));var checked=$target.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==$target){var from=$target.closest("li").index(),to=this.lastToggledInput.closest("li").index();if(from>to){var tmp=to;to=from,from=tmp}++to;var range=this.$ul.find("li").slice(from,to).find("input");range.prop("checked",checked),this.options.selectedClass&&range.closest("li").toggleClass(this.options.selectedClass,checked);for(var i=0,j=range.length;i<j;i++){var $checkbox=$(range[i]);this.getOptionByValue($checkbox.val()).prop("selected",checked)}}$target.trigger("change")}$target.is("input")&&!$target.closest("li").is(".multiselect-item")&&(this.lastToggledInput=$target),$target.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",$.proxy(function(event){if(!$('input[type="text"]',this.$container).is(":focus"))if(9===event.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var $items=$(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!$items.length)return;var index=$items.index($items.filter(":focus"));38===event.keyCode&&index>0?index--:40===event.keyCode&&index<$items.length-1?index++:~index||(index=0);var $current=$items.eq(index);if($current.focus(),32===event.keyCode||13===event.keyCode){var $checkbox=$current.find("input");$checkbox.prop("checked",!$checkbox.prop("checked")),$checkbox.change()}event.stopPropagation(),event.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&$("li.multiselect-group input",this.$ul).on("change",$.proxy(function(event){event.stopPropagation();var checked=$(event.target).prop("checked")||!1,$li=$(event.target).closest("li"),$inputs=$li.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),$options=[];this.options.selectedClass&&(checked?$li.addClass(this.options.selectedClass):$li.removeClass(this.options.selectedClass)),$.each($inputs,$.proxy(function(index,input){var value=$(input).val(),$option=this.getOptionByValue(value);checked?($(input).prop("checked",!0),$(input).closest("li").addClass(this.options.selectedClass),$option.prop("selected",!0)):($(input).prop("checked",!1),$(input).closest("li").removeClass(this.options.selectedClass),$option.prop("selected",!1)),$options.push(this.getOptionByValue(value))},this)),this.options.onChange($options,checked),this.updateButtonText(),this.updateSelectAll()},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&($("li.multiselect-group .caret-container",this.$ul).on("click",$.proxy(function(event){var $inputs=$(event.target).closest("li").nextUntil("li.multiselect-group").not(".multiselect-filter-hidden"),visible=!0;$inputs.each(function(){visible=visible&&$(this).is(":visible")}),visible?$inputs.hide().addClass("multiselect-collapsible-hidden"):$inputs.show().removeClass("multiselect-collapsible-hidden")},this)),$("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),$("li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),$("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(element){var $element=$(element);$element.is(":selected")&&$element.prop("selected",!0);var label=this.options.optionLabel(element),classes=this.options.optionClass(element),value=$element.val(),inputType=this.options.multiple?"checkbox":"radio",$li=$(this.options.templates.li),$label=$("label",$li);$label.addClass(inputType),$li.addClass(classes),this.options.enableHTML?$label.html(" "+label):$label.text(" "+label);var $checkbox=$("<input/>").attr("type",inputType),name=this.options.checkboxName($element);name&&$checkbox.attr("name",name),$label.prepend($checkbox);var selected=$element.prop("selected")||!1;$checkbox.val(value),value===this.options.selectAllValue&&($li.addClass("multiselect-item multiselect-all"),$checkbox.parent().parent().addClass("multiselect-all")),$label.attr("title",$element.attr("title")),this.$ul.append($li),$element.is(":disabled")&&$checkbox.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),$checkbox.prop("checked",selected),selected&&this.options.selectedClass&&$checkbox.closest("li").addClass(this.options.selectedClass)},createDivider:function(element){var $divider=$(this.options.templates.divider);this.$ul.append($divider)},createOptgroup:function(group){var label=$(group).attr("label"),value=$(group).attr("value"),$li=$('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><label><b></b></label></a></li>'),classes=this.options.optionClass(group);$li.addClass(classes),this.options.enableHTML?$("label b",$li).html(" "+label):$("label b",$li).text(" "+label),this.options.enableCollapsibleOptGroups&&this.options.multiple&&$("label",$li).append('<span class="caret-container"><b class="caret"></b></span>'),this.options.enableClickableOptGroups&&this.options.multiple&&$("a label",$li).prepend('<input type="checkbox" value="'+value+'"/>'),$(group).is(":disabled")&&$li.addClass("disabled"),this.$ul.append($li),$("option",group).each($.proxy(function($,group){this.createOptionValue(group)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&$("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend($(this.options.templates.divider));var $li=$(this.options.templates.li);$("label",$li).addClass("checkbox"),this.options.enableHTML?$("label",$li).html(" "+this.options.selectAllText):$("label",$li).text(" "+this.options.selectAllText),this.options.selectAllName?$("label",$li).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):$("label",$li).prepend('<input type="checkbox" />');var $checkbox=$("input",$li);$checkbox.val(this.options.selectAllValue),$li.addClass("multiselect-item multiselect-all"),$checkbox.parent().parent().addClass("multiselect-all"),this.$ul.prepend($li),$checkbox.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var enableFilterLength=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=enableFilterLength){if(this.$filter=$(this.options.templates.filter),$("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var clearBtn=$(this.options.templates.filterClearBtn);clearBtn.on("click",$.proxy(function(event){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),$("li",this.$ul).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this)),this.$filter.find(".input-group").append(clearBtn)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(event){event.stopPropagation()}).on("input keydown",$.proxy(function(event){13===event.which&&event.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction($.proxy(function(){if(this.query!==event.target.value){this.query=event.target.value;var currentGroup,currentGroupVisible;$.each($("li",this.$ul),$.proxy(function(index,element){var value=$("input",element).length>0?$("input",element).val():"",text=$("label",element).text(),filterCandidate="";if("text"===this.options.filterBehavior?filterCandidate=text:"value"===this.options.filterBehavior?filterCandidate=value:"both"===this.options.filterBehavior&&(filterCandidate=text+"\n"+value),value!==this.options.selectAllValue&&text){var showElement=!1;if(this.options.enableCaseInsensitiveFiltering&&(filterCandidate=filterCandidate.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var valueToMatch=filterCandidate.trim().substring(0,this.query.length);this.query.indexOf(valueToMatch)>-1&&(showElement=!0)}else filterCandidate.indexOf(this.query)>-1&&(showElement=!0);$(element).toggle(showElement).toggleClass("multiselect-filter-hidden",!showElement),$(element).hasClass("multiselect-group")?(currentGroup=element,currentGroupVisible=showElement):(showElement&&$(currentGroup).show().removeClass("multiselect-filter-hidden"),!showElement&&currentGroupVisible&&$(element).show().removeClass("multiselect-filter-hidden"))}},this))}this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(event.target)},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var inputs=$.map($("li input",this.$ul),$);$("option",this.$select).each($.proxy(function(index,element){for(var $input,$elem=$(element),value=$elem.val(),i=inputs.length;0<i--;)if(value===($input=inputs[i]).val()){$elem.is(":selected")?($input.prop("checked",!0),this.options.selectedClass&&$input.closest("li").addClass(this.options.selectedClass)):($input.prop("checked",!1),this.options.selectedClass&&$input.closest("li").removeClass(this.options.selectedClass)),$elem.is(":disabled")?$input.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):$input.prop("disabled",!1).closest("li").removeClass("disabled");break}},this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(selectValues,triggerOnChange){$.isArray(selectValues)||(selectValues=[selectValues]);for(var i=0;i<selectValues.length;i++){var value=selectValues[i];if(null!==value&&void 0!==value){var $option=this.getOptionByValue(value),$checkbox=this.getInputByValue(value);void 0!==$option&&void 0!==$checkbox&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&$checkbox.closest("li").addClass(this.options.selectedClass),$checkbox.prop("checked",!0),$option.prop("selected",!0),triggerOnChange&&this.options.onChange($option,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(deselectValues,triggerOnChange){$.isArray(deselectValues)||(deselectValues=[deselectValues]);for(var i=0;i<deselectValues.length;i++){var value=deselectValues[i];if(null!==value&&void 0!==value){var $option=this.getOptionByValue(value),$checkbox=this.getInputByValue(value);void 0!==$option&&void 0!==$checkbox&&(this.options.selectedClass&&$checkbox.closest("li").removeClass(this.options.selectedClass),$checkbox.prop("checked",!1),$option.prop("selected",!1),triggerOnChange&&this.options.onChange($option,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(justVisible,triggerOnSelectAll){var justVisible=void 0===justVisible||justVisible,allLis=$("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),visibleLis=$("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");justVisible?($("input:enabled",visibleLis).prop("checked",!0),visibleLis.addClass(this.options.selectedClass),$("input:enabled",visibleLis).each($.proxy(function(index,element){var value=$(element).val(),option=this.getOptionByValue(value);$(option).prop("selected",!0)},this))):($("input:enabled",allLis).prop("checked",!0),allLis.addClass(this.options.selectedClass),$("input:enabled",allLis).each($.proxy(function(index,element){var value=$(element).val(),option=this.getOptionByValue(value);$(option).prop("selected",!0)},this))),$('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),triggerOnSelectAll&&this.options.onSelectAll()},deselectAll:function(justVisible,triggerOnDeselectAll){var justVisible=void 0===justVisible||justVisible,allLis=$("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),visibleLis=$("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");justVisible?($('input[type="checkbox"]:enabled',visibleLis).prop("checked",!1),visibleLis.removeClass(this.options.selectedClass),$('input[type="checkbox"]:enabled',visibleLis).each($.proxy(function(index,element){var value=$(element).val(),option=this.getOptionByValue(value);$(option).prop("selected",!1)},this))):($('input[type="checkbox"]:enabled',allLis).prop("checked",!1),allLis.removeClass(this.options.selectedClass),$('input[type="checkbox"]:enabled',allLis).each($.proxy(function(index,element){var value=$(element).val(),option=this.getOptionByValue(value);$(option).prop("selected",!1)},this))),$('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),triggerOnDeselectAll&&this.options.onDeselectAll()},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&$("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(dataprovider){var groupCounter=0,$select=this.$select.empty();$.each(dataprovider,function(index,option){var $tag;if($.isArray(option.children))groupCounter++,$tag=$("<optgroup/>").attr({label:option.label||"Group "+groupCounter,disabled:!!option.disabled}),forEach(option.children,function(subOption){var attributes={value:subOption.value,label:subOption.label||subOption.value,title:subOption.title,selected:!!subOption.selected,disabled:!!subOption.disabled};for(var key in subOption.attributes)attributes["data-"+key]=subOption.attributes[key];$tag.append($("<option/>").attr(attributes))});else{var attributes={value:option.value,label:option.label||option.value,title:option.title,class:option.class,selected:!!option.selected,disabled:!!option.disabled};for(var key in option.attributes)attributes["data-"+key]=option.attributes[key];($tag=$("<option/>").attr(attributes)).text(option.label||option.value)}$select.append($tag)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(options){this.options=this.mergeOptions(options)},mergeOptions:function(options){return $.extend(!0,{},this.defaults,this.options,options)},hasSelectAll:function(){return $("li.multiselect-all",this.$ul).length>0},updateOptGroups:function(){var $groups=$("li.multiselect-group",this.$ul),selectedClass=this.options.selectedClass;$groups.each(function(){var checked=!0;$(this).nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled").each(function(){$("input",this).prop("checked")||(checked=!1)}),selectedClass&&(checked?$(this).addClass(selectedClass):$(this).removeClass(selectedClass)),$("input",this).prop("checked",checked)})},updateSelectAll:function(notTriggerOnSelectAll){if(this.hasSelectAll()){var allBoxes=$("li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$ul),allBoxesLength=allBoxes.length,checkedBoxesLength=allBoxes.filter(":checked").length,selectAllLi=$("li.multiselect-all",this.$ul),selectAllInput=selectAllLi.find("input");checkedBoxesLength>0&&checkedBoxesLength===allBoxesLength?(selectAllInput.prop("checked",!0),selectAllLi.addClass(this.options.selectedClass)):(selectAllInput.prop("checked",!1),selectAllLi.removeClass(this.options.selectedClass))}},updateButtonText:function(){var options=this.getSelected();this.options.enableHTML?$(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(options,this.$select)):$(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(options,this.$select)),$(".multiselect",this.$container).attr("title",this.options.buttonTitle(options,this.$select))},getSelected:function(){return $("option",this.$select).filter(":selected")},getOptionByValue:function(value){for(var options=$("option",this.$select),valueToCompare=value.toString(),i=0;i<options.length;i+=1){var option=options[i];if(option.value===valueToCompare)return $(option)}},getInputByValue:function(value){for(var checkboxes=$("li input:not(.multiselect-search)",this.$ul),valueToCompare=value.toString(),i=0;i<checkboxes.length;i+=1){var checkbox=checkboxes[i];if(checkbox.value===valueToCompare)return $(checkbox)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(callback,timeout,self){var args=Array.prototype.slice.call(arguments,3);return setTimeout(function(){callback.apply(self||window,args)},timeout)},setAllSelectedText:function(allSelectedText){this.options.allSelectedText=allSelectedText,this.updateButtonText()}},$.fn.multiselect=function(option,parameter,extraOptions){return this.each(function(){var data=$(this).data("multiselect"),options="object"==typeof option&&option;data||(data=new Multiselect(this,options),$(this).data("multiselect",data)),"string"==typeof option&&(data[option](parameter,extraOptions),"destroy"===option&&$(this).data("multiselect",!1))})},$.fn.multiselect.Constructor=Multiselect,$(function(){$("select[data-role=multiselect]").multiselect()})}(window.jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=jQuery.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});return setTimeout(function(){c||a(d).trigger(a.support.transition.end)},b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(a){"use strict";var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var f=(c+("prev"==a?-1:1))%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),h=f.data("bs.collapse")?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var i=e.find(".dropdown-menu li:not(.disabled):visible a");if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),function(a){"use strict";var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return(b=a.extend({},this.getDefaults(),this.$element.data(),b)).delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){var c=(b=b||this.$element)[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var b=this.$element,c=this.options;return b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})},a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})},a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(a-d>=e+g)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){return function t(e,n,i){function a(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(t,e,n){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/(\w+)/,o=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(u=0;u<o.length;u++)o[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(u=0;u<o.length;u++)o[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(i)){for(u=0;u<o.length;u++)o[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(a)){for(u=0;u<o.length;u++)o[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(r)){if("transparent"==l[1])return[0,0,0,0];if(!(o=x[l[1]]))return}for(var u=0;u<o.length;u++)o[u]=y(o[u],0,255);return s=s||0==s?y(s,0,1):1,o[3]=s,o}}function a(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(i)?1:i,0,1)]}}}function r(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(i)?1:i,0,1)]}}}function c(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function y(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var x=t(5);e.exports={getRgba:i,getHsla:a,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=a(t);return e&&e.slice(0,3)},getHwb:r,getAlpha:function(t){var e=i(t);return e?e[3]:(e=a(t))?e[3]:(e=r(t))?e[3]:void 0},hexString:function(t){return"#"+b(t[0])+b(t[1])+b(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:c,percentString:function(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:f,hslString:function(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:p,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return _[t.slice(0,3)]}};var _={};for(var k in x)_[x[k]]=k},{5:5}],2:[function(t,e,n){var i=t(4),a=t(1),r=function(t){if(t instanceof r)return t;if(!(this instanceof r))return new r(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=a.getRgba(t))?this.setValues("rgb",e):(e=a.getHsla(t))?this.setValues("hsl",e):(e=a.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};r.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,a=void 0===e?.5:e,r=2*a-1,o=n.alpha()-i.alpha(),s=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new r,i=this.values,a=n.values;for(var o in i)i.hasOwnProperty(o)&&(t=i[o],"[object Array]"===(e={}.toString.call(t))?a[o]=t.slice(0):"[object Number]"===e?a[o]=t:console.error("unexpected color value:",t));return n}},r.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},r.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},r.prototype.setValues=function(t,e){var n,a=this.values,r=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)a[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)a[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[r[t][0]]){var l=r[t];for(n=0;n<t.length;n++)a[t][n]=e[l[n]];s=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===s?a.alpha:s)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(o[t][n],a[t][n])),a[t][n]=Math.round(u);for(var d in r)d!==t&&(a[d]=i[t][d](a[t]));return!0},r.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},r.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=r),e.exports=r},{1:1,4:4}],3:[function(t,e,n){function i(t){var e,n,i,a=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(a,r,o),l=Math.max(a,r,o),u=l-s;return l==s?e=0:a==l?e=(r-o)/u:r==l?e=2+(o-a)/u:o==l&&(e=4+(a-r)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=(s+l)/2,n=l==s?0:i<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*i]}function a(t){var e,n,i,a=t[0],r=t[1],o=t[2],s=Math.min(a,r,o),l=Math.max(a,r,o),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?e=0:a==l?e=(r-o)/u:r==l?e=2+(o-a)/u:o==l&&(e=4+(a-r)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=l/255*1e3/10,[e,n,i]}function o(t){var e=t[0],n=t[1],a=t[2];return[i(t)[0],100*(1/255*Math.min(e,Math.min(n,a))),100*(a=1-1/255*Math.max(e,Math.max(n,a)))]}function s(t){var e,n,i,a,r=t[0]/255,o=t[1]/255,s=t[2]/255;return a=Math.min(1-r,1-o,1-s),e=(1-r-a)/(1-a)||0,n=(1-o-a)/(1-a)||0,i=(1-s-a)/(1-a)||0,[100*e,100*n,100*i,100*a]}function l(t){return K[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function d(t){var e,n,i,a=u(t),r=a[0],o=a[1],s=a[2];return r/=95.047,o/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*o-16,n=500*(r-o),i=200*(o-s),[e,n,i]}function h(t){var e,n,i,a,r,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return r=255*l,[r,r,r];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var u=0;u<3;u++)(i=o+1/3*-(u-1))<0&&i++,i>1&&i--,r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,a[u]=255*r;return a}function y(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,a=Math.floor(e)%6,r=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*r),l=255*i*(1-n*(1-r)),i=255*i;switch(a){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function M(t){var e,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),e=Math.floor(6*o),n=1-l,i=6*o-e,0!=(1&e)&&(i=1-i),a=s+i*(n-s),e){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function T(t){var e,n,i,a=t[0]/100,r=t[1]/100,o=t[2]/100,s=t[3]/100;return e=1-Math.min(1,a*(1-s)+s),n=1-Math.min(1,r*(1-s)+s),i=1-Math.min(1,o*(1-s)+s),[255*e,255*n,255*i]}function R(t){var e,n,i,a=t[0]/100,r=t[1]/100,o=t[2]/100;return e=3.2406*a+-1.5372*r+-.4986*o,n=-.9689*a+1.8758*r+.0415*o,i=.0557*a+-.204*r+1.057*o,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]}function L(t){var e,n,i,a=t[0],r=t[1],o=t[2];return a/=95.047,r/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*r-16,n=500*(a-r),i=200*(r-o),[e,n,i]}function W(t){var e,n,i,a,r=t[0],o=t[1],s=t[2];return r<=8?(n=100*r/903.3,a=n/100*7.787+16/116):(n=100*Math.pow((r+16)/116,3),a=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(o/500+a-16/116)/7.787:95.047*Math.pow(o/500+a,3),i=i/108.883<=.008859?i=108.883*(a-s/200-16/116)/7.787:108.883*Math.pow(a-s/200,3),[e,n,i]}function Y(t){var e,n,i,a=t[0],r=t[1],o=t[2];return e=Math.atan2(o,r),(n=360*e/2/Math.PI)<0&&(n+=360),i=Math.sqrt(r*r+o*o),[a,i,n]}function z(t){return R(W(t))}function N(t){var e,n,i,a=t[0],r=t[1];return i=t[2]/360*2*Math.PI,e=r*Math.cos(i),n=r*Math.sin(i),[a,e,n]}function H(t){return J[t]}e.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:d,rgb2lch:function(t){return Y(d(t))},hsl2rgb:h,hsl2hsv:function(t){var e,n,i=t[0],a=t[1]/100,r=t[2]/100;return 0===r?[0,0,0]:(r*=2,a*=r<=1?r:2-r,n=(r+a)/2,e=2*a/(r+a),[i,100*e,100*n])},hsl2hwb:function(t){return o(h(t))},hsl2cmyk:function(t){return s(h(t))},hsl2keyword:function(t){return l(h(t))},hsv2rgb:y,hsv2hsl:function(t){var e,n,i=t[0],a=t[1]/100,r=t[2]/100;return n=(2-a)*r,e=a*r,e/=n<=1?n:2-n,e=e||0,n/=2,[i,100*e,100*n]},hsv2hwb:function(t){return o(y(t))},hsv2cmyk:function(t){return s(y(t))},hsv2keyword:function(t){return l(y(t))},hwb2rgb:M,hwb2hsl:function(t){return i(M(t))},hwb2hsv:function(t){return a(M(t))},hwb2cmyk:function(t){return s(M(t))},hwb2keyword:function(t){return l(M(t))},cmyk2rgb:T,cmyk2hsl:function(t){return i(T(t))},cmyk2hsv:function(t){return a(T(t))},cmyk2hwb:function(t){return o(T(t))},cmyk2keyword:function(t){return l(T(t))},keyword2rgb:H,keyword2hsl:function(t){return i(H(t))},keyword2hsv:function(t){return a(H(t))},keyword2hwb:function(t){return o(H(t))},keyword2cmyk:function(t){return s(H(t))},keyword2lab:function(t){return d(H(t))},keyword2xyz:function(t){return u(H(t))},xyz2rgb:R,xyz2lab:L,xyz2lch:function(t){return Y(L(t))},lab2xyz:W,lab2rgb:z,lab2lch:Y,lch2lab:N,lch2xyz:function(t){return W(N(t))},lch2rgb:function(t){return z(N(t))}};var J={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K={};for(var Q in J)K[JSON.stringify(J[Q])]=Q},{}],4:[function(t,e,n){var i=t(3),a=function(){return new u};for(var r in i){a[r+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(r);var o=/(\w+)2(\w+)/.exec(r),s=o[1],l=o[2];(a[s]=a[s]||{})[l]=a[r]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||void 0===n)return n;for(var a=0;a<n.length;a++)n[a]=Math.round(n[a]);return n}}(r)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=a[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=a},{3:3}],5:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(e,n,i){!function(e,a){"object"==typeof i&&void 0!==n?n.exports=a():e.moment=a()}(this,function(){"use strict";function t(){return _i.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,i){return xe(t,e,n,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(t){return null==t._pf&&(t._pf=g()),t._pf}function m(t){if(null==t._isValid){var e=p(t),n=wi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function v(t){var e=f(NaN);return null!=t?h(p(e),t):p(e).userInvalidated=!0,e}function y(t,e){var n,i,a;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),Mi.length>0)for(n=0;n<Mi.length;n++)i=Mi[n],a=e[i],s(a)||(t[i]=a);return t}function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Si&&(Si=!0,t.updateOffset(this),Si=!1)}function x(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function w(t,e,n){var i,a=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(i=0;i<a;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&o++;return o+r}function M(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,n){var i=!0;return h(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var a,r=[],o=0;o<arguments.length;o++){if(a="","object"==typeof arguments[o]){a+="\n["+o+"] ";for(var s in arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];r.push(a)}M(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function D(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Di[e]||(M(n),Di[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t,e){var n,i=h({},t);for(n in e)c(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&r(t[n])&&(i[n]=h({},i[n]));return i}function I(t){null!=t&&this.set(t)}function W(t,e){var n=t.toLowerCase();Vi[n]=Vi[n+"s"]=Vi[e]=t}function Y(t){return"string"==typeof t?Vi[t]||Vi[t.toLowerCase()]:void 0}function z(t){var e,n,i={};for(n in t)c(t,n)&&(e=Y(n))&&(i[e]=t[n]);return i}function N(t,e){Wi[t]=e}function B(t){var e=[];for(var n in t)e.push({unit:n,priority:Wi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function E(e,n){return function(i){return null!=i?(j(this,e,i),t.updateOffset(this,n),this):H(this,e)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function q(t,e,n){var i=""+Math.abs(t),a=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function Z(t,e,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),t&&(Bi[t]=a),e&&(Bi[e[0]]=function(){return q(a.apply(this,arguments),e[1],e[2])}),n&&(Bi[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function X(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function J(t){var e,n,i=t.match(Yi);for(e=0,n=i.length;e<n;e++)Bi[i[e]]?i[e]=Bi[i[e]]:i[e]=X(i[e]);return function(e){var a,r="";for(a=0;a<n;a++)r+=C(i[a])?i[a].call(e,t):i[a];return r}}function K(t,e){return t.isValid()?(e=Q(e,t.localeData()),Ni[e]=Ni[e]||J(e),Ni[e](t)):t.localeData().invalidDate()}function Q(t,e){var i=5;for(zi.lastIndex=0;i>=0&&zi.test(t);)t=t.replace(zi,function(t){return e.longDateFormat(t)||t}),zi.lastIndex=0,i-=1;return t}function $(t,e,n){ra[t]=C(e)?e:function(t,i){return t&&n?n:e}}function tt(t,e){return c(ra,t)?ra[t](e._strict,e._locale):new RegExp(et(t))}function et(t){return nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,a){return e||n||i||a}))}function nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function it(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),l(e)&&(i=function(t,n){n[e]=k(t)}),n=0;n<t.length;n++)oa[t[n]]=i}function at(t,e){it(t,function(t,n,i,a){i._w=i._w||{},e(t,i._w,i,a)})}function rt(t,e,n){null!=e&&c(oa,t)&&oa[t](e,n._a,n,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ut(t,e,n){var i,a,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(a=ma.call(this._shortMonthsParse,o))?a:null:-1!==(a=ma.call(this._longMonthsParse,o))?a:null:"MMM"===e?-1!==(a=ma.call(this._shortMonthsParse,o))?a:-1!==(a=ma.call(this._longMonthsParse,o))?a:null:-1!==(a=ma.call(this._longMonthsParse,o))?a:-1!==(a=ma.call(this._shortMonthsParse,o))?a:null}function ct(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(e=t.localeData().monthsParse(e),!l(e))return t;return n=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ht(e){return null!=e?(ct(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function mt(){function t(t,e){return e.length-t.length}var e,n,i=[],a=[],r=[];for(e=0;e<12;e++)n=f([2e3,e]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),a.sort(t),r.sort(t),e=0;e<12;e++)i[e]=nt(i[e]),a[e]=nt(a[e]);for(e=0;e<24;e++)r[e]=nt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function vt(t){return yt(t)?366:365}function yt(t){return t%4==0&&t%100!=0||t%400==0}function xt(t,e,n,i,a,r,o){var s=new Date(t,e,n,i,a,r,o);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function kt(t,e,n){var i=7+e-n;return-((7+_t(t,0,i).getUTCDay()-e)%7)+i-1}function wt(t,e,n,i,a){var r,o,u=1+7*(e-1)+(7+n-i)%7+kt(t,i,a);return u<=0?(r=t-1,o=vt(r)+u):u>vt(t)?(r=t+1,o=u-vt(t)):(r=t,o=u),{year:r,dayOfYear:o}}function Mt(t,e,n){var i,a,r=kt(t.year(),e,n),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return o<1?(a=t.year()-1,i=o+St(a,e,n)):o>St(t.year(),e,n)?(i=o-St(t.year(),e,n),a=t.year()+1):(a=t.year(),i=o),{week:i,year:a}}function St(t,e,n){var i=kt(t,e,n),a=kt(t+1,e,n);return(vt(t)-i+a)/7}function At(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ft(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Vt(t,e,n){var i,a,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(a=ma.call(this._weekdaysParse,o))?a:null:"ddd"===e?-1!==(a=ma.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=ma.call(this._minWeekdaysParse,o))?a:null:"dddd"===e?-1!==(a=ma.call(this._weekdaysParse,o))?a:-1!==(a=ma.call(this._shortWeekdaysParse,o))?a:-1!==(a=ma.call(this._minWeekdaysParse,o))?a:null:"ddd"===e?-1!==(a=ma.call(this._shortWeekdaysParse,o))?a:-1!==(a=ma.call(this._weekdaysParse,o))?a:-1!==(a=ma.call(this._minWeekdaysParse,o))?a:null:-1!==(a=ma.call(this._minWeekdaysParse,o))?a:-1!==(a=ma.call(this._weekdaysParse,o))?a:-1!==(a=ma.call(this._shortWeekdaysParse,o))?a:null}function jt(){function t(t,e){return e.length-t.length}var e,n,i,a,r,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),r=this.weekdays(n,""),o.push(i),s.push(a),l.push(r),u.push(i),u.push(a),u.push(r);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=nt(s[e]),l[e]=nt(l[e]),u[e]=nt(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ut(){return this.hours()%12||12}function qt(t,e){Z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Zt(t,e){return e._meridiemParse}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,a,r=0;r<t.length;){for(e=(a=Kt(t[r]).split("-")).length,n=(n=Kt(t[r+1]))?n.split("-"):null;e>0;){if(i=$t(a.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(a,n,!0)>=e-1)break;e--}r++}return null}function $t(t){var i=null;if(!Ra[t]&&void 0!==n&&n&&n.exports)try{i=Ia._abbr,e("./locale/"+t),te(i)}catch(t){}return Ra[t]}function te(t,e){var n;return t&&(n=s(e)?ie(t):ee(t,e))&&(Ia=n),Ia._abbr}function ee(t,e){if(null!==e){var n=Oa;if(e.abbr=t,null!=Ra[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ra[t]._config;else if(null!=e.parentLocale){if(null==Ra[e.parentLocale])return La[e.parentLocale]||(La[e.parentLocale]=[]),La[e.parentLocale].push({name:t,config:e}),null;n=Ra[e.parentLocale]._config}return Ra[t]=new I(T(n,e)),La[t]&&La[t].forEach(function(t){ee(t.name,t.config)}),te(t),Ra[t]}return delete Ra[t],null}function ie(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ia;if(!a(t)){if(e=$t(t))return e;t=[t]}return Qt(t)}function re(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[la]<0||n[la]>11?la:n[ua]<1||n[ua]>ot(n[sa],n[la])?ua:n[da]<0||n[da]>24||24===n[da]&&(0!==n[ca]||0!==n[ha]||0!==n[fa])?da:n[ca]<0||n[ca]>59?ca:n[ha]<0||n[ha]>59?ha:n[fa]<0||n[fa]>999?fa:-1,p(t)._overflowDayOfYear&&(e<sa||e>ua)&&(e=ua),p(t)._overflowWeeks&&-1===e&&(e=ga),p(t)._overflowWeekday&&-1===e&&(e=pa),p(t).overflow=e),t}function oe(t){var e,n,i,a,r,o,s=t._i,l=Va.exec(s)||Wa.exec(s);if(l){for(p(t).iso=!0,e=0,n=za.length;e<n;e++)if(za[e][1].exec(l[1])){a=za[e][0],i=!1!==za[e][2];break}if(null==a)return void(t._isValid=!1);if(l[3]){for(e=0,n=Na.length;e<n;e++)if(Na[e][1].exec(l[3])){r=(l[2]||" ")+Na[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Ya.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=a+(r||"")+(o||""),fe(t)}else t._isValid=!1}function se(t){var e,n,i,a,r,o,s,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Ea.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),r="HH:mm"+(n[4]?":ss":""),n[1]){var h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==h)return p(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,t._i=n.splice(1).join(""),o=" ZZ",t._f=i+a+r+o,fe(t),p(t).rfc2822=!0}else t._isValid=!1}function le(e){var n=Ba.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(oe(e),void(!1===e._isValid&&(delete e._isValid,se(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))))}function ue(t,e,n){return null!=t?t:null!=e?e:n}function de(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ce(t){var e,n,i,a,r=[];if(!t._d){for(i=de(t),t._w&&null==t._a[ua]&&null==t._a[la]&&he(t),null!=t._dayOfYear&&(a=ue(t._a[sa],i[sa]),(t._dayOfYear>vt(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=_t(a,0,t._dayOfYear),t._a[la]=n.getUTCMonth(),t._a[ua]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[da]&&0===t._a[ca]&&0===t._a[ha]&&0===t._a[fa]&&(t._nextDay=!0,t._a[da]=0),t._d=(t._useUTC?_t:xt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[da]=24)}}function he(t){var e,n,i,a,r,o,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,o=4,n=ue(e.GG,t._a[sa],Mt(_e(),1,4).year),i=ue(e.W,1),((a=ue(e.E,1))<1||a>7)&&(l=!0);else{r=t._locale._week.dow,o=t._locale._week.doy;var u=Mt(_e(),r,o);n=ue(e.gg,t._a[sa],u.year),i=ue(e.w,u.week),null!=e.d?((a=e.d)<0||a>6)&&(l=!0):null!=e.e?(a=e.e+r,(e.e<0||e.e>6)&&(l=!0)):a=r}i<1||i>St(n,r,o)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(s=wt(n,i,a,r,o),t._a[sa]=s.year,t._dayOfYear=s.dayOfYear)}function fe(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],p(e).empty=!0;var n,i,a,r,o,s=""+e._i,l=s.length,u=0;for(a=Q(e._f,e._locale).match(Yi)||[],n=0;n<a.length;n++)r=a[n],(i=(s.match(tt(r,e))||[])[0])&&((o=s.substr(0,s.indexOf(i))).length>0&&p(e).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Bi[r]?(i?p(e).empty=!1:p(e).unusedTokens.push(r),rt(r,i,e)):e._strict&&!i&&p(e).unusedTokens.push(r);p(e).charsLeftOver=l-u,s.length>0&&p(e).unusedInput.push(s),e._a[da]<=12&&!0===p(e).bigHour&&e._a[da]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[da]=ge(e._locale,e._a[da],e._meridiem),ce(e),re(e)}else se(e);else oe(e)}function ge(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function pe(t){var e,n,i,a,r;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],fe(e),m(e)&&(r+=p(e).charsLeftOver,r+=10*p(e).unusedTokens.length,p(e).score=r,(null==i||r<i)&&(i=r,n=e));h(t,n||e)}function me(t){if(!t._d){var e=z(t._i);t._a=d([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ce(t)}}function ve(t){var e=new b(re(ye(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ye(t){var e=t._i,n=t._f;return t._locale=t._locale||ie(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new b(re(e)):(u(e)?t._d=e:a(n)?pe(t):n?fe(t):be(t),m(t)||(t._d=null),t))}function be(e){var n=e._i;s(n)?e._d=new Date(t.now()):u(n)?e._d=new Date(n.valueOf()):"string"==typeof n?le(e):a(n)?(e._a=d(n.slice(0),function(t){return parseInt(t,10)}),ce(e)):r(n)?me(e):l(n)?e._d=new Date(n):t.createFromInputFallback(e)}function xe(t,e,n,i,s){var l={};return!0!==n&&!1!==n||(i=n,n=void 0),(r(t)&&o(t)||a(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=t,l._f=e,l._strict=i,ve(l)}function _e(t,e,n,i){return xe(t,e,n,i,!1)}function ke(t,e){var n,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return _e();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Se(t){for(var e in t)if(-1===Ga.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Ga.length;++i)if(t[Ga[i]]){if(n)return!1;parseFloat(t[Ga[i]])!==k(t[Ga[i]])&&(n=!0)}return!0}function Pe(t){var e=z(t),n=e.year||0,i=e.quarter||0,a=e.month||0,r=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=Se(e),this._milliseconds=+d+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=ie(),this._bubble()}function Te(t){return t instanceof Pe}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ae(t,e){Z(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function Fe(t,e){var n=(e||"").match(t);if(null===n)return null;var a=((n[n.length-1]||[])+"").match(qa)||["-",0,0],r=60*a[1]+k(a[2]);return 0===r?0:"+"===a[0]?r:-r}function Oe(e,n){var i,a;return n._isUTC?(i=n.clone(),a=(x(e)||u(e)?e.valueOf():_e(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),t.updateOffset(i,!1),i):_e(e).local()}function Re(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ge(t,e){var n,i,a,r=t,o=null;return Te(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(r={},e?r[e]=t:r.milliseconds=t):(o=Za.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:k(o[ua])*n,h:k(o[da])*n,m:k(o[ca])*n,s:k(o[ha])*n,ms:k(Ie(1e3*o[fa]))*n}):(o=Xa.exec(t))?(n="-"===o[1]?-1:1,r={y:qe(o[2],n),M:qe(o[3],n),w:qe(o[4],n),d:qe(o[5],n),h:qe(o[6],n),m:qe(o[7],n),s:qe(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=Xe(_e(r.from),_e(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),i=new Pe(r),Te(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xe(t,e){var n;return t.isValid()&&e.isValid()?(e=Oe(e,t),t.isBefore(e)?n=Ze(t,e):(n=Ze(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Je(t,e){return function(n,i){var a,r;return null===i||isNaN(+i)||(D(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=Ge(n,i),Ke(this,a,t),this}}function Ke(e,n,i,a){var r=n._milliseconds,o=Ie(n._days),s=Ie(n._months);e.isValid()&&(a=null==a||a,r&&e._d.setTime(e._d.valueOf()+r*i),o&&j(e,"Date",H(e,"Date")+o*i),s&&ct(e,H(e,"Month")+s*i),a&&t.updateOffset(e,o||s))}function un(t,e){var n,i,a=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(a,"months");return e-r<0?(n=t.clone().add(a-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(a+1,"months"),i=(e-r)/(n-r)),-(a+i)||0}function yn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ie(t))&&(this._locale=e),this)}function bn(){return this._locale}function Fn(t,e){Z(0,[t,t.length],0,e)}function Wn(t,e,n,i,a){var r;return null==t?Mt(this,i,a).year:(r=St(t,i,a),e>r&&(e=r),Yn.call(this,t,e,n,i,a))}function Yn(t,e,n,i,a){var r=wt(t,e,n,i,a),o=_t(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Gn(t){return t}function qn(t,e,n,i){var a=ie(),r=f().set(i,e);return a[n](r,t)}function Zn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return qn(t,e,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=qn(t,i,n,"month");return a}function Xn(t,e,n,i){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var a=ie(),r=t?a._week.dow:0;if(null!=n)return qn(e,(n+r)%7,i,"day");var o,s=[];for(o=0;o<7;o++)s[o]=qn(e,(o+r)%7,i,"day");return s}function ni(t,e,n,i){var a=Ge(e,n);return t._milliseconds+=i*a._milliseconds,t._days+=i*a._days,t._months+=i*a._months,t._bubble()}function ri(t){return t<0?Math.floor(t):Math.ceil(t)}function si(t){return 4800*t/146097}function li(t){return 146097*t/4800}function ci(t){return function(){return this.as(t)}}function fi(t){return function(){return this.isValid()?this._data[t]:NaN}}function pi(t,e,n,i,a){return a.relativeTime(e||1,!!n,t,i)}function mi(t,e,n){var i=Ge(t).abs(),a=kr(i.as("s")),r=kr(i.as("m")),o=kr(i.as("h")),s=kr(i.as("d")),l=kr(i.as("M")),u=kr(i.as("y")),d=a<=wr.ss&&["s",a]||a<wr.s&&["ss",a]||r<=1&&["m"]||r<wr.m&&["mm",r]||o<=1&&["h"]||o<wr.h&&["hh",o]||s<=1&&["d"]||s<wr.d&&["dd",s]||l<=1&&["M"]||l<wr.M&&["MM",l]||u<=1&&["y"]||["yy",u];return d[2]=e,d[3]=+t>0,d[4]=n,pi.apply(null,d)}function xi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Mr(this._milliseconds)/1e3,a=Mr(this._days),r=Mr(this._months);e=_((t=_(i/60))/60),i%=60,t%=60;var o=n=_(r/12),s=r%=12,l=a,u=e,d=t,c=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||d||c?"T":"")+(u?u+"H":"")+(d?d+"M":"")+(c?c+"S":""):"P0D"}var _i,ki,wi=ki=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},Mi=t.momentProperties=[],Si=!1,Di={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Ci,Pi,Ti=Ci=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n},Ii={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ai={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ri=/\d{1,2}/,Li={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vi={},Wi={},Yi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ni={},Bi={},Ei=/\d/,Hi=/\d\d/,ji=/\d{3}/,Ui=/\d{4}/,Gi=/[+-]?\d{6}/,qi=/\d\d?/,Zi=/\d\d\d\d?/,Xi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,Ki=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,$i=/\d+/,ta=/[+-]?\d+/,ea=/Z|[+-]\d\d:?\d\d/gi,na=/Z|[+-]\d\d(?::?\d\d)?/gi,ia=/[+-]?\d+(\.\d{1,3})?/,aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ra={},oa={},sa=0,la=1,ua=2,da=3,ca=4,ha=5,fa=6,ga=7,pa=8,ma=Pi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};Z("M",["MM",2],"Mo",function(){return this.month()+1}),Z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),W("month","M"),N("month",8),$("M",qi),$("MM",qi,Hi),$("MMM",function(t,e){return e.monthsShortRegex(t)}),$("MMMM",function(t,e){return e.monthsRegex(t)}),it(["M","MM"],function(t,e){e[la]=k(t)-1}),it(["MMM","MMMM"],function(t,e,n,i){var a=n._locale.monthsParse(t,i,n._strict);null!=a?e[la]=a:p(n).invalidMonth=t});var va=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ya="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ba="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xa=aa,_a=aa;Z("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Z(0,["YY",2],0,function(){return this.year()%100}),Z(0,["YYYY",4],0,"year"),Z(0,["YYYYY",5],0,"year"),Z(0,["YYYYYY",6,!0],0,"year"),W("year","y"),N("year",1),$("Y",ta),$("YY",qi,Hi),$("YYYY",Ki,Ui),$("YYYYY",Qi,Gi),$("YYYYYY",Qi,Gi),it(["YYYYY","YYYYYY"],sa),it("YYYY",function(e,n){n[sa]=2===e.length?t.parseTwoDigitYear(e):k(e)}),it("YY",function(e,n){n[sa]=t.parseTwoDigitYear(e)}),it("Y",function(t,e){e[sa]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return k(t)+(k(t)>68?1900:2e3)};var ka=E("FullYear",!0);Z("w",["ww",2],"wo","week"),Z("W",["WW",2],"Wo","isoWeek"),W("week","w"),W("isoWeek","W"),N("week",5),N("isoWeek",5),$("w",qi),$("ww",qi,Hi),$("W",qi),$("WW",qi,Hi),at(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=k(t)});var wa={dow:0,doy:6};Z("d",0,"do","day"),Z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Z("e",0,0,"weekday"),Z("E",0,0,"isoWeekday"),W("day","d"),W("weekday","e"),W("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),$("d",qi),$("e",qi),$("E",qi),$("dd",function(t,e){return e.weekdaysMinRegex(t)}),$("ddd",function(t,e){return e.weekdaysShortRegex(t)}),$("dddd",function(t,e){return e.weekdaysRegex(t)}),at(["dd","ddd","dddd"],function(t,e,n,i){var a=n._locale.weekdaysParse(t,i,n._strict);null!=a?e.d=a:p(n).invalidWeekday=t}),at(["d","e","E"],function(t,e,n,i){e[i]=k(t)});var Ma="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Da="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ca=aa,Pa=aa,Ta=aa;Z("H",["HH",2],0,"hour"),Z("h",["hh",2],0,Ut),Z("k",["kk",2],0,function(){return this.hours()||24}),Z("hmm",0,0,function(){return""+Ut.apply(this)+q(this.minutes(),2)}),Z("hmmss",0,0,function(){return""+Ut.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),Z("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),Z("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qt("a",!0),qt("A",!1),W("hour","h"),N("hour",13),$("a",Zt),$("A",Zt),$("H",qi),$("h",qi),$("k",qi),$("HH",qi,Hi),$("hh",qi,Hi),$("kk",qi,Hi),$("hmm",Zi),$("hmmss",Xi),$("Hmm",Zi),$("Hmmss",Xi),it(["H","HH"],da),it(["k","kk"],function(t,e,n){var i=k(t);e[da]=24===i?0:i}),it(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),it(["h","hh"],function(t,e,n){e[da]=k(t),p(n).bigHour=!0}),it("hmm",function(t,e,n){var i=t.length-2;e[da]=k(t.substr(0,i)),e[ca]=k(t.substr(i)),p(n).bigHour=!0}),it("hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[da]=k(t.substr(0,i)),e[ca]=k(t.substr(i,2)),e[ha]=k(t.substr(a)),p(n).bigHour=!0}),it("Hmm",function(t,e,n){var i=t.length-2;e[da]=k(t.substr(0,i)),e[ca]=k(t.substr(i))}),it("Hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[da]=k(t.substr(0,i)),e[ca]=k(t.substr(i,2)),e[ha]=k(t.substr(a))});var Ia,Aa=/[ap]\.?m?\.?/i,Fa=E("Hours",!0),Oa={calendar:Ii,longDateFormat:Ai,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ri,relativeTime:Li,months:ya,monthsShort:ba,week:wa,weekdays:Ma,weekdaysMin:Da,weekdaysShort:Sa,meridiemParse:Aa},Ra={},La={},Va=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ya=/Z|[+-]\d\d(?::?\d\d)?/,za=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Na=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ba=/^\/?Date\((\-?\d+)/i,Ea=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Ha=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),ja=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}),Ga=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ae("Z",":"),Ae("ZZ",""),$("Z",na),$("ZZ",na),it(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Fe(na,t)});var qa=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Za=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ge.fn=Pe.prototype,Ge.invalid=function(){return Ge(NaN)};var Ja=Je(1,"add"),Ka=Je(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qa=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Z(0,["gg",2],0,function(){return this.weekYear()%100}),Z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fn("gggg","weekYear"),Fn("ggggg","weekYear"),Fn("GGGG","isoWeekYear"),Fn("GGGGG","isoWeekYear"),W("weekYear","gg"),W("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),$("G",ta),$("g",ta),$("GG",qi,Hi),$("gg",qi,Hi),$("GGGG",Ki,Ui),$("gggg",Ki,Ui),$("GGGGG",Qi,Gi),$("ggggg",Qi,Gi),at(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=k(t)}),at(["gg","GG"],function(e,n,i,a){n[a]=t.parseTwoDigitYear(e)}),Z("Q",0,"Qo","quarter"),W("quarter","Q"),N("quarter",7),$("Q",Ei),it("Q",function(t,e){e[la]=3*(k(t)-1)}),Z("D",["DD",2],"Do","date"),W("date","D"),N("date",9),$("D",qi),$("DD",qi,Hi),$("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),it(["D","DD"],ua),it("Do",function(t,e){e[ua]=k(t.match(qi)[0],10)});var $a=E("Date",!0);Z("DDD",["DDDD",3],"DDDo","dayOfYear"),W("dayOfYear","DDD"),N("dayOfYear",4),$("DDD",Ji),$("DDDD",ji),it(["DDD","DDDD"],function(t,e,n){n._dayOfYear=k(t)}),Z("m",["mm",2],0,"minute"),W("minute","m"),N("minute",14),$("m",qi),$("mm",qi,Hi),it(["m","mm"],ca);var tr=E("Minutes",!1);Z("s",["ss",2],0,"second"),W("second","s"),N("second",15),$("s",qi),$("ss",qi,Hi),it(["s","ss"],ha);var er=E("Seconds",!1);Z("S",0,0,function(){return~~(this.millisecond()/100)}),Z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Z(0,["SSS",3],0,"millisecond"),Z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),W("millisecond","ms"),N("millisecond",16),$("S",Ji,Ei),$("SS",Ji,Hi),$("SSS",Ji,ji);var nr;for(nr="SSSS";nr.length<=9;nr+="S")$(nr,$i);for(nr="S";nr.length<=9;nr+="S")it(nr,function(t,e){e[fa]=k(1e3*("0."+t))});var ir=E("Milliseconds",!1);Z("z",0,0,"zoneAbbr"),Z("zz",0,0,"zoneName");var ar=b.prototype;ar.add=Ja,ar.calendar=function(e,n){var i=e||_e(),a=Oe(i,this).startOf("day"),r=t.calendarFormat(this,a)||"sameElse",o=n&&(C(n[r])?n[r].call(this,i):n[r]);return this.format(o||this.localeData().calendar(r,this,_e(i)))},ar.clone=function(){return new b(this)},ar.diff=function(t,e,n){var i,a,r,o;return this.isValid()&&(i=Oe(t,this)).isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=Y(e))||"month"===e||"quarter"===e?(o=un(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(r=this-i,o="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?o:_(o)):NaN},ar.endOf=function(t){return void 0===(t=Y(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},ar.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=K(this,e);return this.localeData().postformat(n)},ar.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||_e(t).isValid())?Ge({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ar.fromNow=function(t){return this.from(_e(),t)},ar.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||_e(t).isValid())?Ge({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ar.toNow=function(t){return this.to(_e(),t)},ar.get=function(t){return t=Y(t),C(this[t])?this[t]():this},ar.invalidAt=function(){return p(this).overflow},ar.isAfter=function(t,e){var n=x(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=Y(s(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},ar.isBefore=function(t,e){var n=x(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=Y(s(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},ar.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},ar.isSame=function(t,e){var n,i=x(t)?t:_e(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=Y(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},ar.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ar.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ar.isValid=function(){return m(this)},ar.lang=Qa,ar.locale=yn,ar.localeData=bn,ar.max=ja,ar.min=Ha,ar.parsingFlags=function(){return h({},p(this))},ar.set=function(t,e){if("object"==typeof t)for(var n=B(t=z(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(t=Y(t),C(this[t]))return this[t](e);return this},ar.startOf=function(t){switch(t=Y(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ar.subtract=Ka,ar.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ar.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ar.toDate=function(){return new Date(this.valueOf())},ar.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ar.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},ar.toJSON=function(){return this.isValid()?this.toISOString():null},ar.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ar.unix=function(){return Math.floor(this.valueOf()/1e3)},ar.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ar.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ar.year=ka,ar.isLeapYear=function(){return yt(this.year())},ar.weekYear=function(t){return Wn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ar.isoWeekYear=function(t){return Wn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ar.quarter=ar.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ar.month=ht,ar.daysInMonth=function(){return ot(this.year(),this.month())},ar.week=ar.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ar.isoWeek=ar.isoWeeks=function(t){var e=Mt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ar.weeksInYear=function(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)},ar.isoWeeksInYear=function(){return St(this.year(),1,4)},ar.date=$a,ar.day=ar.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=At(t,this.localeData()),this.add(t-e,"d")):e},ar.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ar.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ft(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},ar.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ar.hour=ar.hours=Fa,ar.minute=ar.minutes=tr,ar.second=ar.seconds=er,ar.millisecond=ar.milliseconds=ir,ar.utcOffset=function(e,n,i){var a,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Fe(na,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(a=Re(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==e&&(!n||this._changeInProgress?Ke(this,Ge(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Re(this)},ar.utc=function(t){return this.utcOffset(0,t)},ar.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this},ar.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(ea,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ar.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?_e(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ar.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ar.isLocal=function(){return!!this.isValid()&&!this._isUTC},ar.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ar.isUtc=Ue,ar.isUTC=Ue,ar.zoneAbbr=function(){return this._isUTC?"UTC":""},ar.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ar.dates=S("dates accessor is deprecated. Use date instead.",$a),ar.months=S("months accessor is deprecated. Use month instead",ht),ar.years=S("years accessor is deprecated. Use year instead",ka),ar.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),ar.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=ye(t))._a){var e=t._isUTC?f(t._a):_e(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var rr=I.prototype;rr.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i},rr.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},rr.invalidDate=function(){return this._invalidDate},rr.ordinal=function(t){return this._ordinal.replace("%d",t)},rr.preparse=Gn,rr.postformat=Gn,rr.relativeTime=function(t,e,n,i){var a=this._relativeTime[n];return C(a)?a(t,e,n,i):a.replace(/%d/i,t)},rr.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},rr.set=function(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},rr.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||va).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},rr.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[va.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},rr.monthsParse=function(t,e,n){var i,a,r;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},rr.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||mt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=_a),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},rr.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||mt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=xa),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},rr.week=function(t){return Mt(t,this._week.dow,this._week.doy).week},rr.firstDayOfYear=function(){return this._week.doy},rr.firstDayOfWeek=function(){return this._week.dow},rr.weekdays=function(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},rr.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},rr.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},rr.weekdaysParse=function(t,e,n){var i,a,r;if(this._weekdaysParseExact)return Vt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},rr.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ca),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},rr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pa),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ta),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},rr.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},te("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=S("moment.lang is deprecated. Use moment.locale instead.",te),t.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ie);var or=Math.abs,sr=ci("ms"),lr=ci("s"),ur=ci("m"),dr=ci("h"),cr=ci("d"),hr=ci("w"),fr=ci("M"),gr=ci("y"),pr=fi("milliseconds"),mr=fi("seconds"),vr=fi("minutes"),yr=fi("hours"),br=fi("days"),xr=fi("months"),_r=fi("years"),kr=Math.round,wr={ss:44,s:45,m:45,h:22,d:26,M:11},Mr=Math.abs,Sr=Pe.prototype;return Sr.isValid=function(){return this._isValid},Sr.abs=function(){var t=this._data;return this._milliseconds=or(this._milliseconds),this._days=or(this._days),this._months=or(this._months),t.milliseconds=or(t.milliseconds),t.seconds=or(t.seconds),t.minutes=or(t.minutes),t.hours=or(t.hours),t.months=or(t.months),t.years=or(t.years),this},Sr.add=function(t,e){return ni(this,t,e,1)},Sr.subtract=function(t,e){return ni(this,t,e,-1)},Sr.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=Y(t))||"year"===t)return e=this._days+i/864e5,n=this._months+si(e),"month"===t?n:n/12;switch(e=this._days+Math.round(li(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Sr.asMilliseconds=sr,Sr.asSeconds=lr,Sr.asMinutes=ur,Sr.asHours=dr,Sr.asDays=cr,Sr.asWeeks=hr,Sr.asMonths=fr,Sr.asYears=gr,Sr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},Sr._bubble=function(){var t,e,n,i,a,r=this._milliseconds,o=this._days,s=this._months,l=this._data;return r>=0&&o>=0&&s>=0||r<=0&&o<=0&&s<=0||(r+=864e5*ri(li(s)+o),o=0,s=0),l.milliseconds=r%1e3,t=_(r/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,n=_(e/60),l.hours=n%24,o+=_(n/24),a=_(si(o)),s+=a,o-=ri(li(a)),i=_(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Sr.get=function(t){return t=Y(t),this.isValid()?this[t+"s"]():NaN},Sr.milliseconds=pr,Sr.seconds=mr,Sr.minutes=vr,Sr.hours=yr,Sr.days=br,Sr.weeks=function(){return _(this.days()/7)},Sr.months=xr,Sr.years=_r,Sr.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=mi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Sr.toISOString=xi,Sr.toString=xi,Sr.toJSON=xi,Sr.locale=yn,Sr.localeData=bn,Sr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xi),Sr.lang=Qa,Z("X",0,0,"unix"),Z("x",0,0,"valueOf"),$("x",ta),$("X",ia),it("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),it("x",function(t,e,n){n._d=new Date(k(t))}),t.version="2.18.1",function(t){_i=t}(_e),t.fn=ar,t.min=function(){return ke("isBefore",[].slice.call(arguments,0))},t.max=function(){return ke("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=f,t.unix=function(t){return _e(1e3*t)},t.months=function(t,e){return Zn(t,e,"months")},t.isDate=u,t.locale=te,t.invalid=v,t.duration=Ge,t.isMoment=x,t.weekdays=function(t,e,n){return Xn(t,e,n,"weekdays")},t.parseZone=function(){return _e.apply(null,arguments).parseZone()},t.localeData=ie,t.isDuration=Te,t.monthsShort=function(t,e){return Zn(t,e,"monthsShort")},t.weekdaysMin=function(t,e,n){return Xn(t,e,n,"weekdaysMin")},t.defineLocale=ee,t.updateLocale=function(t,e){if(null!=e){var n,i=Oa;null!=Ra[t]&&(i=Ra[t]._config),(n=new I(e=T(i,e))).parentLocale=Ra[t],Ra[t]=n,te(t)}else null!=Ra[t]&&(null!=Ra[t].parentLocale?Ra[t]=Ra[t].parentLocale:null!=Ra[t]&&delete Ra[t]);return Ra[t]},t.locales=function(){return Ti(Ra)},t.weekdaysShort=function(t,e,n){return Xn(t,e,n,"weekdaysShort")},t.normalizeUnits=Y,t.relativeTimeRounding=function(t){return void 0===t?kr:"function"==typeof t&&(kr=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==wr[t]&&(void 0===e?wr[t]:(wr[t]=e,"s"===t&&(wr.ss=e-1),!0))},t.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=ar,t})},{}],7:[function(t,e,n){var i=t(28)();t(26)(i),t(40)(i),t(22)(i),t(25)(i),t(30)(i),t(21)(i),t(23)(i),t(24)(i),t(29)(i),t(32)(i),t(33)(i),t(31)(i),t(27)(i),t(34)(i),t(35)(i),t(36)(i),t(37)(i),t(38)(i),t(46)(i),t(44)(i),t(45)(i),t(47)(i),t(48)(i),t(49)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i);var a=[];a.push(t(41)(i),t(42)(i),t(43)(i)),i.plugins.register(a),e.exports=i,"undefined"!=typeof window&&(window.Chart=i)},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,8:8,9:9}],8:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(){var e,n=this;t.DatasetController.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0},update:function(t){var e,n,i=this,a=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t)},updateElement:function(t,n,i){var a=this,r=a.chart,o=a.getMeta(),s=a.getDataset(),l=t.custom||{},u=r.options.elements.rectangle;t._xScale=a.getScaleForId(o.xAxisID),t._yScale=a.getScaleForId(o.yAxisID),t._datasetIndex=a.index,t._index=n,t._model={datasetLabel:s.label,label:r.data.labels[n],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:e.getValueAtIndexOrDefault(s.backgroundColor,n,u.backgroundColor),borderColor:l.borderColor?l.borderColor:e.getValueAtIndexOrDefault(s.borderColor,n,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:e.getValueAtIndexOrDefault(s.borderWidth,n,u.borderWidth)},a.updateElementGeometry(t,n,i),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,a=t._model,r=i.getValueScale(),o=r.getBasePixel(),s=r.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),d=i.calculateBarIndexPixels(i.index,e,l);a.horizontal=s,a.base=n?o:u.base,a.x=s?n?o:u.head:d.center,a.y=s?d.center:n?o:u.head,a.height=s?d.size:void 0,a.width=s?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(t){var e,n,i=this,a=i.chart,o=i.getIndexScale().options.stacked,s=void 0===t?a.data.datasets.length:t+1,l=[];for(e=0;e<s;++e)(n=a.getDatasetMeta(e)).bar&&a.isDatasetVisible(e)&&(!1===o||!0===o&&-1===l.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===l.indexOf(n.stack)))&&l.push(n.stack);return l.length},getStackIndex:function(t){return this.getStackCount(t)-1},getRuler:function(){var t=this,n=t.getIndexScale(),i=n.options,a=t.getStackCount(),o=(n.isHorizontal()?n.width:n.height)/n.ticks.length,s=o*i.categoryPercentage,l=s/a,u=l*i.barPercentage;return u=Math.min(e.getValueOrDefault(i.barThickness,u),e.getValueOrDefault(i.maxBarThickness,1/0)),{stackCount:a,tickSize:o,categorySize:s,categorySpacing:o-s,fullBarSize:l,barSize:u,barSpacing:l-u,scale:n}},calculateBarValuePixels:function(t,e){var n,i,a,r,o,s,l=this,u=l.chart,d=l.getMeta(),c=l.getValueScale(),h=u.data.datasets,f=Number(h[t].data[e]),g=c.options.stacked,p=d.stack,m=0;if(g||void 0===g&&void 0!==p)for(n=0;n<t;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===p&&i.controller.getValueScaleId()===c.id&&u.isDatasetVisible(n)&&(a=Number(h[n].data[e]),(f<0&&a<0||f>=0&&a>0)&&(m+=a));return r=c.getPixelForValue(m),o=c.getPixelForValue(m+f),s=(o-r)/2,{size:s,base:r,head:o,center:o+s/2}},calculateBarIndexPixels:function(t,e,n){var i=this,a=n.scale,r=i.chart.isCombo,o=i.getStackIndex(t),s=a.getPixelForValue(null,e,t,r),l=n.barSize;return s-=r?n.tickSize/2:0,s+=n.fullBarSize*o,s+=n.categorySpacing/2,s+=n.barSpacing/2,{size:l,base:s,head:s+l,center:s+l/2}},draw:function(){var t,n=this,i=n.chart,a=n.getMeta().data,r=n.getDataset(),o=a.length,s=0;for(e.canvas.clipArea(i.ctx,i.chartArea);s<o;++s)null===(t=r.data[s])||void 0===t||isNaN(t)||a[s].draw();e.canvas.unclipArea(i.ctx)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},r=t._model;r.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,e.getHoverColor(r.backgroundColor)),r.borderColor=a.hoverBorderColor?a.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,i,e.getHoverColor(r.borderColor)),r.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},r=t._model,o=this.chart.options.elements.rectangle;r.backgroundColor=a.backgroundColor?a.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,i,o.backgroundColor),r.borderColor=a.borderColor?a.borderColor:e.getValueAtIndexOrDefault(n.borderColor,i,o.borderColor),r.borderWidth=a.borderWidth?a.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,i,o.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var n=this,a=n.getMeta().data;e.each(a,function(e,i){n.updateElement(e,i,t)})},updateElement:function(n,i,a){var r=this,o=r.getMeta(),s=r.getScaleForId(o.xAxisID),l=r.getScaleForId(o.yAxisID),u=n.custom||{},d=r.getDataset(),c=d.data[i],h=r.chart.options.elements.point,f=r.index;e.extend(n,{_xScale:s,_yScale:l,_datasetIndex:f,_index:i,_model:{x:a?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof c?c:NaN,i,f,r.chart.isCombo),y:a?l.getBasePixel():l.getPixelForValue(c,i,f),radius:a?0:u.radius?u.radius:r.getRadius(c),hitRadius:u.hitRadius?u.hitRadius:e.getValueAtIndexOrDefault(d.hitRadius,i,h.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(r,n,h);var g=n._model;g.skip=u.skip?u.skip:isNaN(g.x)||isNaN(g.y),n.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,n);var a=i.chart.data.datasets[n._datasetIndex],r=n._index,o=n.custom||{};n._model.radius=o.hoverRadius?o.hoverRadius:e.getValueAtIndexOrDefault(a.hoverRadius,r,i.chart.options.elements.point.hoverRadius)+i.getRadius(a.data[r])},removeHoverStyle:function(e){var n=this;t.DatasetController.prototype.removeHoverStyle.call(n,e,n.chart.options.elements.point);var i=n.chart.data.datasets[e._datasetIndex].data[e._index],a=e.custom||{};e._model.radius=a.radius?a.radius:n.getRadius(i)}})}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var r=0;r<i[0].data.length;++r)e.push('<li><span style="background-color:'+i[0].backgroundColor[r]+'"></span>'),a[r]&&e.push(a[r]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,a){var r=t.getDatasetMeta(0),o=n.datasets[0],s=r.data[a],l=s&&s.custom||{},u=e.getValueAtIndexOrDefault,d=t.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:u(o.backgroundColor,a,d.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(o.borderColor,a,d.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(o.borderWidth,a,d.borderWidth),hidden:isNaN(o.data[a])||r.data[a].hidden,index:a}}):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(a=o.getDatasetMeta(n)).data[r]&&(a.data[r].hidden=!a.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,n){var i=n.labels[t.index],a=": "+n.datasets[t.datasetIndex].data[t.index];return e.isArray(i)?(i=i.slice(),i[0]+=a):i+=a,i}}}},n.pie=e.clone(n.doughnut),e.extend(n.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var n=this,i=n.chart,a=i.chartArea,r=i.options,o=r.elements.arc,s=a.right-a.left-o.borderWidth,l=a.bottom-a.top-o.borderWidth,u=Math.min(s,l),d={x:0,y:0},c=n.getMeta(),h=r.cutoutPercentage,f=r.circumference;if(f<2*Math.PI){var g=r.rotation%(2*Math.PI),p=(g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0))+f,m={x:Math.cos(g),y:Math.sin(g)},v={x:Math.cos(p),y:Math.sin(p)},y=g<=0&&0<=p||g<=2*Math.PI&&2*Math.PI<=p,b=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,x=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,_=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,k=h/100,w={x:x?-1:Math.min(m.x*(m.x<0?1:k),v.x*(v.x<0?1:k)),y:_?-1:Math.min(m.y*(m.y<0?1:k),v.y*(v.y<0?1:k))},M={x:y?1:Math.max(m.x*(m.x>0?1:k),v.x*(v.x>0?1:k)),y:b?1:Math.max(m.y*(m.y>0?1:k),v.y*(v.y>0?1:k))},S={width:.5*(M.x-w.x),height:.5*(M.y-w.y)};u=Math.min(s/S.width,l/S.height),d={x:-.5*(M.x+w.x),y:-.5*(M.y+w.y)}}i.borderWidth=n.getMaxBorderWidth(c.data),i.outerRadius=Math.max((u-i.borderWidth)/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:0,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=d.x*i.outerRadius,i.offsetY=d.y*i.outerRadius,c.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=Math.max(n.outerRadius-i.radiusLength,0),e.each(c.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){var a=this,r=a.chart,o=r.chartArea,s=r.options,l=s.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,c=s.rotation,h=s.rotation,f=a.getDataset(),g=i&&l.animateRotate?0:t.hidden?0:a.calculateCircumference(f.data[n])*(s.circumference/(2*Math.PI)),p=i&&l.animateScale?0:a.innerRadius,m=i&&l.animateScale?0:a.outerRadius,v=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:a.index,_index:n,_model:{x:u+r.offsetX,y:d+r.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:m,innerRadius:p,label:v(f.label,n,r.data.labels[n])}});var y=t._model;this.removeHoverStyle(t),i&&l.animateRotate||(y.startAngle=0===n?s.rotation:a.getMeta().data[n-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,n=this.getDataset(),i=this.getMeta(),a=0;return e.each(i.data,function(e,i){t=n.data[i],isNaN(t)||e.hidden||(a+=Math.abs(t))}),a},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,a=this.index,r=t.length,o=0;o<r;o++)e=t[o]._model?t[o]._model.borderWidth:0,n=t[o]._chart?t[o]._chart.config.data.datasets[a].hoverBorderWidth:0,i=e>i?e:i,i=n>i?n:i;return i}})}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return n.getValueOrDefault(t.showLine,e.showLines)}var n=t.helpers;t.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,update:function(t){var i,a,r,o=this,s=o.getMeta(),l=s.dataset,u=s.data||[],d=o.chart.options,c=d.elements.line,h=o.getScaleForId(s.yAxisID),f=o.getDataset(),g=e(f,d);for(g&&(r=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=h,l._datasetIndex=o.index,l._children=u,l._model={spanGaps:f.spanGaps?f.spanGaps:d.spanGaps,tension:r.tension?r.tension:n.getValueOrDefault(f.lineTension,c.tension),backgroundColor:r.backgroundColor?r.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:f.borderWidth||c.borderWidth,borderColor:r.borderColor?r.borderColor:f.borderColor||c.borderColor,borderCapStyle:r.borderCapStyle?r.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:r.borderDash?r.borderDash:f.borderDash||c.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:r.fill?r.fill:void 0!==f.fill?f.fill:c.fill,steppedLine:r.steppedLine?r.steppedLine:n.getValueOrDefault(f.steppedLine,c.stepped),cubicInterpolationMode:r.cubicInterpolationMode?r.cubicInterpolationMode:n.getValueOrDefault(f.cubicInterpolationMode,c.cubicInterpolationMode)},l.pivot()),i=0,a=u.length;i<a;++i)o.updateElement(u[i],i,t);for(g&&0!==l._model.tension&&o.updateBezierControlPoints(),i=0,a=u.length;i<a;++i)u[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,a=this.getDataset(),r=t.custom||{};return r.backgroundColor?i=r.backgroundColor:a.pointBackgroundColor?i=n.getValueAtIndexOrDefault(a.pointBackgroundColor,e,i):a.backgroundColor&&(i=a.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,a=this.getDataset(),r=t.custom||{};return r.borderColor?i=r.borderColor:a.pointBorderColor?i=n.getValueAtIndexOrDefault(a.pointBorderColor,e,i):a.borderColor&&(i=a.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,a=this.getDataset(),r=t.custom||{};return isNaN(r.borderWidth)?isNaN(a.pointBorderWidth)?isNaN(a.borderWidth)||(i=a.borderWidth):i=n.getValueAtIndexOrDefault(a.pointBorderWidth,e,i):i=r.borderWidth,i},updateElement:function(t,e,i){var a,r,o=this,s=o.getMeta(),l=t.custom||{},u=o.getDataset(),d=o.index,c=u.data[e],h=o.getScaleForId(s.yAxisID),f=o.getScaleForId(s.xAxisID),g=o.chart.options.elements.point,m=1===(o.chart.data.labels||[]).length||1===u.data.length||o.chart.isCombo;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),a=f.getPixelForValue("object"==typeof c?c:NaN,e,d,m),r=i?h.getBasePixel():o.calculatePointY(c,e,d),t._xScale=f,t._yScale=h,t._datasetIndex=d,t._index=e,t._model={x:a,y:r,skip:l.skip||isNaN(a)||isNaN(r),radius:l.radius||n.getValueAtIndexOrDefault(u.pointRadius,e,g.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(u.pointStyle,e,g.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(u.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,n){var i,a,r,o=this,s=o.chart,l=o.getMeta(),u=o.getScaleForId(l.yAxisID),d=0,c=0;if(u.options.stacked){for(i=0;i<n;i++)if(a=s.data.datasets[i],"line"===(r=s.getDatasetMeta(i)).type&&r.yAxisID===u.id&&s.isDatasetVisible(i)){var h=Number(u.getRightValue(a.data[e]));h<0?c+=h||0:d+=h||0}var f=Number(u.getRightValue(t));return f<0?u.getPixelForValue(c+f):u.getPixelForValue(d+f)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,i,a,r,o,s=this,l=s.getMeta(),u=s.chart.chartArea,d=l.data||[];if(l.dataset._model.spanGaps&&(d=d.filter(function(t){return!t._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)n.splineCurveMonotone(d);else for(e=0,i=d.length;e<i;++e)a=d[e],r=a._model,o=n.splineCurve(n.previousItem(d,e)._model,r,n.nextItem(d,e)._model,l.dataset._model.tension),r.controlPointPreviousX=o.previous.x,r.controlPointPreviousY=o.previous.y,r.controlPointNextX=o.next.x,r.controlPointNextY=o.next.y;if(s.chart.options.elements.line.capBezierPoints)for(e=0,i=d.length;e<i;++e)r=d[e]._model,r.controlPointPreviousX=t(r.controlPointPreviousX,u.left,u.right),r.controlPointPreviousY=t(r.controlPointPreviousY,u.top,u.bottom),r.controlPointNextX=t(r.controlPointNextX,u.left,u.right),r.controlPointNextY=t(r.controlPointNextY,u.top,u.bottom)},draw:function(){var n=this,i=n.chart,a=n.getMeta(),r=a.data||[],o=i.chartArea,s=r.length,l=0;for(t.canvasHelpers.clipArea(i.ctx,o),e(n.getDataset(),i.options)&&a.dataset.draw(),t.canvasHelpers.unclipArea(i.ctx);l<s;++l)r[l].draw(o)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},r=t._model;r.radius=a.hoverRadius||n.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=a.hoverBackgroundColor||n.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,n.getHoverColor(r.backgroundColor)),r.borderColor=a.hoverBorderColor||n.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,n.getHoverColor(r.borderColor)),r.borderWidth=a.hoverBorderWidth||n.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],a=t._index,r=t.custom||{},o=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),o.radius=r.radius||n.getValueAtIndexOrDefault(i.pointRadius,a,e.chart.options.elements.point.radius),o.backgroundColor=e.getPointBackgroundColor(t,a),o.borderColor=e.getPointBorderColor(t,a),o.borderWidth=e.getPointBorderWidth(t,a)}})}},{}],19:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var r=0;r<i[0].data.length;++r)e.push('<li><span style="background-color:'+i[0].backgroundColor[r]+'"></span>'),a[r]&&e.push(a[r]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,a){var r=t.getDatasetMeta(0),o=n.datasets[0],l=r.data[a].custom||{},u=e.getValueAtIndexOrDefault,d=t.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:u(o.backgroundColor,a,d.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(o.borderColor,a,d.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(o.borderWidth,a,d.borderWidth),hidden:isNaN(o.data[a])||r.data[a].hidden,index:a}}):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)a=o.getDatasetMeta(n),a.data[r].hidden=!a.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var n=this,i=n.chart,a=i.chartArea,r=n.getMeta(),o=i.options,s=o.elements.arc,l=Math.min(a.right-a.left,a.bottom-a.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(o.cutoutPercentage?i.outerRadius/100*o.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,r.count=n.countVisibleElements(),e.each(r.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){for(var a=this,r=a.chart,o=a.getDataset(),s=r.options,l=s.animation,u=r.scale,d=e.getValueAtIndexOrDefault,c=r.data.labels,h=a.calculateCircumference(o.data[n]),f=u.xCenter,g=u.yCenter,p=0,m=a.getMeta(),v=0;v<n;++v)isNaN(o.data[v])||m.data[v].hidden||++p;var y=s.startAngle,b=t.hidden?0:u.getDistanceFromCenterForValue(o.data[n]),x=y+h*p,_=x+(t.hidden?0:h),k=l.animateScale?0:u.getDistanceFromCenterForValue(o.data[n]);e.extend(t,{_datasetIndex:a.index,_index:n,_scale:u,_model:{x:f,y:g,innerRadius:0,outerRadius:i?k:b,startAngle:i&&l.animateRotate?y:x,endAngle:i&&l.animateRotate?y:_,label:d(c,n,c[n])}}),a.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),i=0;return e.each(n.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,update:function(t){var n=this,i=n.getMeta(),a=i.dataset,r=i.data,o=a.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,u=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),e.extend(i.dataset,{_datasetIndex:n.index,_scale:u,_children:r,_loop:!0,_model:{tension:o.tension?o.tension:e.getValueOrDefault(s.lineTension,l.tension),backgroundColor:o.backgroundColor?o.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:s.borderWidth||l.borderWidth,borderColor:o.borderColor?o.borderColor:s.borderColor||l.borderColor,fill:o.fill?o.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:o.borderDash?o.borderDash:s.borderDash||l.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),i.dataset.pivot(),e.each(r,function(e,i){n.updateElement(e,i,t)},n),n.updateBezierControlPoints()},updateElement:function(t,n,i){var a=this,r=t.custom||{},o=a.getDataset(),s=a.chart.scale,l=a.chart.options.elements.point,u=s.getPointPositionForValue(n,o.data[n]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),e.extend(t,{_datasetIndex:a.index,_index:n,_scale:s,_model:{x:i?s.xCenter:u.x,y:i?s.yCenter:u.y,tension:r.tension?r.tension:e.getValueOrDefault(o.lineTension,a.chart.options.elements.line.tension),radius:r.radius?r.radius:e.getValueAtIndexOrDefault(o.pointRadius,n,l.radius),backgroundColor:r.backgroundColor?r.backgroundColor:e.getValueAtIndexOrDefault(o.pointBackgroundColor,n,l.backgroundColor),borderColor:r.borderColor?r.borderColor:e.getValueAtIndexOrDefault(o.pointBorderColor,n,l.borderColor),borderWidth:r.borderWidth?r.borderWidth:e.getValueAtIndexOrDefault(o.pointBorderWidth,n,l.borderWidth),pointStyle:r.pointStyle?r.pointStyle:e.getValueAtIndexOrDefault(o.pointStyle,n,l.pointStyle),hitRadius:r.hitRadius?r.hitRadius:e.getValueAtIndexOrDefault(o.pointHitRadius,n,l.hitRadius)}}),t._model.skip=r.skip?r.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,n=this.getMeta();e.each(n.data,function(i,a){var r=i._model,o=e.splineCurve(e.previousItem(n.data,a,!0)._model,r,e.nextItem(n.data,a,!0)._model,r.tension);r.controlPointPreviousX=Math.max(Math.min(o.previous.x,t.right),t.left),r.controlPointPreviousY=Math.max(Math.min(o.previous.y,t.bottom),t.top),r.controlPointNextX=Math.max(Math.min(o.next.x,t.right),t.left),r.controlPointNextY=Math.max(Math.min(o.next.y,t.bottom),t.top),i.pivot()})},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},a=t._index,r=t._model;r.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(n.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,a,e.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.pointHoverBorderColor,a,e.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,a,r.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},a=t._index,r=t._model,o=this.chart.options.elements.point;r.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(n.pointRadius,a,o.radius),r.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.pointBackgroundColor,a,o.backgroundColor),r.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.pointBorderColor,a,o.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.pointBorderWidth,a,o.borderWidth)}})}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var a,r,o=this.animations;for(e.chart=t,i||(t.animating=!0),a=0,r=o.length;a<r;++a)if(o[a].chart===t)return void(o[a]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(e){return e.chart===t});-1!==n&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var n,i,a=this.animations,r=0;r<a.length;)n=a[r],i=n.chart,n.currentStep=(n.currentStep||0)+t,n.currentStep=Math.min(n.currentStep,n.numSteps),e.callback(n.render,[i,n],i),e.callback(n.onAnimationProgress,[n],i),n.currentStep>=n.numSteps?(e.callback(n.onAnimationComplete,[n],i),i.animating=!1,a.splice(r,1)):++r}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){var e=t.canvasHelpers={};e.drawPoint=function(e,n,i,a,r){var o,s,l,u,d,c;if("object"!=typeof n||"[object HTMLImageElement]"!==(o=n.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(i)||i<=0)){switch(n){default:e.beginPath(),e.arc(a,r,i,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),d=(s=3*i/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(a-s/2,r+d/3),e.lineTo(a+s/2,r+d/3),e.lineTo(a,r-2*d/3),e.closePath(),e.fill();break;case"rect":c=1/Math.SQRT2*i,e.beginPath(),e.fillRect(a-c,r-c,2*c,2*c),e.strokeRect(a-c,r-c,2*c,2*c);break;case"rectRounded":var h=i/Math.SQRT2,f=a-h,g=r-h,p=Math.SQRT2*i;t.helpers.drawRoundedRectangle(e,f,g,p,p,i/2),e.fill();break;case"rectRot":c=1/Math.SQRT2*i,e.beginPath(),e.moveTo(a-c,r),e.lineTo(a,r+c),e.lineTo(a+c,r),e.lineTo(a,r-c),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(a,r+i),e.lineTo(a,r-i),e.moveTo(a-i,r),e.lineTo(a+i,r),e.closePath();break;case"crossRot":e.beginPath(),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,e.moveTo(a-l,r-u),e.lineTo(a+l,r+u),e.moveTo(a-l,r+u),e.lineTo(a+l,r-u),e.closePath();break;case"star":e.beginPath(),e.moveTo(a,r+i),e.lineTo(a,r-i),e.moveTo(a-i,r),e.lineTo(a+i,r),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,e.moveTo(a-l,r-u),e.lineTo(a+l,r+u),e.moveTo(a-l,r+u),e.lineTo(a+l,r-u),e.closePath();break;case"line":e.beginPath(),e.moveTo(a-i,r),e.lineTo(a+i,r),e.closePath();break;case"dash":e.beginPath(),e.moveTo(a,r),e.lineTo(a+i,r),e.closePath()}e.stroke()}}else e.drawImage(n,a-n.width/2,r-n.height/2,n.width,n.height)},e.clipArea=function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},e.unclipArea=function(t){t.restore()},e.lineTo=function(t,e,n,i){return n.steppedLine?("after"===n.steppedLine?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y)):n.tension?void t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void t.lineTo(n.x,n.y)},t.helpers.canvas=e}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){function e(e){var n=(e=e||{}).data=e.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],e.options=a.configMerge(t.defaults.global,t.defaults[e.type],e.options||{}),e}function n(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}function i(t){return"top"===t||"bottom"===t}var a=t.helpers,r=t.plugins,o=t.platform;t.types={},t.instances={},t.controllers={},a.extend(t.prototype,{construct:function(n,i){var r=this;i=e(i);var s=o.acquireContext(n,i),l=s&&s.canvas,u=l&&l.height,d=l&&l.width;return r.id=a.uid(),r.ctx=s,r.canvas=l,r.config=i,r.width=d,r.height=u,r.aspectRatio=u?d/u:null,r.options=i.options,r._bufferedRender=!1,r.chart=r,r.controller=r,t.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),s&&l?(r.initialize(),void r.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return r.notify(t,"beforeInit"),a.retinaScale(t),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),r.notify(t,"afterInit"),t},clear:function(){return a.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,o=n.maintainAspectRatio&&e.aspectRatio||null,s=Math.floor(a.getMaximumWidth(i)),l=Math.floor(o?s/o:a.getMaximumHeight(i));if((e.width!==s||e.height!==l)&&(i.width=e.width=s,i.height=e.height=l,i.style.width=s+"px",i.style.height=l+"px",a.retinaScale(e),!t)){var u={width:s,height:l};r.notify(e,"resize",[u]),e.options.onResize&&e.options.onResize(e,u),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;a.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),a.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var e=this,n=e.options,r=e.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),a.each(o,function(n){var o=n.options,s=a.getValueOrDefault(o.type,n.dtype),l=t.scaleService.getScaleConstructor(s);if(l){i(o.position)!==i(n.dposition)&&(o.position=n.dposition);var u=new l({id:o.id,options:o,ctx:e.ctx,chart:e});r[u.id]=u,n.isDefault&&(e.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],i=[];if(a.each(e.data.datasets,function(a,r){var o=e.getDatasetMeta(r);if(o.type||(o.type=a.type||e.config.type),n.push(o.type),o.controller)o.controller.updateIndex(r);else{var s=t.controllers[o.type];if(void 0===s)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new s(e,r),i.push(o.controller)}},e),n.length>1)for(var r=1;r<n.length;r++)if(n[r]!==n[r-1]){e.isCombo=!0;break}return i},resetElements:function(){var t=this;a.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var i=this;if(n(i),!1!==r.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var o=i.buildOrUpdateControllers();a.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.buildOrUpdateElements()},i),i.updateLayout(),a.each(o,function(t){t.reset()}),i.updateDatasets(),r.notify(i,"afterUpdate"),i._bufferedRender?i._bufferedRequest={lazy:e,duration:t}:i.render(t,e)}},updateLayout:function(){var e=this;!1!==r.notify(e,"beforeLayout")&&(t.layoutService.update(this,this.width,this.height),r.notify(e,"afterScaleUpdate"),r.notify(e,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==r.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);r.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};!1!==r.notify(e,"beforeDatasetUpdate",[i])&&(n.controller.update(),r.notify(e,"afterDatasetUpdate",[i]))},render:function(e,n){var i=this;if(!1!==r.notify(i,"beforeRender")){var o=i.options.animation,s=function(t){r.notify(i,"afterRender"),a.callback(o&&o.onComplete,[t],i)};if(o&&(void 0!==e&&0!==e||void 0===e&&0!==o.duration)){var l=new t.Animation({numSteps:(e||o.duration)/16.66,easing:o.easing,render:function(t,e){var n=a.easingEffects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:o.onProgress,onAnimationComplete:s});t.animationService.addAnimation(i,l,e,n)}else i.draw(),s(new t.Animation({numSteps:0,chart:i}));return i}},draw:function(t){var e=this;e.clear(),void 0!==t&&null!==t||(t=1),e.transition(t),!1!==r.notify(e,"beforeDraw",[t])&&(a.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e.tooltip.draw(),r.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==r.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);r.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this,i=n.getDatasetMeta(t),a={meta:i,index:t,easingValue:e};!1!==r.notify(n,"beforeDatasetDraw",[a])&&(i.controller.draw(e),r.notify(n,"afterDatasetDraw",[a]))},getElementAtEvent:function(e){return t.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return t.Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return t.Interaction.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,n,i){var a=t.Interaction.modes[n];return"function"==typeof a?a(this,e,i):[]},getDatasetAtEvent:function(e){return t.Interaction.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var e,n,i,s=this,l=s.canvas;for(s.stop(),n=0,i=s.data.datasets.length;n<i;++n)(e=s.getDatasetMeta(n)).controller&&(e.controller.destroy(),e.controller=null);l&&(s.unbindEvents(),a.clear(s),o.releaseContext(s.ctx),s.canvas=null,s.ctx=null),r.notify(s,"destroy"),delete t.instances[s.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e),e.tooltip.initialize()},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};a.each(t.options.events,function(i){o.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},o.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,a.each(e,function(e,n){o.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,a,r,o=n?"setHoverStyle":"removeHoverStyle";for(a=0,r=t.length;a<r;++a)(i=t[a])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==r.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);i|=n&&n.handleEvent(t),r.notify(e,"afterEvent",[t]);var a=e._bufferedRequest;return a?e.render(a.duration,a.lazy):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,r=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),i.onHover&&i.onHover.call(e,t.native,e.active),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),r=!a.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,r}}),t.Controller=t}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t._chartjs?void t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),void a.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=a.apply(this,e);return i.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),r}})}))}function n(t,e){var n=t._chartjs;if(n){var i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(a.forEach(function(e){delete t[e]}),delete t._chartjs)}}var i=t.helpers,a=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),a=n.getDataset().data||[],r=i.data;for(t=0,e=a.length;t<e;++t)r[t]=r[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,i=t.getDataset(),a=i.data||(i.data=[]);t._data!==a&&(t._data&&n(t._data,t),e(a,t),t._data=a),t.resyncElements()},update:i.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,a=0;a<i;++a)n[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],a=t._index,r=t.custom||{},o=i.getValueAtIndexOrDefault,s=t._model;s.backgroundColor=r.backgroundColor?r.backgroundColor:o(n.backgroundColor,a,e.backgroundColor),s.borderColor=r.borderColor?r.borderColor:o(n.borderColor,a,e.borderColor),s.borderWidth=r.borderWidth?r.borderWidth:o(n.borderWidth,a,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},r=i.getValueAtIndexOrDefault,o=i.getHoverColor,s=t._model;s.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:r(e.hoverBackgroundColor,n,o(s.backgroundColor)),s.borderColor=a.hoverBorderColor?a.hoverBorderColor:r(e.hoverBorderColor,n,o(s.borderColor)),s.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:r(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,a=n.length;a<i?e.data.splice(a,i-a):a>i&&t.insertElements(i,a-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},{}],25:[function(t,e,n){"use strict";var i=t(2);e.exports=function(t){function e(t,e,n,a){var r,o,s,l,u,d,c,h,f,g=Object.keys(n);for(r=0,o=g.length;r<o;++r)if(s=g[r],d=n[s],e.hasOwnProperty(s)||(e[s]=d),(l=e[s])!==d&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=l),u=t[s],(c=typeof d)===typeof u)if("string"===c){if((h=i(u)).valid&&(f=i(d)).valid){e[s]=f.mix(h,a).rgbString();continue}}else if("number"===c&&isFinite(u)&&isFinite(d)){e[s]=u+(d-u)*a;continue}e[s]=d}}var n=t.helpers;t.elements={},t.Element=function(t){n.extend(this,t),this.initialize.apply(this,arguments)},n.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=n.clone(t._model)),t._start={},t},transition:function(t){var n=this,i=n._model,a=n._start,r=n._view;return i&&1!==t?(r||(r=n._view={}),a||(a=n._start={}),e(a,r,i,t),n):(n._view=i,n._start=null,n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),t.Element.extend=n.inherits}},{2:2}],26:[function(t,e,n){"use strict";var i=t(2);e.exports=function(t){function e(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function n(t){return void 0!==t&&null!==t&&"none"!==t}function a(t,i,a){var r=document.defaultView,o=t.parentNode,s=r.getComputedStyle(t)[i],l=r.getComputedStyle(o)[i],u=n(s),d=n(l),c=Number.POSITIVE_INFINITY;return u||d?Math.min(u?e(s,t,a):c,d?e(l,o,a):c):"none"}var r=t.helpers={};r.each=function(t,e,n,i){var a,o;if(r.isArray(t))if(o=t.length,i)for(a=o-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<o;a++)e.call(n,t[a],a);else if("object"==typeof t){var s=Object.keys(t);for(o=s.length,a=0;a<o;a++)e.call(n,t[s[a]],s[a])}},r.clone=function(t){var e={};return r.each(t,function(t,n){r.isArray(t)?e[n]=t.slice(0):e[n]="object"==typeof t&&null!==t?r.clone(t):t}),e},r.extend=function(t){for(var n=1,i=arguments.length;n<i;n++)r.each(arguments[n],function(e,n){t[n]=e});return t},r.configMerge=function(e){var n=r.clone(e);return r.each(Array.prototype.slice.call(arguments,1),function(e){r.each(e,function(e,i){var a=n.hasOwnProperty(i),o=a?n[i]:{};"scales"===i?n[i]=r.scaleMerge(o,e):"scale"===i?n[i]=r.configMerge(o,t.scaleService.getScaleDefaults(e.type),e):!a||"object"!=typeof o||r.isArray(o)||null===o||"object"!=typeof e||r.isArray(e)?n[i]=e:n[i]=r.configMerge(o,e)})}),n},r.scaleMerge=function(e,n){var i=r.clone(e);return r.each(n,function(e,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?r.each(e,function(e,a){var o=r.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(o);a>=i[n].length||!i[n][a].type?i[n].push(r.configMerge(s,e)):e.type&&e.type!==i[n][a].type?i[n][a]=r.configMerge(i[n][a],s,e):i[n][a]=r.configMerge(i[n][a],e)}):(i[n]=[],r.each(e,function(e){var a=r.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");i[n].push(r.configMerge(t.scaleService.getScaleDefaults(a),e))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof e?i[n]=r.configMerge(i[n],e):i[n]=e}),i},r.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:r.isArray(t)?e<t.length?t[e]:n:t},r.getValueOrDefault=function(t,e){return void 0===t?e:t},r.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},r.where=function(t,e){if(r.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return r.each(t,function(t){e(t)&&n.push(t)}),n},r.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,a=t.length;i<a;++i)if(e.call(n,t[i],i,t))return i;return-1},r.findNextWhere=function(t,e,n){void 0!==n&&null!==n||(n=-1);for(var i=n+1;i<t.length;i++){var a=t[i];if(e(a))return a}},r.findPreviousWhere=function(t,e,n){void 0!==n&&null!==n||(n=t.length);for(var i=n-1;i>=0;i--){var a=t[i];if(e(a))return a}},r.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=r.inherits,t&&r.extend(n.prototype,t),n.__super__=e.prototype,n},r.noop=function(){},r.uid=function(){var t=0;return function(){return t++}}(),r.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},r.almostEquals=function(t,e,n){return Math.abs(t-e)<n},r.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},r.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},r.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},r.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},r.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},r.toRadians=function(t){return t*(Math.PI/180)},r.toDegrees=function(t){return t*(180/Math.PI)},r.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:a}},r.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},r.aliasPixel=function(t){return t%2==0?0:.5},r.splineCurve=function(t,e,n,i){var a=t.skip?e:t,r=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=s/(s+l),d=l/(s+l),c=i*(u=isNaN(u)?0:u),h=i*(d=isNaN(d)?0:d);return{previous:{x:r.x-c*(o.x-a.x),y:r.y-c*(o.y-a.y)},next:{x:r.x+h*(o.x-a.x),y:r.y+h*(o.y-a.y)}}},r.EPSILON=Number.EPSILON||1e-14,r.splineCurveMonotone=function(t){var e,n,i,a,o=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),s=o.length;for(e=0;e<s;++e)if(!(i=o[e]).model.skip){if(n=e>0?o[e-1]:null,(a=e<s-1?o[e+1]:null)&&!a.model.skip){var l=a.model.x-i.model.x;i.deltaK=0!==l?(a.model.y-i.model.y)/l:0}!n||n.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var u,d,c,h;for(e=0;e<s-1;++e)i=o[e],a=o[e+1],i.model.skip||a.model.skip||(r.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(u=i.mK/i.deltaK,d=a.mK/i.deltaK,(h=Math.pow(u,2)+Math.pow(d,2))<=9||(c=3/Math.sqrt(h),i.mK=u*c*i.deltaK,a.mK=d*c*i.deltaK)));var f;for(e=0;e<s;++e)(i=o[e]).model.skip||(n=e>0?o[e-1]:null,a=e<s-1?o[e+1]:null,n&&!n.model.skip&&(f=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-f,i.model.controlPointPreviousY=i.model.y-f*i.mK),a&&!a.model.skip&&(f=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+f,i.model.controlPointNextY=i.model.y+f*i.mK))},r.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},r.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},r.niceNum=function(t,e){var i=Math.floor(r.log10(t)),a=t/Math.pow(10,i);return(e?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,i)};var o=r.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-o.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*o.easeInBounce(2*t):.5*o.easeOutBounce(2*t-1)+.5}};r.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},r.getRelativePosition=function(t,e){var n,i,a=t.originalEvent||t,o=t.currentTarget||t.srcElement,s=o.getBoundingClientRect(),l=a.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=a.clientX,i=a.clientY);var u=parseFloat(r.getStyle(o,"padding-left")),d=parseFloat(r.getStyle(o,"padding-top")),c=parseFloat(r.getStyle(o,"padding-right")),h=parseFloat(r.getStyle(o,"padding-bottom")),f=s.right-s.left-u-c,g=s.bottom-s.top-d-h;return n=Math.round((n-s.left-u)/f*o.width/e.currentDevicePixelRatio),i=Math.round((i-s.top-d)/g*o.height/e.currentDevicePixelRatio),{x:n,y:i}},r.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},r.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=r.noop},r.getConstraintWidth=function(t){return a(t,"max-width","clientWidth")},r.getConstraintHeight=function(t){return a(t,"max-height","clientHeight")},r.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(r.getStyle(e,"padding-left"),10),i=parseInt(r.getStyle(e,"padding-right"),10),a=e.clientWidth-n-i,o=r.getConstraintWidth(t);return isNaN(o)?a:Math.min(a,o)},r.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(r.getStyle(e,"padding-top"),10),i=parseInt(r.getStyle(e,"padding-bottom"),10),a=e.clientHeight-n-i,o=r.getConstraintHeight(t);return isNaN(o)?a:Math.min(a,o)},r.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},r.retinaScale=function(t){var e=t.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==e){var n=t.canvas,i=t.height,a=t.width;n.height=i*e,n.width=a*e,t.ctx.scale(e,e),n.style.height=i+"px",n.style.width=a+"px"}},r.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},r.fontString=function(t,e,n){return e+" "+t+"px "+n},r.longestText=function(t,e,n,i){var a=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},o=i.garbageCollect=[],i.font=e),t.font=e;var s=0;r.each(n,function(e){void 0!==e&&null!==e&&!0!==r.isArray(e)?s=r.measureText(t,a,o,s,e):r.isArray(e)&&r.each(e,function(e){void 0===e||null===e||r.isArray(e)||(s=r.measureText(t,a,o,s,e))})});var l=o.length/2;if(l>n.length){for(var u=0;u<l;u++)delete a[o[u]];o.splice(0,l)}return s},r.measureText=function(t,e,n,i,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,n.push(a)),r>i&&(i=r),i},r.numberOfLabelLines=function(t){var e=1;return r.each(t,function(t){r.isArray(t)&&t.length>e&&(e=t.length)}),e},r.drawRoundedRectangle=function(t,e,n,i,a,r){t.beginPath(),t.moveTo(e+r,n),t.lineTo(e+i-r,n),t.quadraticCurveTo(e+i,n,e+i,n+r),t.lineTo(e+i,n+a-r),t.quadraticCurveTo(e+i,n+a,e+i-r,n+a),t.lineTo(e+r,n+a),t.quadraticCurveTo(e,n+a,e,n+a-r),t.lineTo(e,n+r),t.quadraticCurveTo(e,n,e+r,n),t.closePath()},r.color=i?function(e){return e instanceof CanvasGradient&&(e=t.defaults.global.defaultColor),i(e)}:function(t){return console.error("Color.js not found!"),t},r.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.arrayEquals=function(t,e){var n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a instanceof Array&&o instanceof Array){if(!r.arrayEquals(a,o))return!1}else if(a!==o)return!1;return!0},r.callback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},r.getHoverColor=function(t){return t instanceof CanvasPattern?t:r.color(t).saturate(.5).darken(.1).rgbString()},r.callCallback=r.callback}},{2:2}],27:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t.native?{x:t.x,y:t.y}:o.getRelativePosition(t,e)}function n(t,e){var n,i,a,r,o;for(i=0,r=t.data.datasets.length;i<r;++i)if(t.isDatasetVisible(i))for(n=t.getDatasetMeta(i),a=0,o=n.data.length;a<o;++a){var l=n.data[a];l._view.skip||e(l)}}function i(t,e){var i=[];return n(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function a(t,e,i,a){var r=Number.POSITIVE_INFINITY,s=[];return a||(a=o.distanceBetweenPoints),n(t,function(t){if(!i||t.inRange(e.x,e.y)){var n=t.getCenterPoint(),o=a(e,n);o<r?(s=[t],r=o):o===r&&s.push(t)}}),s}function r(t,n,r){var o=e(n,t),l=r.intersect?i(t,o):a(t,o,!1,function(t,e){return Math.abs(t.x-e.x)}),u=[];return l.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var a=t.getDatasetMeta(n).data[l[0]._index];a&&!a._view.skip&&u.push(a)}}),u):[]}var o=t.helpers;t.Interaction={modes:{single:function(t,i){var a=e(i,t),r=[];return n(t,function(t){if(t.inRange(a.x,a.y))return r.push(t),r}),r.slice(0,1)},label:r,index:r,dataset:function(t,n,r){var o=e(n,t),s=r.intersect?i(t,o):a(t,o,!1);return s.length>0&&(s=t.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(t,e){return r(t,e,!0)},point:function(t,n){return i(t,e(n,t))},nearest:function(t,n,i){var o=a(t,e(n,t),i.intersect);return o.length>1&&o.sort(function(t,e){var a=t.getArea()-e.getArea();return 0===a&&(a=t._datasetIndex-e._datasetIndex),a}),o.slice(0,1)},x:function(t,i,a){var r=e(i,t),o=[],s=!1;return n(t,function(t){t.inXRange(r.x)&&o.push(t),t.inRange(r.x,r.y)&&(s=!0)}),a.intersect&&!s&&(o=[]),o},y:function(t,i,a){var r=e(i,t),o=[],s=!1;return n(t,function(t){t.inYRange(r.y)&&o.push(t),t.inRange(r.x,r.y)&&(s=!0)}),a.intersect&&!s&&(o=[]),o}}}}},{}],28:[function(t,e,n){"use strict";e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return i.where(t,function(t){return t.position===e})}function n(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var i=e?n:t,a=e?t:n;return i.weight===a.weight?i._tmpIndex_-a._tmpIndex_:i.weight-a.weight}),t.forEach(function(t){delete t._tmpIndex_})}var i=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,a=["fullWidth","position","weight"],r=a.length,o=0;o<r;++o)i=a[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,a,r){function s(t){var e=i.findNextWhere(T,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(R,I),right:Math.max(L,A),top:0,bottom:0};t.update(t.fullWidth?_:C,k/2,n)}else t.update(e.minSize.width,P)}function u(t){t.isHorizontal()?(t.left=t.fullWidth?h:R,t.right=t.fullWidth?a-f:R+C,t.top=H,t.bottom=H+t.height,H=t.bottom):(t.left=E,t.right=E+t.width,t.top=V,t.bottom=V+P,E=t.right)}if(t){var d=t.options.layout,c=d?d.padding:null,h=0,f=0,g=0,p=0;isNaN(c)?(h=c.left||0,f=c.right||0,g=c.top||0,p=c.bottom||0):(h=c,f=c,g=c,p=c);var m=e(t.boxes,"left"),v=e(t.boxes,"right"),y=e(t.boxes,"top"),b=e(t.boxes,"bottom"),x=e(t.boxes,"chartArea");n(m,!0),n(v,!1),n(y,!0),n(b,!1);var _=a-h-f,k=r-g-p,M=k/2,S=(a-_/2)/(m.length+v.length),D=(r-M)/(y.length+b.length),C=_,P=k,T=[];i.each(m.concat(v,y,b),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?_:C,D),P-=e.height):(e=t.update(S,M),C-=e.width),T.push({horizontal:n,minSize:e,box:t})});var I=0,A=0,F=0,O=0;i.each(y.concat(b),function(t){if(t.getPadding){var e=t.getPadding();I=Math.max(I,e.left),A=Math.max(A,e.right)}}),i.each(m.concat(v),function(t){if(t.getPadding){var e=t.getPadding();F=Math.max(F,e.top),O=Math.max(O,e.bottom)}});var R=h,L=f,V=g,W=p;i.each(m.concat(v),s),i.each(m,function(t){R+=t.width}),i.each(v,function(t){L+=t.width}),i.each(y.concat(b),s),i.each(y,function(t){V+=t.height}),i.each(b,function(t){W+=t.height}),i.each(m.concat(v),function(t){var e=i.findNextWhere(T,function(e){return e.box===t}),n={left:0,right:0,top:V,bottom:W};e&&t.update(e.minSize.width,P,n)}),R=h,L=f,V=g,W=p,i.each(m,function(t){R+=t.width}),i.each(v,function(t){L+=t.width}),i.each(y,function(t){V+=t.height}),i.each(b,function(t){W+=t.height});var Y=Math.max(I-R,0);R+=Y,L+=Math.max(A-L,0);var z=Math.max(F-V,0);V+=z,W+=Math.max(O-W,0);var N=r-V-W,B=a-R-L;B===C&&N===P||(i.each(m,function(t){t.height=N}),i.each(v,function(t){t.height=N}),i.each(y,function(t){t.fullWidth||(t.width=B)}),i.each(b,function(t){t.fullWidth||(t.width=B)}),P=N,C=B);var E=h+Y,H=g+z;i.each(m.concat(y),u),E+=C,H+=P,i.each(v,u),i.each(b,u),t.chartArea={left:R,top:V,right:R+C,bottom:V+P},i.each(x,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(C,P)})}}}}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.plugins={},t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,a,r,o,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if(a=l[i],r=a.plugin,"function"==typeof(s=r[e])&&((o=[t].concat(n||[])).push(a.options),!1===s.apply(r,o)))return!1;return!0},descriptors:function(n){var i=n._plugins||(n._plugins={});if(i.id===this._cacheId)return i.descriptors;var a=[],r=[],o=n&&n.config||{},s=t.defaults.global.plugins,l=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(t){if(-1===a.indexOf(t)){var i=t.id,o=l[i];!1!==o&&(!0===o&&(o=e.clone(s[i])),a.push(t),r.push({plugin:t,options:o||{}}))}}),i.descriptors=r,i.id=this._cacheId,r}},t.pluginService=t.plugins,t.PluginBase=t.Element.extend({})}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e,n){return i.isArray(e)?i.longestText(t,n,e):t.measureText(e).width}function n(e){var n=i.getValueOrDefault,a=t.defaults.global,r=n(e.fontSize,a.defaultFontSize),o=n(e.fontStyle,a.defaultFontStyle),s=n(e.fontFamily,a.defaultFontFamily);return{size:r,style:o,family:s,font:i.fontString(r,o,s)}}var i=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:t.Ticks.formatters.values}},t.Scale=t.Element.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},beforeUpdate:function(){i.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var a=this;return a.beforeUpdate(),a.maxWidth=t,a.maxHeight=e,a.margins=i.extend({left:0,right:0,top:0,bottom:0},n),a.longestTextCache=a.longestTextCache||{},a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),a.buildTicks(),a.afterBuildTicks(),a.beforeTickToLabelConversion(),a.convertTicksToLabels(),a.afterTickToLabelConversion(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:function(){i.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){i.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){i.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){i.callback(this.options.beforeDataLimits,[this])},determineDataLimits:i.noop,afterDataLimits:function(){i.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){i.callback(this.options.beforeBuildTicks,[this])},buildTicks:i.noop,afterBuildTicks:function(){i.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){i.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback)},afterTickToLabelConversion:function(){i.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){i.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,a=t.options.ticks,r=n(a);e.font=r.font;var o=a.minRotation||0;if(t.options.display&&t.isHorizontal())for(var s,u=i.longestText(e,r.font,t.ticks,t.longestTextCache),d=u,c=t.getPixelForTick(1)-t.getPixelForTick(0)-6;d>c&&o<a.maxRotation;){var h=i.toRadians(o);if(s=Math.cos(h),Math.sin(h)*u>t.maxHeight){o--;break}o++,d=s*u}t.labelRotation=o},afterCalculateTickRotation:function(){i.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){i.callback(this.options.beforeFit,[this])},fit:function(){var t=this,a=t.minSize={width:0,height:0},r=t.options,o=r.ticks,s=r.scaleLabel,l=r.gridLines,u=r.display,d=t.isHorizontal(),c=n(o),h=1.5*n(s).size,f=r.gridLines.tickMarkLength;if(a.width=d?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:u&&l.drawTicks?f:0,a.height=d?u&&l.drawTicks?f:0:t.maxHeight,s.display&&u&&(d?a.height+=h:a.width+=h),o.display&&u){var g=i.longestText(t.ctx,c.font,t.ticks,t.longestTextCache),p=i.numberOfLabelLines(t.ticks),m=.5*c.size;if(d){t.longestLabelWidth=g;var v=i.toRadians(t.labelRotation),y=Math.cos(v),x=Math.sin(v)*g+c.size*p+m*p;a.height=Math.min(t.maxHeight,a.height+x),t.ctx.font=c.font;var _=t.ticks[0],k=e(t.ctx,_,c.font),w=t.ticks[t.ticks.length-1],M=e(t.ctx,w,c.font);0!==t.labelRotation?(t.paddingLeft="bottom"===r.position?y*k+3:y*m+3,t.paddingRight="bottom"===r.position?y*m+3:y*M+3):(t.paddingLeft=k/2+3,t.paddingRight=M/2+3)}else o.mirror?g=0:g+=t.options.ticks.padding,a.width=Math.min(t.maxWidth,a.width+g),t.paddingTop=c.size/2,t.paddingBottom=c.size/2}t.handleMargins(),t.width=a.width,t.height=a.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){i.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null===t||void 0===t?NaN:"number"!=typeof t||isFinite(t)?"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t:NaN},getLabelForIndex:i.noop,getPixelForValue:i.noop,getValueForPixel:i.noop,getPixelForTick:function(t,e){var n=this;if(n.isHorizontal()){var a=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=a*t+n.paddingLeft;e&&(r+=a/2);var o=n.left+Math.round(r);return o+=n.isFullWidth()?n.margins.left:0}var s=n.height-(n.paddingTop+n.paddingBottom);return n.top+t*(s/(n.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,a=e.left+Math.round(i);return a+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},draw:function(e){var a=this,r=a.options;if(r.display){var o,s,l=a.ctx,u=t.defaults.global,d=r.ticks,c=r.gridLines,h=r.scaleLabel,f=0!==a.labelRotation,g=d.autoSkip,p=a.isHorizontal();d.maxTicksLimit&&(s=d.maxTicksLimit);var m=i.getValueOrDefault(d.fontColor,u.defaultFontColor),v=n(d),y=c.drawTicks?c.tickMarkLength:0,b=i.getValueOrDefault(h.fontColor,u.defaultFontColor),x=n(h),_=i.toRadians(a.labelRotation),k=Math.cos(_),w=a.longestLabelWidth*k;l.fillStyle=m;var M=[];if(p){if(o=!1,(w+d.autoSkipPadding)*a.ticks.length>a.width-(a.paddingLeft+a.paddingRight)&&(o=1+Math.floor((w+d.autoSkipPadding)*a.ticks.length/(a.width-(a.paddingLeft+a.paddingRight)))),s&&a.ticks.length>s)for(;!o||a.ticks.length/(o||1)>s;)o||(o=1),o+=1;g||(o=!1)}var S="right"===r.position?a.left:a.right-y,D="right"===r.position?a.left+y:a.right,C="bottom"===r.position?a.top:a.bottom-y,P="bottom"===r.position?a.top+y:a.bottom;if(i.each(a.ticks,function(t,n){if(void 0!==t&&null!==t){var s=a.ticks.length===n+1;if((!(o>1&&n%o>0||n%o==0&&n+o>=a.ticks.length)||s)&&void 0!==t&&null!==t){var h,g,m,v;n===(void 0!==a.zeroLineIndex?a.zeroLineIndex:0)?(h=c.zeroLineWidth,g=c.zeroLineColor,m=c.zeroLineBorderDash,v=c.zeroLineBorderDashOffset):(h=i.getValueAtIndexOrDefault(c.lineWidth,n),g=i.getValueAtIndexOrDefault(c.color,n),m=i.getValueOrDefault(c.borderDash,u.borderDash),v=i.getValueOrDefault(c.borderDashOffset,u.borderDashOffset));var b,x,k,w,T,I,A,F,O,R,L="middle",V="middle";if(p){"bottom"===r.position?(V=f?"middle":"top",L=f?"right":"center",R=a.top+y):(V=f?"middle":"bottom",L=f?"left":"center",R=a.bottom-y);var W=a.getPixelForTick(n)+i.aliasPixel(h);O=a.getPixelForTick(n,c.offsetGridLines)+d.labelOffset,b=k=T=A=W,x=C,w=P,I=e.top,F=e.bottom}else{var Y,z="left"===r.position,N=d.padding;d.mirror?(L=z?"left":"right",Y=N):(L=z?"right":"left",Y=y+N),O=z?a.right-Y:a.left+Y;var B=a.getPixelForTick(n);B+=i.aliasPixel(h),R=a.getPixelForTick(n,c.offsetGridLines),b=S,k=D,T=e.left,A=e.right,x=w=I=F=B}M.push({tx1:b,ty1:x,tx2:k,ty2:w,x1:T,y1:I,x2:A,y2:F,labelX:O,labelY:R,glWidth:h,glColor:g,glBorderDash:m,glBorderDashOffset:v,rotation:-1*_,label:t,textBaseline:V,textAlign:L})}}}),i.each(M,function(t){if(c.display&&(l.save(),l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.setLineDash&&(l.setLineDash(t.glBorderDash),l.lineDashOffset=t.glBorderDashOffset),l.beginPath(),c.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),c.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke(),l.restore()),d.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=v.font,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var e=t.label;if(i.isArray(e))for(var n=0,a=0;n<e.length;++n)l.fillText(""+e[n],0,a),a+=1.5*v.size;else l.fillText(e,0,0);l.restore()}}),h.display){var T,I,A=0;if(p)T=a.left+(a.right-a.left)/2,I="bottom"===r.position?a.bottom-x.size/2:a.top+x.size/2;else{var F="left"===r.position;T=F?a.left+x.size/2:a.right-x.size/2,I=a.top+(a.bottom-a.top)/2,A=F?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(T,I),l.rotate(A),l.textAlign="center",l.textBaseline="middle",l.fillStyle=b,l.font=x.font,l.fillText(h.labelString,0,0),l.restore()}if(c.drawBorder){l.lineWidth=i.getValueAtIndexOrDefault(c.lineWidth,0),l.strokeStyle=i.getValueAtIndexOrDefault(c.color,0);var O=a.left,R=a.right,L=a.top,V=a.bottom,W=i.aliasPixel(l.lineWidth);p?(L=V="top"===r.position?a.bottom:a.top,L+=W,V+=W):(O=R="left"===r.position?a.right:a.left,O+=W,R+=W),l.beginPath(),l.moveTo(O,L),l.lineTo(R,V),l.stroke()}}}})}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,n,i){this.constructors[t]=n,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?e.scaleMerge(t.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(t,n){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],n))},addScalesToLayout:function(n){e.each(n.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,t.layoutService.addBox(n,e)})}}}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.Ticks={generators:{linear:function(t,n){var i,a=[];if(t.stepSize&&t.stepSize>0)i=t.stepSize;else{var r=e.niceNum(n.max-n.min,!1);i=e.niceNum(r/(t.maxTicks-1),!0)}var o=Math.floor(n.min/i)*i,s=Math.ceil(n.max/i)*i;t.min&&t.max&&t.stepSize&&e.almostWhole((t.max-t.min)/t.stepSize,i/1e3)&&(o=t.min,s=t.max);var l=(s-o)/i;l=e.almostEquals(l,Math.round(l),i/1e3)?Math.round(l):Math.ceil(l),a.push(void 0!==t.min?t.min:o);for(var u=1;u<l;++u)a.push(o+u*i);return a.push(void 0!==t.max?t.max:s),a},logarithmic:function(t,n){var i,a,r=[],o=e.getValueOrDefault,s=o(t.min,Math.pow(10,Math.floor(e.log10(n.min)))),l=Math.floor(e.log10(n.max)),u=Math.ceil(n.max/Math.pow(10,l));0===s?(i=Math.floor(e.log10(n.minNotZero)),a=Math.floor(n.minNotZero/Math.pow(10,i)),r.push(s),s=a*Math.pow(10,i)):(i=Math.floor(e.log10(s)),a=Math.floor(s/Math.pow(10,i)));do{r.push(s),10===++a&&(a=1,++i),s=a*Math.pow(10,i)}while(i<l||i===l&&a<u);var d=o(t.max,s);return r.push(d),r}},formatters:{values:function(t){return e.isArray(t)?t:""+t},linear:function(t,n,i){var a=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(a)>1&&t!==Math.floor(t)&&(a=t-Math.floor(t));var r=e.log10(Math.abs(a)),o="";if(0!==t){var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),o=t.toFixed(s)}else o="0";return o},logarithmic:function(t,n,i){var a=t/Math.pow(10,Math.floor(e.log10(t)));return 0===t?"0":1===a||2===a||5===a||0===n||n===i.length-1?t.toExponential():""}}}}},{}],34:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){var n=l.color(t);return n.alpha(e*n.alpha()).rgbaString()}function n(t,e){return e&&(l.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function i(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,a=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,a):"",yLabel:n?n.getLabelForIndex(i,a):"",index:i,datasetIndex:a,x:t._model.x,y:t._model.y}}function a(e){var n=t.defaults.global,i=l.getValueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:i(e.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:i(e.bodyFontStyle,n.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:i(e.bodyFontSize,n.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:i(e.titleFontFamily,n.defaultFontFamily),_titleFontStyle:i(e.titleFontStyle,n.defaultFontStyle),titleFontSize:i(e.titleFontSize,n.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:i(e.footerFontFamily,n.defaultFontFamily),_footerFontStyle:i(e.footerFontStyle,n.defaultFontStyle),footerFontSize:i(e.footerFontSize,n.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function r(t,e){var n=t._chart.ctx,i=2*e.yPadding,a=0,r=e.body,o=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,u=e.footer.length,d=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;i+=s*d,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*c,i+=o?(o-1)*e.bodySpacing:0,i+=u?e.footerMarginTop:0,i+=u*h,i+=u?(u-1)*e.footerSpacing:0;var f=0,g=function(t){a=Math.max(a,n.measureText(t).width+f)};return n.font=l.fontString(d,e._titleFontStyle,e._titleFontFamily),l.each(e.title,g),n.font=l.fontString(c,e._bodyFontStyle,e._bodyFontFamily),l.each(e.beforeBody.concat(e.afterBody),g),f=e.displayColors?c+2:0,l.each(r,function(t){l.each(t.before,g),l.each(t.lines,g),l.each(t.after,g)}),f=0,n.font=l.fontString(h,e._footerFontStyle,e._footerFontFamily),l.each(e.footer,g),a+=2*e.xPadding,{width:a,height:i}}function o(t,e){var n=t._model,i=t._chart,a=t._chart.chartArea,r="center",o="center";n.y<e.height?o="top":n.y>i.height-e.height&&(o="bottom");var s,l,u,d,c,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2;"center"===o?(s=function(t){return t<=h},l=function(t){return t>h}):(s=function(t){return t<=e.width/2},l=function(t){return t>=i.width-e.width/2}),u=function(t){return t+e.width>i.width},d=function(t){return t-e.width<0},c=function(t){return t<=f?"top":"bottom"},s(n.x)?(r="left",u(n.x)&&(r="center",o=c(n.y))):l(n.x)&&(r="right",d(n.x)&&(r="center",o=c(n.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:r,yAlign:g.yAlign?g.yAlign:o}}function s(t,e,n){var i=t.x,a=t.y,r=t.caretSize,o=t.caretPadding,s=t.cornerRadius,l=n.xAlign,u=n.yAlign,d=r+o,c=s+o;return"right"===l?i-=e.width:"center"===l&&(i-=e.width/2),"top"===u?a+=d:a-="bottom"===u?e.height+d:e.height/2,"center"===u?"left"===l?i+=d:"right"===l&&(i-=d):"left"===l?i-=c:"right"===l&&(i+=c),{x:i,y:a}}var l=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:l.noop,title:function(t,e){var n="",i=e.labels,a=i?i.length:0;if(t.length>0){var r=t[0];r.xLabel?n=r.xLabel:a>0&&r.index<a&&(n=i[r.index])}return n},afterTitle:l.noop,beforeBody:l.noop,beforeLabel:l.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=t.yLabel},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},afterLabel:l.noop,afterBody:l.noop,beforeFooter:l.noop,footer:l.noop,afterFooter:l.noop}},t.Tooltip=t.Element.extend({initialize:function(){this._model=a(this._options)},getTitle:function(){var t=this,i=t._options.callbacks,a=i.beforeTitle.apply(t,arguments),r=i.title.apply(t,arguments),o=i.afterTitle.apply(t,arguments),s=[];return s=n(s,a),s=n(s,r),s=n(s,o)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return l.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var i=this,a=i._options.callbacks,r=[];return l.each(t,function(t){var o={before:[],lines:[],after:[]};n(o.before,a.beforeLabel.call(i,t,e)),n(o.lines,a.label.call(i,t,e)),n(o.after,a.afterLabel.call(i,t,e)),r.push(o)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return l.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),a=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),o=[];return o=n(o,i),o=n(o,a),o=n(o,r)},update:function(e){var n,u,d=this,c=d._options,h=d._model,f=d._model=a(c),g=d._active,p=d._data,m={xAlign:h.xAlign,yAlign:h.yAlign},v={x:h.x,y:h.y},y={width:h.width,height:h.height},b={x:h.caretX,y:h.caretY};if(g.length){f.opacity=1;var x=[];b=t.Tooltip.positioners[c.position](g,d._eventPosition);var _=[];for(n=0,u=g.length;n<u;++n)_.push(i(g[n]));c.filter&&(_=_.filter(function(t){return c.filter(t,p)})),c.itemSort&&(_=_.sort(function(t,e){return c.itemSort(t,e,p)})),l.each(_,function(t){x.push(c.callbacks.labelColor.call(d,t,d._chart))}),f.title=d.getTitle(_,p),f.beforeBody=d.getBeforeBody(_,p),f.body=d.getBody(_,p),f.afterBody=d.getAfterBody(_,p),f.footer=d.getFooter(_,p),f.x=Math.round(b.x),f.y=Math.round(b.y),f.caretPadding=c.caretPadding,f.labelColors=x,f.dataPoints=_,v=s(f,y=r(this,f),m=o(this,y))}else f.opacity=0;return f.xAlign=m.xAlign,f.yAlign=m.yAlign,f.x=v.x,f.y=v.y,f.width=y.width,f.height=y.height,f.caretX=b.x,f.caretY=b.y,d._model=f,e&&c.custom&&c.custom.call(d,f),d},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,a=this.getCaretPosition(t,e,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,n){var i,a,r,o,s,l,u=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,f=t.x,g=t.y,p=e.width,m=e.height;if("center"===h)s=g+m/2,"left"===c?(i=f,a=i-u,r=i,o=s+u,l=s-u):(i=f+p,a=i+u,r=i,o=s-u,l=s+u);else if("left"===c?(a=f+d+u,i=a-u,r=a+u):"right"===c?(a=f+p-d-u,i=a-u,r=a+u):(a=f+p/2,i=a-u,r=a+u),"top"===h)o=g,s=o-u,l=o;else{s=(o=g+m)+u,l=o;var v=r;r=i,i=v}return{x1:i,x2:a,x3:r,y1:o,y2:s,y3:l}},drawTitle:function(t,n,i,a){var r=n.title;if(r.length){i.textAlign=n._titleAlign,i.textBaseline="top";var o=n.titleFontSize,s=n.titleSpacing;i.fillStyle=e(n.titleFontColor,a),i.font=l.fontString(o,n._titleFontStyle,n._titleFontFamily);var u,d;for(u=0,d=r.length;u<d;++u)i.fillText(r[u],t.x,t.y),t.y+=o+s,u+1===r.length&&(t.y+=n.titleMarginBottom-s)}},drawBody:function(t,n,i,a){var r=n.bodyFontSize,o=n.bodySpacing,s=n.body;i.textAlign=n._bodyAlign,i.textBaseline="top";var u=e(n.bodyFontColor,a);i.fillStyle=u,i.font=l.fontString(r,n._bodyFontStyle,n._bodyFontFamily);var d=0,c=function(e){i.fillText(e,t.x+d,t.y),t.y+=r+o};l.each(n.beforeBody,c);var h=n.displayColors;d=h?r+2:0,l.each(s,function(o,s){l.each(o.before,c),l.each(o.lines,function(o){h&&(i.fillStyle=e(n.legendColorBackground,a),i.fillRect(t.x,t.y,r,r),i.strokeStyle=e(n.labelColors[s].borderColor,a),i.strokeRect(t.x,t.y,r,r),i.fillStyle=e(n.labelColors[s].backgroundColor,a),i.fillRect(t.x+1,t.y+1,r-2,r-2),i.fillStyle=u),c(o)}),l.each(o.after,c)}),d=0,l.each(n.afterBody,c),t.y-=o},drawFooter:function(t,n,i,a){var r=n.footer;r.length&&(t.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=e(n.footerFontColor,a),i.font=l.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),l.each(r,function(e){i.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,i,a,r){i.fillStyle=e(n.backgroundColor,r),i.strokeStyle=e(n.borderColor,r),i.lineWidth=n.borderWidth;var o=n.xAlign,s=n.yAlign,l=t.x,u=t.y,d=a.width,c=a.height,h=n.cornerRadius;i.beginPath(),i.moveTo(l+h,u),"top"===s&&this.drawCaret(t,a),i.lineTo(l+d-h,u),i.quadraticCurveTo(l+d,u,l+d,u+h),"center"===s&&"right"===o&&this.drawCaret(t,a),i.lineTo(l+d,u+c-h),i.quadraticCurveTo(l+d,u+c,l+d-h,u+c),"bottom"===s&&this.drawCaret(t,a),i.lineTo(l+h,u+c),i.quadraticCurveTo(l,u+c,l,u+c-h),"center"===s&&"left"===o&&this.drawCaret(t,a),i.lineTo(l,u+h),i.quadraticCurveTo(l,u,l+h,u),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(this.drawBackground(i,e,t,n,a),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,a),this.drawBody(i,e,t,a),this.drawFooter(i,e,t,a))}},handleEvent:function(t){var e=this,n=e._options,i=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),!(i=!l.arrayEquals(e._active,e._lastActive)))return!1;if(e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var a=e._model;e.update(!0),e.pivot(),i|=a.x!==e._model.x||a.y!==e._model.y}return i}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,a=0,r=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,a+=s.y,++r}}return{x:Math.round(i/r),y:Math.round(a/r)}},nearest:function(t,e){var n,i,a,r=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(i=0,a=t.length;i<a;++i){var u=t[i];if(u&&u.hasValue()){var d=u.getCenterPoint(),c=l.distanceBetweenPoints(e,d);c<s&&(s=c,n=u)}}if(n){var h=n.tooltipPosition();r=h.x,o=h.y}return{x:r,y:o}}}}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,n){var i=this._view;if(i){for(var a=e.getAngleFromPoint(i,{x:t,y:n}),r=a.angle,o=a.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;r>l;)r-=2*Math.PI;for(;r<s;)r+=2*Math.PI;var u=r>=s&&r<=l,d=o>=i.innerRadius&&o<=i.outerRadius;return u&&d}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],36:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){var t,i,a,r,o=this,s=o._view,l=o._chart.ctx,u=s.spanGaps,d=o._children.slice(),c=n.elements.line,h=-1;for(o._loop&&d.length&&d.push(d[0]),l.save(),l.lineCap=s.borderCapStyle||c.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||c.borderDash),l.lineDashOffset=s.borderDashOffset||c.borderDashOffset,l.lineJoin=s.borderJoinStyle||c.borderJoinStyle,l.lineWidth=s.borderWidth||c.borderWidth,l.strokeStyle=s.borderColor||n.defaultColor,l.beginPath(),h=-1,t=0;t<d.length;++t)i=d[t],a=e.previousItem(d,t),r=i._view,0===t?r.skip||(l.moveTo(r.x,r.y),h=t):(a=-1===h?a:d[h],r.skip||(h!==t-1&&!u||-1===h?l.moveTo(r.x,r.y):e.canvas.lineTo(l,a._view,i._view),h=t));l.stroke(),l.restore()}})}},{}],37:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}var i=t.helpers,a=t.defaults.global,r=a.defaultColor;a.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:e,inXRange:e,inYRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(e){var n=this._view,o=this._model,s=this._chart.ctx,l=n.pointStyle,u=n.radius,d=n.x,c=n.y,h=t.helpers.color,f=1.01,g=0;n.skip||(s.strokeStyle=n.borderColor||r,s.lineWidth=i.getValueOrDefault(n.borderWidth,a.elements.point.borderWidth),s.fillStyle=n.backgroundColor||r,void 0!==e&&(o.x<e.left||e.right*f<o.x||o.y<e.top||e.bottom*f<o.y)&&(o.x<e.left?g=(d-o.x)/(e.left-o.x):e.right*f<o.x?g=(o.x-d)/(o.x-e.right):o.y<e.top?g=(c-o.y)/(e.top-o.y):e.bottom*f<o.y&&(g=(o.y-c)/(o.y-e.bottom)),g=Math.round(100*g)/100,s.strokeStyle=h(s.strokeStyle).alpha(g).rgbString(),s.fillStyle=h(s.fillStyle).alpha(g).rgbString()),t.canvasHelpers.drawPoint(s,l,u,d,c))}})}},{}],38:[function(t,e,n){"use strict";e.exports=function(t){function e(t){return void 0!==t._view.width}function n(t){var n,i,a,r,o=t._view;if(e(t)){var s=o.width/2;n=o.x-s,i=o.x+s,a=Math.min(o.y,o.base),r=Math.max(o.y,o.base)}else{var l=o.height/2;n=Math.min(o.x,o.base),i=Math.max(o.x,o.base),a=o.y-l,r=o.y+l}return{left:n,top:a,right:i,bottom:r}}var i=t.defaults.global;i.elements.rectangle={backgroundColor:i.defaultColor,borderWidth:0,borderColor:i.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return v[(b+t)%4]}var e,n,i,a,r,o,s,l=this._chart.ctx,u=this._view,d=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,a=u.y+u.height/2,r=n>e?1:-1,o=1,s=u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,i=u.y,a=u.base,r=1,o=a>i?1:-1,s=u.borderSkipped||"bottom"),d){var c=Math.min(Math.abs(e-n),Math.abs(i-a)),h=(d=d>c?c:d)/2,f=e+("left"!==s?h*r:0),g=n+("right"!==s?-h*r:0),p=i+("top"!==s?h*o:0),m=a+("bottom"!==s?-h*o:0);f!==g&&(i=p,a=m),p!==m&&(e=f,n=g)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=d;var v=[[e,a],[e,i],[n,i],[n,a]],b=["bottom","left","top","right"].indexOf(s,0);-1===b&&(b=0);var x=t(0);l.moveTo(x[0],x[1]);for(var _=1;_<4;_++)x=t(_),l.lineTo(x[0],x[1]);l.fill(),d&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var a=n(this);i=t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom}return i},inLabelRange:function(t,i){var a=this;if(!a._view)return!1;var o=n(a);return e(a)?t>=o.left&&t<=o.right:i>=o.top&&i<=o.bottom},inXRange:function(t){var e=n(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=n(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,n,i=this._view;return e(this)?(t=i.x,n=(i.y+i.base)/2):(t=(i.x+i.base)/2,n=i.y),{x:t,y:n}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],39:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){var n=l.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function n(t,n){var i=t.style,a=t.getAttribute("height"),r=t.getAttribute("width");if(t._chartjs={initial:{height:a,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===r||""===r){var o=e(t,"width");void 0!==o&&(t.width=o)}if(null===a||""===a)if(""===t.style.height)t.height=t.width/(n.options.aspectRatio||2);else{var s=e(t,"height");void 0!==o&&(t.height=s)}return t}function i(t,e,n,i,a){return{type:t,chart:e,native:a||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function a(t,e){var n=u[t.type]||t.type,a=l.getRelativePosition(t,e);return i(n,e,a.x,a.y,t)}function r(t){var e=document.createElement("iframe");return e.className="chartjs-hidden-iframe",e.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",e.tabIndex=-1,l.addEvent(e,"load",function(){l.addEvent(e.contentWindow||e,"resize",t),t()}),e}function o(t,e,n){var a=t._chartjs={ticking:!1};a.resizer=r(function(){a.ticking||(a.ticking=!0,l.requestAnimFrame.call(window,function(){if(a.resizer)return a.ticking=!1,e(i("resize",n))}))}),t.insertBefore(a.resizer,t.firstChild)}function s(t){if(t&&t._chartjs){var e=t._chartjs.resizer;e&&(e.parentNode.removeChild(e),t._chartjs.resizer=null),delete t._chartjs}}var l=t.helpers,u={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(n(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e._chartjs){var n=e._chartjs.initial;["height","width"].forEach(function(t){var i=n[t];void 0===i||null===i?e.removeAttribute(t):e.setAttribute(t,i)}),l.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e._chartjs}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=n._chartjs||(n._chartjs={}),u=(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){n(a(e,t))};l.addEvent(i,e,u)}else o(i.parentNode,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var o=((n._chartjs||{}).proxies||{})[t.id+"_"+e];o&&l.removeEvent(i,e,o)}else s(i.parentNode)}}}},{}],40:[function(t,e,n){"use strict";var i=t(39);e.exports=function(t){t.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},t.helpers.extend(t.platform,i(t))}},{39:39}],41:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e,n){var i,a=t._model||{},r=a.fill;if(void 0===r&&(r=!!a.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(i=parseFloat(r,10),isFinite(i)&&Math.floor(i)===i)return"-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function n(t){var e,n=t.el._model||{},i=t.el._scale||{},a=t.fill,r=null;if(isFinite(a))return null;if("start"===a?r=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===a?r=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?r=n.scaleZero:i.getBasePosition?r=i.getBasePosition():i.getBasePixel&&(r=i.getBasePixel()),void 0!==r&&null!==r){if(void 0!==r.x&&void 0!==r.y)return r;if("number"==typeof r&&isFinite(r))return e=i.isHorizontal(),{x:e?r:null,y:e?null:r}}return null}function i(t,e,n){var i,r=t[e].fill,o=[e];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function a(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),d[n](t))}function r(t){return t&&!t.skip}function o(t,e,n,i,a){var r;if(i&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)u.canvas.lineTo(t,e[r-1],e[r]);for(t.lineTo(n[a-1].x,n[a-1].y),r=a-1;r>0;--r)u.canvas.lineTo(t,n[r],n[r-1],!0)}}function s(t,e,n,i,a,s){var l,u,d,c,h,f,g,p=e.length,m=i.spanGaps,v=[],y=[],b=0,x=0;for(t.beginPath(),l=0,u=p+!!s;l<u;++l)d=l%p,c=e[d]._view,h=n(c,d,i),f=r(c),g=r(h),f&&g?(b=v.push(c),x=y.push(h)):b&&x&&(m?(f&&v.push(c),g&&y.push(h)):(o(t,v,y,b,x),b=x=0,v=[],y=[]));o(t,v,y,b,x),t.closePath(),t.fillStyle=a,t.fill()}t.defaults.global.plugins.filler={propagate:!0};var l=t.defaults,u=t.helpers,d={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[];return r.length?function(t,e){return r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};return{id:"filler",afterDatasetsUpdate:function(r,o){var s,l,u,d,c=(r.data.datasets||[]).length,h=o.propagate,f=[];for(l=0;l<c;++l)s=r.getDatasetMeta(l),u=s.dataset,d=null,u&&u._model&&u instanceof t.elements.Line&&(d={visible:r.isDatasetVisible(l),fill:e(u,l,c),chart:r,el:u}),s.$filler=d,f.push(d);for(l=0;l<c;++l)(d=f[l])&&(d.fill=i(f,l,h),d.boundary=n(d),d.mapper=a(d))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=n.el,a=i._view,r=i._children||[],o=n.mapper,u=a.backgroundColor||l.global.defaultColor;o&&u&&r.length&&s(t.ctx,r,o,a,u,i._loop)}}}}},{}],42:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(e,n){var i=new t.Legend({ctx:e.ctx,options:n,chart:e});a.configure(e,i,n),a.addBox(e,i),e.legend=i}var i=t.helpers,a=t.layoutService,r=i.noop;return t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return i.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:i.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){i.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:r,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:function(){var t=this,e=t.options.labels,n=e.generateLabels.call(t,t.chart);e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:r,beforeFit:r,fit:function(){var n=this,a=n.options,r=a.labels,o=a.display,s=n.ctx,l=t.defaults.global,u=i.getValueOrDefault,d=u(r.fontSize,l.defaultFontSize),c=u(r.fontStyle,l.defaultFontStyle),h=u(r.fontFamily,l.defaultFontFamily),f=i.fontString(d,c,h),g=n.legendHitBoxes=[],p=n.minSize,m=n.isHorizontal();if(m?(p.width=n.maxWidth,p.height=o?10:0):(p.width=o?10:0,p.height=n.maxHeight),o)if(s.font=f,m){var v=n.lineWidths=[0],y=n.legendItems.length?d+r.padding:0;s.textAlign="left",s.textBaseline="top",i.each(n.legendItems,function(t,i){var o=e(r,d)+d/2+s.measureText(t.text).width;v[v.length-1]+o+r.padding>=n.width&&(y+=d+r.padding,v[v.length]=n.left),g[i]={left:0,top:0,width:o,height:d},v[v.length-1]+=o+r.padding}),p.height+=y}else{var b=r.padding,x=n.columnWidths=[],_=r.padding,k=0,w=0,M=d+b;i.each(n.legendItems,function(t,n){var a=e(r,d)+d/2+s.measureText(t.text).width;w+M>p.height&&(_+=k+r.padding,x.push(k),k=0,w=0),k=Math.max(k,a),w+=M,g[n]={left:0,top:0,width:a,height:d}}),_+=k,x.push(k),p.width+=_}n.width=p.width,n.height=p.height},afterFit:r,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,a=n.options,r=a.labels,o=t.defaults.global,s=o.elements.line,l=n.width,u=n.lineWidths;if(a.display){var d,c=n.ctx,h=i.getValueOrDefault,f=h(r.fontColor,o.defaultFontColor),g=h(r.fontSize,o.defaultFontSize),p=h(r.fontStyle,o.defaultFontStyle),m=h(r.fontFamily,o.defaultFontFamily),v=i.fontString(g,p,m);c.textAlign="left",c.textBaseline="top",c.lineWidth=.5,c.strokeStyle=f,c.fillStyle=f,c.font=v;var y=e(r,g),b=n.legendHitBoxes,x=function(e,n,i){if(!(isNaN(y)||y<=0)){c.save(),c.fillStyle=h(i.fillStyle,o.defaultColor),c.lineCap=h(i.lineCap,s.borderCapStyle),c.lineDashOffset=h(i.lineDashOffset,s.borderDashOffset),c.lineJoin=h(i.lineJoin,s.borderJoinStyle),c.lineWidth=h(i.lineWidth,s.borderWidth),c.strokeStyle=h(i.strokeStyle,o.defaultColor);var r=0===h(i.lineWidth,s.borderWidth);if(c.setLineDash&&c.setLineDash(h(i.lineDash,s.borderDash)),a.labels&&a.labels.usePointStyle){var l=g*Math.SQRT2/2,u=l/Math.SQRT2,d=e+u,f=n+u;t.canvasHelpers.drawPoint(c,i.pointStyle,l,d,f)}else r||c.strokeRect(e,n,y,g),c.fillRect(e,n,y,g);c.restore()}},_=function(t,e,n,i){c.fillText(n.text,y+g/2+t,e),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(y+g/2+t,e+g/2),c.lineTo(y+g/2+t+i,e+g/2),c.stroke())},k=n.isHorizontal();d=k?{x:n.left+(l-u[0])/2,y:n.top+r.padding,line:0}:{x:n.left+r.padding,y:n.top+r.padding,line:0};var w=g+r.padding;i.each(n.legendItems,function(t,e){var i=c.measureText(t.text).width,a=y+g/2+i,o=d.x,s=d.y;k?o+a>=l&&(s=d.y+=w,d.line++,o=d.x=n.left+(l-u[d.line])/2):s+w>n.bottom&&(o=d.x=o+n.columnWidths[d.line]+r.padding,s=d.y=n.top+r.padding,d.line++),x(o,s,t),b[e].left=o,b[e].top=s,_(o,s,t,i),k?d.x+=a+r.padding:d.y+=w})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,a=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var r=t.x,o=t.y;if(r>=e.left&&r<=e.right&&o>=e.top&&o<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(r>=u.left&&r<=u.left+u.width&&o>=u.top&&o<=u.top+u.height){if("click"===i){n.onClick.call(e,t.native,e.legendItems[l]),a=!0;break}if("mousemove"===i){n.onHover.call(e,t.native,e.legendItems[l]),a=!0;break}}}return a}}),{id:"legend",beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(e){var r=e.options.legend,o=e.legend;r?(r=i.configMerge(t.defaults.global.legend,r),o?(a.configure(e,o,r),o.options=r):n(e,r)):o&&(a.removeBox(e,o),delete e.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}}},{}],43:[function(t,e,n){"use strict";e.exports=function(t){function e(e,n){var a=new t.Title({ctx:e.ctx,options:n,chart:e});i.configure(e,a,n),i.addBox(e,a),e.titleBlock=a}var n=t.helpers,i=t.layoutService,a=n.noop;return t.defaults.global.title={display:!1,position:"top",fullWidth:!0,weight:2e3,fontStyle:"bold",padding:10,text:""},t.Title=t.Element.extend({initialize:function(t){var e=this;n.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:a,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var e=this,i=n.getValueOrDefault,a=e.options,r=t.defaults.global,o=a.display,s=i(a.fontSize,r.defaultFontSize),l=e.minSize;e.isHorizontal()?(l.width=e.maxWidth,l.height=o?s+2*a.padding:0):(l.width=o?s+2*a.padding:0,l.height=e.maxHeight),e.width=l.width,e.height=l.height},afterFit:a,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var e=this,i=e.ctx,a=n.getValueOrDefault,r=e.options,o=t.defaults.global;if(r.display){var s,l,u,d=a(r.fontSize,o.defaultFontSize),c=a(r.fontStyle,o.defaultFontStyle),h=a(r.fontFamily,o.defaultFontFamily),f=n.fontString(d,c,h),g=0,p=e.top,m=e.left,v=e.bottom,y=e.right;i.fillStyle=a(r.fontColor,o.defaultFontColor),i.font=f,e.isHorizontal()?(s=m+(y-m)/2,l=p+(v-p)/2,u=y-m):(s="left"===r.position?m+d/2:y-d/2,l=p+(v-p)/2,u=v-p,g=Math.PI*("left"===r.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(g),i.textAlign="center",i.textBaseline="middle",i.fillText(r.text,0,0,u),i.restore()}}}),{id:"title",beforeInit:function(t){var n=t.options.title;n&&e(t,n)},beforeUpdate:function(a){var r=a.options.title,o=a.titleBlock;r?(r=n.configMerge(t.defaults.global.title,r),o?(i.configure(a,o,r),o.options=r):e(a,r)):o&&(t.layoutService.removeBox(a,o),delete a.titleBlock)}}}},{}],44:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1;var i;void 0!==t.options.ticks.min&&(i=e.indexOf(n,t.options.ticks.min),t.minIndex=-1!==i?i:t.minIndex),void 0!==t.options.ticks.max&&(i=e.indexOf(n,t.options.ticks.max),t.maxIndex=-1!==i?i:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,a=n.isHorizontal();return i.yLabels&&!a?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e,n,i){var a,r=this,o=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(void 0!==t&&null!==t&&(a=r.isHorizontal()?t.x:t.y),void 0!==a||void 0!==t&&isNaN(e)){var s=r.getLabels();t=a||t;var l=s.indexOf(t);e=-1!==l?l:e}if(r.isHorizontal()){var u=r.width/o,d=u*(e-r.minIndex);return(r.options.gridLines.offsetGridLines&&i||r.maxIndex===r.minIndex&&i)&&(d+=u/2),r.left+Math.round(d)}var c=r.height/o,h=c*(e-r.minIndex);return r.options.gridLines.offsetGridLines&&i&&(h+=c/2),r.top+Math.round(h)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var n=this,i=Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),a=n.isHorizontal(),r=(a?n.width:n.height)/i;return t-=a?n.left:n.top,n.options.gridLines.offsetGridLines&&(t-=r/2),t<=0?0:Math.round(t/r)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,n)}},{}],45:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:t.Ticks.formatters.linear}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,a=n.chart,o=a.data.datasets,s=n.isHorizontal();n.min=null,n.max=null;var d=i.stacked;if(void 0===d&&e.each(o,function(e,n){if(!d){var i=a.getDatasetMeta(n);a.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(d=!0)}}),i.stacked||d){var c={};e.each(o,function(r,o){var s=a.getDatasetMeta(o),l=[s.type,void 0===i.stacked&&void 0===s.stack?o:"",s.stack].join(".");void 0===c[l]&&(c[l]={positiveValues:[],negativeValues:[]});var u=c[l].positiveValues,d=c[l].negativeValues;a.isDatasetVisible(o)&&t(s)&&e.each(r.data,function(t,e){var a=+n.getRightValue(t);isNaN(a)||s.data[e].hidden||(u[e]=u[e]||0,d[e]=d[e]||0,i.relativePoints?u[e]=100:a<0?d[e]+=a:u[e]+=a)})}),e.each(c,function(t){var i=t.positiveValues.concat(t.negativeValues),a=e.min(i),r=e.max(i);n.min=null===n.min?a:Math.min(n.min,a),n.max=null===n.max?r:Math.max(n.max,r)})}else e.each(o,function(i,r){var o=a.getDatasetMeta(r);a.isDatasetVisible(r)&&t(o)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||o.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=isFinite(n.min)?n.min:0,n.max=isFinite(n.max)?n.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,a=i.options.ticks;if(i.isHorizontal())n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.width/50));else{var r=e.getValueOrDefault(a.fontSize,t.defaults.global.defaultFontSize);n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.height/(2*r)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,i=n.start,a=+n.getRightValue(t),r=n.end-i;return n.isHorizontal()?(e=n.left+n.width/r*(a-i),Math.round(e)):(e=n.bottom-n.height/r*(a-i),Math.round(e))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,a=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*a},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,n)}},{}],46:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,i=t.options.ticks;if(i.beginAtZero){var a=e.sign(t.min),r=e.sign(t.max);a<0&&r<0?t.max=0:a>0&&r>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(null===t.min?t.min=i.suggestedMin:t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(null===t.max?t.max=i.suggestedMax:t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var n=this,a=n.options.ticks,r=n.getTickLimit(),o={maxTicks:r=Math.max(2,r),min:a.min,max:a.max,stepSize:e.getValueOrDefault(a.fixedStepSize,a.stepSize)},s=n.ticks=t.Ticks.generators.linear(o,n);n.handleDirectionalChanges(),n.max=e.max(s),n.min=e.min(s),a.reverse?(s.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],47:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:t.Ticks.formatters.logarithmic}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return u?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,a=i.ticks,r=n.chart,s=r.data.datasets,l=e.getValueOrDefault,u=n.isHorizontal();n.min=null,n.max=null,n.minNotZero=null;var d=i.stacked;if(void 0===d&&e.each(s,function(e,n){if(!d){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(d=!0)}}),i.stacked||d){var c={};e.each(s,function(a,o){var s=r.getDatasetMeta(o),l=[s.type,void 0===i.stacked&&void 0===s.stack?o:"",s.stack].join(".");r.isDatasetVisible(o)&&t(s)&&(void 0===c[l]&&(c[l]=[]),e.each(a.data,function(t,e){var a=c[l],r=+n.getRightValue(t);isNaN(r)||s.data[e].hidden||(a[e]=a[e]||0,i.relativePoints?a[e]=100:a[e]+=r)}))}),e.each(c,function(t){var i=e.min(t),a=e.max(t);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?a:Math.max(n.max,a)})}else e.each(s,function(i,a){var o=r.getDatasetMeta(a);r.isDatasetVisible(a)&&t(o)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||o.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i),0!==i&&(null===n.minNotZero||i<n.minNotZero)&&(n.minNotZero=i))})});n.min=l(a.min,n.min),n.max=l(a.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(e.log10(n.min))-1),n.max=Math.pow(10,Math.floor(e.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){var n=this,a=n.options.ticks,r={min:a.min,max:a.max},o=n.ticks=t.Ticks.generators.logarithmic(r,n);n.isHorizontal()||o.reverse(),n.max=e.max(o),n.min=e.min(o),a.reverse?(o.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var n,i,a,r=this,o=r.start,s=+r.getRightValue(t),u=r.options.ticks;return r.isHorizontal()?(a=e.log10(r.end)-e.log10(o),0===s?i=r.left:(n=r.width,i=r.left+n/a*(e.log10(s)-e.log10(o)))):(n=r.height,0!==o||u.reverse?0===r.end&&u.reverse?(a=e.log10(r.start)-e.log10(r.minNotZero),i=s===r.end?r.top:s===r.minNotZero?r.top+.02*n:r.top+.02*n+.98*n/a*(e.log10(s)-e.log10(r.minNotZero))):0===s?i=u.reverse?r.top:r.bottom:(a=e.log10(r.end)-e.log10(o),n=r.height,i=r.bottom-n/a*(e.log10(s)-e.log10(o))):(a=e.log10(r.end)-e.log10(r.minNotZero),i=s===o?r.bottom:s===r.minNotZero?r.bottom-.02*n:r.bottom-.02*n-.98*n/a*(e.log10(s)-e.log10(r.minNotZero)))),i},getValueForPixel:function(t){var n,i,a=this,r=e.log10(a.end)-e.log10(a.start);return a.isHorizontal()?(i=a.width,n=a.start*Math.pow(10,(t-a.left)*r/i)):(i=a.height,n=Math.pow(10,(a.bottom-t)*r/i)/a.start),n}});t.scaleService.registerScaleType("logarithmic",i,n)}},{}],48:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function n(t){var e=t.options.pointLabels,n=f.getValueOrDefault(e.fontSize,g.defaultFontSize),i=f.getValueOrDefault(e.fontStyle,g.defaultFontStyle),a=f.getValueOrDefault(e.fontFamily,g.defaultFontFamily);return{size:n,style:i,family:a,font:f.fontString(n,i,a)}}function i(t,e,n){return f.isArray(n)?{w:f.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function a(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function r(t){var r,o,s,l=n(t),u=Math.min(t.height/2,t.width/2),d={r:t.width,l:0,t:t.height,b:0},c={};t.ctx.font=l.font,t._pointLabelSizes=[];var h=e(t);for(r=0;r<h;r++){s=t.getPointPosition(r,u),o=i(t.ctx,l.size,t.pointLabels[r]||""),t._pointLabelSizes[r]=o;var g=t.getIndexAngle(r),p=f.toDegrees(g)%360,m=a(p,s.x,o.w,0,180),v=a(p,s.y,o.h,90,270);m.start<d.l&&(d.l=m.start,c.l=g),m.end>d.r&&(d.r=m.end,c.r=g),v.start<d.t&&(d.t=v.start,c.t=g),v.end>d.b&&(d.b=v.end,c.b=g)}t.setReductions(u,d,c)}function o(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function s(t){return 0===t||180===t?"center":t<180?"left":"right"}function l(t,e,n,i){if(f.isArray(e))for(var a=n.y,r=1.5*i,o=0;o<e.length;++o)t.fillText(e[o],n.x,a),a+=r;else t.fillText(e,n.x,n.y)}function u(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function d(t){var i=t.ctx,a=f.getValueOrDefault,r=t.options,o=r.angleLines,d=r.pointLabels;i.lineWidth=o.lineWidth,i.strokeStyle=o.color;var c=t.getDistanceFromCenterForValue(r.reverse?t.min:t.max),h=n(t);i.textBaseline="top";for(var p=e(t)-1;p>=0;p--){if(o.display){var m=t.getPointPosition(p,c);i.beginPath(),i.moveTo(t.xCenter,t.yCenter),i.lineTo(m.x,m.y),i.stroke(),i.closePath()}if(d.display){var v=t.getPointPosition(p,c+5),y=a(d.fontColor,g.defaultFontColor);i.font=h.font,i.fillStyle=y;var b=t.getIndexAngle(p),x=f.toDegrees(b);i.textAlign=s(x),u(x,t._pointLabelSizes[p],v),l(i,t.pointLabels[p]||"",v,h.size)}}}function c(t,n,i,a){var r=t.ctx;if(r.strokeStyle=f.getValueAtIndexOrDefault(n.color,a-1),r.lineWidth=f.getValueAtIndexOrDefault(n.lineWidth,a-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),r.closePath(),r.stroke();else{var o=e(t);if(0===o)return;r.beginPath();var s=t.getPointPosition(0,i);r.moveTo(s.x,s.y);for(var l=1;l<o;l++)s=t.getPointPosition(l,i),r.lineTo(s.x,s.y);r.closePath(),r.stroke()}}function h(t){return f.isNumber(t)?t:0}var f=t.helpers,g=t.defaults.global,p={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:t.Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},m=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=f.min([t.height,t.width]),a=f.getValueOrDefault(n.fontSize,g.defaultFontSize);t.drawingArea=e.display?i/2-(a/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;f.each(e.data.datasets,function(a,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);f.each(a.data,function(e,a){var r=+t.getRightValue(e);isNaN(r)||o.data[a].hidden||(n=Math.min(r,n),i=Math.max(r,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=f.getValueOrDefault(t.fontSize,g.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?r(this):o(this)},setReductions:function(t,e,n){var i=this,a=e.l/Math.sin(n.l),r=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-i.height,0)/Math.cos(n.b);a=h(a),r=h(r),o=h(o),s=h(s),i.drawingArea=Math.min(Math.round(t-(a+r)/2),Math.round(t-(o+s)/2)),i.setCenterPoint(a,r,o,s)},setCenterPoint:function(t,e,n,i){var a=this,r=a.width-e-a.drawingArea,o=t+a.drawingArea,s=n+a.drawingArea,l=a.height-i-a.drawingArea;a.xCenter=Math.round((o+r)/2+a.left),a.yCenter=Math.round((s+l)/2+a.top)},getIndexAngle:function(t){return t*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,i=e.ticks,a=f.getValueOrDefault;if(e.display){var r=t.ctx,o=a(i.fontSize,g.defaultFontSize),s=a(i.fontStyle,g.defaultFontStyle),l=a(i.fontFamily,g.defaultFontFamily),u=f.fontString(o,s,l);f.each(t.ticks,function(s,l){if(l>0||e.reverse){var d=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),h=t.yCenter-d;if(n.display&&0!==l&&c(t,n,d,l),i.display){var f=a(i.fontColor,g.defaultFontColor);if(r.font=u,i.showLabelBackdrop){var p=r.measureText(s).width;r.fillStyle=i.backdropColor,r.fillRect(t.xCenter-p/2-i.backdropPaddingX,h-o/2-i.backdropPaddingY,p+2*i.backdropPaddingX,o+2*i.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=f,r.fillText(s,t.xCenter,h)}}}),(e.angleLines.display||e.pointLabels.display)&&d(t)}}});t.scaleService.registerScaleType("radialLinear",m,p)}},{}],49:[function(t,e,n){"use strict";var i=t(6);i="function"==typeof i?i:window.moment,e.exports=function(t){function e(t,e){var n=t.options.time;if("string"==typeof n.parser)return i(e,n.parser);if("function"==typeof n.parser)return n.parser(e);if("function"==typeof e.getMonth||"number"==typeof e)return i(e);if(e.isValid&&e.isValid())return e;var a=n.format;return"string"!=typeof a&&a.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser."),a(e)):i(e,a)}function n(t,e,n,i){for(var a,r=Object.keys(s),o=r.length,l=r.indexOf(t);l<o;l++){a=r[l];var u=s[a],d=u.steps&&u.steps[u.steps.length-1]||u.maxStep;if(void 0===d||Math.ceil((n-e)/(d*u.size))<=i)break}return a}function a(t,e,n,i){var a=s[n],r=a.size,o=Math.ceil((e-t)/r),l=1,u=e-t;if(a.steps)for(var d=a.steps.length,c=0;c<d&&o>i;c++)l=a.steps[c],o=Math.ceil(u/(r*l));else for(;o>i&&i>0;)++l,o=Math.ceil(u/(r*l));return l}function r(t,e,n){var a=[];if(t.maxTicks){var r=t.stepSize;a.push(void 0!==t.min?t.min:n.min);for(var o=i(n.min);o.add(r,t.unit).valueOf()<n.max;)a.push(o.valueOf());var s=t.max||n.max;a[a.length-1]!==s&&a.push(s)}return a}var o=t.helpers,s={millisecond:{size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{size:1e3,steps:[1,2,5,10,30]},minute:{size:6e4,steps:[1,2,5,10,30]},hour:{size:36e5,steps:[1,2,3,6,12]},day:{size:864e5,steps:[1,2,5]},week:{size:6048e5,maxStep:4},month:{size:2628e6,maxStep:3},quarter:{size:7884e6,maxStep:4},year:{size:3154e7,maxStep:!1}},l={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}};t.Ticks.generators.time=function(t,e){var n,a,o=t.isoWeekday;return"week"===t.unit&&!1!==o?(n=i(e.min).startOf("isoWeek").isoWeekday(o).valueOf(),a=i(e.max).startOf("isoWeek").isoWeekday(o),e.max-a>0&&a.add(1,"week"),a=a.valueOf()):(n=i(e.min).startOf(t.unit).valueOf(),a=i(e.max).startOf(t.unit),e.max-a>0&&a.add(1,t.unit),a=a.valueOf()),r(t,0,{min:n,max:a})};var u=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},determineDataLimits:function(){var t,n=this,i=n.options.time,a=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,s=n.chart.data,l={labels:[],datasets:[]};o.each(s.labels,function(o,s){var u=e(n,o);u.isValid()&&(i.round&&u.startOf(i.round),t=u.valueOf(),a=Math.min(t,a),r=Math.max(t,r),l.labels[s]=t)}),o.each(s.datasets,function(s,u){var d=[];"object"==typeof s.data[0]&&null!==s.data[0]&&n.chart.isDatasetVisible(u)?o.each(s.data,function(o,s){var l=e(n,n.getRightValue(o));l.isValid()&&(i.round&&l.startOf(i.round),t=l.valueOf(),a=Math.min(t,a),r=Math.max(t,r),d[s]=t)}):d=l.labels.slice(),l.datasets[u]=d}),n.dataMin=a,n.dataMax=r,n._parsedData=l},buildTicks:function(){var i,r,s=this,l=s.options.time,u=s.dataMin,d=s.dataMax;if(l.min){var c=e(s,l.min);l.round&&c.round(l.round),i=c.valueOf()}l.max&&(r=e(s,l.max).valueOf());var h=s.getLabelCapacity(i||u),f=l.unit||n(l.minUnit,i||u,r||d,h);s.displayFormat=l.displayFormats[f];var g=l.stepSize||a(i||u,r||d,f,h);s.ticks=t.Ticks.generators.time({maxTicks:h,min:i,max:r,stepSize:g,unit:f,isoWeekday:l.isoWeekday},{min:u,max:d}),s.max=o.max(s.ticks),s.min=o.min(s.ticks)},getLabelForIndex:function(t,n){var i=this,a=i.chart.data.labels&&t<i.chart.data.labels.length?i.chart.data.labels[t]:"",r=i.chart.data.datasets[n].data[t];return null!==r&&"object"==typeof r&&(a=i.getRightValue(r)),i.options.time.tooltipFormat&&(a=e(i,a).format(i.options.time.tooltipFormat)),a},tickFormatFunction:function(t,e,n){var i=t.format(this.displayFormat),a=this.options.ticks,r=o.getValueOrDefault(a.callback,a.userCallback);return r?r(i,e,n):i},convertTicksToLabels:function(){var t=this;t.ticksAsTimestamps=t.ticks,t.ticks=t.ticks.map(function(t){return i(t)}).map(t.tickFormatFunction,t)},getPixelForOffset:function(t){var e=this,n=e.max-e.min,i=n?(t-e.min)/n:0;if(e.isHorizontal()){var a=e.width*i;return e.left+Math.round(a)}var r=e.height*i;return e.top+Math.round(r)},getPixelForValue:function(t,n,i){var a=this,r=null;if(void 0!==n&&void 0!==i&&(r=a._parsedData.datasets[i][n]),null===r&&(t&&t.isValid||(t=e(a,a.getRightValue(t))),t&&t.isValid&&t.isValid()&&(r=t.valueOf())),null!==r)return a.getPixelForOffset(r)},getPixelForTick:function(t){return this.getPixelForOffset(this.ticksAsTimestamps[t])},getValueForPixel:function(t){var e=this,n=e.isHorizontal()?e.width:e.height,a=(t-(e.isHorizontal()?e.left:e.top))/n;return i(e.min+a*(e.max-e.min))},getLabelWidth:function(e){var n=this,i=n.options.ticks,a=n.ctx.measureText(e).width,r=Math.cos(o.toRadians(i.maxRotation)),s=Math.sin(o.toRadians(i.maxRotation));return a*r+o.getValueOrDefault(i.fontSize,t.defaults.global.defaultFontSize)*s},getLabelCapacity:function(t){var e=this;e.displayFormat=e.options.time.displayFormats.millisecond;var n=e.tickFormatFunction(i(t),0,[]),a=e.getLabelWidth(n);return(e.isHorizontal()?e.width:e.height)/a}});t.scaleService.registerScaleType("time",u,l)}},{6:6}]},{},[7])(7)});var dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val};return function(date,mask,utc){var dF=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(date)||/\d/.test(date)||(mask=date,date=void 0),date=date?new Date(date):new Date,isNaN(date))throw SyntaxError("invalid date");"UTC:"==(mask=String(dF.masks[mask]||mask||dF.masks.default)).slice(0,4)&&(mask=mask.slice(4),utc=!0);var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1)})}}();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(mask,utc){return dateFormat(this,mask,utc)},function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(x){return"function"==typeof x||"object"==typeof x&&null!==x}function lib$es6$promise$utils$$isFunction(x){return"function"==typeof x}function lib$es6$promise$asap$$useVertxTimer(){return function(){lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}function lib$es6$promise$asap$$flush(){for(var i=0;i<lib$es6$promise$asap$$len;i+=2)(0,lib$es6$promise$asap$$queue[i])(lib$es6$promise$asap$$queue[i+1]),lib$es6$promise$asap$$queue[i]=void 0,lib$es6$promise$asap$$queue[i+1]=void 0;lib$es6$promise$asap$$len=0}function lib$es6$promise$$internal$$noop(){}function lib$es6$promise$$internal$$selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(promise){try{return promise.then}catch(error){return lib$es6$promise$$internal$$GET_THEN_ERROR.error=error,lib$es6$promise$$internal$$GET_THEN_ERROR}}function lib$es6$promise$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$es6$promise$$internal$$handleForeignThenable(promise,thenable,then){lib$es6$promise$asap$$asap(function(promise){var sealed=!1,error=lib$es6$promise$$internal$$tryThen(then,thenable,function(value){sealed||(sealed=!0,thenable!==value?lib$es6$promise$$internal$$resolve(promise,value):lib$es6$promise$$internal$$fulfill(promise,value))},function(reason){sealed||(sealed=!0,lib$es6$promise$$internal$$reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,lib$es6$promise$$internal$$reject(promise,error))},promise)}function lib$es6$promise$$internal$$handleOwnThenable(promise,thenable){thenable._state===lib$es6$promise$$internal$$FULFILLED?lib$es6$promise$$internal$$fulfill(promise,thenable._result):thenable._state===lib$es6$promise$$internal$$REJECTED?lib$es6$promise$$internal$$reject(promise,thenable._result):lib$es6$promise$$internal$$subscribe(thenable,void 0,function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}function lib$es6$promise$$internal$$handleMaybeThenable(promise,maybeThenable,then){maybeThenable.constructor===promise.constructor&&then===lib$es6$promise$then$$default&&constructor.resolve===lib$es6$promise$promise$resolve$$default?lib$es6$promise$$internal$$handleOwnThenable(promise,maybeThenable):then===lib$es6$promise$$internal$$GET_THEN_ERROR?lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$GET_THEN_ERROR.error):void 0===then?lib$es6$promise$$internal$$fulfill(promise,maybeThenable):lib$es6$promise$utils$$isFunction(then)?lib$es6$promise$$internal$$handleForeignThenable(promise,maybeThenable,then):lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}function lib$es6$promise$$internal$$resolve(promise,value){promise===value?lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$selfFulfillment()):lib$es6$promise$utils$$objectOrFunction(value)?lib$es6$promise$$internal$$handleMaybeThenable(promise,value,lib$es6$promise$$internal$$getThen(value)):lib$es6$promise$$internal$$fulfill(promise,value)}function lib$es6$promise$$internal$$publishRejection(promise){promise._onerror&&promise._onerror(promise._result),lib$es6$promise$$internal$$publish(promise)}function lib$es6$promise$$internal$$fulfill(promise,value){promise._state===lib$es6$promise$$internal$$PENDING&&(promise._result=value,promise._state=lib$es6$promise$$internal$$FULFILLED,0!==promise._subscribers.length&&lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,promise))}function lib$es6$promise$$internal$$reject(promise,reason){promise._state===lib$es6$promise$$internal$$PENDING&&(promise._state=lib$es6$promise$$internal$$REJECTED,promise._result=reason,lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection,promise))}function lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;parent._onerror=null,subscribers[length]=child,subscribers[length+lib$es6$promise$$internal$$FULFILLED]=onFulfillment,subscribers[length+lib$es6$promise$$internal$$REJECTED]=onRejection,0===length&&parent._state&&lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,parent)}function lib$es6$promise$$internal$$publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child,callback,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?lib$es6$promise$$internal$$invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}function lib$es6$promise$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){return lib$es6$promise$$internal$$TRY_CATCH_ERROR.error=e,lib$es6$promise$$internal$$TRY_CATCH_ERROR}}function lib$es6$promise$$internal$$invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=lib$es6$promise$utils$$isFunction(callback);if(hasCallback){if((value=lib$es6$promise$$internal$$tryCatch(callback,detail))===lib$es6$promise$$internal$$TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,promise===value)return void lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$cannotReturnOwn())}else value=detail,succeeded=!0;promise._state!==lib$es6$promise$$internal$$PENDING||(hasCallback&&succeeded?lib$es6$promise$$internal$$resolve(promise,value):failed?lib$es6$promise$$internal$$reject(promise,error):settled===lib$es6$promise$$internal$$FULFILLED?lib$es6$promise$$internal$$fulfill(promise,value):settled===lib$es6$promise$$internal$$REJECTED&&lib$es6$promise$$internal$$reject(promise,value))}function lib$es6$promise$$internal$$initializePromise(promise,resolver){try{resolver(function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}catch(e){lib$es6$promise$$internal$$reject(promise,e)}}function lib$es6$promise$$internal$$nextId(){return lib$es6$promise$$internal$$id++}function lib$es6$promise$$internal$$makePromise(promise){promise[lib$es6$promise$$internal$$PROMISE_ID]=lib$es6$promise$$internal$$id++,promise._state=void 0,promise._result=void 0,promise._subscribers=[]}function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function lib$es6$promise$promise$$Promise(resolver){this[lib$es6$promise$$internal$$PROMISE_ID]=lib$es6$promise$$internal$$nextId(),this._result=this._state=void 0,this._subscribers=[],lib$es6$promise$$internal$$noop!==resolver&&("function"!=typeof resolver&&lib$es6$promise$promise$$needsResolver(),this instanceof lib$es6$promise$promise$$Promise?lib$es6$promise$$internal$$initializePromise(this,resolver):lib$es6$promise$promise$$needsNew())}function lib$es6$promise$enumerator$$Enumerator(Constructor,input){this._instanceConstructor=Constructor,this.promise=new Constructor(lib$es6$promise$$internal$$noop),this.promise[lib$es6$promise$$internal$$PROMISE_ID]||lib$es6$promise$$internal$$makePromise(this.promise),lib$es6$promise$utils$$isArray(input)?(this._input=input,this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?lib$es6$promise$$internal$$fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&lib$es6$promise$$internal$$fulfill(this.promise,this._result))):lib$es6$promise$$internal$$reject(this.promise,lib$es6$promise$enumerator$$validationError())}function lib$es6$promise$enumerator$$validationError(){return new Error("Array Methods must be provided an Array")}var lib$es6$promise$utils$$_isArray,lib$es6$promise$asap$$vertxNext,lib$es6$promise$asap$$customSchedulerFn,lib$es6$promise$asap$$scheduleFlush,lib$es6$promise$utils$$isArray=lib$es6$promise$utils$$_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)},lib$es6$promise$asap$$len=0,lib$es6$promise$asap$$asap=function(callback,arg){lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len]=callback,lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len+1]=arg,2===(lib$es6$promise$asap$$len+=2)&&(lib$es6$promise$asap$$customSchedulerFn?lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush):lib$es6$promise$asap$$scheduleFlush())},lib$es6$promise$asap$$browserWindow="undefined"!=typeof window?window:void 0,lib$es6$promise$asap$$browserGlobal=lib$es6$promise$asap$$browserWindow||{},lib$es6$promise$asap$$BrowserMutationObserver=lib$es6$promise$asap$$browserGlobal.MutationObserver||lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver,lib$es6$promise$asap$$isNode="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),lib$es6$promise$asap$$isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,lib$es6$promise$asap$$queue=new Array(1e3);lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$isNode?function(){process.nextTick(lib$es6$promise$asap$$flush)}:lib$es6$promise$asap$$BrowserMutationObserver?function(){var iterations=0,observer=new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}():lib$es6$promise$asap$$isWorker?function(){var channel=new MessageChannel;return channel.port1.onmessage=lib$es6$promise$asap$$flush,function(){channel.port2.postMessage(0)}}():void 0===lib$es6$promise$asap$$browserWindow&&"function"==typeof require?function(){try{var vertx=require("vertx");return lib$es6$promise$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext,lib$es6$promise$asap$$useVertxTimer()}catch(e){return lib$es6$promise$asap$$useSetTimeout()}}():lib$es6$promise$asap$$useSetTimeout();var lib$es6$promise$then$$default=function(onFulfillment,onRejection){var parent=this,child=new this.constructor(lib$es6$promise$$internal$$noop);void 0===child[lib$es6$promise$$internal$$PROMISE_ID]&&lib$es6$promise$$internal$$makePromise(child);var state=parent._state;if(state){var callback=arguments[state-1];lib$es6$promise$asap$$asap(function(){lib$es6$promise$$internal$$invokeCallback(state,child,callback,parent._result)})}else lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection);return child},lib$es6$promise$promise$resolve$$default=function(object){var Constructor=this;if(object&&"object"==typeof object&&object.constructor===Constructor)return object;var promise=new Constructor(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$resolve(promise,object),promise},lib$es6$promise$$internal$$PROMISE_ID=Math.random().toString(36).substring(16),lib$es6$promise$$internal$$PENDING=void 0,lib$es6$promise$$internal$$FULFILLED=1,lib$es6$promise$$internal$$REJECTED=2,lib$es6$promise$$internal$$GET_THEN_ERROR=new lib$es6$promise$$internal$$ErrorObject,lib$es6$promise$$internal$$TRY_CATCH_ERROR=new lib$es6$promise$$internal$$ErrorObject,lib$es6$promise$$internal$$id=0,lib$es6$promise$promise$$default=lib$es6$promise$promise$$Promise;lib$es6$promise$promise$$Promise.all=function(entries){return new lib$es6$promise$enumerator$$default(this,entries).promise},lib$es6$promise$promise$$Promise.race=function(entries){var Constructor=this;return new Constructor(lib$es6$promise$utils$$isArray(entries)?function(resolve,reject){for(var length=entries.length,i=0;i<length;i++)Constructor.resolve(entries[i]).then(resolve,reject)}:function(resolve,reject){reject(new TypeError("You must pass an array to race."))})},lib$es6$promise$promise$$Promise.resolve=lib$es6$promise$promise$resolve$$default,lib$es6$promise$promise$$Promise.reject=function(reason){var promise=new this(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$reject(promise,reason),promise},lib$es6$promise$promise$$Promise._setScheduler=function(scheduleFn){lib$es6$promise$asap$$customSchedulerFn=scheduleFn},lib$es6$promise$promise$$Promise._setAsap=function(asapFn){lib$es6$promise$asap$$asap=asapFn},lib$es6$promise$promise$$Promise._asap=lib$es6$promise$asap$$asap,lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:lib$es6$promise$then$$default,catch:function(onRejection){return this.then(null,onRejection)}};var lib$es6$promise$enumerator$$default=lib$es6$promise$enumerator$$Enumerator;lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){for(var length=this.length,input=this._input,i=0;this._state===lib$es6$promise$$internal$$PENDING&&i<length;i++)this._eachEntry(input[i],i)},lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor,resolve=c.resolve;if(resolve===lib$es6$promise$promise$resolve$$default){var then=lib$es6$promise$$internal$$getThen(entry);if(then===lib$es6$promise$then$$default&&entry._state!==lib$es6$promise$$internal$$PENDING)this._settledAt(entry._state,i,entry._result);else if("function"!=typeof then)this._remaining--,this._result[i]=entry;else if(c===lib$es6$promise$promise$$default){var promise=new c(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$handleMaybeThenable(promise,entry,then),this._willSettleAt(promise,i)}else this._willSettleAt(new c(function(resolve){resolve(entry)}),i)}else this._willSettleAt(resolve(entry),i)},lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;promise._state===lib$es6$promise$$internal$$PENDING&&(this._remaining--,state===lib$es6$promise$$internal$$REJECTED?lib$es6$promise$$internal$$reject(promise,value):this._result[i]=value),0===this._remaining&&lib$es6$promise$$internal$$fulfill(promise,this._result)},lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;lib$es6$promise$$internal$$subscribe(promise,void 0,function(value){enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$es6$promise$$internal$$REJECTED,i,reason)})};var lib$es6$promise$polyfill$$default=function(){var local;if("undefined"!=typeof global)local=global;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise;P&&"[object Promise]"===Object.prototype.toString.call(P.resolve())&&!P.cast||(local.Promise=lib$es6$promise$promise$$default)};lib$es6$promise$promise$$default.Promise=lib$es6$promise$promise$$default,lib$es6$promise$promise$$default.polyfill=lib$es6$promise$polyfill$$default,"function"==typeof define&&define.amd?define(function(){return lib$es6$promise$promise$$default}):"undefined"!=typeof module&&module.exports?module.exports=lib$es6$promise$promise$$default:void 0!==this&&(this.Promise=lib$es6$promise$promise$$default),lib$es6$promise$polyfill$$default()}.call(this),function(){function ByteStringBuffer(b){if(this.data="",this.read=0,"string"==typeof b)this.data=b;else if(util.isArrayBuffer(b)||util.isArrayBufferView(b)){var arr=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,arr)}catch(e){for(var i=0;i<arr.length;++i)this.putByte(arr[i])}}else(b instanceof ByteStringBuffer||"object"==typeof b&&"string"==typeof b.data&&"number"==typeof b.read)&&(this.data=b.data,this.read=b.read);this._constructedStringLength=0}function _init(){_padding=String.fromCharCode(128),_padding+=forge.util.fillString(String.fromCharCode(0),64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized=!0}function _update(s,w,bytes){for(var t1,t2,s0,maj,i,a,b,c,d,e,f,g,h,len=bytes.length();len>=64;){for(i=0;i<16;++i)w[i]=bytes.getInt32();for(;i<64;++i)t1=((t1=w[i-2])>>>17|t1<<15)^(t1>>>19|t1<<13)^t1>>>10,t2=((t2=w[i-15])>>>7|t2<<25)^(t2>>>18|t2<<14)^t2>>>3,w[i]=t1+w[i-7]+t2+w[i-16]|0;for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,e=s.h4,f=s.h5,g=s.h6,h=s.h7,i=0;i<64;++i)s0=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),maj=a&b|c&(a^b),t1=h+((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(g^e&(f^g))+_k[i]+w[i],h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+(t2=s0+maj)|0;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,s.h4=s.h4+e|0,s.h5=s.h5+f|0,s.h6=s.h6+g|0,s.h7=s.h7+h|0,len-=64}}var forge={},util=forge.util=forge.util||{};util.isArrayBuffer=function(x){return"undefined"!=typeof ArrayBuffer&&x instanceof ArrayBuffer},util.isArrayBufferView=function(x){return x&&util.isArrayBuffer(x.buffer)&&void 0!==x.byteLength},util.ByteBuffer=ByteStringBuffer,util.ByteStringBuffer=ByteStringBuffer;util.ByteStringBuffer.prototype._optimizeConstructedString=function(x){this._constructedStringLength+=x,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},util.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},util.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},util.ByteStringBuffer.prototype.putByte=function(b){return this.putBytes(String.fromCharCode(b))},util.ByteStringBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);for(var d=this.data;n>0;)1&n&&(d+=b),(n>>>=1)>0&&(b+=b);return this.data=d,this._optimizeConstructedString(n),this},util.ByteStringBuffer.prototype.putBytes=function(bytes){return this.data+=bytes,this._optimizeConstructedString(bytes.length),this},util.ByteStringBuffer.prototype.putString=function(str){return this.putBytes(util.encodeUtf8(str))},util.ByteStringBuffer.prototype.putInt16=function(i){return this.putBytes(String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt24=function(i){return this.putBytes(String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt32=function(i){return this.putBytes(String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt16Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255))},util.ByteStringBuffer.prototype.putInt24Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255))},util.ByteStringBuffer.prototype.putInt32Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255))},util.ByteStringBuffer.prototype.putInt=function(i,n){var bytes="";do{n-=8,bytes+=String.fromCharCode(i>>n&255)}while(n>0);return this.putBytes(bytes)},util.ByteStringBuffer.prototype.putSignedInt=function(i,n){return i<0&&(i+=2<<n-1),this.putInt(i,n)},util.ByteStringBuffer.prototype.putBuffer=function(buffer){return this.putBytes(buffer.getBytes())},util.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},util.ByteStringBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,rval},util.ByteStringBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,rval},util.ByteStringBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,rval},util.ByteStringBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,rval},util.ByteStringBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,rval},util.ByteStringBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,rval},util.ByteStringBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<8)+this.data.charCodeAt(this.read++),n-=8}while(n>0);return rval},util.ByteStringBuffer.prototype.getSignedInt=function(n){var x=this.getInt(n),max=2<<n-2;return x>=max&&(x-=max<<1),x},util.ByteStringBuffer.prototype.getBytes=function(count){var rval;return count?(count=Math.min(this.length(),count),rval=this.data.slice(this.read,this.read+count),this.read+=count):0===count?rval="":(rval=0===this.read?this.data:this.data.slice(this.read),this.clear()),rval},util.ByteStringBuffer.prototype.bytes=function(count){return void 0===count?this.data.slice(this.read):this.data.slice(this.read,this.read+count)},util.ByteStringBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)},util.ByteStringBuffer.prototype.setAt=function(i,b){return this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1),this},util.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},util.ByteStringBuffer.prototype.copy=function(){var c=util.createBuffer(this.data);return c.read=this.read,c},util.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},util.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},util.ByteStringBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);return this.data=this.data.substr(this.read,len),this.read=0,this},util.ByteStringBuffer.prototype.toHex=function(){for(var rval="",i=this.read;i<this.data.length;++i){var b=this.data.charCodeAt(i);b<16&&(rval+="0"),rval+=b.toString(16)}return rval},util.ByteStringBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())},util.createBuffer=function(input,encoding){return encoding=encoding||"raw",void 0!==input&&"utf8"===encoding&&(input=util.encodeUtf8(input)),new util.ByteBuffer(input)},util.fillString=function(c,n){for(var s="";n>0;)1&n&&(s+=c),(n>>>=1)>0&&(c+=c);return s},util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))},util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};var sha256=forge.sha256=forge.sha256||{};forge.md=forge.md||{},forge.md.algorithms=forge.md.algorithms||{},forge.md.sha256=forge.md.algorithms.sha256=sha256,sha256.create=function(){_initialized||_init();var _state=null,_input=forge.util.createBuffer(),_w=new Array(64),md={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,messageLength64:[0,0]};return md.start=function(){return md.messageLength=0,md.messageLength64=[0,0],_input=forge.util.createBuffer(),_state={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},md},md.start(),md.update=function(msg,encoding){return"utf8"===encoding&&(msg=forge.util.encodeUtf8(msg)),md.messageLength+=msg.length,md.messageLength64[0]+=msg.length/4294967296>>>0,md.messageLength64[1]+=msg.length>>>0,_input.putBytes(msg),_update(_state,_w,_input),(_input.read>2048||0===_input.length())&&_input.compact(),md},md.digest=function(){var padBytes=forge.util.createBuffer();padBytes.putBytes(_input.bytes()),padBytes.putBytes(_padding.substr(0,64-(md.messageLength64[1]+8&63))),padBytes.putInt32(md.messageLength64[0]<<3|md.messageLength64[0]>>>28),padBytes.putInt32(md.messageLength64[1]<<3);var s2={h0:_state.h0,h1:_state.h1,h2:_state.h2,h3:_state.h3,h4:_state.h4,h5:_state.h5,h6:_state.h6,h7:_state.h7};_update(s2,_w,padBytes);var rval=forge.util.createBuffer();return rval.putInt32(s2.h0),rval.putInt32(s2.h1),rval.putInt32(s2.h2),rval.putInt32(s2.h3),rval.putInt32(s2.h4),rval.putInt32(s2.h5),rval.putInt32(s2.h6),rval.putInt32(s2.h7),rval},md};var _padding=null,_initialized=!1,_k=null;util.hasWideChar=function(str){for(var i=0;i<str.length;i++)if(str.charCodeAt(i)>>>8)return!0;return!1},window.forge_sha256=function(str){var md=forge.md.sha256.create();return md.update(str,util.hasWideChar(str)?"utf8":void 0),md.digest().toHex()}}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.html2canvas=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){!function(root){function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length;length--;)array[length]=fn(array[length]);return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=basicToDigit(input.charCodeAt(index++)))>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(_dereq_,module,exports){function restoreOwnerScroll(ownerDocument,x,y){!ownerDocument.defaultView||x===ownerDocument.defaultView.pageXOffset&&y===ownerDocument.defaultView.pageYOffset||ownerDocument.defaultView.scrollTo(x,y)}function cloneCanvasContents(canvas,clonedCanvas){try{clonedCanvas&&(clonedCanvas.width=canvas.width,clonedCanvas.height=canvas.height,clonedCanvas.getContext("2d").putImageData(canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height),0,0))}catch(e){log("Unable to copy canvas content from",canvas,e)}}function cloneNode(node,javascriptEnabled){for(var clone=3===node.nodeType?document.createTextNode(node.nodeValue):node.cloneNode(!1),child=node.firstChild;child;)!0!==javascriptEnabled&&1===child.nodeType&&"SCRIPT"===child.nodeName||clone.appendChild(cloneNode(child,javascriptEnabled)),child=child.nextSibling;return 1===node.nodeType&&(clone._scrollTop=node.scrollTop,clone._scrollLeft=node.scrollLeft,"CANVAS"===node.nodeName?cloneCanvasContents(node,clone):"TEXTAREA"!==node.nodeName&&"SELECT"!==node.nodeName||(clone.value=node.value)),clone}function initNode(node){if(1===node.nodeType){node.scrollTop=node._scrollTop,node.scrollLeft=node._scrollLeft;for(var child=node.firstChild;child;)initNode(child),child=child.nextSibling}}var log=_dereq_("./log");module.exports=function(ownerDocument,containerDocument,width,height,options,x,y){var documentElement=cloneNode(ownerDocument.documentElement,options.javascriptEnabled),container=containerDocument.createElement("iframe");return container.className="html2canvas-container",container.style.visibility="hidden",container.style.position="fixed",container.style.left="-10000px",container.style.top="0px",container.style.border="0",container.width=width,container.height=height,container.scrolling="no",containerDocument.body.appendChild(container),new Promise(function(resolve){var documentClone=container.contentWindow.document;container.contentWindow.onload=container.onload=function(){var interval=setInterval(function(){documentClone.body.childNodes.length>0&&(initNode(documentClone.documentElement),clearInterval(interval),"view"===options.type&&(container.contentWindow.scrollTo(x,y),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||container.contentWindow.scrollY===y&&container.contentWindow.scrollX===x||(documentClone.documentElement.style.top=-y+"px",documentClone.documentElement.style.left=-x+"px",documentClone.documentElement.style.position="absolute")),resolve(container))},50)},documentClone.open(),documentClone.write("<!DOCTYPE html><html></html>"),restoreOwnerScroll(ownerDocument,x,y),documentClone.replaceChild(documentClone.adoptNode(documentElement),documentClone.documentElement),documentClone.close()})}},{"./log":13}],3:[function(_dereq_,module,exports){function Color(value){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(value)||this.namedColor(value)||this.rgb(value)||this.rgba(value)||this.hex6(value)||this.hex3(value)}Color.prototype.darken=function(amount){var a=1-amount;return new Color([Math.round(this.r*a),Math.round(this.g*a),Math.round(this.b*a),this.a])},Color.prototype.isTransparent=function(){return 0===this.a},Color.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},Color.prototype.fromArray=function(array){return Array.isArray(array)&&(this.r=Math.min(array[0],255),this.g=Math.min(array[1],255),this.b=Math.min(array[2],255),array.length>3&&(this.a=array[3])),Array.isArray(array)};var _hex3=/^#([a-f0-9]{3})$/i;Color.prototype.hex3=function(value){var match=null;return null!==(match=value.match(_hex3))&&(this.r=parseInt(match[1][0]+match[1][0],16),this.g=parseInt(match[1][1]+match[1][1],16),this.b=parseInt(match[1][2]+match[1][2],16)),null!==match};var _hex6=/^#([a-f0-9]{6})$/i;Color.prototype.hex6=function(value){var match=null;return null!==(match=value.match(_hex6))&&(this.r=parseInt(match[1].substring(0,2),16),this.g=parseInt(match[1].substring(2,4),16),this.b=parseInt(match[1].substring(4,6),16)),null!==match};var _rgb=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;Color.prototype.rgb=function(value){var match=null;return null!==(match=value.match(_rgb))&&(this.r=Number(match[1]),this.g=Number(match[2]),this.b=Number(match[3])),null!==match};var _rgba=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;Color.prototype.rgba=function(value){var match=null;return null!==(match=value.match(_rgba))&&(this.r=Number(match[1]),this.g=Number(match[2]),this.b=Number(match[3]),this.a=Number(match[4])),null!==match},Color.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},Color.prototype.namedColor=function(value){value=value.toLowerCase();var color=colors[value];if(color)this.r=color[0],this.g=color[1],this.b=color[2];else if("transparent"===value)return this.r=this.g=this.b=this.a=0,!0;return!!color},Color.prototype.isColor=!0;var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};module.exports=Color},{}],4:[function(_dereq_,module,exports){function html2canvas(nodeList,options){var index=html2canvasCloneIndex++;if((options=options||{}).logging&&(log.options.logging=!0,log.options.start=Date.now()),options.async=void 0===options.async||options.async,options.allowTaint=void 0!==options.allowTaint&&options.allowTaint,options.removeContainer=void 0===options.removeContainer||options.removeContainer,options.javascriptEnabled=void 0!==options.javascriptEnabled&&options.javascriptEnabled,options.imageTimeout=void 0===options.imageTimeout?1e4:options.imageTimeout,options.renderer="function"==typeof options.renderer?options.renderer:CanvasRenderer,options.strict=!!options.strict,"string"==typeof nodeList){if("string"!=typeof options.proxy)return Promise.reject("Proxy must be used when rendering url");var width=null!=options.width?options.width:window.innerWidth,height=null!=options.height?options.height:window.innerHeight;return loadUrlDocument(absoluteUrl(nodeList),options.proxy,document,width,height,options).then(function(container){return renderWindow(container.contentWindow.document.documentElement,container,options,width,height)})}var node=(void 0===nodeList?[document.documentElement]:nodeList.length?nodeList:[nodeList])[0];return node.setAttribute(html2canvasNodeAttribute+index,index),renderDocument(node.ownerDocument,options,node.ownerDocument.defaultView.innerWidth,node.ownerDocument.defaultView.innerHeight,index).then(function(canvas){return"function"==typeof options.onrendered&&(log("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),options.onrendered(canvas)),canvas})}function renderDocument(document,options,windowWidth,windowHeight,html2canvasIndex){return createWindowClone(document,document,windowWidth,windowHeight,options,document.defaultView.pageXOffset,document.defaultView.pageYOffset).then(function(container){log("Document cloned");var attributeName=html2canvasNodeAttribute+html2canvasIndex,selector="["+attributeName+"='"+html2canvasIndex+"']";document.querySelector(selector).removeAttribute(attributeName);var clonedWindow=container.contentWindow,node=clonedWindow.document.querySelector(selector);return("function"==typeof options.onclone?Promise.resolve(options.onclone(clonedWindow.document)):Promise.resolve(!0)).then(function(){return renderWindow(node,container,options,windowWidth,windowHeight)})})}function renderWindow(node,container,options,windowWidth,windowHeight){var clonedWindow=container.contentWindow,support=new Support(clonedWindow.document),imageLoader=new ImageLoader(options,support),bounds=getBounds(node),width="view"===options.type?windowWidth:documentWidth(clonedWindow.document),height="view"===options.type?windowHeight:documentHeight(clonedWindow.document),renderer=new options.renderer(width,height,imageLoader,options,document);return new NodeParser(node,renderer,support,imageLoader,options).ready.then(function(){log("Finished rendering");var canvas;return canvas="view"===options.type?crop(renderer.canvas,{width:renderer.canvas.width,height:renderer.canvas.height,top:0,left:0,x:0,y:0}):node===clonedWindow.document.body||node===clonedWindow.document.documentElement||null!=options.canvas?renderer.canvas:crop(renderer.canvas,{width:null!=options.width?options.width:bounds.width,height:null!=options.height?options.height:bounds.height,top:bounds.top,left:bounds.left,x:0,y:0}),cleanupContainer(container,options),canvas})}function cleanupContainer(container,options){options.removeContainer&&(container.parentNode.removeChild(container),log("Cleaned up container"))}function crop(canvas,bounds){var croppedCanvas=document.createElement("canvas"),x1=Math.min(canvas.width-1,Math.max(0,bounds.left)),x2=Math.min(canvas.width,Math.max(1,bounds.left+bounds.width)),y1=Math.min(canvas.height-1,Math.max(0,bounds.top)),y2=Math.min(canvas.height,Math.max(1,bounds.top+bounds.height));croppedCanvas.width=bounds.width,croppedCanvas.height=bounds.height;var width=x2-x1,height=y2-y1;return log("Cropping canvas at:","left:",bounds.left,"top:",bounds.top,"width:",width,"height:",height),log("Resulting crop with width",bounds.width,"and height",bounds.height,"with x",x1,"and y",y1),croppedCanvas.getContext("2d").drawImage(canvas,x1,y1,width,height,bounds.x,bounds.y,width,height),croppedCanvas}function documentWidth(doc){return Math.max(Math.max(doc.body.scrollWidth,doc.documentElement.scrollWidth),Math.max(doc.body.offsetWidth,doc.documentElement.offsetWidth),Math.max(doc.body.clientWidth,doc.documentElement.clientWidth))}function documentHeight(doc){return Math.max(Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight),Math.max(doc.body.offsetHeight,doc.documentElement.offsetHeight),Math.max(doc.body.clientHeight,doc.documentElement.clientHeight))}function absoluteUrl(url){var link=document.createElement("a");return link.href=url,link.href=link.href,link}var Support=_dereq_("./support"),CanvasRenderer=_dereq_("./renderers/canvas"),ImageLoader=_dereq_("./imageloader"),NodeParser=_dereq_("./nodeparser"),NodeContainer=_dereq_("./nodecontainer"),log=_dereq_("./log"),utils=_dereq_("./utils"),createWindowClone=_dereq_("./clone"),loadUrlDocument=_dereq_("./proxy").loadUrlDocument,getBounds=utils.getBounds,html2canvasNodeAttribute="data-html2canvas-node",html2canvasCloneIndex=0;html2canvas.CanvasRenderer=CanvasRenderer,html2canvas.NodeContainer=NodeContainer,html2canvas.log=log,html2canvas.utils=utils;var html2canvasExport="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:html2canvas;module.exports=html2canvasExport},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(_dereq_,module,exports){function DummyImageContainer(src){if(this.src=src,log("DummyImageContainer for",src),!this.promise||!this.image){log("Initiating DummyImageContainer"),DummyImageContainer.prototype.image=new Image;var image=this.image;DummyImageContainer.prototype.promise=new Promise(function(resolve,reject){image.onload=resolve,image.onerror=reject,image.src=smallImage(),!0===image.complete&&resolve(image)})}}var log=_dereq_("./log"),smallImage=_dereq_("./utils").smallImage;module.exports=DummyImageContainer},{"./log":13,"./utils":26}],6:[function(_dereq_,module,exports){var smallImage=_dereq_("./utils").smallImage;module.exports=function(family,size){var baseline,middle,container=document.createElement("div"),img=document.createElement("img"),span=document.createElement("span");container.style.visibility="hidden",container.style.fontFamily=family,container.style.fontSize=size,container.style.margin=0,container.style.padding=0,document.body.appendChild(container),img.src=smallImage(),img.width=1,img.height=1,img.style.margin=0,img.style.padding=0,img.style.verticalAlign="baseline",span.style.fontFamily=family,span.style.fontSize=size,span.style.margin=0,span.style.padding=0,span.appendChild(document.createTextNode("Hidden Text")),container.appendChild(span),container.appendChild(img),baseline=img.offsetTop-span.offsetTop+1,container.removeChild(span),container.appendChild(document.createTextNode("Hidden Text")),container.style.lineHeight="normal",img.style.verticalAlign="super",middle=img.offsetTop-container.offsetTop+1,document.body.removeChild(container),this.baseline=baseline,this.lineWidth=1,this.middle=middle}},{"./utils":26}],7:[function(_dereq_,module,exports){function FontMetrics(){this.data={}}var Font=_dereq_("./font");FontMetrics.prototype.getMetrics=function(family,size){return void 0===this.data[family+"-"+size]&&(this.data[family+"-"+size]=new Font(family,size)),this.data[family+"-"+size]},module.exports=FontMetrics},{"./font":6}],8:[function(_dereq_,module,exports){function FrameContainer(container,sameOrigin,options){this.image=null,this.src=container;var self=this,bounds=getBounds(container);this.promise=(sameOrigin?new Promise(function(resolve){"about:blank"===container.contentWindow.document.URL||null==container.contentWindow.document.documentElement?container.contentWindow.onload=container.onload=function(){resolve(container)}:resolve(container)}):this.proxyLoad(options.proxy,bounds,options)).then(function(container){return _dereq_("./core")(container.contentWindow.document.documentElement,{type:"view",width:container.width,height:container.height,proxy:options.proxy,javascriptEnabled:options.javascriptEnabled,removeContainer:options.removeContainer,allowTaint:options.allowTaint,imageTimeout:options.imageTimeout/2})}).then(function(canvas){return self.image=canvas})}var getBounds=_dereq_("./utils").getBounds,loadUrlDocument=_dereq_("./proxy").loadUrlDocument;FrameContainer.prototype.proxyLoad=function(proxy,bounds,options){var container=this.src;return loadUrlDocument(container.src,proxy,container.ownerDocument,bounds.width,bounds.height,options)},module.exports=FrameContainer},{"./core":4,"./proxy":16,"./utils":26}],9:[function(_dereq_,module,exports){function GradientContainer(imageData){this.src=imageData.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}GradientContainer.TYPES={LINEAR:1,RADIAL:2},GradientContainer.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,module.exports=GradientContainer},{}],10:[function(_dereq_,module,exports){module.exports=function(src,cors){this.src=src,this.image=new Image;var self=this;this.tainted=null,this.promise=new Promise(function(resolve,reject){self.image.onload=resolve,self.image.onerror=reject,cors&&(self.image.crossOrigin="anonymous"),self.image.src=src,!0===self.image.complete&&resolve(self.image)})}},{}],11:[function(_dereq_,module,exports){function ImageLoader(options,support){this.link=null,this.options=options,this.support=support,this.origin=this.getOrigin(window.location.href)}var log=_dereq_("./log"),ImageContainer=_dereq_("./imagecontainer"),DummyImageContainer=_dereq_("./dummyimagecontainer"),ProxyImageContainer=_dereq_("./proxyimagecontainer"),FrameContainer=_dereq_("./framecontainer"),SVGContainer=_dereq_("./svgcontainer"),SVGNodeContainer=_dereq_("./svgnodecontainer"),LinearGradientContainer=_dereq_("./lineargradientcontainer"),WebkitGradientContainer=_dereq_("./webkitgradientcontainer"),bind=_dereq_("./utils").bind;ImageLoader.prototype.findImages=function(nodes){var images=[];return nodes.reduce(function(imageNodes,container){switch(container.node.nodeName){case"IMG":return imageNodes.concat([{args:[container.node.src],method:"url"}]);case"svg":case"IFRAME":return imageNodes.concat([{args:[container.node],method:container.node.nodeName}])}return imageNodes},[]).forEach(this.addImage(images,this.loadImage),this),images},ImageLoader.prototype.findBackgroundImage=function(images,container){return container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images,this.loadImage),this),images},ImageLoader.prototype.addImage=function(images,callback){return function(newImage){newImage.args.forEach(function(image){this.imageExists(images,image)||(images.splice(0,0,callback.call(this,newImage)),log("Added image #"+images.length,"string"==typeof image?image.substring(0,100):image))},this)}},ImageLoader.prototype.hasImageBackground=function(imageData){return"none"!==imageData.method},ImageLoader.prototype.loadImage=function(imageData){if("url"===imageData.method){var src=imageData.args[0];return!this.isSVG(src)||this.support.svg||this.options.allowTaint?src.match(/data:image\/.*;base64,/i)?new ImageContainer(src.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(src)||!0===this.options.allowTaint||this.isSVG(src)?new ImageContainer(src,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new ImageContainer(src,!0):this.options.proxy?new ProxyImageContainer(src,this.options.proxy):new DummyImageContainer(src):new SVGContainer(src)}return"linear-gradient"===imageData.method?new LinearGradientContainer(imageData):"gradient"===imageData.method?new WebkitGradientContainer(imageData):"svg"===imageData.method?new SVGNodeContainer(imageData.args[0],this.support.svg):"IFRAME"===imageData.method?new FrameContainer(imageData.args[0],this.isSameOrigin(imageData.args[0].src),this.options):new DummyImageContainer(imageData)},ImageLoader.prototype.isSVG=function(src){return"svg"===src.substring(src.length-3).toLowerCase()||SVGContainer.prototype.isInline(src)},ImageLoader.prototype.imageExists=function(images,src){return images.some(function(image){return image.src===src})},ImageLoader.prototype.isSameOrigin=function(url){return this.getOrigin(url)===this.origin},ImageLoader.prototype.getOrigin=function(url){var link=this.link||(this.link=document.createElement("a"));return link.href=url,link.href=link.href,link.protocol+link.hostname+link.port},ImageLoader.prototype.getPromise=function(container){return this.timeout(container,this.options.imageTimeout).catch(function(){return new DummyImageContainer(container.src).promise.then(function(image){container.image=image})})},ImageLoader.prototype.get=function(src){var found=null;return this.images.some(function(img){return(found=img).src===src})?found:null},ImageLoader.prototype.fetch=function(nodes){return this.images=nodes.reduce(bind(this.findBackgroundImage,this),this.findImages(nodes)),this.images.forEach(function(image,index){image.promise.then(function(){log("Succesfully loaded image #"+(index+1),image)},function(e){log("Failed loading image #"+(index+1),image,e)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),log("Finished searching images"),this},ImageLoader.prototype.timeout=function(container,timeout){var timer,promise=Promise.race([container.promise,new Promise(function(res,reject){timer=setTimeout(function(){log("Timed out loading image",container),reject(container)},timeout)})]).then(function(container){return clearTimeout(timer),container});return promise.catch(function(){clearTimeout(timer)}),promise},module.exports=ImageLoader},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(_dereq_,module,exports){function LinearGradientContainer(imageData){GradientContainer.apply(this,arguments),this.type=GradientContainer.TYPES.LINEAR;var hasDirection=LinearGradientContainer.REGEXP_DIRECTION.test(imageData.args[0])||!GradientContainer.REGEXP_COLORSTOP.test(imageData.args[0]);hasDirection?imageData.args[0].split(/\s+/).reverse().forEach(function(position,index){switch(position){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var y0=this.y0,x0=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=x0,this.y1=y0;break;case"center":break;default:var ratio=.01*parseFloat(position,10);if(isNaN(ratio))break;0===index?(this.y0=ratio,this.y1=1-this.y0):(this.x0=ratio,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=imageData.args.slice(hasDirection?1:0).map(function(colorStop){var colorStopMatch=colorStop.match(GradientContainer.REGEXP_COLORSTOP),value=+colorStopMatch[2],unit=0===value?"%":colorStopMatch[3];return{color:new Color(colorStopMatch[1]),stop:"%"===unit?value/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(colorStop,index){null===colorStop.stop&&this.colorStops.slice(index).some(function(find,count){return null!==find.stop&&(colorStop.stop=(find.stop-this.colorStops[index-1].stop)/(count+1)+this.colorStops[index-1].stop,!0)},this)},this)}var GradientContainer=_dereq_("./gradientcontainer"),Color=_dereq_("./color");LinearGradientContainer.prototype=Object.create(GradientContainer.prototype),LinearGradientContainer.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,module.exports=LinearGradientContainer},{"./color":3,"./gradientcontainer":9}],13:[function(_dereq_,module,exports){var logger=function(){logger.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-logger.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};logger.options={logging:!1},module.exports=logger},{}],14:[function(_dereq_,module,exports){function NodeContainer(node,parent){this.node=node,this.parent=parent,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function selectionValue(node){var option=node.options[node.selectedIndex||0];return option?option.text||"":""}function parseMatrix(match){if(match&&"matrix"===match[1])return match[2].split(",").map(function(s){return parseFloat(s.trim())});if(match&&"matrix3d"===match[1]){var matrix3d=match[2].split(",").map(function(s){return parseFloat(s.trim())});return[matrix3d[0],matrix3d[1],matrix3d[4],matrix3d[5],matrix3d[12],matrix3d[13]]}}function isPercentage(value){return-1!==value.toString().indexOf("%")}function removePx(str){return str.replace("px","")}function asFloat(str){return parseFloat(str)}var Color=_dereq_("./color"),utils=_dereq_("./utils"),getBounds=utils.getBounds,parseBackgrounds=utils.parseBackgrounds,offsetBounds=utils.offsetBounds;NodeContainer.prototype.cloneTo=function(stack){stack.visible=this.visible,stack.borders=this.borders,stack.bounds=this.bounds,stack.clip=this.clip,stack.backgroundClip=this.backgroundClip,stack.computedStyles=this.computedStyles,stack.styles=this.styles,stack.backgroundImages=this.backgroundImages,stack.opacity=this.opacity},NodeContainer.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},NodeContainer.prototype.assignStack=function(stack){this.stack=stack,stack.children.push(this)},NodeContainer.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},NodeContainer.prototype.css=function(attribute){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[attribute]||(this.styles[attribute]=this.computedStyles[attribute])},NodeContainer.prototype.prefixedCss=function(attribute){var prefixes=["webkit","moz","ms","o"],value=this.css(attribute);return void 0===value&&prefixes.some(function(prefix){return void 0!==(value=this.css(prefix+attribute.substr(0,1).toUpperCase()+attribute.substr(1)))},this),void 0===value?null:value},NodeContainer.prototype.computedStyle=function(type){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,type)},NodeContainer.prototype.cssInt=function(attribute){var value=parseInt(this.css(attribute),10);return isNaN(value)?0:value},NodeContainer.prototype.color=function(attribute){return this.colors[attribute]||(this.colors[attribute]=new Color(this.css(attribute)))},NodeContainer.prototype.cssFloat=function(attribute){var value=parseFloat(this.css(attribute));return isNaN(value)?0:value},NodeContainer.prototype.fontWeight=function(){var weight=this.css("fontWeight");switch(parseInt(weight,10)){case 401:weight="bold";break;case 400:weight="normal"}return weight},NodeContainer.prototype.parseClip=function(){var matches=this.css("clip").match(this.CLIP);return matches?{top:parseInt(matches[1],10),right:parseInt(matches[2],10),bottom:parseInt(matches[3],10),left:parseInt(matches[4],10)}:null},NodeContainer.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=parseBackgrounds(this.css("backgroundImage")))},NodeContainer.prototype.cssList=function(property,index){var value=(this.css(property)||"").split(",");return value=value[index||0]||value[0]||"auto",1===(value=value.trim().split(" ")).length&&(value=[value[0],isPercentage(value[0])?"auto":value[0]]),value},NodeContainer.prototype.parseBackgroundSize=function(bounds,image,index){var width,height,size=this.cssList("backgroundSize",index);if(isPercentage(size[0]))width=bounds.width*parseFloat(size[0])/100;else{if(/contain|cover/.test(size[0])){var targetRatio=bounds.width/bounds.height,currentRatio=image.width/image.height;return targetRatio<currentRatio^"contain"===size[0]?{width:bounds.height*currentRatio,height:bounds.height}:{width:bounds.width,height:bounds.width/currentRatio}}width=parseInt(size[0],10)}return height="auto"===size[0]&&"auto"===size[1]?image.height:"auto"===size[1]?width/image.width*image.height:isPercentage(size[1])?bounds.height*parseFloat(size[1])/100:parseInt(size[1],10),"auto"===size[0]&&(width=height/image.height*image.width),{width:width,height:height}},NodeContainer.prototype.parseBackgroundPosition=function(bounds,image,index,backgroundSize){var left,top,position=this.cssList("backgroundPosition",index);return left=isPercentage(position[0])?(bounds.width-(backgroundSize||image).width)*(parseFloat(position[0])/100):parseInt(position[0],10),top="auto"===position[1]?left/image.width*image.height:isPercentage(position[1])?(bounds.height-(backgroundSize||image).height)*parseFloat(position[1])/100:parseInt(position[1],10),"auto"===position[0]&&(left=top/image.height*image.width),{left:left,top:top}},NodeContainer.prototype.parseBackgroundRepeat=function(index){return this.cssList("backgroundRepeat",index)[0]},NodeContainer.prototype.parseTextShadows=function(){var textShadow=this.css("textShadow"),results=[];if(textShadow&&"none"!==textShadow)for(var shadows=textShadow.match(this.TEXT_SHADOW_PROPERTY),i=0;shadows&&i<shadows.length;i++){var s=shadows[i].match(this.TEXT_SHADOW_VALUES);results.push({color:new Color(s[0]),offsetX:s[1]?parseFloat(s[1].replace("px","")):0,offsetY:s[2]?parseFloat(s[2].replace("px","")):0,blur:s[3]?s[3].replace("px",""):0})}return results},NodeContainer.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var offset=this.parseBounds(),origin=this.prefixedCss("transformOrigin").split(" ").map(removePx).map(asFloat);origin[0]+=offset.left,origin[1]+=offset.top,this.transformData={origin:origin,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},NodeContainer.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var transform=this.prefixedCss("transform"),matrix=transform?parseMatrix(transform.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=matrix||[1,0,0,1,0,0]}return this.transformMatrix},NodeContainer.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?offsetBounds(this.node):getBounds(this.node))},NodeContainer.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},NodeContainer.prototype.getValue=function(){var value=this.node.value||"";return"SELECT"===this.node.tagName?value=selectionValue(this.node):"password"===this.node.type&&(value=Array(value.length+1).join("•")),0===value.length?this.node.placeholder||"":value},NodeContainer.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,NodeContainer.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,NodeContainer.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,NodeContainer.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,module.exports=NodeContainer},{"./color":3,"./utils":26}],15:[function(_dereq_,module,exports){function NodeParser(element,renderer,support,imageLoader,options){log("Starting NodeParser"),this.renderer=renderer,this.options=options,this.range=null,this.support=support,this.renderQueue=[],this.stack=new StackingContext(!0,1,element.ownerDocument,null);var parent=new NodeContainer(element,null);if(options.background&&renderer.rectangle(0,0,renderer.width,renderer.height,new Color(options.background)),element===element.ownerDocument.documentElement){var canvasBackground=new NodeContainer(parent.color("backgroundColor").isTransparent()?element.ownerDocument.body:element.ownerDocument.documentElement,null);renderer.rectangle(0,0,renderer.width,renderer.height,canvasBackground.color("backgroundColor"))}parent.visibile=parent.isElementVisible(),this.createPseudoHideStyles(element.ownerDocument),this.disableAnimations(element.ownerDocument),this.nodes=flatten([parent].concat(this.getChildren(parent)).filter(function(container){return container.visible=container.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new FontMetrics,log("Fetched nodes, total:",this.nodes.length),log("Calculate overflow clips"),this.calculateOverflowClips(),log("Start fetching images"),this.images=imageLoader.fetch(this.nodes.filter(isElement)),this.ready=this.images.ready.then(bind(function(){return log("Images loaded, starting parsing"),log("Creating stacking contexts"),this.createStackingContexts(),log("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),log("Render queue created with "+this.renderQueue.length+" items"),new Promise(bind(function(resolve){options.async?"function"==typeof options.async?options.async.call(this,this.renderQueue,resolve):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,resolve)):resolve():(this.renderQueue.forEach(this.paint,this),resolve())},this))},this))}function hasParentClip(container){return container.parent&&container.parent.clip.length}function toCamelCase(str){return str.replace(/(\-[a-z])/g,function(match){return match.toUpperCase().replace("-","")})}function ClearTransform(){}function calculateBorders(borders,nodeBounds,borderPoints,radius){return borders.map(function(border,borderSide){if(border.width>0){var bx=nodeBounds.left,by=nodeBounds.top,bw=nodeBounds.width,bh=nodeBounds.height-borders[2].width;switch(borderSide){case 0:bh=borders[0].width,border.args=drawSide({c1:[bx,by],c2:[bx+bw,by],c3:[bx+bw-borders[1].width,by+bh],c4:[bx+borders[3].width,by+bh]},radius[0],radius[1],borderPoints.topLeftOuter,borderPoints.topLeftInner,borderPoints.topRightOuter,borderPoints.topRightInner);break;case 1:bx=nodeBounds.left+nodeBounds.width-borders[1].width,bw=borders[1].width,border.args=drawSide({c1:[bx+bw,by],c2:[bx+bw,by+bh+borders[2].width],c3:[bx,by+bh],c4:[bx,by+borders[0].width]},radius[1],radius[2],borderPoints.topRightOuter,borderPoints.topRightInner,borderPoints.bottomRightOuter,borderPoints.bottomRightInner);break;case 2:by=by+nodeBounds.height-borders[2].width,bh=borders[2].width,border.args=drawSide({c1:[bx+bw,by+bh],c2:[bx,by+bh],c3:[bx+borders[3].width,by],c4:[bx+bw-borders[3].width,by]},radius[2],radius[3],borderPoints.bottomRightOuter,borderPoints.bottomRightInner,borderPoints.bottomLeftOuter,borderPoints.bottomLeftInner);break;case 3:bw=borders[3].width,border.args=drawSide({c1:[bx,by+bh+borders[2].width],c2:[bx,by],c3:[bx+bw,by+borders[0].width],c4:[bx+bw,by+bh]},radius[3],radius[0],borderPoints.bottomLeftOuter,borderPoints.bottomLeftInner,borderPoints.topLeftOuter,borderPoints.topLeftInner)}}return border})}function getCurvePoints(x,y,r1,r2){var kappa=(Math.sqrt(2)-1)/3*4,ox=r1*kappa,oy=r2*kappa,xm=x+r1,ym=y+r2;return{topLeft:bezierCurve({x:x,y:ym},{x:x,y:ym-oy},{x:xm-ox,y:y},{x:xm,y:y}),topRight:bezierCurve({x:x,y:y},{x:x+ox,y:y},{x:xm,y:ym-oy},{x:xm,y:ym}),bottomRight:bezierCurve({x:xm,y:y},{x:xm,y:y+oy},{x:x+ox,y:ym},{x:x,y:ym}),bottomLeft:bezierCurve({x:xm,y:ym},{x:xm-ox,y:ym},{x:x,y:y+oy},{x:x,y:y})}}function calculateCurvePoints(bounds,borderRadius,borders){var x=bounds.left,y=bounds.top,width=bounds.width,height=bounds.height,tlh=borderRadius[0][0]<width/2?borderRadius[0][0]:width/2,tlv=borderRadius[0][1]<height/2?borderRadius[0][1]:height/2,trh=borderRadius[1][0]<width/2?borderRadius[1][0]:width/2,trv=borderRadius[1][1]<height/2?borderRadius[1][1]:height/2,brh=borderRadius[2][0]<width/2?borderRadius[2][0]:width/2,brv=borderRadius[2][1]<height/2?borderRadius[2][1]:height/2,blh=borderRadius[3][0]<width/2?borderRadius[3][0]:width/2,blv=borderRadius[3][1]<height/2?borderRadius[3][1]:height/2,topWidth=width-trh,rightHeight=height-brv,bottomWidth=width-brh,leftHeight=height-blv;return{topLeftOuter:getCurvePoints(x,y,tlh,tlv).topLeft.subdivide(.5),topLeftInner:getCurvePoints(x+borders[3].width,y+borders[0].width,Math.max(0,tlh-borders[3].width),Math.max(0,tlv-borders[0].width)).topLeft.subdivide(.5),topRightOuter:getCurvePoints(x+topWidth,y,trh,trv).topRight.subdivide(.5),topRightInner:getCurvePoints(x+Math.min(topWidth,width+borders[3].width),y+borders[0].width,topWidth>width+borders[3].width?0:trh-borders[3].width,trv-borders[0].width).topRight.subdivide(.5),bottomRightOuter:getCurvePoints(x+bottomWidth,y+rightHeight,brh,brv).bottomRight.subdivide(.5),bottomRightInner:getCurvePoints(x+Math.min(bottomWidth,width-borders[3].width),y+Math.min(rightHeight,height+borders[0].width),Math.max(0,brh-borders[1].width),brv-borders[2].width).bottomRight.subdivide(.5),bottomLeftOuter:getCurvePoints(x,y+leftHeight,blh,blv).bottomLeft.subdivide(.5),bottomLeftInner:getCurvePoints(x+borders[3].width,y+leftHeight,Math.max(0,blh-borders[3].width),blv-borders[2].width).bottomLeft.subdivide(.5)}}function bezierCurve(start,startControl,endControl,end){var lerp=function(a,b,t){return{x:a.x+(b.x-a.x)*t,y:a.y+(b.y-a.y)*t}};return{start:start,startControl:startControl,endControl:endControl,end:end,subdivide:function(t){var ab=lerp(start,startControl,t),bc=lerp(startControl,endControl,t),cd=lerp(endControl,end,t),abbc=lerp(ab,bc,t),bccd=lerp(bc,cd,t),dest=lerp(abbc,bccd,t);return[bezierCurve(start,ab,abbc,dest),bezierCurve(dest,bccd,cd,end)]},curveTo:function(borderArgs){borderArgs.push(["bezierCurve",startControl.x,startControl.y,endControl.x,endControl.y,end.x,end.y])},curveToReversed:function(borderArgs){borderArgs.push(["bezierCurve",endControl.x,endControl.y,startControl.x,startControl.y,start.x,start.y])}}}function drawSide(borderData,radius1,radius2,outer1,inner1,outer2,inner2){var borderArgs=[];return radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",outer1[1].start.x,outer1[1].start.y]),outer1[1].curveTo(borderArgs)):borderArgs.push(["line",borderData.c1[0],borderData.c1[1]]),radius2[0]>0||radius2[1]>0?(borderArgs.push(["line",outer2[0].start.x,outer2[0].start.y]),outer2[0].curveTo(borderArgs),borderArgs.push(["line",inner2[0].end.x,inner2[0].end.y]),inner2[0].curveToReversed(borderArgs)):(borderArgs.push(["line",borderData.c2[0],borderData.c2[1]]),borderArgs.push(["line",borderData.c3[0],borderData.c3[1]])),radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",inner1[1].end.x,inner1[1].end.y]),inner1[1].curveToReversed(borderArgs)):borderArgs.push(["line",borderData.c4[0],borderData.c4[1]]),borderArgs}function parseCorner(borderArgs,radius1,radius2,corner1,corner2,x,y){radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",corner1[0].start.x,corner1[0].start.y]),corner1[0].curveTo(borderArgs),corner1[1].curveTo(borderArgs)):borderArgs.push(["line",x,y]),(radius2[0]>0||radius2[1]>0)&&borderArgs.push(["line",corner2[0].start.x,corner2[0].start.y])}function negativeZIndex(container){return container.cssInt("zIndex")<0}function positiveZIndex(container){return container.cssInt("zIndex")>0}function zIndex0(container){return 0===container.cssInt("zIndex")}function inlineLevel(container){return-1!==["inline","inline-block","inline-table"].indexOf(container.css("display"))}function isStackingContext(container){return container instanceof StackingContext}function hasText(container){return container.node.data.trim().length>0}function noLetterSpacing(container){return/^(normal|none|0px)$/.test(container.parent.css("letterSpacing"))}function getBorderRadiusData(container){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(side){var arr=container.css("border"+side+"Radius").split(" ");return arr.length<=1&&(arr[1]=arr[0]),arr.map(asInt)})}function renderableNode(node){return node.nodeType===Node.TEXT_NODE||node.nodeType===Node.ELEMENT_NODE}function isPositionedForStacking(container){var position=container.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(position)?container.css("zIndex"):"auto")}function isPositioned(container){return"static"!==container.css("position")}function isFloating(container){return"none"!==container.css("float")}function isInlineBlock(container){return-1!==["inline-block","inline-table"].indexOf(container.css("display"))}function not(callback){var context=this;return function(){return!callback.apply(context,arguments)}}function isElement(container){return container.node.nodeType===Node.ELEMENT_NODE}function isPseudoElement(container){return!0===container.isPseudoElement}function isTextNode(container){return container.node.nodeType===Node.TEXT_NODE}function zIndexSort(contexts){return function(a,b){return a.cssInt("zIndex")+contexts.indexOf(a)/contexts.length-(b.cssInt("zIndex")+contexts.indexOf(b)/contexts.length)}}function hasOpacity(container){return container.getOpacity()<1}function asInt(value){return parseInt(value,10)}function getWidth(border){return border.width}function nonIgnoredElement(nodeContainer){return nodeContainer.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(nodeContainer.node.nodeName)}function flatten(arrays){return[].concat.apply([],arrays)}function stripQuotes(content){var first=content.substr(0,1);return first===content.substr(content.length-1)&&first.match(/'|"/)?content.substr(1,content.length-2):content}function getWords(characters){for(var word,words=[],i=0,onWordBoundary=!1;characters.length;)isWordBoundary(characters[i])===onWordBoundary?((word=characters.splice(0,i)).length&&words.push(punycode.ucs2.encode(word)),onWordBoundary=!onWordBoundary,i=0):i++,i>=characters.length&&(word=characters.splice(0,i)).length&&words.push(punycode.ucs2.encode(word));return words}function isWordBoundary(characterCode){return-1!==[32,13,10,9,45].indexOf(characterCode)}function hasUnicode(string){return/[^\u0000-\u00ff]/.test(string)}var log=_dereq_("./log"),punycode=_dereq_("punycode"),NodeContainer=_dereq_("./nodecontainer"),TextContainer=_dereq_("./textcontainer"),PseudoElementContainer=_dereq_("./pseudoelementcontainer"),FontMetrics=_dereq_("./fontmetrics"),Color=_dereq_("./color"),StackingContext=_dereq_("./stackingcontext"),utils=_dereq_("./utils"),bind=utils.bind,getBounds=utils.getBounds,parseBackgrounds=utils.parseBackgrounds,offsetBounds=utils.offsetBounds;NodeParser.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(container){if(isElement(container)){isPseudoElement(container)&&container.appendToDOM(),container.borders=this.parseBorders(container);var clip="hidden"===container.css("overflow")?[container.borders.clip]:[],cssClip=container.parseClip();cssClip&&-1!==["absolute","fixed"].indexOf(container.css("position"))&&clip.push([["rect",container.bounds.left+cssClip.left,container.bounds.top+cssClip.top,cssClip.right-cssClip.left,cssClip.bottom-cssClip.top]]),container.clip=hasParentClip(container)?container.parent.clip.concat(clip):clip,container.backgroundClip="hidden"!==container.css("overflow")?container.clip.concat([container.borders.clip]):container.clip,isPseudoElement(container)&&container.cleanDOM()}else isTextNode(container)&&(container.clip=hasParentClip(container)?container.parent.clip:[]);isPseudoElement(container)||(container.bounds=null)},this)},NodeParser.prototype.asyncRenderer=function(queue,resolve,asyncTimer){asyncTimer=asyncTimer||Date.now(),this.paint(queue[this.renderIndex++]),queue.length===this.renderIndex?resolve():asyncTimer+20>Date.now()?this.asyncRenderer(queue,resolve,asyncTimer):setTimeout(bind(function(){this.asyncRenderer(queue,resolve)},this),0)},NodeParser.prototype.createPseudoHideStyles=function(document){this.createStyles(document,"."+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},NodeParser.prototype.disableAnimations=function(document){this.createStyles(document,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},NodeParser.prototype.createStyles=function(document,styles){var hidePseudoElements=document.createElement("style");hidePseudoElements.innerHTML=styles,document.body.appendChild(hidePseudoElements)},NodeParser.prototype.getPseudoElements=function(container){var nodes=[[container]];if(container.node.nodeType===Node.ELEMENT_NODE){var before=this.getPseudoElement(container,":before"),after=this.getPseudoElement(container,":after");before&&nodes.push(before),after&&nodes.push(after)}return flatten(nodes)},NodeParser.prototype.getPseudoElement=function(container,type){var style=container.computedStyle(type);if(!style||!style.content||"none"===style.content||"-moz-alt-content"===style.content||"none"===style.display)return null;for(var content=stripQuotes(style.content),isImage="url"===content.substr(0,3),pseudoNode=document.createElement(isImage?"img":"html2canvaspseudoelement"),pseudoContainer=new PseudoElementContainer(pseudoNode,container,type),i=style.length-1;i>=0;i--){var property=toCamelCase(style.item(i));pseudoNode.style[property]=style[property]}if(pseudoNode.className=PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,isImage)return pseudoNode.src=parseBackgrounds(content)[0].args[0],[pseudoContainer];var text=document.createTextNode(content);return pseudoNode.appendChild(text),[pseudoContainer,new TextContainer(text,pseudoContainer)]},NodeParser.prototype.getChildren=function(parentContainer){return flatten([].filter.call(parentContainer.node.childNodes,renderableNode).map(function(node){var container=[node.nodeType===Node.TEXT_NODE?new TextContainer(node,parentContainer):new NodeContainer(node,parentContainer)].filter(nonIgnoredElement);return node.nodeType===Node.ELEMENT_NODE&&container.length&&"TEXTAREA"!==node.tagName?container[0].isElementVisible()?container.concat(this.getChildren(container[0])):[]:container},this))},NodeParser.prototype.newStackingContext=function(container,hasOwnStacking){var stack=new StackingContext(hasOwnStacking,container.getOpacity(),container.node,container.parent);container.cloneTo(stack),(hasOwnStacking?stack.getParentStack(this):stack.parent.stack).contexts.push(stack),container.stack=stack},NodeParser.prototype.createStackingContexts=function(){this.nodes.forEach(function(container){isElement(container)&&(this.isRootElement(container)||hasOpacity(container)||isPositionedForStacking(container)||this.isBodyWithTransparentRoot(container)||container.hasTransform())?this.newStackingContext(container,!0):isElement(container)&&(isPositioned(container)&&zIndex0(container)||isInlineBlock(container)||isFloating(container))?this.newStackingContext(container,!1):container.assignStack(container.parent.stack)},this)},NodeParser.prototype.isBodyWithTransparentRoot=function(container){return"BODY"===container.node.nodeName&&container.parent.color("backgroundColor").isTransparent()},NodeParser.prototype.isRootElement=function(container){return null===container.parent},NodeParser.prototype.sortStackingContexts=function(stack){stack.contexts.sort(zIndexSort(stack.contexts.slice(0))),stack.contexts.forEach(this.sortStackingContexts,this)},NodeParser.prototype.parseTextBounds=function(container){return function(text,index,textList){if("none"!==container.parent.css("textDecoration").substr(0,4)||0!==text.trim().length){if(this.support.rangeBounds&&!container.parent.hasTransform()){var offset=textList.slice(0,index).join("").length;return this.getRangeBounds(container.node,offset,text.length)}if(container.node&&"string"==typeof container.node.data){var replacementNode=container.node.splitText(text.length),bounds=this.getWrapperBounds(container.node,container.parent.hasTransform());return container.node=replacementNode,bounds}}else this.support.rangeBounds&&!container.parent.hasTransform()||(container.node=container.node.splitText(text.length));return{}}},NodeParser.prototype.getWrapperBounds=function(node,transform){var wrapper=node.ownerDocument.createElement("html2canvaswrapper"),parent=node.parentNode,backupText=node.cloneNode(!0);wrapper.appendChild(node.cloneNode(!0)),parent.replaceChild(wrapper,node);var bounds=transform?offsetBounds(wrapper):getBounds(wrapper);return parent.replaceChild(backupText,wrapper),bounds},NodeParser.prototype.getRangeBounds=function(node,offset,length){var range=this.range||(this.range=node.ownerDocument.createRange());return range.setStart(node,offset),range.setEnd(node,offset+length),range.getBoundingClientRect()},NodeParser.prototype.parse=function(stack){var negativeZindex=stack.contexts.filter(negativeZIndex),descendantElements=stack.children.filter(isElement),descendantNonFloats=descendantElements.filter(not(isFloating)),nonInlineNonPositionedDescendants=descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)),nonPositionedFloats=descendantElements.filter(not(isPositioned)).filter(isFloating),inFlow=descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel),stackLevel0=stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0),text=stack.children.filter(isTextNode).filter(hasText),positiveZindex=stack.contexts.filter(positiveZIndex);negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats).concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container){this.renderQueue.push(container),isStackingContext(container)&&(this.parse(container),this.renderQueue.push(new ClearTransform))},this)},NodeParser.prototype.paint=function(container){try{container instanceof ClearTransform?this.renderer.ctx.restore():isTextNode(container)?(isPseudoElement(container.parent)&&container.parent.appendToDOM(),this.paintText(container),isPseudoElement(container.parent)&&container.parent.cleanDOM()):this.paintNode(container)}catch(e){if(log(e),this.options.strict)throw e}},NodeParser.prototype.paintNode=function(container){isStackingContext(container)&&(this.renderer.setOpacity(container.opacity),this.renderer.ctx.save(),container.hasTransform()&&this.renderer.setTransform(container.parseTransform())),"INPUT"===container.node.nodeName&&"checkbox"===container.node.type?this.paintCheckbox(container):"INPUT"===container.node.nodeName&&"radio"===container.node.type?this.paintRadio(container):this.paintElement(container)},NodeParser.prototype.paintElement=function(container){var bounds=container.parseBounds();this.renderer.clip(container.backgroundClip,function(){this.renderer.renderBackground(container,bounds,container.borders.borders.map(getWidth))},this),this.renderer.clip(container.clip,function(){this.renderer.renderBorders(container.borders.borders)},this),this.renderer.clip(container.backgroundClip,function(){switch(container.node.nodeName){case"svg":case"IFRAME":var imgContainer=this.images.get(container.node);imgContainer?this.renderer.renderImage(container,bounds,container.borders,imgContainer):log("Error loading <"+container.node.nodeName+">",container.node);break;case"IMG":var imageContainer=this.images.get(container.node.src);imageContainer?this.renderer.renderImage(container,bounds,container.borders,imageContainer):log("Error loading <img>",container.node.src);break;case"CANVAS":this.renderer.renderImage(container,bounds,container.borders,{image:container.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(container)}},this)},NodeParser.prototype.paintCheckbox=function(container){var b=container.parseBounds(),size=Math.min(b.width,b.height),bounds={width:size-1,height:size-1,top:b.top,left:b.left},r=[3,3],radius=[r,r,r,r],borders=[1,1,1,1].map(function(w){return{color:new Color("#A5A5A5"),width:w}}),borderPoints=calculateCurvePoints(bounds,radius,borders);this.renderer.clip(container.backgroundClip,function(){this.renderer.rectangle(bounds.left+1,bounds.top+1,bounds.width-2,bounds.height-2,new Color("#DEDEDE")),this.renderer.renderBorders(calculateBorders(borders,bounds,borderPoints,radius)),container.node.checked&&(this.renderer.font(new Color("#424242"),"normal","normal","bold",size-3+"px","arial"),this.renderer.text("✔",bounds.left+size/6,bounds.top+size-1))},this)},NodeParser.prototype.paintRadio=function(container){var bounds=container.parseBounds(),size=Math.min(bounds.width,bounds.height)-2;this.renderer.clip(container.backgroundClip,function(){this.renderer.circleStroke(bounds.left+1,bounds.top+1,size,new Color("#DEDEDE"),1,new Color("#A5A5A5")),container.node.checked&&this.renderer.circle(Math.ceil(bounds.left+size/4)+1,Math.ceil(bounds.top+size/4)+1,Math.floor(size/2),new Color("#424242"))},this)},NodeParser.prototype.paintFormValue=function(container){var value=container.getValue();if(value.length>0){var document=container.node.ownerDocument,wrapper=document.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(property){try{wrapper.style[property]=container.css(property)}catch(e){log("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var bounds=container.parseBounds();wrapper.style.position="fixed",wrapper.style.left=bounds.left+"px",wrapper.style.top=bounds.top+"px",wrapper.textContent=value,document.body.appendChild(wrapper),this.paintText(new TextContainer(wrapper.firstChild,container)),document.body.removeChild(wrapper)}},NodeParser.prototype.paintText=function(container){container.applyTextTransform();var characters=punycode.ucs2.decode(container.node.data),textList=this.options.letterRendering&&!noLetterSpacing(container)||hasUnicode(container.node.data)?characters.map(function(character){return punycode.ucs2.encode([character])}):getWords(characters),weight=container.parent.fontWeight(),size=container.parent.css("fontSize"),family=container.parent.css("fontFamily"),shadows=container.parent.parseTextShadows();this.renderer.font(container.parent.color("color"),container.parent.css("fontStyle"),container.parent.css("fontVariant"),weight,size,family),shadows.length?this.renderer.fontShadow(shadows[0].color,shadows[0].offsetX,shadows[0].offsetY,shadows[0].blur):this.renderer.clearShadow(),this.renderer.clip(container.parent.clip,function(){textList.map(this.parseTextBounds(container),this).forEach(function(bounds,index){bounds&&(this.renderer.text(textList[index],bounds.left,bounds.bottom),this.renderTextDecoration(container.parent,bounds,this.fontMetrics.getMetrics(family,size)))},this)},this)},NodeParser.prototype.renderTextDecoration=function(container,bounds,metrics){switch(container.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(bounds.left,Math.round(bounds.top+metrics.baseline+metrics.lineWidth),bounds.width,1,container.color("color"));break;case"overline":this.renderer.rectangle(bounds.left,Math.round(bounds.top),bounds.width,1,container.color("color"));break;case"line-through":this.renderer.rectangle(bounds.left,Math.ceil(bounds.top+metrics.middle+metrics.lineWidth),bounds.width,1,container.color("color"))}};var borderColorTransforms={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};NodeParser.prototype.parseBorders=function(container){var nodeBounds=container.parseBounds(),radius=getBorderRadiusData(container),borders=["Top","Right","Bottom","Left"].map(function(side,index){var style=container.css("border"+side+"Style"),color=container.color("border"+side+"Color");"inset"===style&&color.isBlack()&&(color=new Color([255,255,255,color.a]));var colorTransform=borderColorTransforms[style]?borderColorTransforms[style][index]:null;return{width:container.cssInt("border"+side+"Width"),color:colorTransform?color[colorTransform[0]](colorTransform[1]):color,args:null}}),borderPoints=calculateCurvePoints(nodeBounds,radius,borders);return{clip:this.parseBackgroundClip(container,borderPoints,borders,radius,nodeBounds),borders:calculateBorders(borders,nodeBounds,borderPoints,radius)}},NodeParser.prototype.parseBackgroundClip=function(container,borderPoints,borders,radius,bounds){var borderArgs=[];switch(container.css("backgroundClip")){case"content-box":case"padding-box":parseCorner(borderArgs,radius[0],radius[1],borderPoints.topLeftInner,borderPoints.topRightInner,bounds.left+borders[3].width,bounds.top+borders[0].width),parseCorner(borderArgs,radius[1],radius[2],borderPoints.topRightInner,borderPoints.bottomRightInner,bounds.left+bounds.width-borders[1].width,bounds.top+borders[0].width),parseCorner(borderArgs,radius[2],radius[3],borderPoints.bottomRightInner,borderPoints.bottomLeftInner,bounds.left+bounds.width-borders[1].width,bounds.top+bounds.height-borders[2].width),parseCorner(borderArgs,radius[3],radius[0],borderPoints.bottomLeftInner,borderPoints.topLeftInner,bounds.left+borders[3].width,bounds.top+bounds.height-borders[2].width);break;default:parseCorner(borderArgs,radius[0],radius[1],borderPoints.topLeftOuter,borderPoints.topRightOuter,bounds.left,bounds.top),parseCorner(borderArgs,radius[1],radius[2],borderPoints.topRightOuter,borderPoints.bottomRightOuter,bounds.left+bounds.width,bounds.top),parseCorner(borderArgs,radius[2],radius[3],borderPoints.bottomRightOuter,borderPoints.bottomLeftOuter,bounds.left+bounds.width,bounds.top+bounds.height),parseCorner(borderArgs,radius[3],radius[0],borderPoints.bottomLeftOuter,borderPoints.topLeftOuter,bounds.left,bounds.top+bounds.height)}return borderArgs},module.exports=NodeParser},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(_dereq_,module,exports){function Proxy(src,proxyUrl,document){var supportsCORS="withCredentials"in new XMLHttpRequest;if(!proxyUrl)return Promise.reject("No proxy configured");var callback=createCallback(supportsCORS),url=createProxyUrl(proxyUrl,src,callback);return supportsCORS?XHR(url):jsonp(document,url,callback).then(function(response){return decode64(response.content)})}function jsonp(document,url,callback){return new Promise(function(resolve,reject){var s=document.createElement("script"),cleanup=function(){delete window.html2canvas.proxy[callback],document.body.removeChild(s)};window.html2canvas.proxy[callback]=function(response){cleanup(),resolve(response)},s.src=url,s.onerror=function(e){cleanup(),reject(e)},document.body.appendChild(s)})}function createCallback(useCORS){return useCORS?"":"html2canvas_"+Date.now()+"_"+ ++proxyCount+"_"+Math.round(1e5*Math.random())}function createProxyUrl(proxyUrl,src,callback){return proxyUrl+"?url="+encodeURIComponent(src)+(callback.length?"&callback=html2canvas.proxy."+callback:"")}function documentFromHTML(src){return function(html){var doc,parser=new DOMParser;try{doc=parser.parseFromString(html,"text/html")}catch(e){log("DOMParser not supported, falling back to createHTMLDocument"),doc=document.implementation.createHTMLDocument("");try{doc.open(),doc.write(html),doc.close()}catch(ee){log("createHTMLDocument write not supported, falling back to document.body.innerHTML"),doc.body.innerHTML=html}}var b=doc.querySelector("base");if(!b||!b.href.host){var base=doc.createElement("base");base.href=src,doc.head.insertBefore(base,doc.head.firstChild)}return doc}}var XHR=_dereq_("./xhr"),utils=_dereq_("./utils"),log=_dereq_("./log"),createWindowClone=_dereq_("./clone"),decode64=utils.decode64,proxyCount=0;exports.Proxy=Proxy,exports.ProxyURL=function(src,proxyUrl,document){var supportsCORSImage="crossOrigin"in new Image,callback=createCallback(supportsCORSImage),url=createProxyUrl(proxyUrl,src,callback);return supportsCORSImage?Promise.resolve(url):jsonp(document,url,callback).then(function(response){return"data:"+response.type+";base64,"+response.content})},exports.loadUrlDocument=function(src,proxy,document,width,height,options){return new Proxy(src,proxy,window.document).then(documentFromHTML(src)).then(function(doc){return createWindowClone(doc,document,width,height,options,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(_dereq_,module,exports){var ProxyURL=_dereq_("./proxy").ProxyURL;module.exports=function(src,proxy){var link=document.createElement("a");link.href=src,src=link.href,this.src=src,this.image=new Image;var self=this;this.promise=new Promise(function(resolve,reject){self.image.crossOrigin="Anonymous",self.image.onload=resolve,self.image.onerror=reject,new ProxyURL(src,proxy,document).then(function(url){self.image.src=url}).catch(reject)})}},{"./proxy":16}],18:[function(_dereq_,module,exports){function PseudoElementContainer(node,parent,type){NodeContainer.call(this,node,parent),this.isPseudoElement=!0,this.before=":before"===type}var NodeContainer=_dereq_("./nodecontainer");PseudoElementContainer.prototype.cloneTo=function(stack){PseudoElementContainer.prototype.cloneTo.call(this,stack),stack.isPseudoElement=!0,stack.before=this.before},(PseudoElementContainer.prototype=Object.create(NodeContainer.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},PseudoElementContainer.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},PseudoElementContainer.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",module.exports=PseudoElementContainer},{"./nodecontainer":14}],19:[function(_dereq_,module,exports){function Renderer(width,height,images,options,document){this.width=width,this.height=height,this.images=images,this.options=options,this.document=document}var log=_dereq_("./log");Renderer.prototype.renderImage=function(container,bounds,borderData,imageContainer){var paddingLeft=container.cssInt("paddingLeft"),paddingTop=container.cssInt("paddingTop"),paddingRight=container.cssInt("paddingRight"),paddingBottom=container.cssInt("paddingBottom"),borders=borderData.borders,width=bounds.width-(borders[1].width+borders[3].width+paddingLeft+paddingRight),height=bounds.height-(borders[0].width+borders[2].width+paddingTop+paddingBottom);this.drawImage(imageContainer,0,0,imageContainer.image.width||width,imageContainer.image.height||height,bounds.left+paddingLeft+borders[3].width,bounds.top+paddingTop+borders[0].width,width,height)},Renderer.prototype.renderBackground=function(container,bounds,borderData){bounds.height>0&&bounds.width>0&&(this.renderBackgroundColor(container,bounds),this.renderBackgroundImage(container,bounds,borderData))},Renderer.prototype.renderBackgroundColor=function(container,bounds){var color=container.color("backgroundColor");color.isTransparent()||this.rectangle(bounds.left,bounds.top,bounds.width,bounds.height,color)},Renderer.prototype.renderBorders=function(borders){borders.forEach(this.renderBorder,this)},Renderer.prototype.renderBorder=function(data){data.color.isTransparent()||null===data.args||this.drawShape(data.args,data.color)},Renderer.prototype.renderBackgroundImage=function(container,bounds,borderData){container.parseBackgroundImages().reverse().forEach(function(backgroundImage,index,arr){switch(backgroundImage.method){case"url":var image=this.images.get(backgroundImage.args[0]);image?this.renderBackgroundRepeating(container,bounds,image,arr.length-(index+1),borderData):log("Error loading background-image",backgroundImage.args[0]);break;case"linear-gradient":case"gradient":var gradientImage=this.images.get(backgroundImage.value);gradientImage?this.renderBackgroundGradient(gradientImage,bounds,borderData):log("Error loading background-image",backgroundImage.args[0]);break;case"none":break;default:log("Unknown background-image type",backgroundImage.args[0])}},this)},Renderer.prototype.renderBackgroundRepeating=function(container,bounds,imageContainer,index,borderData){var size=container.parseBackgroundSize(bounds,imageContainer.image,index),position=container.parseBackgroundPosition(bounds,imageContainer.image,index,size);switch(container.parseBackgroundRepeat(index)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+borderData[3],bounds.top+position.top+borderData[0],99999,size.height,borderData);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+position.left+borderData[3],bounds.top+borderData[0],size.width,99999,borderData);break;case"no-repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+position.left+borderData[3],bounds.top+position.top+borderData[0],size.width,size.height,borderData);break;default:this.renderBackgroundRepeat(imageContainer,position,size,{top:bounds.top,left:bounds.left},borderData[3],borderData[0])}},module.exports=Renderer},{"./log":13}],20:[function(_dereq_,module,exports){function CanvasRenderer(width,height){Renderer.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=width,this.canvas.height=height),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},log("Initialized CanvasRenderer with size",width,"x",height)}function hasEntries(array){return array.length>0}var Renderer=_dereq_("../renderer"),LinearGradientContainer=_dereq_("../lineargradientcontainer"),log=_dereq_("../log");(CanvasRenderer.prototype=Object.create(Renderer.prototype)).setFillStyle=function(fillStyle){return this.ctx.fillStyle="object"==typeof fillStyle&&fillStyle.isColor?fillStyle.toString():fillStyle,this.ctx},CanvasRenderer.prototype.rectangle=function(left,top,width,height,color){this.setFillStyle(color).fillRect(left,top,width,height)},CanvasRenderer.prototype.circle=function(left,top,size,color){this.setFillStyle(color),this.ctx.beginPath(),this.ctx.arc(left+size/2,top+size/2,size/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},CanvasRenderer.prototype.circleStroke=function(left,top,size,color,stroke,strokeColor){this.circle(left,top,size,color),this.ctx.strokeStyle=strokeColor.toString(),this.ctx.stroke()},CanvasRenderer.prototype.drawShape=function(shape,color){this.shape(shape),this.setFillStyle(color).fill()},CanvasRenderer.prototype.taints=function(imageContainer){if(null===imageContainer.tainted){this.taintCtx.drawImage(imageContainer.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),imageContainer.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),imageContainer.tainted=!0}}return imageContainer.tainted},CanvasRenderer.prototype.drawImage=function(imageContainer,sx,sy,sw,sh,dx,dy,dw,dh){this.taints(imageContainer)&&!this.options.allowTaint||this.ctx.drawImage(imageContainer.image,sx,sy,sw,sh,dx,dy,dw,dh)},CanvasRenderer.prototype.clip=function(shapes,callback,context){this.ctx.save(),shapes.filter(hasEntries).forEach(function(shape){this.shape(shape).clip()},this),callback.call(context),this.ctx.restore()},CanvasRenderer.prototype.shape=function(shape){return this.ctx.beginPath(),shape.forEach(function(point,index){"rect"===point[0]?this.ctx.rect.apply(this.ctx,point.slice(1)):this.ctx[0===index?"moveTo":point[0]+"To"].apply(this.ctx,point.slice(1))},this),this.ctx.closePath(),this.ctx},CanvasRenderer.prototype.font=function(color,style,variant,weight,size,family){this.setFillStyle(color).font=[style,variant,weight,size,family].join(" ").split(",")[0]},CanvasRenderer.prototype.fontShadow=function(color,offsetX,offsetY,blur){this.setVariable("shadowColor",color.toString()).setVariable("shadowOffsetY",offsetX).setVariable("shadowOffsetX",offsetY).setVariable("shadowBlur",blur)},CanvasRenderer.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},CanvasRenderer.prototype.setOpacity=function(opacity){this.ctx.globalAlpha=opacity},CanvasRenderer.prototype.setTransform=function(transform){this.ctx.translate(transform.origin[0],transform.origin[1]),this.ctx.transform.apply(this.ctx,transform.matrix),this.ctx.translate(-transform.origin[0],-transform.origin[1])},CanvasRenderer.prototype.setVariable=function(property,value){return this.variables[property]!==value&&(this.variables[property]=this.ctx[property]=value),this},CanvasRenderer.prototype.text=function(text,left,bottom){this.ctx.fillText(text,left,bottom)},CanvasRenderer.prototype.backgroundRepeatShape=function(imageContainer,backgroundPosition,size,bounds,left,top,width,height,borderData){var shape=[["line",Math.round(left),Math.round(top)],["line",Math.round(left+width),Math.round(top)],["line",Math.round(left+width),Math.round(height+top)],["line",Math.round(left),Math.round(height+top)]];this.clip([shape],function(){this.renderBackgroundRepeat(imageContainer,backgroundPosition,size,bounds,borderData[3],borderData[0])},this)},CanvasRenderer.prototype.renderBackgroundRepeat=function(imageContainer,backgroundPosition,size,bounds,borderLeft,borderTop){var offsetX=Math.round(bounds.left+backgroundPosition.left+borderLeft),offsetY=Math.round(bounds.top+backgroundPosition.top+borderTop);this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer,size),"repeat")),this.ctx.translate(offsetX,offsetY),this.ctx.fill(),this.ctx.translate(-offsetX,-offsetY)},CanvasRenderer.prototype.renderBackgroundGradient=function(gradientImage,bounds){if(gradientImage instanceof LinearGradientContainer){var gradient=this.ctx.createLinearGradient(bounds.left+bounds.width*gradientImage.x0,bounds.top+bounds.height*gradientImage.y0,bounds.left+bounds.width*gradientImage.x1,bounds.top+bounds.height*gradientImage.y1);gradientImage.colorStops.forEach(function(colorStop){gradient.addColorStop(colorStop.stop,colorStop.color.toString())}),this.rectangle(bounds.left,bounds.top,bounds.width,bounds.height,gradient)}},CanvasRenderer.prototype.resizeImage=function(imageContainer,size){var image=imageContainer.image;if(image.width===size.width&&image.height===size.height)return image;var canvas=document.createElement("canvas");return canvas.width=size.width,canvas.height=size.height,canvas.getContext("2d").drawImage(image,0,0,image.width,image.height,0,0,size.width,size.height),canvas},module.exports=CanvasRenderer},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(_dereq_,module,exports){function StackingContext(hasOwnStacking,opacity,element,parent){NodeContainer.call(this,element,parent),this.ownStacking=hasOwnStacking,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*opacity}var NodeContainer=_dereq_("./nodecontainer");(StackingContext.prototype=Object.create(NodeContainer.prototype)).getParentStack=function(context){var parentStack=this.parent?this.parent.stack:null;return parentStack?parentStack.ownStacking?parentStack:parentStack.getParentStack(context):context.stack},module.exports=StackingContext},{"./nodecontainer":14}],22:[function(_dereq_,module,exports){function Support(document){this.rangeBounds=this.testRangeBounds(document),this.cors=this.testCORS(),this.svg=this.testSVG()}Support.prototype.testRangeBounds=function(document){var range,testElement,support=!1;return document.createRange&&(range=document.createRange()).getBoundingClientRect&&((testElement=document.createElement("boundtest")).style.height="123px",testElement.style.display="block",document.body.appendChild(testElement),range.selectNode(testElement),123===range.getBoundingClientRect().height&&(support=!0),document.body.removeChild(testElement)),support},Support.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},Support.prototype.testSVG=function(){var img=new Image,canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");img.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{ctx.drawImage(img,0,0),canvas.toDataURL()}catch(e){return!1}return!0},module.exports=Support},{}],23:[function(_dereq_,module,exports){function SVGContainer(src){this.src=src,this.image=null;var self=this;this.promise=this.hasFabric().then(function(){return self.isInline(src)?Promise.resolve(self.inlineFormatting(src)):XHR(src)}).then(function(svg){return new Promise(function(resolve){window.html2canvas.svg.fabric.loadSVGFromString(svg,self.createCanvas.call(self,resolve))})})}var XHR=_dereq_("./xhr"),decode64=_dereq_("./utils").decode64;SVGContainer.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},SVGContainer.prototype.inlineFormatting=function(src){return/^data:image\/svg\+xml;base64,/.test(src)?this.decode64(this.removeContentType(src)):this.removeContentType(src)},SVGContainer.prototype.removeContentType=function(src){return src.replace(/^data:image\/svg\+xml(;base64)?,/,"")},SVGContainer.prototype.isInline=function(src){return/^data:image\/svg\+xml/i.test(src)},SVGContainer.prototype.createCanvas=function(resolve){var self=this;return function(objects,options){var canvas=new window.html2canvas.svg.fabric.StaticCanvas("c");self.image=canvas.lowerCanvasEl,canvas.setWidth(options.width).setHeight(options.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(objects,options)).renderAll(),resolve(canvas.lowerCanvasEl)}},SVGContainer.prototype.decode64=function(str){return"function"==typeof window.atob?window.atob(str):decode64(str)},module.exports=SVGContainer},{"./utils":26,"./xhr":28}],24:[function(_dereq_,module,exports){function SVGNodeContainer(node,_native){this.src=node,this.image=null;var self=this;this.promise=_native?new Promise(function(resolve,reject){self.image=new Image,self.image.onload=resolve,self.image.onerror=reject,self.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(node),!0===self.image.complete&&resolve(self.image)}):this.hasFabric().then(function(){return new Promise(function(resolve){window.html2canvas.svg.fabric.parseSVGDocument(node,self.createCanvas.call(self,resolve))})})}var SVGContainer=_dereq_("./svgcontainer");SVGNodeContainer.prototype=Object.create(SVGContainer.prototype),module.exports=SVGNodeContainer},{"./svgcontainer":23}],25:[function(_dereq_,module,exports){function TextContainer(node,parent){NodeContainer.call(this,node,parent)}function capitalize(m,p1,p2){if(m.length>0)return p1+p2.toUpperCase()}var NodeContainer=_dereq_("./nodecontainer");(TextContainer.prototype=Object.create(NodeContainer.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},TextContainer.prototype.transform=function(transform){var text=this.node.data;switch(transform){case"lowercase":return text.toLowerCase();case"capitalize":return text.replace(/(^|\s|:|-|\(|\))([a-z])/g,capitalize);case"uppercase":return text.toUpperCase();default:return text}},module.exports=TextContainer},{"./nodecontainer":14}],26:[function(_dereq_,module,exports){exports.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},exports.bind=function(callback,context){return function(){return callback.apply(context,arguments)}},exports.decode64=function(base64){var i,encoded2,encoded3,encoded4,byte1,byte2,byte3,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",len=base64.length,output="";for(i=0;i<len;i+=4)byte1=chars.indexOf(base64[i])<<2|(encoded2=chars.indexOf(base64[i+1]))>>4,byte2=(15&encoded2)<<4|(encoded3=chars.indexOf(base64[i+2]))>>2,byte3=(3&encoded3)<<6|(encoded4=chars.indexOf(base64[i+3])),output+=64===encoded3?String.fromCharCode(byte1):64===encoded4||-1===encoded4?String.fromCharCode(byte1,byte2):String.fromCharCode(byte1,byte2,byte3);return output},exports.getBounds=function(node){if(node.getBoundingClientRect){var clientRect=node.getBoundingClientRect(),width=null==node.offsetWidth?clientRect.width:node.offsetWidth;return{top:clientRect.top,bottom:clientRect.bottom||clientRect.top+clientRect.height,right:clientRect.left+width,left:clientRect.left,width:width,height:null==node.offsetHeight?clientRect.height:node.offsetHeight}}return{}},exports.offsetBounds=function(node){var parent=node.offsetParent?exports.offsetBounds(node.offsetParent):{top:0,left:0};return{top:node.offsetTop+parent.top,bottom:node.offsetTop+node.offsetHeight+parent.top,right:node.offsetLeft+parent.left+node.offsetWidth,left:node.offsetLeft+parent.left,width:node.offsetWidth,height:node.offsetHeight}},exports.parseBackgrounds=function(backgroundImage){var method,definition,prefix,prefix_i,block,quote,args,results=[],mode=0,numParen=0,appendResult=function(){method&&('"'===definition.substr(0,1)&&(definition=definition.substr(1,definition.length-2)),definition&&args.push(definition),"-"===method.substr(0,1)&&(prefix_i=method.indexOf("-",1)+1)>0&&(prefix=method.substr(0,prefix_i),method=method.substr(prefix_i)),results.push({prefix:prefix,method:method.toLowerCase(),value:block,args:args,image:null})),args=[],method=prefix=definition=block=""};return args=[],method=prefix=definition=block="",backgroundImage.split("").forEach(function(c){if(!(0===mode&&" \r\n\t".indexOf(c)>-1)){switch(c){case'"':quote?quote===c&&(quote=null):quote=c;break;case"(":if(quote)break;if(0===mode)return mode=1,void(block+=c);numParen++;break;case")":if(quote)break;if(1===mode){if(0===numParen)return mode=0,block+=c,void appendResult();numParen--}break;case",":if(quote)break;if(0===mode)return void appendResult();if(1===mode&&0===numParen&&!method.match(/^url$/i))return args.push(definition),definition="",void(block+=c)}block+=c,0===mode?method+=c:definition+=c}}),appendResult(),results}},{}],27:[function(_dereq_,module,exports){function WebkitGradientContainer(imageData){GradientContainer.apply(this,arguments),this.type="linear"===imageData.args[0]?GradientContainer.TYPES.LINEAR:GradientContainer.TYPES.RADIAL}var GradientContainer=_dereq_("./gradientcontainer");WebkitGradientContainer.prototype=Object.create(GradientContainer.prototype),module.exports=WebkitGradientContainer},{"./gradientcontainer":9}],28:[function(_dereq_,module,exports){module.exports=function(url){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.onload=function(){200===xhr.status?resolve(xhr.responseText):reject(new Error(xhr.statusText))},xhr.onerror=function(){reject(new Error("Network Error"))},xhr.send()})}},{}]},{},[4])(4)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f||n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)(n=e.charCodeAt(d++))>=55296&&56319>=n&&i>d?56320==(64512&(f=e.charCodeAt(d++)))?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(0>(f=e.lastIndexOf(E))&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),((p=a(e.charCodeAt(d++)))>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,!((y=g>=s?q:s>=g+z?z:s-g)>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;g=c(w-t,n=r.length+1,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(v=(e=s(e)).length,n=D,f=0,t=C,l=0;v>l;++l)128>(r=e[l])&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)(r=e[l])>=n&&u>r&&(u=r);for(u-n>K((j-f)/(w=o+1))&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;!((m=t>=y?q:y>=t+z?z:y-t)>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:function(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}},1)if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h;else e("punycode",function(){return h})}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(f){t("Unable to copy canvas content from",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(!0===n||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,f):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e("./log");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=o,p.height=t,p.scrolling="no",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),"view"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+"px",o.documentElement.style.left=-s+"px",o.documentElement.style.position="absolute")),n(p))},50)},o.open(),o.write("<!DOCTYPE html><html></html>"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{"./log":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if((n=n||{}).logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async=void 0===n.async||n.async,n.allowTaint=void 0!==n.allowTaint&&n.allowTaint,n.removeContainer=void 0===n.removeContainer||n.removeContainer,n.javascriptEnabled=void 0!==n.javascriptEnabled&&n.javascriptEnabled,n.imageTimeout=void 0===n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+d,s="["+l+"='"+d+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s);return Promise.resolve("function"!=typeof n.onclone||n.onclone(u.document)).then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w="view"===f.type?o:s(i.document),b="view"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document);return new m(e,g,a,c,f).ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",l,"height:",s),v("Resulting crop with width",n.width,"and height",n.height,"with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var p=n("./support"),c=n("./renderers/canvas"),y=n("./imageloader"),m=n("./nodeparser"),r=n("./nodecontainer"),v=n("./log"),w=n("./utils"),b=n("./clone"),g=n("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;f.exports=k},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,n){function f(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),!0===n.complete&&e(n)})}}var o=e("./log"),d=e("./utils").smallImage;n.exports=f},{"./log":13,"./utils":26}],6:[function(e,n){var o=e("./utils").smallImage;n.exports=function(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}},{"./utils":26}],7:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){return e("./core")(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var d=e("./utils").getBounds,i=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,n.exports=f},{}],10:[function(e,n){n.exports=function(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,!0===f.image.complete&&o(f.image)})}},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),d=e("./imagecontainer"),i=e("./dummyimagecontainer"),t=e("./proxyimagecontainer"),l=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),a=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),c=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o("Added image #"+e.length,"string"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new d(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||!0===this.options.allowTaint||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return"linear-gradient"===e.method?new a(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){return new i(e.src).promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o("Succesfully loaded image #"+(n+1),e)},function(f){o("Failed loading image #"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d.catch(function(){clearTimeout(f)}),d},n.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case"center":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?"%":n[3];return{color:new d(n[1]),stop:"%"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop&&(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0)},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,n.exports=f},{"./color":3,"./gradientcontainer":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var n=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return void 0!==(f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)))},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",1===(f=f.trim().split(" ")).length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n||[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":3,"./utils":26}],15:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(W(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=(Math.sqrt(2)-1)/3*4,i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var o=e.css("border"+n+"Radius").split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto")}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return!0===e.isPseudoElement}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?((n=e.splice(0,o)).length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o)).length&&f.push(O.ucs2.encode(n));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./stackingcontext"),V=e("./utils"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f),(n?f.getParentStack(this):f.parent.stack).contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("✔",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var t=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return Promise.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){c("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}var a=e("./xhr"),p=e("./utils"),c=e("./log"),y=e("./clone"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=function(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})},f.loadUrlDocument=function(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,n){var o=e("./proxy").ProxyURL;n.exports=function(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin="Anonymous",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e}).catch(i)})}},{"./proxy":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},(f.prototype=Object.create(o.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){e.parseBackgroundImages().reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i);switch(e.parseBackgroundRepeat(o)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");(f.prototype=Object.create(d.prototype)).setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var d=document.createElement("canvas");return d.width=n.width,d.height=n.height,d.getContext("2d").drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");(f.prototype=Object.create(o.prototype)).getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,i=!1;return e.createRange&&(n=e.createRange()).getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),123===o.height&&(i=!0),e.body.removeChild(f)),i},f.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./xhr"),d=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{"./utils":26,"./xhr":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),!0===f.image.complete&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./svgcontainer":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");(f.prototype=Object.create(d.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":14}],26:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&" \r\n\t".indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":9}],28:[function(e,n){n.exports=function(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}},{}]},{},[4])(4)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0],l=h+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a))!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var s=this;return setTimeout(function(){return("string"==typeof t?s[t]:t).apply(s,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:!s&&!n?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(0>(i=t.left+d+p+f+e.collisionWidth-r-o)||a(c)>i)&&(t.left+=d+p+f):u>0&&((s=t.left-e.collisionPosition.marginLeft+d+p+f-h)>0||u>a(s))&&(t.left+=d+p+f)},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,p="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(0>(s=t.top+p+f+g+e.collisionHeight-r-o)||a(c)>s)&&(t.top+=p+f+g):u>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-h)>0||u>a(i))&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return 1>6*(i=(i+1)%1)?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n))&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1)),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){return{el:t(this),start:e(this)}}),(o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})})(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),!1===t.uiBackCompat||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,function(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):!1===a?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),(n={})[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),a="show"===e.mode,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),g="show"===e.mode,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,function(){b.push(this),b.length===u*d&&n()})}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),c=!!e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,!(!i.href||!o||"map"!==n.nodeName.toLowerCase())&&((a=t("img[usemap='#"+o+"']")).length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled)&&(h=t(i).closest("fieldset")[0])&&(r=!h.disabled):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(s=this.attr("id"))&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!s||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),u={oldHeader:o,oldPanel:o.next(),newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!h&&this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var i=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),(i=h.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),o=(n=i.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(i=t(this)).offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),void((s=i.item.attr("aria-label")||n.value)&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?((o=e.element.find(n)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o||n[s]("instance")),i.push(h[0])}}))):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var s=t(this).data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;n="div"===(s=e.nodeName.toLowerCase())||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),n)).settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),("focus"===(s=this._get(i,"showOn"))||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&((s=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&((s=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),(i=t.datepicker._get(o,"onSelect"))?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s))&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(n=t.datepicker._get(s,"beforeShow"))?n.apply(e,[e,s]):{})&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return!(r|="fixed"===t(this).css("position"))}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(s=this._get(o,"onSelect"))?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(""==(i="object"==typeof i?""+i:i+""))return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":g=(r=new Date(w("@"))).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":g=(r=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;!((o=this._getDaysInMonth(g,m-1))>=_);)m++,_-=o;if((r=this._daylightSavingAdjust(new Date(g,m-1,_))).getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var a=null==i||""===i?s:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)}(i):"number"==typeof i?isNaN(i)?s:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(a=a&&"Invalid Date"==""+a?s:a)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)0>--Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X&&this.maxRows>z?this.maxRows:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}++Z>11&&(Z=0,te++),x+=T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),void((s=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),!!h&&(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var i=t(this).resizable("instance").options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((s=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n})).length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push("<span tabindex='0'></span>");this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,h,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(s=i/e)>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&!1!==this._trigger("slide",t,this._uiHash(e,i,a))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,a)))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==r&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],(o=this._intersectsWithPointer(s))&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(s&&n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)(a=t.data(o[n],this.widgetFullName))&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(function(){r.push(this)});return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)(o=t.data(n[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)(h=t(r[s])).data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)(s=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,s=(e=e||this).options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,a=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void r(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s!==this.options.active&&s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray((e>n&&(e=0),0>e&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,(o=e.element.find(n)).length||(o=e._createPanel(a)).insertAfter(e.panels[i-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),!0===e||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,o=t(e.currentTarget).closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!r&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),(s=t.trim(s.join(" ")))?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):void((i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}))&&this._open(e,t,i))},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(s);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),(h=t("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void n.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),function(factory){if("function"==typeof define&&define.amd)define(factory);else if("object"==typeof exports)module.exports=factory();else{var _OldCookies=window.Cookies,api=window.Cookies=factory(window.jQuery);api.noConflict=function(){return window.Cookies=_OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function init(converter){function api(key,value,attributes){var result;if(arguments.length>1){if("number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+864e5*attributes.expires),attributes.expires=expires}try{result=JSON.stringify(value),/^[\{\[]/.test(result)&&(value=result)}catch(e){}return value=encodeURIComponent(String(value)),value=value.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)),key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),key=key.replace(/[\(\)]/g,escape),document.cookie=[key,"=",value,attributes.expires&&"; expires="+attributes.expires.toUTCString(),attributes.path&&"; path="+attributes.path,attributes.domain&&"; domain="+attributes.domain,attributes.secure?"; secure":""].join("")}key||(result={});for(var cookies=document.cookie?document.cookie.split("; "):[],rdecode=/(%[0-9A-Z]{2})+/g,i=0;i<cookies.length;i++){var parts=cookies[i].split("="),name=parts[0].replace(rdecode,decodeURIComponent),cookie=parts.slice(1).join("=");'"'===cookie.charAt(0)&&(cookie=cookie.slice(1,-1));try{if(cookie=converter&&converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent),this.json)try{cookie=JSON.parse(cookie)}catch(e){}if(key===name){result=cookie;break}key||(result[name]=cookie)}catch(e){}}return result}return api.get=api.set=api,api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))},api.withConverter=init,api}return init()}),function(factory){"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/mouse","jquery-ui/ui/widgets/draggable","jquery-ui/ui/widgets/droppable","jquery-ui/ui/effects/effect-blind","jquery-ui/ui/data","jquery-ui/ui/effect","jquery-ui/ui/focusable","jquery-ui/ui/keycode","jquery-ui/ui/position","jquery-ui/ui/scroll-parent","jquery-ui/ui/tabbable","jquery-ui/ui/unique-id","jquery-ui/ui/widget"],factory):factory(jQuery)}(function($){!function(a,b,c,d){"use strict";function e(b,c){b||(c=c?": "+c:"",a.error("Fancytree assertion failed"+c))}function f(a,c){var d,e,f=b.console?b.console[a]:null;if(f)try{f.apply(b.console,c)}catch(g){for(e="",d=0;d<c.length;d++)e+=c[d];f(e)}}function g(a){return!(!a.tree||a.statusNodeType===d)}function i(a,b,c,d,e){return function(){var c=b[a],f=d[a],g=b.ext[e],h=function(){return c.apply(b,arguments)},i=function(a){return c.apply(b,a)};return function(){var a=b._local,c=b._super,d=b._superApply;try{return b._local=g,b._super=h,b._superApply=i,f.apply(b,arguments)}finally{b._local=a,b._super=c,b._superApply=d}}}()}function j(b,c,d,e){for(var f in d)"function"==typeof d[f]?"function"==typeof b[f]?b[f]=i(f,b,c,d,e):"_"===f.charAt(0)?b.ext[e][f]=i(f,b,c,d,e):a.error("Could not override tree."+f+". Use prefix '_' to create tree."+e+"._"+f):"options"!==f&&(b.ext[e][f]=d[f])}function k(b,c){return b===d?a.Deferred(function(){this.resolve()}).promise():a.Deferred(function(){this.resolveWith(b,c)}).promise()}function l(b,c){return b===d?a.Deferred(function(){this.reject()}).promise():a.Deferred(function(){this.rejectWith(b,c)}).promise()}function m(a,b){return function(){a.resolveWith(b)}}function n(b){var c=a.extend({},b.data()),d=c.json;return delete c.fancytree,delete c.uiFancytree,d&&(delete c.json,c=a.extend(c,d)),c}function o(a){return(""+a).replace(y,function(a){return B[a]})}function p(a){return(""+a).replace(z,function(a){return B[a]})}function q(a){return a=a.toLowerCase(),function(b){return b.title.toLowerCase().indexOf(a)>=0}}function r(a){var b=new RegExp("^"+a,"i");return function(a){return b.test(a.title)}}function s(b,c){var d,f,g,h;for(this.parent=b,this.tree=b.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},d=0,f=H.length;d<f;d++)g=H[d],this[g]=c[g];null==this.unselectableIgnore&&null==this.unselectableStatus||(this.unselectable=!0),c.hideCheckbox&&a.error("'hideCheckbox' node option was removed in v2.23.0: use 'checkbox: false'"),c.data&&a.extend(this.data,c.data);for(g in c)I[g]||a.isFunction(c[g])||K[g]||(this.data[g]=c[g]);null==this.key?this.tree.options.defaultKey?(this.key=this.tree.options.defaultKey(this),e(this.key,"defaultKey() must return a unique key")):this.key="_"+w._nextNodeKey++:this.key=""+this.key,c.active&&(e(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),c.selected&&(this.tree.lastSelectedNode=this),(h=c.children)?h.length?this._setChildren(h):this.children=this.lazy?[]:null:this.children=null,this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function t(b){this.widget=b,this.$div=b.element,this.options=b.options,this.options&&(a.isFunction(this.options.lazyload)&&!a.isFunction(this.options.lazyLoad)&&(this.options.lazyLoad=function(){return w.warn("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),b.options.lazyload.apply(this,arguments)}),a.isFunction(this.options.loaderror)&&a.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),this.options.fx!==d&&w.warn("The 'fx' option was replaced by 'toggleEffect' since 2014-11-30."),this.options.removeNode!==d&&a.error("The 'removeNode' event was replaced by 'modifyChild' since 2.20 (2016-09-10).")),this.ext={},this.data=n(this.$div),this._id=a.ui.fancytree._nextId++,this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this._lastMousedownNode=null,this._enableUpdate=!0,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove();var c,e={tree:this};this.rootNode=new s(e,{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,c=a("<ul>",{class:"ui-fancytree fancytree-container fancytree-plain"}).appendTo(this.$div),this.$container=c,this.rootNode.ul=c[0],null==this.options.debugLevel&&(this.options.debugLevel=w.debugLevel)}if(a.ui&&a.ui.fancytree)a.ui.fancytree.warn("Fancytree: ignored duplicate include");else{var u,v,w=null,x=new RegExp(/\.|\//),y=/[&<>"'\/]/g,z=/[<>"'\/]/g,A="$recursive_request",B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},C={16:!0,17:!0,18:!0},D={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={0:"",1:"left",2:"middle",3:"right"},F="active expanded focus folder lazy radiogroup selected unselectable unselectableIgnore".split(" "),G={},H="checkbox expanded extraClasses folder icon key lazy radiogroup refKey selected statusNodeType title tooltip unselectable unselectableIgnore unselectableStatus".split(" "),I={},J={},K={active:!0,children:!0,data:!0,focus:!0};for(u=0;u<F.length;u++)G[F[u]]=!0;for(u=0;u<H.length;u++)v=H[u],I[v]=!0,v!==v.toLowerCase()&&(J[v.toLowerCase()]=v);e(a.ui,"Fancytree requires jQuery UI (http://jqueryui.com)"),s.prototype={_findDirectChild:function(a){var b,c,d=this.children;if(d)if("string"==typeof a){for(b=0,c=d.length;b<c;b++)if(d[b].key===a)return d[b]}else{if("number"==typeof a)return this.children[a];if(a.parent===this)return a}return null},_setChildren:function(a){e(a&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var b=0,c=a.length;b<c;b++)this.children.push(new s(this,a[b]))},addChildren:function(b,c){var d,f,g,h=this.getFirstChild(),i=this.getLastChild(),j=null,k=[];for(a.isPlainObject(b)&&(b=[b]),this.children||(this.children=[]),d=0,f=b.length;d<f;d++)k.push(new s(this,b[d]));if(j=k[0],null==c?this.children=this.children.concat(k):(c=this._findDirectChild(c),g=a.inArray(c,this.children),e(g>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[g,0].concat(k))),h&&!c){for(d=0,f=k.length;d<f;d++)k[d].render();h!==this.getFirstChild()&&h.renderStatus(),i!==this.getLastChild()&&i.renderStatus()}else(!this.parent||this.parent.ul||this.tr)&&this.render();return 3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),this.triggerModifyChild("add",1===k.length?k[0]:null),j},addClass:function(a){return this.toggleClass(a,!0)},addNode:function(a,b){switch(b!==d&&"over"!==b||(b="child"),b){case"after":return this.getParent().addChildren(a,this.getNextSibling());case"before":return this.getParent().addChildren(a,this);case"firstChild":var c=this.children?this.children[0]:null;return this.addChildren(a,c);case"child":case"over":return this.addChildren(a)}e(!1,"Invalid mode: "+b)},addPagingNode:function(b,c){var d,e;{if(c=c||"child",!1!==b)return b=a.extend({title:this.tree.options.strings.moreData,statusNodeType:"paging",icon:!1},b),this.partload=!0,this.addNode(b,c);for(d=this.children.length-1;d>=0;d--)"paging"===(e=this.children[d]).statusNodeType&&this.removeChild(e);this.partload=!1}},appendSibling:function(a){return this.addNode(a,"after")},applyPatch:function(b){if(null===b)return this.remove(),k(this);var c,e,f={children:!0,expanded:!0,parent:!0};for(c in b)e=b[c],f[c]||a.isFunction(e)||(I[c]?this[c]=e:this.data[c]=e);return b.hasOwnProperty("children")&&(this.removeChildren(),b.children&&this._setChildren(b.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),b.hasOwnProperty("expanded")?this.setExpanded(b.expanded):k(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(a,b,c){return a.addNode(this.toDict(!0,c),b)},countChildren:function(a){var b,c,d,e=this.children;if(!e)return 0;if(d=e.length,!1!==a)for(b=0,c=d;b<c;b++)d+=e[b].countChildren();return d},debug:function(a){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),f("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},discardMarkup:function(a){var b=a?"nodeRemoveMarkup":"nodeRemoveChildMarkup";this.tree._callHook(b,this)},findAll:function(b){b=a.isFunction(b)?b:q(b);var c=[];return this.visit(function(a){b(a)&&c.push(a)}),c},findFirst:function(b){b=a.isFunction(b)?b:q(b);var c=null;return this.visit(function(a){if(b(a))return c=a,!1}),c},_changeSelectStatusAttrs:function(a){var b=!1,c=this.tree.options,f=w.evalOption("unselectable",this,this,c,!1),g=w.evalOption("unselectableStatus",this,this,c,d);switch(f&&null!=g&&(a=g),a){case!1:b=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case!0:b=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case d:b=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:e(!1,"invalid state: "+a)}return b&&this.renderStatus(),b},fixSelection3AfterClick:function(a){var b=this.isSelected();this.visit(function(a){a._changeSelectStatusAttrs(b)}),this.fixSelection3FromEndNodes(a)},fixSelection3FromEndNodes:function(a){function b(a){var e,f,g,h,i,j,k,m,n=a.children;if(n&&n.length){for(j=!0,k=!1,e=0,f=n.length;e<f;e++)g=n[e],h=b(g),w.evalOption("unselectableIgnore",g,g,c,!1)||(!1!==h&&(k=!0),!0!==h&&(j=!1));i=!!j||!!k&&d}else m=w.evalOption("unselectableStatus",a,a,c,d),i=null==m?!!a.selected:!!m;return a._changeSelectStatusAttrs(i),i}var c=this.tree.options;e(3===c.selectMode,"expected selectMode 3"),b(this),this.visitParents(function(a){var b,e,f,g,i,j=a.children,k=!0,l=!1;for(b=0,e=j.length;b<e;b++)f=j[b],w.evalOption("unselectableIgnore",f,f,c,!1)||(i=w.evalOption("unselectableStatus",f,f,c,d),((g=null==i?!!f.selected:!!i)||f.partsel)&&(l=!0),g||(k=!1));g=!!k||!!l&&d,a._changeSelectStatusAttrs(g)})},fromDict:function(b){for(var c in b)I[c]?this[c]=b[c]:"data"===c?a.extend(this.data,b.data):a.isFunction(b[c])||K[c]||(this.data[c]=b[c]);b.children&&(this.removeChildren(),this.addChildren(b.children)),this.renderTitle()},getChildren:function(){return this.hasChildren()===d?d:this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return a.inArray(this,this.parent.children)},getIndexHier:function(b,c){b=b||".";var d,e=[];return a.each(this.getParentList(!1,!0),function(a,b){d=""+(b.getIndex()+1),c&&(d=("0000000"+d).substr(-c)),e.push(d)}),e.join(b)},getKeyPath:function(a){var b=[],c=this.tree.options.keyPathSeparator;return this.visitParents(function(a){a.parent&&b.unshift(a.key)},!a),c+b.join(c)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},getNextSibling:function(){if(this.parent){var a,b,c=this.parent.children;for(a=0,b=c.length-1;a<b;a++)if(c[a]===this)return c[a+1]}return null},getParent:function(){return this.parent},getParentList:function(a,b){for(var c=[],d=b?this:this.parent;d;)(a||d.parent)&&c.unshift(d),d=d.parent;return c},getPrevSibling:function(){if(this.parent){var a,b,c=this.parent.children;for(a=1,b=c.length;a<b;a++)if(c[a]===this)return c[a-1]}return null},getSelectedNodes:function(a){var b=[];return this.visit(function(c){if(c.selected&&(b.push(c),!0===a))return"skip"}),b},hasChildren:function(){return this.lazy?null==this.children?d:0!==this.children.length&&(1!==this.children.length||!this.children[0].isStatusNode()||d):!(!this.children||!this.children.length)},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(a){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),f("info",arguments))},isActive:function(){return this.tree.activeNode===this},isChildOf:function(a){return this.parent&&this.parent===a},isDescendantOf:function(a){if(!a||a.tree!==this.tree)return!1;for(var b=this.parent;b;){if(b===a)return!0;b=b.parent}return!1},isExpanded:function(){return!!this.expanded},isFirstSibling:function(){var a=this.parent;return!a||a.children[0]===this},isFolder:function(){return!!this.folder},isLastSibling:function(){var a=this.parent;return!a||a.children[a.children.length-1]===this},isLazy:function(){return!!this.lazy},isLoaded:function(){return!this.lazy||this.hasChildren()!==d},isLoading:function(){return!!this._isLoading},isRoot:function(){return this.isRootNode()},isPartsel:function(){return!this.selected&&!!this.partsel},isPartload:function(){return!!this.partload},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return!!this.selected},isStatusNode:function(){return!!this.statusNodeType},isPagingNode:function(){return"paging"===this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return this.hasChildren()===d},isVisible:function(){var a,b,c=this.getParentList(!1,!1);for(a=0,b=c.length;a<b;a++)if(!c[a].expanded)return!1;return!0},lazyLoad:function(a){return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."),this.load(a)},load:function(a){var b,c,d=this,f=this.isExpanded();return e(this.isLazy(),"load() requires a lazy node"),a||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),!1===(c=this.tree._triggerNodeEvent("lazyLoad",this))?k(this):(e("boolean"!=typeof c,"lazyLoad event must return source in data.result"),b=this.tree._callHook("nodeLoadChildren",this,c),f?(this.expanded=!0,b.always(function(){d.render()})):b.always(function(){d.renderStatus()}),b)):k(this)},makeVisible:function(b){var c,d=this,e=[],f=new a.Deferred,g=this.getParentList(!1,!1),h=g.length,i=!(b&&!0===b.noAnimation),j=!(b&&!1===b.scrollIntoView);for(c=h-1;c>=0;c--)e.push(g[c].setExpanded(!0,b));return a.when.apply(a,e).done(function(){j?d.scrollIntoView(i).done(function(){f.resolve()}):f.resolve()}),f.promise()},moveTo:function(b,c,f){c===d||"over"===c?c="child":"firstChild"===c&&(b.children&&b.children.length?(c="before",b=b.children[0]):c="child");var g,h=this.parent,i="child"===c?b:b.parent;if(this!==b){if(this.parent?i.isDescendantOf(this)&&a.error("Cannot move a node to its own descendant"):a.error("Cannot move system root"),i!==h&&h.triggerModifyChild("remove",this),1===this.parent.children.length){if(this.parent===i)return;this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else g=a.inArray(this,this.parent.children),e(g>=0,"invalid source parent"),this.parent.children.splice(g,1);if(this.parent=i,i.hasChildren())switch(c){case"child":i.children.push(this);break;case"before":e((g=a.inArray(b,i.children))>=0,"invalid target parent"),i.children.splice(g,0,this);break;case"after":e((g=a.inArray(b,i.children))>=0,"invalid target parent"),i.children.splice(g+1,0,this);break;default:a.error("Invalid mode "+c)}else i.children=[this];f&&b.visit(f,!0),i===h?i.triggerModifyChild("move",this):i.triggerModifyChild("add",this),this.tree!==b.tree&&(this.warn("Cross-tree moveTo is experimantal!"),this.visit(function(a){a.tree=b.tree},!0)),h.isDescendantOf(i)||h.render(),i.isDescendantOf(h)||i===h||i.render()}},navigate:function(b,c){function d(d){if(d){try{d.makeVisible({scrollIntoView:!1})}catch(e){}return a(d.span).is(":visible")?!1===c?d.setFocus():d.setActive():(d.debug("Navigate: skipping hidden node"),void d.navigate(b,c))}}var e,f,g,i=a.ui.keyCode,j=null;switch(b){case i.BACKSPACE:this.parent&&this.parent.parent&&(g=d(this.parent));break;case i.HOME:this.tree.visit(function(b){if(a(b.span).is(":visible"))return g=d(b),!1});break;case i.END:this.tree.visit(function(b){a(b.span).is(":visible")&&(g=b)}),g&&(g=d(g));break;case i.LEFT:this.expanded?(this.setExpanded(!1),g=d(this)):this.parent&&this.parent.parent&&(g=d(this.parent));break;case i.RIGHT:this.expanded||!this.children&&!this.lazy?this.children&&this.children.length&&(g=d(this.children[0])):(this.setExpanded(),g=d(this));break;case i.UP:for(j=this.getPrevSibling();j&&!a(j.span).is(":visible");)j=j.getPrevSibling();for(;j&&j.expanded&&j.children&&j.children.length;)j=j.children[j.children.length-1];!j&&this.parent&&this.parent.parent&&(j=this.parent),g=d(j);break;case i.DOWN:if(this.expanded&&this.children&&this.children.length)j=this.children[0];else for(f=this.getParentList(!1,!0),e=f.length-1;e>=0;e--){for(j=f[e].getNextSibling();j&&!a(j.span).is(":visible");)j=j.getNextSibling();if(j)break}g=d(j);break;default:!1}return g||k()},remove:function(){return this.parent.removeChild(this)},removeChild:function(a){return this.tree._callHook("nodeRemoveChild",this,a)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},removeClass:function(a){return this.toggleClass(a,!1)},render:function(a,b){return this.tree._callHook("nodeRender",this,a,b)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},replaceWith:function(b){var c,d=this.parent,f=a.inArray(this,d.children),g=this;return e(this.isPagingNode(),"replaceWith() currently requires a paging status node"),(c=this.tree._callHook("nodeLoadChildren",this,b)).done(function(a){var b=g.children;for(u=0;u<b.length;u++)b[u].parent=d;d.children.splice.apply(d.children,[f+1,0].concat(b)),g.children=null,g.remove(),d.render()}).fail(function(){g.setExpanded()}),c},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=d,this.renderStatus()},scheduleAction:function(b,c){this.tree.timer&&clearTimeout(this.tree.timer),this.tree.timer=null;var d=this;switch(b){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){d.tree.debug("setTimeout: trigger expand"),d.setExpanded(!0)},c);break;case"activate":this.tree.timer=setTimeout(function(){d.tree.debug("setTimeout: trigger activate"),d.setActive(!0)},c);break;default:a.error("Invalid mode "+b)}},scrollIntoView:function(f,h){h!==d&&g(h)&&(this.warn("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead."),h={topNode:h});var i,j,l,m,n=a.extend({effects:!0===f?{duration:200,queue:!1}:f,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent||this.tree.$container,topNode:null},h),o=new a.Deferred,p=this,q=a(this.span).height(),r=a(n.scrollParent),s=n.scrollOfs.top||0,t=n.scrollOfs.bottom||0,u=r.height(),v=r.scrollTop(),w=r,x=r[0]===b,y=n.topNode||null,z=null;return a(this.span).is(":visible")?(x?(j=a(this.span).offset().top,i=y&&y.span?a(y.span).offset().top:0,w=a("html,body")):(e(r[0]!==c&&r[0]!==c.body,"scrollParent should be a simple element or `window`, not document or body."),m=r.offset().top,j=a(this.span).offset().top-m+v,i=y?a(y.span).offset().top-m+v:0,l=Math.max(0,r.innerHeight()-r[0].clientHeight),u-=l),j<v+s?z=j-s:j+q>v+u-t&&(z=j+q-u+t,y&&(e(y.isRootNode()||a(y.span).is(":visible"),"topNode must be visible"),i<z&&(z=i-s))),null!==z?n.effects?(n.effects.complete=function(){o.resolveWith(p)},w.stop(!0).animate({scrollTop:z},n.effects)):(w[0].scrollTop=z,o.resolveWith(this)):o.resolveWith(this),o.promise()):(this.warn("scrollIntoView(): node is invisible."),k())},setActive:function(a,b){return this.tree._callHook("nodeSetActive",this,a,b)},setExpanded:function(a,b){return this.tree._callHook("nodeSetExpanded",this,a,b)},setFocus:function(a){return this.tree._callHook("nodeSetFocus",this,a)},setSelected:function(a,b){return this.tree._callHook("nodeSetSelected",this,a,b)},setStatus:function(a,b,c){return this.tree._callHook("nodeSetStatus",this,a,b,c)},setTitle:function(a){this.title=a,this.renderTitle(),this.triggerModify("rename")},sortChildren:function(a,b){var c,d,e=this.children;if(e){if(a=a||function(a,b){var c=a.title.toLowerCase(),d=b.title.toLowerCase();return c===d?0:c>d?1:-1},e.sort(a),b)for(c=0,d=e.length;c<d;c++)e[c].children&&e[c].sortChildren(a,"$norender$");"$norender$"!==b&&this.render(),this.triggerModifyChild("sort")}},toDict:function(b,c){var d,e,f,g={},h=this;if(a.each(H,function(a,b){(h[b]||!1===h[b])&&(g[b]=h[b])}),a.isEmptyObject(this.data)||(g.data=a.extend({},this.data),a.isEmptyObject(g.data)&&delete g.data),c&&c(g,h),b&&this.hasChildren())for(g.children=[],d=0,e=this.children.length;d<e;d++)(f=this.children[d]).isStatusNode()||g.children.push(f.toDict(!0,c));return g},toggleClass:function(b,c){var e,f,g=/\S+/g,h=b.match(g)||[],i=0,j=!1,k=this[this.tree.statusClassPropName],l=" "+(this.extraClasses||"")+" ";for(k&&a(k).toggleClass(b,c);e=h[i++];)if(f=l.indexOf(" "+e+" ")>=0,c=c===d?!f:!!c)f||(l+=e+" ",j=!0);else for(;l.indexOf(" "+e+" ")>-1;)l=l.replace(" "+e+" "," ");return this.extraClasses=a.trim(l),j},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"<FancytreeNode(#"+this.key+", '"+this.title+"')>"},triggerModifyChild:function(b,c,d){var e,f=this.tree.options.modifyChild;f&&(c&&c.parent!==this&&a.error("childNode "+c+" is not a child of "+this),e={node:this,tree:this.tree,operation:b,childNode:c||null},d&&a.extend(e,d),f({type:"modifyChild"},e))},triggerModify:function(a,b){this.parent.triggerModifyChild(a,this,b)},visit:function(a,b){var c,d,e=!0,f=this.children;if(!0===b&&(!1===(e=a(this))||"skip"===e))return e;if(f)for(c=0,d=f.length;c<d&&!1!==(e=f[c].visit(a,!0));c++);return e},visitAndLoad:function(b,c,d){var e,f,g,h=this;return!b||!0!==c||!1!==(f=b(h))&&"skip"!==f?h.children||h.lazy?(e=new a.Deferred,g=[],h.load().done(function(){for(var c=0,d=h.children.length;c<d;c++){if(!1===(f=h.children[c].visitAndLoad(b,!0,!0))){e.reject();break}"skip"!==f&&g.push(f)}a.when.apply(this,g).then(function(){e.resolve()})}),e.promise()):k():d?f:k()},visitParents:function(a,b){if(b&&!1===a(this))return!1;for(var c=this.parent;c;){if(!1===a(c))return!1;c=c.parent}return!0},visitSiblings:function(a,b){var c,d,e,f=this.parent.children;for(c=0,d=f.length;c<d;c++)if(e=f[c],(b||e!==this)&&!1===a(e))return!1;return!0},warn:function(a){Array.prototype.unshift.call(arguments,this.toString()),f("warn",arguments)}},t.prototype={_makeHookContext:function(b,c,e){var f,g;return b.node!==d?(c&&b.originalEvent!==c&&a.error("invalid args"),f=b):b.tree?(g=b.tree,f={node:b,tree:g,widget:g.widget,options:g.widget.options,originalEvent:c}):b.widget?f={node:null,tree:b,widget:b.widget,options:b.widget.options,originalEvent:c}:a.error("invalid args"),e&&a.extend(f,e),f},_callHook:function(b,c,d){var e=this._makeHookContext(c),f=this[b],g=Array.prototype.slice.call(arguments,2);return a.isFunction(f)||a.error("_callHook('"+b+"') is not a function"),g.unshift(e),f.apply(this,g)},_requireExtension:function(b,c,d,f){d=!!d;var g=this._local.name,h=this.options.extensions,i=a.inArray(b,h)<a.inArray(g,h),j=c&&null==this.ext[b],k=!j&&null!=d&&d!==i;return e(g&&g!==b,"invalid or same name"),!j&&!k||(f||(j||c?(f="'"+g+"' extension requires '"+b+"'",k&&(f+=" to be registered "+(d?"before":"after")+" itself")):f="If used together, `"+b+"` must be registered "+(d?"before":"after")+" `"+g+"`"),a.error(f),!1)},activateKey:function(a){var b=this.getNodeByKey(a);return b?b.setActive():this.activeNode&&this.activeNode.setActive(!1),b},addPagingNode:function(a,b){return this.rootNode.addPagingNode(a,b)},applyPatch:function(b){var c,d,f,g,h,i,j=b.length,k=[];for(d=0;d<j;d++)f=b[d],e(2===f.length,"patchList must be an array of length-2-arrays"),g=f[0],h=f[1],(i=null===g?this.rootNode:this.getNodeByKey(g))?(c=new a.Deferred,k.push(c),i.applyPatch(h).always(m(c,i))):this.warn("could not find node with key '"+g+"'");return a.when.apply(a,k).promise()},clear:function(a){this._callHook("treeClear",this)},count:function(){return this.rootNode.countChildren()},debug:function(a){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),f("log",arguments))},enableUpdate:function(a){return a=!1!==a,!!this._enableUpdate==!!a?a:(this._enableUpdate=a,a?(this.debug("enableUpdate(true): redraw "),this.render()):this.debug("enableUpdate(false)..."),!a)},findAll:function(a){return this.rootNode.findAll(a)},findFirst:function(a){return this.rootNode.findFirst(a)},findNextNode:function(b,c,d){var e=null,f=c.parent.children,g=null,h=function(a,b,c){var d,e,f=a.children,g=f.length,i=f[b];if(i&&!1===c(i))return!1;if(i&&i.children&&i.expanded&&!1===h(i,0,c))return!1;for(d=b+1;d<g;d++)if(!1===h(a,d,c))return!1;return(e=a.parent)?h(e,e.children.indexOf(a)+1,c):h(a,0,c)};return b="string"==typeof b?r(b):b,c=c||this.getFirstChild(),h(c.parent,f.indexOf(c),function(d){return d!==e&&(e=e||d,a(d.span).is(":visible")?(!b(d)||(g=d)===c)&&void 0:void d.debug("quicksearch: skipping hidden node"))}),g},generateFormElements:function(b,c,d){function e(b){j.append(a("<input>",{type:"checkbox",name:g,value:b.key,checked:!0}))}d=d||{};var f,g="string"==typeof b?b:"ft_"+this._id+"[]",h="string"==typeof c?c:"ft_"+this._id+"_active",i="fancytree_result_"+this._id,j=a("#"+i),k=3===this.options.selectMode&&!1!==d.stopOnParents;j.length?j.empty():j=a("<div>",{id:i}).hide().insertAfter(this.$container),!1!==c&&this.activeNode&&j.append(a("<input>",{type:"radio",name:h,value:this.activeNode.key,checked:!0})),d.filter?this.visit(function(a){var b=d.filter(a);return"skip"===b?b:void(!1!==b&&e(a))}):!1!==b&&(f=this.getSelectedNodes(k),a.each(f,function(a,b){e(b)}))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getNodeByKey:function(a,b){var d,e;return!b&&(d=c.getElementById(this.options.idPrefix+a))?d.ftnode?d.ftnode:null:(b=b||this.rootNode,e=null,b.visit(function(b){if(b.key===a)return e=b,!1},!0),e)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(a){return this.rootNode.getSelectedNodes(a)},hasFocus:function(){return!!this._hasFocus},info:function(a){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),f("info",arguments))},loadKeyPath:function(b,c,e){var g,h,i,j,k,l,n,o,p,q=this.options.keyPathSeparator,r=this;for(c=c||a.noop,a.isArray(b)||(b=[b]),l={},i=0;i<b.length;i++)for(o=e||this.rootNode,(j=b[i]).charAt(0)===q&&(j=j.substr(1)),p=j.split(q);p.length;){if(k=p.shift(),!(n=o._findDirectChild(k))){this.warn("loadKeyPath: key not found: "+k+" (parent: "+o+")"),c.call(this,k,"error");break}if(0===p.length){c.call(this,n,"ok");break}if(n.lazy&&n.hasChildren()===d){c.call(this,n,"loaded"),l[k]?l[k].push(p.join(q)):l[k]=[p.join(q)];break}c.call(this,n,"loaded"),o=n}g=[];for(k in l)null==(n=o._findDirectChild(k))&&(n=r.getNodeByKey(k)),h=new a.Deferred,g.push(h),function(a,b,d){c.call(r,b,"loading"),b.load().done(function(){r.loadKeyPath.call(r,l[a],c,b).always(m(d,r))}).fail(function(e){r.warn("loadKeyPath: error loading: "+a+" (parent: "+o+")"),c.call(r,b,"error"),d.reject()})}(k,n,h);return a.when.apply(a,g).promise()},reactivate:function(a){var b,c=this.activeNode;return c?(this.activeNode=null,b=c.setActive(!0,{noFocus:!0}),a&&c.setFocus(),b):k()},reload:function(a){return this._callHook("treeClear",this),this._callHook("treeLoad",this,a)},render:function(a,b){return this.rootNode.render(a,b)},setFocus:function(a){return this._callHook("treeSetFocus",this,a)},toDict:function(a,b){var c=this.rootNode.toDict(!0,b);return a?c:c.children},toString:function(){return"<Fancytree(#"+this._id+")>"},_triggerNodeEvent:function(a,b,c,e){var f=this._makeHookContext(b,c,e),g=this.widget._trigger(a,c,f);return!1!==g&&f.result!==d?f.result:g},_triggerTreeEvent:function(a,b,c){var e=this._makeHookContext(this,b,c),f=this.widget._trigger(a,b,e);return!1!==f&&e.result!==d?e.result:f},visit:function(a){return this.rootNode.visit(a,!1)},warn:function(a){Array.prototype.unshift.call(arguments,this.toString()),f("warn",arguments)}},a.extend(t.prototype,{nodeClick:function(a){var b,c,d=a.targetType,e=a.node;if("expander"===d){if(e.isLoading())return void e.debug("Got 2nd click while loading: ignored");this._callHook("nodeToggleExpanded",a)}else if("checkbox"===d)this._callHook("nodeToggleSelected",a),a.options.focusOnSelect&&this._callHook("nodeSetFocus",a,!0);else{if(c=!1,b=!0,e.folder)switch(a.options.clickFolderMode){case 2:c=!0,b=!1;break;case 3:b=!0,c=!0}b&&(this.nodeSetFocus(a),this._callHook("nodeSetActive",a,!0)),c&&this._callHook("nodeToggleExpanded",a)}},nodeCollapseSiblings:function(a,b){var c,d,e,f=a.node;if(f.parent)for(c=f.parent.children,d=0,e=c.length;d<e;d++)c[d]!==f&&c[d].expanded&&this._callHook("nodeSetExpanded",c[d],!1,b)},nodeDblclick:function(a){"title"===a.targetType&&4===a.options.clickFolderMode&&this._callHook("nodeToggleExpanded",a),"title"===a.targetType&&a.originalEvent.preventDefault()},nodeKeydown:function(b){var c,d,f,g=b.originalEvent,h=b.node,i=b.tree,j=b.options,k=g.which,l=String.fromCharCode(k),m=!(g.altKey||g.ctrlKey||g.metaKey||g.shiftKey),n=a(g.target),o=!0,p=!(g.ctrlKey||!j.autoActivate);if(h||(f=this.getActiveNode()||this.getFirstChild())&&(f.setFocus(),(h=b.node=this.focusNode).debug("Keydown force focus on active node")),j.quicksearch&&m&&/\w/.test(l)&&!D[k]&&!n.is(":input:enabled"))return(d=(new Date).getTime())-i.lastQuicksearchTime>500&&(i.lastQuicksearchTerm=""),i.lastQuicksearchTime=d,i.lastQuicksearchTerm+=l,(c=i.findNextNode(i.lastQuicksearchTerm,i.getActiveNode()))&&c.setActive(),void g.preventDefault();switch(w.eventToString(g)){case"+":case"=":i.nodeSetExpanded(b,!0);break;case"-":i.nodeSetExpanded(b,!1);break;case"space":h.isPagingNode()?i._triggerNodeEvent("clickPaging",b,g):j.checkbox?i.nodeToggleSelected(b):i.nodeSetActive(b,!0);break;case"return":i.nodeSetActive(b,!0);break;case"home":case"end":case"backspace":case"left":case"right":case"up":case"down":h.navigate(g.which,p,!0);break;default:o=!1}o&&g.preventDefault()},nodeLoadChildren:function(b,c){var d,f,g,h=b.tree,i=b.node,j=(new Date).getTime();return a.isFunction(c)&&(c=c.call(h,{type:"source"},b),e(!a.isFunction(c),"source callback must not return another function")),c.url&&(i._requestId&&i.warn("Recursive load request #"+j+" while #"+i._requestId+" is pending."),d=a.extend({},b.options.ajax,c),i._requestId=j,d.debugDelay?(f=d.debugDelay,a.isArray(f)&&(f=f[0]+Math.random()*(f[1]-f[0])),i.warn("nodeLoadChildren waiting debugDelay "+Math.round(f)+" ms ..."),d.debugDelay=!1,g=a.Deferred(function(b){setTimeout(function(){a.ajax(d).done(function(){b.resolveWith(this,arguments)}).fail(function(){b.rejectWith(this,arguments)})},f)})):g=a.ajax(d),c=new a.Deferred,g.done(function(d,e,f){var g,k;if("json"!==this.dataType&&"jsonp"!==this.dataType||"string"!=typeof d||a.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),i._requestId&&i._requestId>j)c.rejectWith(this,[A]);else{if(b.options.postProcess){try{k=h._triggerNodeEvent("postProcess",b,b.originalEvent,{response:d,error:null,dataType:this.dataType})}catch(l){k={error:l,message:""+l,details:"postProcess failed"}}if(k.error)return g=a.isPlainObject(k.error)?k.error:{message:k.error},g=h._makeHookContext(i,null,g),void c.rejectWith(this,[g]);d=a.isArray(k)?k:d}else d&&d.hasOwnProperty("d")&&b.options.enableAspx&&(d="string"==typeof d.d?a.parseJSON(d.d):d.d);c.resolveWith(this,[d])}}).fail(function(a,b,d){var e=h._makeHookContext(i,null,{error:a,args:Array.prototype.slice.call(arguments),message:d,details:a.status+": "+d});c.rejectWith(this,[e])})),a.isFunction(c.then)&&a.isFunction(c.catch)&&(g=c,c=new a.Deferred,g.then(function(a){c.resolve(a)},function(a){c.reject(a)})),a.isFunction(c.promise)&&(h.nodeSetStatus(b,"loading"),c.done(function(a){h.nodeSetStatus(b,"ok"),i._requestId=null}).fail(function(a){var c;return a===A?void i.warn("Ignored response for obsolete load request #"+j+" (expected #"+i._requestId+")"):(a.node&&a.error&&a.message?c=a:"[object Object]"===(c=h._makeHookContext(i,null,{error:a,args:Array.prototype.slice.call(arguments),message:a?a.message||a.toString():""})).message&&(c.message=""),i.warn("Load children failed ("+c.message+")",c),void(!1!==h._triggerNodeEvent("loadError",c,null)&&h.nodeSetStatus(b,"error",c.message,c.details)))})),a.when(c).done(function(b){var c;a.isPlainObject(b)&&(e(i.isRootNode(),"source may only be an object for root nodes (expecting an array of child objects otherwise)"),e(a.isArray(b.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),c=b,b=b.children,delete c.children,a.extend(h.data,c)),e(a.isArray(b),"expected array of children"),i._setChildren(b),h._triggerNodeEvent("loadChildren",i)})},nodeLoadKeyPath:function(a,b){},nodeRemoveChild:function(b,c){var d,f=b.node,g=a.extend({},b,{node:c}),h=f.children;return 1===h.length?(e(c===h[0],"invalid single child"),this.nodeRemoveChildren(b)):(this.activeNode&&(c===this.activeNode||this.activeNode.isDescendantOf(c))&&this.activeNode.setActive(!1),this.focusNode&&(c===this.focusNode||this.focusNode.isDescendantOf(c))&&(this.focusNode=null),this.nodeRemoveMarkup(g),this.nodeRemoveChildren(g),d=a.inArray(c,h),e(d>=0,"invalid child"),f.triggerModifyChild("remove",c),c.visit(function(a){a.parent=null},!0),this._callHook("treeRegisterNode",this,!1,c),void h.splice(d,1))},nodeRemoveChildMarkup:function(b){var c=b.node;c.ul&&(c.isRootNode()?a(c.ul).empty():(a(c.ul).remove(),c.ul=null),c.visit(function(a){a.li=a.ul=null}))},nodeRemoveChildren:function(b){var d=b.tree,e=b.node;e.children&&(this.activeNode&&this.activeNode.isDescendantOf(e)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(e)&&(this.focusNode=null),this.nodeRemoveChildMarkup(b),a.extend({},b),e.triggerModifyChild("remove",null),e.visit(function(a){a.parent=null,d._callHook("treeRegisterNode",d,!1,a)}),e.lazy?e.children=[]:e.children=null,e.isRootNode()||(e.expanded=!1),this.nodeRenderStatus(b))},nodeRemoveMarkup:function(b){var c=b.node;c.li&&(a(c.li).remove(),c.li=null),this.nodeRemoveChildMarkup(b)},nodeRender:function(b,d,f,g,h){var i,j,k,l,m,n,o,p=b.node,q=b.tree,r=b.options,s=r.aria,t=!1,u=p.parent,v=!u,w=p.children,x=null;if(!1!==q._enableUpdate&&(v||u.ul)){if(e(v||u.ul,"parent UL must exist"),v||(p.li&&(d||p.li.parentNode!==p.parent.ul)&&(p.li.parentNode===p.parent.ul?x=p.li.nextSibling:this.debug("Unlinking "+p+" (must be child of "+p.parent+")"),this.nodeRemoveMarkup(b)),p.li?this.nodeRenderStatus(b):(t=!0,p.li=c.createElement("li"),p.li.ftnode=p,p.key&&r.generateIds&&(p.li.id=r.idPrefix+p.key),p.span=c.createElement("span"),p.span.className="fancytree-node",s&&!p.tr&&a(p.li).attr("role","treeitem"),p.li.appendChild(p.span),this.nodeRenderTitle(b),r.createNode&&r.createNode.call(q,{type:"createNode"},b)),r.renderNode&&r.renderNode.call(q,{type:"renderNode"},b)),w){if(v||p.expanded||!0===f){for(p.ul||(p.ul=c.createElement("ul"),(!0!==g||h)&&p.expanded||(p.ul.style.display="none"),s&&a(p.ul).attr("role","group"),p.li?p.li.appendChild(p.ul):p.tree.$div.append(p.ul)),l=0,m=w.length;l<m;l++)o=a.extend({},b,{node:w[l]}),this.nodeRender(o,d,f,!1,!0);for(i=p.ul.firstChild;i;)(k=i.ftnode)&&k.parent!==p?(p.debug("_fixParent: remove missing "+k,i),n=i.nextSibling,i.parentNode.removeChild(i),i=n):i=i.nextSibling;for(i=p.ul.firstChild,l=0,m=w.length-1;l<m;l++)j=w[l],k=i.ftnode,j!==k?p.ul.insertBefore(j.li,k.li):i=i.nextSibling}}else p.ul&&(this.warn("remove child markup for "+p),this.nodeRemoveChildMarkup(b));v||t&&u.ul.insertBefore(p.li,x)}},nodeRenderTitle:function(b,c){var e,f,g,h,i,j,k,l=b.node,m=b.tree,n=b.options,q=n.aria,r=l.getLevel(),s=[];c!==d&&(l.title=c),l.span&&!1!==m._enableUpdate&&(i=q&&!1!==l.hasChildren()?" role='button'":"",r<n.minExpandLevel?(l.lazy||(l.expanded=!0),r>1&&s.push("<span "+i+" class='fancytree-expander fancytree-expander-fixed'></span>")):s.push("<span "+i+" class='fancytree-expander'></span>"),(e=w.evalOption("checkbox",l,l,n,!1))&&!l.isStatusNode()&&(i=q?" role='checkbox'":"",f="fancytree-checkbox",("radio"===e||l.parent&&l.parent.radiogroup)&&(f+=" fancytree-radio"),s.push("<span "+i+" class='"+f+"'></span>")),l.data.iconClass!==d&&(l.icon?a.error("'iconClass' node option is deprecated since v2.14.0: use 'icon' only instead"):(l.warn("'iconClass' node option is deprecated since v2.14.0: use 'icon' instead"),l.icon=l.data.iconClass)),"boolean"!=typeof(g=w.evalOption("icon",l,l,n,!0))&&(g=""+g),!1!==g&&(i=q?" role='presentation'":"","string"==typeof g?x.test(g)?(g="/"===g.charAt(0)?g:(n.imagePath||"")+g,s.push("<img src='"+g+"' class='fancytree-icon' alt='' />")):s.push("<span "+i+" class='fancytree-custom-icon "+g+"'></span>"):s.push("<span "+i+" class='fancytree-icon'></span>")),h="",n.renderTitle&&(h=n.renderTitle.call(m,{type:"renderTitle"},b)||""),h||(!0===(k=w.evalOption("tooltip",l,l,n,null))&&(k=l.title),k=k?" title='"+p(k)+"'":"",j=n.titlesTabbable?" tabindex='0'":"",h="<span class='fancytree-title'"+k+j+">"+(n.escapeTitles?o(l.title):l.title)+"</span>"),s.push(h),l.span.innerHTML=s.join(""),this.nodeRenderStatus(b),n.enhanceTitle&&(b.$title=a(">span.fancytree-title",l.span),h=n.enhanceTitle.call(m,{type:"enhanceTitle"},b)||""))},nodeRenderStatus:function(b){var c,d=b.node,e=b.tree,f=b.options,g=d.hasChildren(),h=d.isLastSibling(),i=f.aria,j=f._classNames,k=[],l=d[e.statusClassPropName];l&&!1!==e._enableUpdate&&(i&&(c=a(d.tr||d.li)),k.push(j.node),e.activeNode===d&&k.push(j.active),e.focusNode===d&&k.push(j.focused),d.expanded&&k.push(j.expanded),i&&(!1!==g?c.attr("aria-expanded",Boolean(d.expanded)):c.removeAttr("aria-expanded")),d.folder&&k.push(j.folder),!1!==g&&k.push(j.hasChildren),h&&k.push(j.lastsib),d.lazy&&null==d.children&&k.push(j.lazy),d.partload&&k.push(j.partload),d.partsel&&k.push(j.partsel),w.evalOption("unselectable",d,d,f,!1)&&k.push(j.unselectable),d._isLoading&&k.push(j.loading),d._error&&k.push(j.error),d.statusNodeType&&k.push(j.statusNodePrefix+d.statusNodeType),d.selected?(k.push(j.selected),i&&c.attr("aria-selected",!0)):i&&c.attr("aria-selected",!1),d.extraClasses&&k.push(d.extraClasses),!1===g?k.push(j.combinedExpanderPrefix+"n"+(h?"l":"")):k.push(j.combinedExpanderPrefix+(d.expanded?"e":"c")+(d.lazy&&null==d.children?"d":"")+(h?"l":"")),k.push(j.combinedIconPrefix+(d.expanded?"e":"c")+(d.folder?"f":"")),l.className=k.join(" "),d.li&&a(d.li).toggleClass(j.lastsib,h))},nodeSetActive:function(b,c,d){d=d||{};var f,g=b.node,h=b.tree,i=b.options,j=!0===d.noEvents,m=!0===d.noFocus;return c=!1!==c,g===h.activeNode===c?k(g):c&&!j&&!1===this._triggerNodeEvent("beforeActivate",g,b.originalEvent)?l(g,["rejected"]):(c?(h.activeNode&&(e(h.activeNode!==g,"node was active (inconsistency)"),f=a.extend({},b,{node:h.activeNode}),h.nodeSetActive(f,!1),e(null===h.activeNode,"deactivate was out of sync?")),i.activeVisible&&g.makeVisible({scrollIntoView:m&&null==h.focusNode}),h.activeNode=g,h.nodeRenderStatus(b),m||h.nodeSetFocus(b),j||h._triggerNodeEvent("activate",g,b.originalEvent)):(e(h.activeNode===g,"node was not active (inconsistency)"),h.activeNode=null,this.nodeRenderStatus(b),j||b.tree._triggerNodeEvent("deactivate",g,b.originalEvent)),k(g))},nodeSetExpanded:function(b,c,e){e=e||{};var f,g,h,i,j,m,n=b.node,o=b.tree,p=b.options,q=!0===e.noAnimation,r=!0===e.noEvents;if(c=!1!==c,n.expanded&&c||!n.expanded&&!c)return k(n);if(c&&!n.lazy&&!n.hasChildren())return k(n);if(!c&&n.getLevel()<p.minExpandLevel)return l(n,["locked"]);if(!r&&!1===this._triggerNodeEvent("beforeExpand",n,b.originalEvent))return l(n,["rejected"]);if(q||n.isVisible()||(q=e.noAnimation=!0),g=new a.Deferred,c&&!n.expanded&&p.autoCollapse){j=n.getParentList(!1,!0),m=p.autoCollapse;try{for(p.autoCollapse=!1,h=0,i=j.length;h<i;h++)this._callHook("nodeCollapseSiblings",j[h],e)}finally{p.autoCollapse=m}}return g.done(function(){var a=n.getLastChild();c&&p.autoScroll&&!q&&a?a.scrollIntoView(!0,{topNode:n}).always(function(){r||b.tree._triggerNodeEvent(c?"expand":"collapse",b)}):r||b.tree._triggerNodeEvent(c?"expand":"collapse",b)}),f=function(d){var e,f,g=p._classNames,h=p.toggleEffect;if(n.expanded=c,o._callHook("nodeRender",b,!1,!1,!0),n.ul)if(e="none"!==n.ul.style.display,f=!!n.expanded,e===f)n.warn("nodeSetExpanded: UL.style.display already set");else{if(h&&!q)return a(n.li).addClass(g.animating),void a(n.ul).addClass(g.animating).toggle(h.effect,h.options,h.duration,function(){a(this).removeClass(g.animating),a(n.li).removeClass(g.animating),d()});n.ul.style.display=n.expanded||!parent?"":"none"}d()},c&&n.lazy&&n.hasChildren()===d?n.load().done(function(){g.notifyWith&&g.notifyWith(n,["loaded"]),f(function(){g.resolveWith(n)})}).fail(function(a){f(function(){g.rejectWith(n,["load failed ("+a+")"])})}):f(function(){g.resolveWith(n)}),g.promise()},nodeSetFocus:function(b,d){var e,f=b.tree,g=b.node,h=f.options,i=!!b.originalEvent&&a(b.originalEvent.target).is(":input");if(d=!1!==d,f.focusNode){if(f.focusNode===g&&d)return;e=a.extend({},b,{node:f.focusNode}),f.focusNode=null,this._triggerNodeEvent("blur",e),this._callHook("nodeRenderStatus",e)}d&&(this.hasFocus()||(g.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",b,!0,{calledByNode:!0})),g.makeVisible({scrollIntoView:!1}),f.focusNode=g,h.titlesTabbable?i||a(g.span).find(".fancytree-title").focus():0===a(c.activeElement).closest(".fancytree-container").length&&a(f.$container).focus(),h.aria&&a(f.$container).attr("aria-activedescendant",a(g.tr||g.li).uniqueId().attr("id")),this._triggerNodeEvent("focus",b),h.autoScroll&&g.scrollIntoView(),this._callHook("nodeRenderStatus",b))},nodeSetSelected:function(a,b,c){c=c||{};var d=a.node,e=a.tree,f=a.options,g=!0===c.noEvents,h=d.parent;if(b=!1!==b,!w.evalOption("unselectable",d,d,f,!1)){if(d._lastSelectIntent=b,!!d.selected===b&&(3!==f.selectMode||!d.partsel||b))return b;if(!g&&!1===this._triggerNodeEvent("beforeSelect",d,a.originalEvent))return!!d.selected;b&&1===f.selectMode?(e.lastSelectedNode&&e.lastSelectedNode.setSelected(!1),d.selected=b):3!==f.selectMode||!h||h.radiogroup||d.radiogroup?h&&h.radiogroup?d.visitSiblings(function(a){a._changeSelectStatusAttrs(b&&a===d)},!0):d.selected=b:(d.selected=b,d.fixSelection3AfterClick(c)),this.nodeRenderStatus(a),e.lastSelectedNode=b?d:null,g||e._triggerNodeEvent("select",a)}},nodeSetStatus:function(b,c,d,e){function g(b,c){var d=h.children?h.children[0]:null;return d&&d.isStatusNode()?(a.extend(d,b),d.statusNodeType=c,i._callHook("nodeRenderTitle",d)):(h._setChildren([b]),h.children[0].statusNodeType=c,i.render()),h.children[0]}var h=b.node,i=b.tree;switch(c){case"ok":(function(){var a=h.children?h.children[0]:null;if(a&&a.isStatusNode()){try{h.ul&&(h.ul.removeChild(a.li),a.li=null)}catch(b){}1===h.children.length?h.children=[]:h.children.shift()}})(),h._isLoading=!1,h._error=null,h.renderStatus();break;case"loading":h.parent||g({title:i.options.strings.loading+(d?" ("+d+")":""),checkbox:!1,tooltip:e},c),h._isLoading=!0,h._error=null,h.renderStatus();break;case"error":g({title:i.options.strings.loadError+(d?" ("+d+")":""),checkbox:!1,tooltip:e},c),h._isLoading=!1,h._error={message:d,details:e},h.renderStatus();break;case"nodata":g({title:i.options.strings.noData,checkbox:!1,tooltip:e},c),h._isLoading=!1,h._error=null,h.renderStatus();break;default:a.error("invalid node status "+c)}},nodeToggleExpanded:function(a){return this.nodeSetExpanded(a,!a.node.expanded)},nodeToggleSelected:function(a){var b=a.node,c=!b.selected;return b.partsel&&!b.selected&&!0===b._lastSelectIntent&&(c=!1,b.selected=!0),b._lastSelectIntent=c,this.nodeSetSelected(a,c)},treeClear:function(a){var b=a.tree;b.activeNode=null,b.focusNode=null,b.$div.find(">ul.fancytree-container").empty(),b.rootNode.children=null},treeCreate:function(a){},treeDestroy:function(a){this.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("ui-helper-hidden")},treeInit:function(a){var b=a.tree,c=b.options;b.$container.attr("tabindex",c.tabindex),c.rtl?b.$container.attr("DIR","RTL").addClass("fancytree-rtl"):b.$container.removeAttr("DIR").removeClass("fancytree-rtl"),c.aria&&(b.$container.attr("role","tree"),1!==c.selectMode&&b.$container.attr("aria-multiselectable",!0)),this.treeLoad(a)},treeLoad:function(b,c){var d,f,g,i=b.tree,j=b.widget.element,k=a.extend({},b,{node:this.rootNode});if(i.rootNode.children&&this.treeClear(b),c=c||this.options.source)"string"==typeof c&&a.error("Not implemented");else switch(f=j.data("type")||"html"){case"html":(g=j.find(">ul:first")).addClass("ui-fancytree-source ui-helper-hidden"),c=a.ui.fancytree.parseHtml(g),this.data=a.extend(this.data,n(g));break;case"json":c=a.parseJSON(j.text()),j.contents().filter(function(){return 3===this.nodeType}).remove(),a.isPlainObject(c)&&(e(a.isArray(c.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),d=c,c=c.children,delete d.children,a.extend(i.data,d));break;default:a.error("Invalid data-type: "+f)}return this.nodeLoadChildren(k,c).done(function(){i.render(),3===b.options.selectMode&&i.rootNode.fixSelection3FromEndNodes(),i.activeNode&&i.options.activeVisible&&i.activeNode.makeVisible(),i._triggerTreeEvent("init",null,{status:!0})}).fail(function(){i.render(),i._triggerTreeEvent("init",null,{status:!1})})},treeRegisterNode:function(a,b,c){},treeSetFocus:function(b,c,d){var e;(c=!1!==c)!==this.hasFocus()&&(this._hasFocus=c,!c&&this.focusNode?this.focusNode.setFocus(!1):!c||d&&d.calledByNode||a(this.$container).focus(),this.$container.toggleClass("fancytree-treefocus",c),this._triggerTreeEvent(c?"focusTree":"blurTree"),c&&!this.activeNode&&(e=this._lastMousedownNode||this.getFirstChild())&&e.setFocus())},treeSetOption:function(b,c,d){var e=b.tree,f=!0,g=!1;switch(c){case"aria":case"checkbox":case"icon":case"minExpandLevel":case"tabindex":e._callHook("treeCreate",e),g=!0;break;case"escapeTitles":case"tooltip":g=!0;break;case"rtl":!1===d?e.$container.removeAttr("DIR").removeClass("fancytree-rtl"):e.$container.attr("DIR","RTL").addClass("fancytree-rtl"),g=!0;break;case"source":f=!1,e._callHook("treeLoad",e,d),g=!0}e.debug("set option "+c+"="+d+" <"+typeof d+">"),f&&(this.widget._super?this.widget._super.call(this.widget,c,d):a.Widget.prototype._setOption.call(this.widget,c,d)),g&&e.render(!0,!1)}}),a.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!0,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,debugLevel:null,disabled:!1,enableAspx:!0,escapeTitles:!1,extensions:[],toggleEffect:{effect:"blind",options:{direction:"vertical",scale:"box"},duration:200},generateIds:!1,icon:!0,idPrefix:"ft_",focusOnSelect:!1,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,quicksearch:!1,rtl:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading...",loadError:"Load error!",moreData:"More...",noData:"No data."},tabindex:"0",titlesTabbable:!1,tooltip:!1,_classNames:{node:"fancytree-node",folder:"fancytree-folder",animating:"fancytree-animating",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",hasChildren:"fancytree-has-children",active:"fancytree-active",selected:"fancytree-selected",expanded:"fancytree-expanded",lazy:"fancytree-lazy",focused:"fancytree-focused",partload:"fancytree-partload",partsel:"fancytree-partsel",radio:"fancytree-radio",unselectable:"fancytree-unselectable",lastsib:"fancytree-lastsib",loading:"fancytree-loading",error:"fancytree-error",statusNodePrefix:"fancytree-statusnode-"},lazyLoad:null,postProcess:null},_create:function(){this.tree=new t(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul:first");var b,c,f,g=this.options,h=g.extensions,i=this.tree;for(f=0;f<h.length;f++)c=h[f],(b=a.ui.fancytree._extensions[c])||a.error("Could not apply extension '"+c+"' (it is not registered, did you forget to include it?)"),this.tree.options[c]=a.extend(!0,{},b.options,this.tree.options[c]),e(this.tree.ext[c]===d,"Extension name must not exist as Fancytree.ext attribute: '"+c+"'"),this.tree.ext[c]={},j(this.tree,i,b,c),i=b;g.icons!==d&&(!0!==g.icon?a.error("'icons' tree option is deprecated since v2.14.0: use 'icon' only instead"):(this.tree.warn("'icons' tree option is deprecated since v2.14.0: use 'icon' instead"),g.icon=g.icons)),g.iconClass!==d&&(g.icon?a.error("'iconClass' tree option is deprecated since v2.14.0: use 'icon' only instead"):(this.tree.warn("'iconClass' tree option is deprecated since v2.14.0: use 'icon' instead"),g.icon=g.iconClass)),g.tabbable!==d&&(g.tabindex=g.tabbable?"0":"-1",this.tree.warn("'tabbable' tree option is deprecated since v2.17.0: use 'tabindex='"+g.tabindex+"' instead")),this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(a,b){return this.tree._callHook("treeSetOption",this.tree,a,b)},destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree),a.Widget.prototype.destroy.call(this)},_unbind:function(){var b=this.tree._ns;this.element.off(b),this.tree.$container.off(b),a(c).off(b)},_bind:function(){var a=this,b=this.options,c=this.tree,d=c._ns;this._unbind(),c.$container.on("focusin"+d+" focusout"+d,function(a){var b=w.getNode(a),d="focusin"===a.type;b?c._callHook("nodeSetFocus",c._makeHookContext(b,a),d):c._callHook("treeSetFocus",c,d)}).on("selectstart"+d,"span.fancytree-title",function(a){a.preventDefault()}).on("keydown"+d,function(a){if(b.disabled||!1===b.keyboard)return!0;var d,e=c.focusNode,f=c._makeHookContext(e||c,a),g=c.phase;try{return c.phase="userEvent","preventNav"===(d=e?c._triggerNodeEvent("keydown",e,a):c._triggerTreeEvent("keydown",a))?d=!0:!1!==d&&(d=c._callHook("nodeKeydown",f)),d}finally{c.phase=g}}).on("mousedown"+d,function(b){var c=w.getEventTarget(b);a.tree._lastMousedownNode=c?c.node:null}).on("click"+d+" dblclick"+d,function(c){if(b.disabled)return!0;var d,e=w.getEventTarget(c),f=e.node,g=a.tree,h=g.phase;if(!f)return!0;d=g._makeHookContext(f,c);try{switch(g.phase="userEvent",c.type){case"click":return d.targetType=e.type,f.isPagingNode()?!0===g._triggerNodeEvent("clickPaging",d,c):!1!==g._triggerNodeEvent("click",d,c)&&g._callHook("nodeClick",d);case"dblclick":return d.targetType=e.type,!1!==g._triggerNodeEvent("dblclick",d,c)&&g._callHook("nodeDblclick",d)}}finally{g.phase=h}})},getActiveNode:function(){return this.tree.activeNode},getNodeByKey:function(a){return this.tree.getNodeByKey(a)},getRootNode:function(){return this.tree.rootNode},getTree:function(){return this.tree}}),w=a.ui.fancytree,a.extend(a.ui.fancytree,{version:"2.24.0",buildType:"production",debugLevel:1,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:t,_FancytreeNodeClass:s,jquerySupports:{positionMyOfs:function(b,c,d,e){var f,g,h,i=a.map(a.trim(b).split("."),function(a){return parseInt(a,10)}),j=a.map(Array.prototype.slice.call(arguments,1),function(a){return parseInt(a,10)});for(f=0;f<j.length;f++)if(g=i[f]||0,h=j[f]||0,g!==h)return g>h;return!0}(a.ui.version,1,9)},assert:function(a,b){return e(a,b)},debounce:function(a,b,c,d){var e;return 3===arguments.length&&"boolean"!=typeof c&&(d=c,c=!1),function(){var f=arguments;d=d||this,c&&!e&&b.apply(d,f),clearTimeout(e),e=setTimeout(function(){c||b.apply(d,f),e=null},a)}},debug:function(b){a.ui.fancytree.debugLevel>=2&&f("log",arguments)},error:function(a){f("error",arguments)},escapeHtml:o,fixPositionOptions:function(b){if((b.offset||(""+b.my+b.at).indexOf("%")>=0)&&a.error("expected new position syntax (but '%' is not supported)"),!a.ui.fancytree.jquerySupports.positionMyOfs){var c=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(b.my),d=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(b.at),e=(c[2]?+c[2]:0)+(d[2]?+d[2]:0),f=(c[4]?+c[4]:0)+(d[4]?+d[4]:0);b=a.extend({},b,{my:c[1]+" "+c[3],at:d[1]+" "+d[3]}),(e||f)&&(b.offset=e+" "+f)}return b},getEventTargetType:function(a){return this.getEventTarget(a).type},getEventTarget:function(b){var c=b&&b.target?b.target.className:"",e={node:this.getNode(b.target),type:d};return/\bfancytree-title\b/.test(c)?e.type="title":/\bfancytree-expander\b/.test(c)?e.type=!1===e.node.hasChildren()?"prefix":"expander":/\bfancytree-checkbox\b/.test(c)?e.type="checkbox":/\bfancytree-icon\b/.test(c)?e.type="icon":/\bfancytree-node\b/.test(c)?e.type="title":b&&b.target&&a(b.target).closest(".fancytree-title").length&&(e.type="title"),e},getNode:function(a){if(a instanceof s)return a;for(a instanceof jQuery?a=a[0]:a.originalEvent!==d&&(a=a.target);a;){if(a.ftnode)return a.ftnode;a=a.parentNode}return null},getTree:function(b){var c;return b instanceof t?b:(b===d&&(b=0),"number"==typeof b?b=a(".fancytree-container").eq(b):"string"==typeof b?b=a(b).eq(0):b.selector!==d?b=b.eq(0):b.originalEvent!==d&&(b=a(b.target)),b=b.closest(":ui-fancytree"),(c=b.data("ui-fancytree")||b.data("fancytree"))?c.tree:null)},evalOption:function(b,c,d,e,f){var g,h,i=c.tree,j=e[b],k=d[b];return a.isFunction(j)?(g={node:c,tree:i,widget:i.widget,options:i.widget.options},null==(h=j.call(i,{type:b},g))&&(h=k)):h=null!=k?k:j,null==h&&(h=f),h},eventToString:function(a){var b=a.which,c=a.type,d=[];return a.altKey&&d.push("alt"),a.ctrlKey&&d.push("ctrl"),a.metaKey&&d.push("meta"),a.shiftKey&&d.push("shift"),"click"===c||"dblclick"===c?d.push(E[a.button]+c):C[b]||d.push(D[b]||String.fromCharCode(b).toLowerCase()),d.join("+")},info:function(b){a.ui.fancytree.debugLevel>=1&&f("info",arguments)},keyEventToString:function(a){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(a)},overrideMethod:function(b,c,d){var e,f=b[c]||a.noop;b[c]=function(){try{return e=this._super,this._super=f,d.apply(this,arguments)}finally{this._super=e}}},parseHtml:function(b){var c,e,f,g,h,i,j,k,m=[];return b.find(">li").each(function(){var l,o,p=a(this),q=p.find(">span:first",this),r=q.length?null:p.find(">a:first"),s={tooltip:null,data:{}};for(q.length?s.title=q.html():r&&r.length?(s.title=r.html(),s.data.href=r.attr("href"),s.data.target=r.attr("target"),s.tooltip=r.attr("title")):(s.title=p.html(),(h=s.title.search(/<ul/i))>=0&&(s.title=s.title.substring(0,h))),s.title=a.trim(s.title),g=0,i=F.length;g<i;g++)s[F[g]]=d;for(c=this.className.split(" "),f=[],g=0,i=c.length;g<i;g++)e=c[g],G[e]?s[e]=!0:f.push(e);if(s.extraClasses=f.join(" "),(j=p.attr("title"))&&(s.tooltip=j),(j=p.attr("id"))&&(s.key=j),p.attr("hideCheckbox")&&(s.checkbox=!1),(l=n(p))&&!a.isEmptyObject(l)){for(o in J)l.hasOwnProperty(o)&&(l[J[o]]=l[o],delete l[o]);for(g=0,i=H.length;g<i;g++)j=H[g],null!=(k=l[j])&&(delete l[j],s[j]=k);a.extend(s.data,l)}(b=p.find(">ul:first")).length?s.children=a.ui.fancytree.parseHtml(b):s.children=s.lazy?d:null,m.push(s)}),m},registerExtension:function(b){e(null!=b.name,"extensions must have a `name` property."),e(null!=b.version,"extensions must have a `version` property."),a.ui.fancytree._extensions[b.name]=b},unescapeHtml:function(a){var b=c.createElement("div");return b.innerHTML=a,0===b.childNodes.length?"":b.childNodes[0].nodeValue},warn:function(a){f("warn",arguments)}})}}(jQuery,window,document),function(a,b,c,d){"use strict";function e(a){return(a+"").replace(/([.?*+\^\$\[\]\\(){}|-])/g,"\\$1")}function f(b){return b.indexOf(">")>=0?a("<div/>").html(b).text():b}var g="__not_found__",h=a.ui.fancytree.escapeHtml;a.ui.fancytree._FancytreeClass.prototype._applyFilterImpl=function(b,c,d){var i,j,k,l,m,n=0,o=this.options,p=o.escapeTitles,q=o.autoCollapse,r=a.extend({},o.filter,d),s="hide"===r.mode,t=!!r.leavesOnly&&!c;if("string"==typeof b){if(""===b)return this.warn("Fancytree passing an empty string as a filter is handled as clearFilter()."),void this.clearFilter();i=r.fuzzy?b.split("").reduce(function(a,b){return a+"[^"+b+"]*"+b}):e(b),k=new RegExp(".*"+i+".*","i"),l=new RegExp(e(b),"gi"),b=function(a){var b=p?a.title:f(a.title),c=!!k.test(b);return c&&r.highlight&&(p?(m=b.replace(l,function(a){return"￷"+a+"￸"}),a.titleWithHighlight=h(m).replace(/\uFFF7/g,"<mark>").replace(/\uFFF8/g,"</mark>")):a.titleWithHighlight=b.replace(l,function(a){return"<mark>"+a+"</mark>"})),c}}return this.enableFilter=!0,this.lastFilterArgs=arguments,this.$div.addClass("fancytree-ext-filter"),s?this.$div.addClass("fancytree-ext-filter-hide"):this.$div.addClass("fancytree-ext-filter-dimm"),this.$div.toggleClass("fancytree-ext-filter-hide-expanders",!!r.hideExpanders),this.visit(function(a){delete a.match,delete a.titleWithHighlight,a.subMatchCount=0}),(j=this.getRootNode()._findDirectChild(g))&&j.remove(),o.autoCollapse=!1,this.visit(function(a){if(!t||null==a.children){var d=b(a),e=!1;if("skip"===d)return a.visit(function(a){a.match=!1},!0),"skip";d||!c&&"branch"!==d||!a.parent.match||(d=!0,e=!0),d&&(n++,a.match=!0,a.visitParents(function(a){a.subMatchCount+=1,!r.autoExpand||e||a.expanded||(a.setExpanded(!0,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),a._filterAutoExpanded=!0)}))}}),o.autoCollapse=q,0===n&&r.nodata&&s&&(j=r.nodata,a.isFunction(j)&&(j=j()),!0===j?j={}:"string"==typeof j&&(j={title:j}),j=a.extend({statusNodeType:"nodata",key:g,title:this.options.strings.noData},j),this.getRootNode().addNode(j).match=!0),this.render(),n},a.ui.fancytree._FancytreeClass.prototype.filterNodes=function(a,b){return"boolean"==typeof b&&(b={leavesOnly:b},this.warn("Fancytree.filterNodes() leavesOnly option is deprecated since 2.9.0 / 2015-04-19. Use opts.leavesOnly instead.")),this._applyFilterImpl(a,!1,b)},a.ui.fancytree._FancytreeClass.prototype.applyFilter=function(a){return this.warn("Fancytree.applyFilter() is deprecated since 2.1.0 / 2014-05-29. Use .filterNodes() instead."),this.filterNodes.apply(this,arguments)},a.ui.fancytree._FancytreeClass.prototype.filterBranches=function(a,b){return this._applyFilterImpl(a,!0,b)},a.ui.fancytree._FancytreeClass.prototype.clearFilter=function(){var b,c=this.getRootNode()._findDirectChild(g),d=this.options.escapeTitles,e=this.options.enhanceTitle;c&&c.remove(),this.visit(function(c){c.match&&c.span&&(b=a(c.span).find(">span.fancytree-title"),d?b.text(c.title):b.html(c.title),e&&e({type:"enhanceTitle"},{node:c,$title:b})),delete c.match,delete c.subMatchCount,delete c.titleWithHighlight,c.$subMatchBadge&&(c.$subMatchBadge.remove(),delete c.$subMatchBadge),c._filterAutoExpanded&&c.expanded&&c.setExpanded(!1,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),delete c._filterAutoExpanded}),this.enableFilter=!1,this.lastFilterArgs=null,this.$div.removeClass("fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide"),this.render()},a.ui.fancytree._FancytreeClass.prototype.isFilterActive=function(){return!!this.enableFilter},a.ui.fancytree._FancytreeNodeClass.prototype.isMatched=function(){return!(this.tree.enableFilter&&!this.match)},a.ui.fancytree.registerExtension({name:"filter",version:"2.24.0",options:{autoApply:!0,autoExpand:!1,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!0,leavesOnly:!1,nodata:!0,mode:"dimm"},nodeLoadChildren:function(a,b){return this._superApply(arguments).done(function(){a.tree.enableFilter&&a.tree.lastFilterArgs&&a.options.filter.autoApply&&a.tree._applyFilterImpl.apply(a.tree,a.tree.lastFilterArgs)})},nodeSetExpanded:function(a,b,c){return delete a.node._filterAutoExpanded,!b&&a.options.filter.hideExpandedCounter&&a.node.$subMatchBadge&&a.node.$subMatchBadge.show(),this._superApply(arguments)},nodeRenderStatus:function(b){var c,d=b.node,e=b.tree,f=b.options.filter,g=a(d.span).find("span.fancytree-title"),h=a(d[e.statusClassPropName]),i=b.options.enhanceTitle,j=b.options.escapeTitles;return c=this._super(b),h.length&&e.enableFilter?(h.toggleClass("fancytree-match",!!d.match).toggleClass("fancytree-submatch",!!d.subMatchCount).toggleClass("fancytree-hide",!(d.match||d.subMatchCount)),!f.counter||!d.subMatchCount||d.isExpanded()&&f.hideExpandedCounter?d.$subMatchBadge&&d.$subMatchBadge.hide():(d.$subMatchBadge||(d.$subMatchBadge=a("<span class='fancytree-childcounter'/>"),a("span.fancytree-icon, span.fancytree-custom-icon",d.span).append(d.$subMatchBadge)),d.$subMatchBadge.show().text(d.subMatchCount)),!d.span||d.isEditing&&d.isEditing.call(d)||(d.titleWithHighlight?g.html(d.titleWithHighlight):j?g.text(d.title):g.html(d.title),i&&i({type:"enhanceTitle"},{node:d,$title:g})),c):c}})}(jQuery,window,document),function(a,b,c,d){"use strict";function e(a,b){return a.map[b]}var f=a.ui.fancytree,g={awesome3:{checkbox:"icon-check-empty",checkboxSelected:"icon-check",checkboxUnknown:"icon-check icon-muted",dragHelper:"icon-caret-right",dropMarker:"icon-caret-right",error:"icon-exclamation-sign",expanderClosed:"icon-caret-right",expanderLazy:"icon-angle-right",expanderOpen:"icon-caret-down",loading:"icon-refresh icon-spin",nodata:"icon-meh",noExpander:"",doc:"icon-file-alt",docOpen:"icon-file-alt",folder:"icon-folder-close-alt",folderOpen:"icon-folder-open-alt"},awesome4:{checkbox:"fa fa-square-o",checkboxSelected:"fa fa-check-square-o",checkboxUnknown:"fa fa-square",dragHelper:"fa fa-arrow-right",dropMarker:"fa fa-long-arrow-right",error:"fa fa-warning",expanderClosed:"fa fa-caret-right",expanderLazy:"fa fa-angle-right",expanderOpen:"fa fa-caret-down",loading:"fa fa-spinner fa-pulse",nodata:"fa fa-meh-o",noExpander:"",doc:"fa fa-file-o",docOpen:"fa fa-file-o",folder:"fa fa-folder-o",folderOpen:"fa fa-folder-open-o"},bootstrap3:{checkbox:"glyphicon glyphicon-unchecked",checkboxSelected:"glyphicon glyphicon-check",checkboxUnknown:"glyphicon glyphicon-share",dragHelper:"glyphicon glyphicon-play",dropMarker:"glyphicon glyphicon-arrow-right",error:"glyphicon glyphicon-warning-sign",expanderClosed:"glyphicon glyphicon-plus-sign",expanderLazy:"glyphicon glyphicon-plus-sign",expanderOpen:"glyphicon glyphicon-minus-sign",loading:"glyphicon glyphicon-refresh glyphicon-spin",nodata:"glyphicon glyphicon-info-sign",noExpander:"",doc:"glyphicon glyphicon-file",docOpen:"glyphicon glyphicon-file",folder:"glyphicon glyphicon-folder-close",folderOpen:"glyphicon glyphicon-folder-open"}};a.ui.fancytree.registerExtension({name:"glyph",version:"2.24.0",options:{preset:null,map:{}},treeInit:function(b){var c=b.tree,d=b.options.glyph;d.preset?(f.assert(!!g[d.preset],"Invalid value for `options.glyph.preset`: "+d.preset),d.map=a.extend({},g[d.preset],d.map)):c.warn("ext-glyph: missing `preset` option."),this._superApply(arguments),c.$container.addClass("fancytree-ext-glyph")},nodeRenderStatus:function(b){var c,d,f,g=b.node,h=a(g.span),i=b.options.glyph,j=i.map;return d=this._super(b),g.isRoot()?d:((f=h.children("span.fancytree-expander").get(0))&&(c=g.expanded&&g.hasChildren()?"expanderOpen":g.isUndefined()?"expanderLazy":g.hasChildren()?"expanderClosed":"noExpander",f.className="fancytree-expander "+j[c]),(f=g.tr?a("td",g.tr).find("span.fancytree-checkbox").get(0):h.children("span.fancytree-checkbox").get(0))&&(c=g.selected?"checkboxSelected":g.partsel?"checkboxUnknown":"checkbox",f.className="fancytree-checkbox "+j[c]),(f=h.children("span.fancytree-icon").get(0))&&(c=g.statusNodeType?e(i,g.statusNodeType):g.folder?g.expanded&&g.hasChildren()?e(i,"folderOpen"):e(i,"folder"):g.expanded?e(i,"docOpen"):e(i,"doc"),f.className="fancytree-icon "+c),d)},nodeSetStatus:function(b,c,d,f){var g,h,i=b.options.glyph,j=b.node;return g=this._superApply(arguments),"error"!==c&&"loading"!==c&&"nodata"!==c||(j.parent?(h=a("span.fancytree-expander",j.span).get(0))&&(h.className="fancytree-expander "+e(i,c)):(h=a(".fancytree-statusnode-"+c,j[this.nodeContainerAttrName]).find("span.fancytree-icon").get(0))&&(h.className="fancytree-icon "+e(i,c))),g}})}(jQuery,window,document),function(a,b,c,d){"use strict";function e(b,c,d,f,g){var h,i,j,l,m=!1,n=b.options.persist.expandOpts,o=[],p=[];for(d=d||[],g=g||a.Deferred(),h=0,j=d.length;h<j;h++)i=d[h],(l=b.getNodeByKey(i))?f&&l.isUndefined()?(m=!0,b.debug("_loadLazyNodes: "+l+" is lazy: loading..."),"expand"===f?o.push(l.setExpanded(!0,n)):o.push(l.load())):(b.debug("_loadLazyNodes: "+l+" already loaded."),l.setExpanded(!0,n)):(p.push(i),b.debug("_loadLazyNodes: "+l+" was not yet found."));return a.when.apply(a,o).always(function(){if(m&&p.length>0)e(b,c,p,f,g);else{if(p.length)for(b.warn("_loadLazyNodes: could not load those keys: ",p),h=0,j=p.length;h<j;h++)i=d[h],c._appendKey(k,d[h],!1);g.resolve()}}),g}var f,g,h,i=a.ui.fancytree.assert,j="active",k="expanded",l="focus",m="selected";"function"==typeof Cookies?(h=Cookies.set,f=Cookies.get,g=Cookies.remove):(h=f=a.cookie,g=a.removeCookie),a.ui.fancytree._FancytreeClass.prototype.clearCookies=function(a){var b=this.ext.persist,c=b.cookiePrefix;(a=a||"active expanded focus selected").indexOf(j)>=0&&b._data(c+j,null),a.indexOf(k)>=0&&b._data(c+k,null),a.indexOf(l)>=0&&b._data(c+l,null),a.indexOf(m)>=0&&b._data(c+m,null)},a.ui.fancytree._FancytreeClass.prototype.getPersistData=function(){var a=this.ext.persist,b=a.cookiePrefix,c=a.cookieDelimiter,d={};return d[j]=a._data(b+j),d[k]=(a._data(b+k)||"").split(c),d[m]=(a._data(b+m)||"").split(c),d[l]=a._data(b+l),d},a.ui.fancytree.registerExtension({name:"persist",version:"2.24.0",options:{cookieDelimiter:"~",cookiePrefix:d,cookie:{raw:!1,expires:"",path:"",domain:"",secure:!1},expandLazy:!1,expandOpts:d,fireActivate:!0,overrideSource:!0,store:"auto",types:"active expanded focus selected"},_data:function(a,b){var c=this._local.localStorage;return b===d?c?c.getItem(a):f(a):void(null===b?c?c.removeItem(a):g(a):c?c.setItem(a,b):h(a,b,this.options.persist.cookie))},_appendKey:function(b,c,d){c=""+c;var e=this._local,g=this.options.persist.cookieDelimiter,h=e.cookiePrefix+b,i=e._data(h),j=i?i.split(g):[],k=a.inArray(c,j);k>=0&&j.splice(k,1),d&&j.push(c),e._data(h,j.join(g))},treeInit:function(c){var g=c.tree,h=c.options,n=this._local,o=this.options.persist;return i("auto"!==o.store&&"cookie"!==o.store||f,"Missing required plugin for 'persist' extension: js.cookie.js or jquery.cookie.js"),n.cookiePrefix=o.cookiePrefix||"fancytree-"+g._id+"-",n.storeActive=o.types.indexOf(j)>=0,n.storeExpanded=o.types.indexOf(k)>=0,n.storeSelected=o.types.indexOf(m)>=0,n.storeFocus=o.types.indexOf(l)>=0,"cookie"!==o.store&&b.localStorage?n.localStorage="local"===o.store?b.localStorage:b.sessionStorage:n.localStorage=null,g.$div.bind("fancytreeinit",function(b){if(!1!==g._triggerTreeEvent("beforeRestore",null,{})){var c,i,p,q,r=n._data(n.cookiePrefix+l),s=!1===o.fireActivate;c=n._data(n.cookiePrefix+k),p=c&&c.split(o.cookieDelimiter),(n.storeExpanded?e(g,n,p,!!o.expandLazy&&"expand",null):(new a.Deferred).resolve()).done(function(){if(n.storeSelected){if(c=n._data(n.cookiePrefix+m))for(p=c.split(o.cookieDelimiter),i=0;i<p.length;i++)(q=g.getNodeByKey(p[i]))?(q.selected===d||o.overrideSource&&!1===q.selected)&&(q.selected=!0,q.renderStatus()):n._appendKey(m,p[i],!1);3===g.options.selectMode&&g.visit(function(a){if(a.selected)return a.fixSelection3AfterClick(),"skip"})}n.storeActive&&(!(c=n._data(n.cookiePrefix+j))||!h.persist.overrideSource&&g.activeNode||(q=g.getNodeByKey(c))&&(q.debug("persist: set active",c),q.setActive(!0,{noFocus:!0,noEvents:s}))),n.storeFocus&&r&&(q=g.getNodeByKey(r))&&(g.options.titlesTabbable?a(q.span).find(".fancytree-title").focus():a(g.$container).focus()),g._triggerTreeEvent("restore",null,{})})}}),this._superApply(arguments)},nodeSetActive:function(a,b,c){var d,e=this._local;return b=!1!==b,d=this._superApply(arguments),e.storeActive&&e._data(e.cookiePrefix+j,this.activeNode?this.activeNode.key:null),d},nodeSetExpanded:function(a,b,c){var d,e=a.node,f=this._local;return b=!1!==b,d=this._superApply(arguments),f.storeExpanded&&f._appendKey(k,e.key,b),d},nodeSetFocus:function(a,b){var c,d=this._local;return b=!1!==b,c=this._superApply(arguments),d.storeFocus&&d._data(d.cookiePrefix+l,this.focusNode?this.focusNode.key:null),c},nodeSetSelected:function(b,c,d){var e,f,g=b.tree,h=b.node,i=this._local;return c=!1!==c,e=this._superApply(arguments),i.storeSelected&&(3===g.options.selectMode?(f=a.map(g.getSelectedNodes(!0),function(a){return a.key}),f=f.join(b.options.persist.cookieDelimiter),i._data(i.cookiePrefix+m,f)):i._appendKey(m,h.key,h.selected)),e}})}(jQuery,window,document)}),function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c){!function(a){a.mobile={}}(a),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,!(!b.href||!f||"map"!==d.nodeName.toLowerCase())&&(!!(g=a("img[usemap=#"+f+"]")[0])&&e(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(("absolute"===(e=g.css("position"))||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b){var d=function(b,c){var d=b.parent(),e=[],f=function(){var b=a(this),c=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:!1!==b.attr("data-"+a.mobile.ns+"update-page-padding")};return!("fixed"===c.position&&!0===c.updatePagePadding)},g=d.children(":jqmData(role='header')").filter(f),h=b.children(":jqmData(role='header')"),i=d.children(":jqmData(role='footer')").filter(f),j=b.children(":jqmData(role='footer')");return 0===h.length&&g.length>0&&(e=e.concat(g.toArray())),0===j.length&&i.length>0&&(e=e.concat(i.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&!((c=e.className||"")&&(d=g.exec(c))&&(f=d[2]));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,i=b.length,j=a();for(g=0;i>g;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if("false"===(d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"")){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height",b-(f-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a){a.extend(a.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(a),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i))!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0:a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||!0!==f.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){var d=this;return setTimeout(function(){return("string"==typeof a?d[a]:a).apply(d,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&!1===g.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?!0===e||"number"==typeof e?c:e.effect||c:b;"number"==typeof(e=e||{})&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;(b=b.jquery?b[0]:b)&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d)}catch(e){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return void 0!==b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||void 0===d?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return void 0!==c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a),function(a){var b=/[A-Z]/g,c=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var d,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(d in this.options)null!=(e=a.mobile.getAttribute(f,d.replace(b,c)))&&(g[d]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(!1===i.text?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a(a.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(a),function(a,b,d){"$:nomunge";function e(a){return"#"+(a=a||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return!k&&void a(f.start)},teardown:function(){return!k&&void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"<\/script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do{b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><br><![endif]--\x3e"}while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:function(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:function(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return!((d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1)}(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:function(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}(),cssPointerEvents:function(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style&&(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a)}(),boundingRect:void 0!==c.createElement("div").getBoundingClientRect,inlineSVG:function(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:void 0,isPushStateEnabled:function(){return a.support.pushState&&!0===a.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===a.mobile.hashListeningEnabled},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=this.parseUrl(a||location.href),c=a?b:location,d=b.hash;return d="#"===d?"":d,c.protocol+b.doubleSlash+c.host+(""!==c.protocol&&"/"!==c.pathname.substring(0,1)?"/":"")+c.pathname+c.search+d},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain.toLowerCase()===d.parseUrl(b).domain.toLowerCase()},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname;return g+h+i+d.makePathAbsolute(e.pathname||f.filename,f.pathname)+(e.search||!j&&f.search||"")+e.hash},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=a,e=d.parseUrl(a);return d.isEmbeddedPage(e)?c=e.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(e,this.documentBase)&&(c=e.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),b.decodeURIComponent(c)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return!(!b.protocol||b.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h,i=this.isPath(a),j=this.parseUrl(a),k=j.hash,l="";return b||(i?b=d.getLocation():(h=d.getDocumentUrl(!0),b=d.isPath(h.hash)?d.squash(h.href):h.href)),e=i?d.stripHash(a):a,e=d.isPath(j.hash)?d.stripHash(j.hash):e,(g=e.indexOf(this.uiStateKey))>-1&&(l=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,i?((d.isPath(k)||0===k.replace("#","").indexOf(this.uiStateKey))&&(k=""),l&&-1===k.indexOf(this.uiStateKey)&&(k+=l),-1===k.indexOf("#")&&""!==k&&(k="#"+k),c=d.parseUrl(c),c=c.protocol+c.doubleSlash+c.host+c.pathname+f+k):c+=c.indexOf("#")>-1?l:"#"+l,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==c.search(/^https?:/)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){var d,e,f,g=(b=b||this.stack).length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return(c=this.find(a,this.stack.slice(0,d)))===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f,g;return c=d.parseUrl(a),(e=d.parseLocation()).pathname+e.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:d.isPath(a)?(g=d.parseUrl(b),f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?void b.preventDefault():(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),void(b.historyState=f)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){return e.style[a.camelCase(f+h)]!==b?(d[g].prefix=f,!1):void 0}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=function(){clearTimeout(h),e.apply(this,arguments)},l=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===l||a.support.cssAnimations&&"animation"===l?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[l].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[l].event,k),e.apply(j)},i),a(this).one(d[l].event,k)):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&void 0!==a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;n>m;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if((d=a.data(b,z))&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b))&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,(d=g(c)).hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);(J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f)&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d))&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=function(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{}),a.data(this,z)[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=K[f],0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,0,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){e(f,(c=b)?"scrollstart":"scrollstop",a)}var c,d,f=this;a(f).bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.preventDefault():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};(b=a.data(this,"mobile-events"))||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&!b.isDefaultPrevented()&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h))&&(a.event.special.swipe.eventInProgress=!1),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;(b=a.data(this,"mobile-events"))&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,f=function(){c=(new Date).getTime(),(d=c-g)>=250?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,250-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return!(a.support.orientation&&!a.event.special.orientationchange.disabled)&&(f=e(),void l.bind("throttledresize",d))},teardown:function(){return!(a.support.orientation&&!a.event.special.orientationchange.disabled)&&void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var e=c.documentElement;return(a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a){var b=a("head").children("base"),c={element:b.length?b:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&c.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,d){var e=a.mobile.path.get(b);d.find(c.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a.mobile.path.parseLocation(),g=a(c).attr(d);g=g.replace(f.protocol+f.doubleSlash+f.host+f.pathname,""),/^(\w+:|#|\/)/.test(g)||a(c).attr(d,e+g)})},reset:function(){c.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=c}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return!1!==this._trigger("beforecreate")&&(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=b>a?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||((d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url)||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase())),b||this._getInitialContent()},_transitionFromHistory:function(a,b){var c=this._getHistory(),d="back"===a?c.getLast():c.getActive();return d&&d.transition||b},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.data("mobile-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:this._transitionFromHistory(c.direction,b.transition),reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var d=a.mobile.path.stripHash(b),e=this._getHistory(),f=0===e.stack.length?"none":this._transitionFromHistory(c.direction),g={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(g,c,{transition:f}),e.activeIndex>0&&d.indexOf(a.mobile.dialogHashKey)>-1&&!1===(d=this._handleDialog(g,c))||this._changeContent(this._handleDestination(d),g)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return 0===(c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(e)+"']")).length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,(d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first()).length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",this._createDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this._trigger(b,f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b);return a.proxy(function(h,i,j){var k,l=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");l.test(h)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),g=this.window[0].encodeURIComponent(g)),e.prefetch===d&&this._getBase().set(g),k=this._parse(h,g),this._setLoadedTitle(k,h),c.xhr=j,c.textStatus=i,c.page=k,c.content=k,c.toPage=k,this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(g,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),f.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=c&&c.reload===d&&c.reloadPage!==d?{reload:c.reloadPage}:{},k=a.extend({},this._loadDefaults,c,j),l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return k.data&&"get"===k.type&&(m=a.mobile.path.addSearchParams(m,k.data),k.data=d),k.data&&"post"===k.type&&(k.reload=!0),e=this._createFileUrl(m),f=this._createDataUrl(m),0===(l=this._find(m)).length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?(i.reject(m,k),i.promise()):(this._getBase().reset(),l.length&&!k.reload?(this._enhance(l,k.role),i.resolve(m,k,l),k.prefetch||this._getBase().set(b),i.promise()):(h={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:d,dataUrl:f,deferred:i,options:k},(g=this._triggerWithDeprecated("beforeload",h)).deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?i.promise():(k.showLoadMsg&&this._showLoading(k.loadMsgDelay),k.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m)?(a.ajax({url:e,type:k.type,data:k.data,contentType:k.contentType,dataType:"html",success:this._loadSuccess(m,h,k,i),error:this._loadError(m,h,k,i)}),i.promise()):(i.reject(m,k),i.promise()))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),(f=new(this._getTransitionHandler(g))(g,h,b,c).transition()).done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this)),f.done(function(){i.resolve.apply(i,arguments)})},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e;return c.prevPage=this.activePage,a.extend(c,{toPage:b,options:d}),c.absUrl="string"===a.type(b)?a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):d.absUrl,!(e=this._triggerWithDeprecated("beforechange",c)).event.isDefaultPrevented()&&!e.deprecatedEvent.isDefaultPrevented()},change:function(b,c){if(f)e.unshift(arguments);else{var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))}},transition:function(b,g,h){var i,j,k,m,n,o,p,q,r,s,t,u,v;if(f)e.unshift([b,h]);else if(this._triggerPageBeforeChange(b,g,h)&&(g.prevPage=h.fromPage,!(v=this._triggerWithDeprecated("beforetransition",g)).deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&!0!==b.jqmData("dialog"),i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(w){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey),(s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p)&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},!1!==h.changeHash&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(j),t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||0>o,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g)},this))}},_findBaseWithDefault:function(){return this.activePage&&a.mobile.getClosestBaseUrl(this.activePage)||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,d){function e(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var f=a.Deferred(),g=a.Deferred(),h=function(){g.resolve(),g=null},i=a.mobile.path.documentUrl,j=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!(!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target"))&&(d=j&&j.attr("formaction")||b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===g&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=i.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),!(a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(i,d))&&(c||(e=b.serializeArray(),j&&j[0].form===b[0]&&(f=j.attr("name"))&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0}),f&&e.push({name:f,value:j.attr("value")})),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d;b.isDefaultPrevented()||(d=c(a(this)))&&(a.mobile.changePage(d.url,d.options),b.preventDefault())}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(j=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(!(g=e(g))||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=d,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g,h,k,l,m,n=e(c.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===c.target.parentNode&&p(),n&&!(c.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),g=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(g))return void p();if(!(-1===g.search("#")||a.mobile.path.isExternal(g)&&a.mobile.path.isAbsoluteUrl(g))){if(!(g=g.replace(/[^#]*#/,"")))return void c.preventDefault();g=a.mobile.path.isPath(g)?a.mobile.path.makeUrlAbsolute(g,f):a.mobile.path.makeUrlAbsolute("#"+g,i.hrefNoHash)}if(h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),h||a.mobile.path.isExternal(g)&&!a.mobile.path.isPermittedCrossDomainRequest(i,g))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||d,a.mobile.changePage(g,{transition:k,reverse:l,role:m,link:o}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){g?g.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){f.resolve()}),"complete"===c.readyState?h():a.mobile.window.load(h),a.when(f,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=!1!==a.mobile.maxTransitionWidth&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||function(){return 3*a.mobile.getScreenHeight()}}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a),function(a){a.mobile.transitionFallbacks.flow="fade"}(a),function(a){a.mobile.transitionFallbacks.pop="fade"}(a),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a),function(a){a.mobile.transitionFallbacks.turn="fade"}(a),function(a){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){(b=a(b)).find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;"none"==(b="left"===b?"left":"right"===b?"right":"none")?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;"none"==(b="left"===b?"left":"right"===b?"right":"none")?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div>\x3c!-- placeholder for legend --\x3e</div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),(c=i.hasClass("ui-collapsible-collapsed"))?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?!1!==n.collapsedIcon:!1!==j.collapsedIcon,(n.iconpos!==b||n.collapsedIcon!==b||n.expandedIcon!==b)&&(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui;this.options.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a){function b(b){var d,e=b.length,f=[];for(d=0;e>d;d++)b[d].className.match(c)||f.push(b[d]);return a(f)}var c=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,c){var d;return c?d=b(a):0===(d=a.filter(":visible")).length&&(d=b(a)),d},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a, button"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:void 0;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a){var b=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)(d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG"))).length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=b(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),e=0,f=(w=this._getChildrenByTagName(y[0],"li","LI")).length;f>e;e++)g=w.eq(e),h="",(c||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===b(g[0],"role"),p=g.attr("value"),i=b(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=b(g[0],"icon"),k=!1!==j&&(j||x.icon),l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=b(q[0],"theme")||x.splitTheme||b(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=b(q[0],"icon")||b(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty(),l=l.first()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.addClass(d)):m?(v=b(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v||"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i||"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.not("[class*='ui-body-']").addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,c),c)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:function(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],(f=this.options.autodividersSelector(a(e)))&&h!==f&&((g=c.createElement("li")).appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a){var b=/(^|\s)ui-li-divider($|\s)/,c=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,d,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),d=a.length-1;d>-1;d--)(e=a[d]).className.match(b)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(c)||(f=!1)}})}(a),function(a){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,c=this.options,d=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),f=b[0].type,g="ui-"+f+"-on",h="ui-"+f+"-off";("checkbox"===f||"radio"===f)&&(this.element[0].disabled&&(this.options.disabled=!0),c.iconpos=d(b,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||c.iconpos,c.mini=d(b,"mini")||c.mini,a.extend(this,{input:b,label:e.element,labelIsParent:e.isParent,inputtype:f,checkedClass:g,uncheckedClass:h}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var b,d,e,f=this.element,g=f[0].labels;return g&&g.length>0?(d=a(g[0]),e=a.contains(d[0],f[0])):(b=f.closest("label"),e=b.length>0,d=e?b:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first()),{element:d,isParent:e}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?((d=g.getAttribute("id"))&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(b){var c=this;this._getInputSet().each(function(){var d=a(this);!this.checked&&"checkbox"!==c.inputtype||b||d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return!(d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector)).length>0)||"horizontal"!==((c=a.data(b[0],"mobile-controlgroup"))?c.options.type:b.attr("data-"+a.mobile.ns+"type"))},refresh:function(){var b=this.element[0].checked,c=a.mobile.activeBtnClass,d="ui-btn-icon-"+this.options.iconpos,e=[],f=[];this._hasIcon()?(f.push(c),e.push(d)):(f.push(d),(b?e:f).push(c)),b?(e.push(this.checkedClass),f.push(this.uncheckedClass)):(e.push(this.uncheckedClass),f.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(e.join(" ")).removeClass(f.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),(c.icon!==b||c.iconshadow!==b||c.iconpos!==b)&&d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&!0!==c||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){void 0===this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),(a.disabled!==b||a.mini!==b||a.corners!==b||a.theme!==b||a.wrapperClass!==b)&&(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=!(!this.options.highlight||v)&&function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}();if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for((k=p.attr("tabindex"))&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),(f=c.createElement("div")).className="ui-slider-inneroffset",g=0,h=G.childNodes.length;h>g;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),i=0,j=(e=p.find("option")).length;j>i;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return!1!==this._trigger("controlchange",a)&&void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return!(this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d)&&(!1!==this._trigger("beforestart",a)&&(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1))},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return!1!==this._trigger("drag",a)&&(this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0)},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),void 0===j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),0>k&&(k=0),k>100&&(k=100),o>r&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=parseFloat(l.val())!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),!1===this._trigger("beforechange",b))return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){(a=!!a)?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a||"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a||"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a){function b(){return c||(c=a("<div></div>",{class:"ui-slider-popup ui-shadow ui-corner-all"})),c.clone()}var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,c){this._super(a,c),"showValue"===a?this.handle.html(c&&!this.options.mini?this._value():""):"popupEnabled"===a&&c&&!this._popup&&(this._popup=b().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),(a=this._value())!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(a)),b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";(a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left")!==b&&this[a]()},_toggle:function(){this[this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right"]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),a.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),a.disabled!==b&&this._setDisabled(a.disabled),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),!(d>=e)&&void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),d=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10)-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_setDisabled:function(a){this._inputFirst.prop("disabled",a),this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,i=d+(parseFloat(this.element.css("border-top-width"))+parseFloat(this.element.css("border-bottom-width")))+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=!!d.icon&&(d.iconpos||this.select.jqmData("iconpos")),f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&c._delay(function(){c.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(((e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder)?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")))},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){return b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("\x3c!-- placeholder for "+c+" --\x3e")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;d>c?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var a=e(this.window);if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),!a.contains(e.container[0],d))return a(this.document[0].activeElement).one("focus",a.proxy(function(){this._safelyBlur(d)},this)),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;(e={screen:a.Deferred(),container:a.Deferred()}).screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),c.length>0&&(this._ui.focusElement=c),this._ignoreResizeEvents(),b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return!(!(null!==d&&"4.0"===e&&c&&c>534.13)||f)}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=!!e&&e.hasClass("ui-dialog"),this._myUrl=c=h.getActive().url,c.indexOf(d)>-1&&!f&&h.activeIndex>0?(i._open(b),i._bindContainerClose(),this):(-1!==c.indexOf(d)||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(b){var c=a(b.target).closest("li"),d=this.select[0].selectedIndex,e=a.mobile.getAttribute(c,"option-index"),f=this._selectOptions().eq(e)[0];f.selected=!this.isMultiple||!f.selected,this.isMultiple&&c.find("a").toggleClass("ui-checkbox-on",f.selected).toggleClass("ui-checkbox-off",!f.selected),this.isMultiple||d===e||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close(),b.preventDefault()},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,u,v=this.options;return v.nativeMenu?this._super():(c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=v.theme?" data-"+a.mobile.ns+"theme='"+v.theme+"'":"",k=v.overlayTheme||v.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=v.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+v.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div"+j+l+" id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(v.theme?v.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:v.closeText,href:"#",class:"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:v.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:void 0,menuPageClose:void 0,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null!==this.select[0].getAttribute("tabindex")&&this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().not(".ui-screen-hidden").text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){var e=a(this);a.inArray(b,d)>-1?(e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)):c.isMultiple&&e.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,e=b.list.parent().outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.getEncodedText()||b.placeholder)):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),d=(b=this._selectOptions()).length,e=this.select[0],g=0;d>g;g++,B=!1)h=b[g],(i=a(h)).hasClass("ui-screen-hidden")||(j=h.parentNode,m=[],k=i.text(),(l=c.createElement("a")).setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"))!==f&&((o=c.createElement("li")).setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,"false"),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(!1!==this._origTabIndex?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b||[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,(d=f[a[c]])!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options,d=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(d).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(d)[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=c.enhanced?{groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(!0===c.shadow?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:void 0,rightbtn:void 0}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(a){if(a.addBackBtn!==b&&this._updateBackButton(),null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme),a.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText),a.theme!==b){var c=this.options.theme?this.options.theme:"inherit",d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var b,c=this.options,d=c.backBtnTheme||c.theme;b=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&a.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?b.attached||(this.backButton=b.element=(b.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(d?"ui-btn-"+d+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+c.backBtnText+"</a>")).prependTo(this.element),b.attached=!0):b.element&&(b.element.detach(),b.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var a;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),a=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+a),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=a(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0;(this.page?this.page:a(".ui-page")).bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var b,c,d,e,f,g=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(d=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,f=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,c="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(c),f||(b="ui-page-"+this.role+"-fullscreen"),d||(e="header"===this.role,b+=" ui-page-"+this.role+"-fixed",g.css("padding-"+(e?"top":"bottom"),"")),g.removeClass(b))}})}(a),function(a){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){a._viewportOffset()>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var b=this._super();return this.options.arrow&&(this._ui.arrow=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((!0===i?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return(e=this._ui.arrow)&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0&&c,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){return this._openedPage||this._parentPage||a("."+a.mobile.activePageClass)},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed");return b.add(c).addClass(this.options.classes.pageFixedToolbar)},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");b.currentTarget.href.split("#")[1]===e&&void 0!==e&&(b.preventDefault(),(d=a(b.target)).hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._off(c.document,"panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){c._open&&("overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page())};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c._on(c.document,{panelclose:e}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses).height(""),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(0===a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")).not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;f-1>e;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b,h,i=a(this),j=a.mobile.getAttribute(this,"priority");j&&((h=i.add(i.jqmData("cells"))).addClass(f.classes.priorityPrefix+j),b=(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(i.children("abbr").first().attr("title")||i.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("header",i).jqmData("cells",h),i.jqmData("input",b))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(b){var c,d,e;if(this._super(b),!b&&"columntoggle"===this.options.mode)for(c=this.headers,d=[],this._menu.find("input").each(function(){var b=a(this),e=b.jqmData("header"),f=c.index(e[0]);f>-1&&!b.prop("checked")&&d.push(f)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,b),e=d.length-1;e>-1;e--)c.eq(d[e]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).clone().contents();i.length>0&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(b,c,d){1===d.length&&"abbr"===d[0].nodeName.toLowerCase()&&(d=d.eq(0).attr("title")),b.not(":has(b."+c+")").prepend(a("<b class='"+c+"'></b>").append(d))}})}(a),function(a,c){var d=function(b,c){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),(d=a.mobile.getAttribute(e[0],"lastval")+"")&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return!1!==this._trigger("beforefilter",null,{input:e})&&(e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),void(this._timer=0))},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;f>c;c++)(e.call(k[c],c,b)?i:h).push(k[c]);0===i.length?k[j.filterReveal&&0===b.length?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b))&&a.isFunction(b.refresh)&&b.refresh()},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_onKeyDown:function(b){b.keyCode===a.ui.keyCode.ENTER&&(b.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&(e[d]="theme"===d&&null!=this.options.filterTheme?this.options.filterTheme:c[d]);this._search.textinput("option",e)}}}),a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){return!0!==this.options.filter||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var a;this._superApply(arguments),!0===this.options.filter&&(a=this.element.data("mobile-filterable"))&&a.refresh()}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=!!this.tabs.length&&0)),!1!==b&&-1===(b=this.tabs.index(this.tabs.eq(b)))&&(b=!c&&0),!c&&!1===b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){for(var e=this.tabs.length-1;-1!==a.inArray((b>e&&(b=0),0>b&&(b=e),b),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,(g=b.element.find(f)).length||(g=b._createPanel(h)).insertAfter(b.panels[c-1]||b.tablist),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)!0===b||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,f=a(b.currentTarget).closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||!1===this._trigger("beforeActivate",b,k)||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;!1!==d&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(!0!==d){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):a.mobile.iosorientationfixEnabled=!1}(a,this),function(a,b,d){function e(){f.removeClass("ui-mobile-rendering")}var f=a("html"),g=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(e,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,f=a(":jqmData(role='page'), :jqmData(role='dialog')"),h=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),i=a.mobile.path.parseLocation(),j=h?c.getElementById(h):void 0;f.length||(f=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(i.pathname+i.search))}),a.mobile.firstPage=f.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),g.trigger("pagecontainercreate"),a.mobile.loading("show"),e(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(j).is(":jqmData(role='page')")||a.mobile.path.isPath(h)||h===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):g.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&g.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof exports?b(a,require("jquery")):b(a,a.jQuery)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){for(var c=a.length;--c;)if(Math.round(+a[c])!==Math.round(+b[c]))return!1;return!0}function d(a){var c={range:!0,animate:!0};return"boolean"==typeof a?c.animate=a:b.extend(c,a),c}function e(a,c,d,e,f,g,h,i,j){"array"===b.type(a)?this.elements=[+a[0],+a[2],+a[4],+a[1],+a[3],+a[5],0,0,1]:this.elements=[a,c,d,e,f,g,h||0,i||0,j||1]}function f(a,b,c){this.elements=[a,b,c]}function g(a,c){if(!(this instanceof g))return new g(a,c);1!==a.nodeType&&b.error("Panzoom called on non-Element node"),b.contains(h,a)||b.error("Panzoom element must be attached to the document");var d=b.data(a,i);if(d)return d;this.options=c=b.extend({},g.defaults,c),this.elem=a;var e=this.$elem=b(a);this.$set=c.$set&&c.$set.length?c.$set:e,this.$doc=b(a.ownerDocument||h),this.$parent=e.parent(),this.parent=this.$parent[0],this.isSVG=n.test(a.namespaceURI)&&"svg"!==a.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=b.cssProps.transform.replace(m,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var f=b(),j=this;b.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(a,b){j[b]=c[b]||f}),this.enable(),this.scale=this.getMatrix()[0],this._checkPanWhenZoomed(),b.data(a,i,this)}var h=a.document,i="__pz__",j=Array.prototype.slice,k=/trident\/7./i,l=function(){if(k.test(navigator.userAgent))return!1;var a=h.createElement("input");return a.setAttribute("oninput","return"),"function"==typeof a.oninput}(),m=/([A-Z])/g,n=/^http:[\w\.\/]+svg$/,o="(\\-?\\d[\\d\\.e-]*)",p="\\,?\\s*",q=new RegExp("^matrix\\("+o+p+o+p+o+p+o+p+o+p+o+"\\)$");return e.prototype={x:function(a){var b=a instanceof f,c=this.elements,d=a.elements;return b&&3===d.length?new f(c[0]*d[0]+c[1]*d[1]+c[2]*d[2],c[3]*d[0]+c[4]*d[1]+c[5]*d[2],c[6]*d[0]+c[7]*d[1]+c[8]*d[2]):d.length===c.length&&new e(c[0]*d[0]+c[1]*d[3]+c[2]*d[6],c[0]*d[1]+c[1]*d[4]+c[2]*d[7],c[0]*d[2]+c[1]*d[5]+c[2]*d[8],c[3]*d[0]+c[4]*d[3]+c[5]*d[6],c[3]*d[1]+c[4]*d[4]+c[5]*d[7],c[3]*d[2]+c[4]*d[5]+c[5]*d[8],c[6]*d[0]+c[7]*d[3]+c[8]*d[6],c[6]*d[1]+c[7]*d[4]+c[8]*d[7],c[6]*d[2]+c[7]*d[5]+c[8]*d[8])},inverse:function(){var a=1/this.determinant(),b=this.elements;return new e(a*(b[8]*b[4]-b[7]*b[5]),a*-(b[8]*b[1]-b[7]*b[2]),a*(b[5]*b[1]-b[4]*b[2]),a*-(b[8]*b[3]-b[6]*b[5]),a*(b[8]*b[0]-b[6]*b[2]),a*-(b[5]*b[0]-b[3]*b[2]),a*(b[7]*b[3]-b[6]*b[4]),a*-(b[7]*b[0]-b[6]*b[1]),a*(b[4]*b[0]-b[3]*b[1]))},determinant:function(){var a=this.elements;return a[0]*(a[8]*a[4]-a[7]*a[5])-a[3]*(a[8]*a[1]-a[7]*a[2])+a[6]*(a[5]*a[1]-a[4]*a[2])}},f.prototype.e=e.prototype.e=function(a){return this.elements[a]},g.rmatrix=q,g.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,which:1,increment:.3,linearZoom:!1,panOnlyWhenZoomed:!1,minScale:.3,maxScale:6,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},g.prototype={constructor:g,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),b.removeData(this.elem,i)},resetDimensions:function(){this.container=this.parent.getBoundingClientRect();var a=this.elem,c=a.getBoundingClientRect(),d=Math.abs(this.scale);this.dimensions={width:c.width,height:c.height,left:b.css(a,"left",!0)||0,top:b.css(a,"top",!0)||0,border:{top:b.css(a,"borderTopWidth",!0)*d||0,bottom:b.css(a,"borderBottomWidth",!0)*d||0,left:b.css(a,"borderLeftWidth",!0)*d||0,right:b.css(a,"borderRightWidth",!0)*d||0},margin:{top:b.css(a,"marginTop",!0)*d||0,left:b.css(a,"marginLeft",!0)*d||0}}},reset:function(a){a=d(a);var b=this.setMatrix(this._origTransform,a);a.silent||this._trigger("reset",b)},resetZoom:function(a){a=d(a);var b=this.getMatrix(this._origTransform);a.dValue=b[3],this.zoom(b[0],a)},resetPan:function(a){var b=this.getMatrix(this._origTransform);this.pan(b[4],b[5],d(a))},setTransform:function(a){for(var c=this.$set,d=c.length;d--;)b.style(c[d],"transform",a),this.isSVG&&c[d].setAttribute("transform",a)},getTransform:function(a){var d=this.$set[0];return a?this.setTransform(a):(a=b.style(d,"transform"),!this.isSVG||a&&"none"!==a||(a=b.attr(d,"transform")||"none")),"none"===a||q.test(a)||this.setTransform(a=b.css(d,"transform")),a||"none"},getMatrix:function(a){var b=q.exec(a||this.getTransform());return b&&b.shift(),b||[1,0,0,1,0,0]},getScale:function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},setMatrix:function(a,c){if(!this.disabled){c||(c={}),"string"==typeof a&&(a=this.getMatrix(a));var d=this.getScale(a),e=void 0!==c.contain?c.contain:this.options.contain;if(e){var f=c.dims;f||(this.resetDimensions(),f=this.dimensions);var g,h,i,j=this.container,k=f.width,l=f.height,m=j.width,n=j.height,o=m/k,p=n/l;"center"!==this.$parent.css("textAlign")||"inline"!==b.css(this.elem,"display")?(i=(k-this.elem.offsetWidth)/2,g=i-f.border.left,h=k-m-i+f.border.right):g=h=(k-m)/2;var q=(l-n)/2+f.border.top,r=(l-n)/2-f.border.top-f.border.bottom;a[4]="invert"===e||"automatic"===e&&o<1.01?Math.max(Math.min(a[4],g-f.border.left),-h):Math.min(Math.max(a[4],g),-h),a[5]="invert"===e||"automatic"===e&&p<1.01?Math.max(Math.min(a[5],q-f.border.top),-r):Math.min(Math.max(a[5],q),-r)}if("skip"!==c.animate&&this.transition(!c.animate),c.range&&this.$zoomRange.val(d),this.options.disableXAxis||this.options.disableYAxis){var s=this.getMatrix();this.options.disableXAxis&&(a[4]=s[4]),this.options.disableYAxis&&(a[5]=s[5])}return this.setTransform("matrix("+a.join(",")+")"),this.scale=d,this._checkPanWhenZoomed(d),c.silent||this._trigger("change",a),a}},isPanning:function(){return this.panning},transition:function(a){if(this._transition)for(var c=a||!this.options.transition?"none":this._transition,d=this.$set,e=d.length;e--;)b.style(d[e],"transition")!==c&&b.style(d[e],"transition",c)},pan:function(a,b,c){if(!this.options.disablePan){c||(c={});var d=c.matrix;d||(d=this.getMatrix()),c.relative&&(a+=+d[4],b+=+d[5]),d[4]=a,d[5]=b,this.setMatrix(d,c),c.silent||this._trigger("pan",d[4],d[5])}},zoom:function(a,c){"object"==typeof a?(c=a,a=null):c||(c={});var d=b.extend({},this.options,c);if(!d.disableZoom){var g=!1,h=d.matrix||this.getMatrix(),i=new e(h),j=this.getScale(h);"number"!=typeof a?(a=d.linearZoom?1+d.increment*(a?-1:1)/j:a?1/(1+d.increment):1+d.increment,g=!0):a=1/j,a=Math.max(Math.min(a,d.maxScale/j),d.minScale/j);var k=i.x(new e(a,0,0,0,"number"==typeof d.dValue?d.dValue/j:a,0)),l=d.focal;if(l&&!d.disablePan){this.resetDimensions();var m=d.dims=this.dimensions,n=l.clientX,o=l.clientY;this.isSVG||(n-=m.width/j/2,o-=m.height/j/2);var p=new f(n,o,1),q=this.parentOffset||this.$parent.offset(),r=new e(1,0,q.left-this.$doc.scrollLeft(),0,1,q.top-this.$doc.scrollTop()),s=i.inverse().x(r.inverse().x(p));i=i.x(new e([a,0,0,a,0,0])),p=r.x(i.x(s)),h[4]=+h[4]+(n-p.e(0)),h[5]=+h[5]+(o-p.e(1))}h[0]=k.e(0),h[1]=k.e(3),h[2]=k.e(1),h[3]=k.e(4),this.setMatrix(h,{animate:void 0!==d.animate?d.animate:g,range:!d.noSetRange}),d.silent||this._trigger("zoom",a,d)}},option:function(a,c){var d;if(!a)return b.extend({},this.options);if("string"==typeof a){if(1===arguments.length)return void 0!==this.options[a]?this.options[a]:null;(d={})[a]=c}else d=a;this._setOptions(d)},_setOptions:function(a){b.each(a,b.proxy(function(a,c){switch(a){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[a]=c,a){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[a]=c;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":b.style(this.elem,"cursor",c);break;case"minScale":this.$zoomRange.attr("min",c);break;case"maxScale":this.$zoomRange.attr("max",c);break;case"rangeStep":this.$zoomRange.attr("step",c);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"panOnlyWhenZoomed":this._checkPanWhenZoomed();break;case"$set":c instanceof b&&c.length&&(this.$set=c,this._initStyle(),this._buildTransform())}},this))},_checkPanWhenZoomed:function(a){var b=this.options;if(b.panOnlyWhenZoomed){a||(a=this.getMatrix()[0]);var c=a<=b.minScale;b.disablePan!==c&&this.option("disablePan",c)}},_initStyle:function(){var a={"transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(a.cursor=this.options.cursor),this.$set.css(a);var c=this.$parent;c.length&&!b.nodeName(this.parent,"body")&&(a={overflow:"hidden"},"static"===c.css("position")&&(a.position="relative"),c.css(a))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var a=this,c=this.options,d=c.eventNamespace,e="mousedown"+d+" pointerdown"+d+" MSPointerDown"+d,f="touchstart"+d+" "+e,h="touchend"+d+" click"+d+" pointerup"+d+" MSPointerUp"+d,i={},j=this.$reset,k=this.$zoomRange;if(b.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var a=c["on"+this];b.isFunction(a)&&(i["panzoom"+this.toLowerCase()+d]=a)}),c.disablePan&&c.disableZoom||(i[f]=function(b){var d;("touchstart"===b.type?!(d=b.touches||b.originalEvent.touches)||(1!==d.length||c.disablePan)&&2!==d.length:c.disablePan||(b.which||b.originalEvent.which)!==c.which)||(b.preventDefault(),b.stopPropagation(),a._startMove(b,d))},3===c.which&&(i.contextmenu=!1)),this.$elem.on(i),j.length&&j.on(h,function(b){b.preventDefault(),a.reset()}),k.length&&k.attr({step:c.rangeStep===g.defaults.rangeStep&&k.attr("step")||c.rangeStep,min:c.minScale,max:c.maxScale}).prop({value:this.getMatrix()[0]}),!c.disableZoom){var m=this.$zoomIn,n=this.$zoomOut;m.length&&n.length&&(m.on(h,function(b){b.preventDefault(),a.zoom()}),n.on(h,function(b){b.preventDefault(),a.zoom(!0)})),k.length&&(i={},i[e]=function(){a.transition(!0)},i[(l?"input":"change")+d]=function(){a.zoom(+this.value,{noSetRange:!0})},k.on(i))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var a=this.options;this._transition=this._transform+" "+a.duration+"ms "+a.easing}},_getDistance:function(a){var b=a[0],c=a[1];return Math.sqrt(Math.pow(Math.abs(c.clientX-b.clientX),2)+Math.pow(Math.abs(c.clientY-b.clientY),2))},_getMiddle:function(a){var b=a[0],c=a[1];return{clientX:(c.clientX-b.clientX)/2+b.clientX,clientY:(c.clientY-b.clientY)/2+b.clientY}},_trigger:function(a){"string"==typeof a&&(a="panzoom"+a),this.$elem.triggerHandler(a,[this].concat(j.call(arguments,1)))},_startMove:function(a,d){if(!this.panning){var e,f,g,i,j,k,l,m,n=this,o=this.options,p=o.eventNamespace,q=this.getMatrix(),r=q.slice(0),s=+r[4],t=+r[5],u={matrix:q,animate:"skip"},v=a.type;"pointerdown"===v?(e="pointermove",f="pointerup"):"touchstart"===v?(e="touchmove",f="touchend"):"MSPointerDown"===v?(e="MSPointerMove",f="MSPointerUp"):(e="mousemove",f="mouseup"),e+=p,f+=p,this.transition(!0),this.panning=!0,this._trigger("start",a,d);var w=function(a,b){if(b){if(2===b.length){if(null!=g)return;return g=n._getDistance(b),i=n.getScale(q),void(j=n._getMiddle(b))}if(null!=k)return;(m=b[0])&&(k=m.pageX,l=m.pageY)}null==k&&(k=a.pageX,l=a.pageY)};w(a,d);b(h).off(p).on(e,function(a){var b;if(a.preventDefault(),d=a.touches||a.originalEvent.touches,w(a,d),d){if(2===d.length){var c=n._getMiddle(d),e=n._getDistance(d)-g;return n.zoom(e*(o.increment/100)+i,{focal:c,matrix:q,animate:"skip"}),n.pan(+q[4]+c.clientX-j.clientX,+q[5]+c.clientY-j.clientY,u),void(j=c)}b=d[0]||{pageX:0,pageY:0}}b||(b=a),n.pan(s+b.pageX-k,t+b.pageY-l,u)}).on(f,function(a){a.preventDefault(),b(this).off(p),n.panning=!1,a.type="panzoomend",n._trigger(a,q,!c(q,r))})}}},b.Panzoom=g,b.fn.panzoom=function(a){var c,d,e,f;return"string"==typeof a?(f=[],d=j.call(arguments,1),this.each(function(){(c=b.data(this,i))?"_"!==a.charAt(0)&&"function"==typeof(e=c[a])&&void 0!==(e=e.apply(c,d))&&f.push(e):f.push(void 0)}),f.length?1===f.length?f[0]:f:this):this.each(function(){new g(this,a)})},g}),function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery),function(factory){if("function"==typeof define&&define.amd)define(factory);else if("object"==typeof exports)module.exports=factory();else{var _OldCookies=window.Cookies,api=window.Cookies=factory(window.jQuery);api.noConflict=function(){return window.Cookies=_OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function init(converter){function api(key,value,attributes){var result;if(arguments.length>1){if("number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+864e5*attributes.expires),attributes.expires=expires}try{result=JSON.stringify(value),/^[\{\[]/.test(result)&&(value=result)}catch(e){}return value=encodeURIComponent(String(value)),value=value.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)),key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),key=key.replace(/[\(\)]/g,escape),document.cookie=[key,"=",value,attributes.expires&&"; expires="+attributes.expires.toUTCString(),attributes.path&&"; path="+attributes.path,attributes.domain&&"; domain="+attributes.domain,attributes.secure?"; secure":""].join("")}key||(result={});for(var cookies=document.cookie?document.cookie.split("; "):[],rdecode=/(%[0-9A-Z]{2})+/g,i=0;i<cookies.length;i++){var parts=cookies[i].split("="),name=parts[0].replace(rdecode,decodeURIComponent),cookie=parts.slice(1).join("=");'"'===cookie.charAt(0)&&(cookie=cookie.slice(1,-1));try{if(cookie=converter&&converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent),this.json)try{cookie=JSON.parse(cookie)}catch(e){}if(key===name){result=cookie;break}key||(result[name]=cookie)}catch(e){}}return result}return api.get=api.set=api,api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))},api.withConverter=init,api}return init()}),function(p){var y=this||(0,eval)("this"),w=y.document,M=y.navigator,u=y.jQuery,E=y.JSON;!function(p){"function"==typeof define&&define.amd?define(["exports","require"],p):p("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:y.ko={})}(function(N,O){function J(a,d){return(null===a||typeof a in Q)&&a===d}function R(a,d){var c;return function(){c||(c=setTimeout(function(){c=p,a()},d))}}function S(a,d){var c;return function(){clearTimeout(c),c=setTimeout(a,d)}}function K(b,d,c,e){a.d[b]={init:function(b,k,h,l,g){var m,x;return a.w(function(){var q=a.a.c(k()),n=!c!=!q,r=!x;(r||d||n!==m)&&(r&&a.Z.oa()&&(x=a.a.la(a.e.childNodes(b),!0)),n?(r||a.e.T(b,a.a.la(x)),a.Ja(e?e(g,q):g,b)):a.e.ma(b),m=n)},null,{q:b}),{controlsDescendantBindings:!0}}},a.h.ka[b]=!1,a.e.R[b]=!0}var a=void 0!==N?N:{};a.b=function(b,d){for(var c=b.split("."),e=a,f=0;f<c.length-1;f++)e=e[c[f]];e[c[c.length-1]]=d},a.D=function(a,d,c){a[d]=c},a.version="3.3.0",a.b("version",a.version),a.a=function(){function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function d(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,b){return a.__proto__=b,a}function e(b,c,g,d){var e=b[c].match(m)||[];a.a.o(g.match(m),function(b){a.a.ga(e,b,d)}),b[c]=e.join(" ")}var f={__proto__:[]}instanceof Array,k={},h={};k[M&&/Firefox\/2/i.test(M.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],k.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),b(k,function(a,b){if(b.length)for(var c=0,g=b.length;c<g;c++)h[b[c]]=a});var l={propertychange:!0},g=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:p}(),m=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,g=a.length;c<g;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,g=a.length;c<g;c++)if(a[c]===b)return c;return-1},vb:function(a,b,c){for(var g=0,d=a.length;g<d;g++)if(b.call(c,a[g],g))return a[g];return null},ya:function(b,c){var g=a.a.m(b,c);0<g?b.splice(g,1):0===g&&b.shift()},wb:function(b){for(var c=[],g=0,d=(b=b||[]).length;g<d;g++)0>a.a.m(c,b[g])&&c.push(b[g]);return c},Ka:function(a,b){for(var c=[],g=0,d=(a=a||[]).length;g<d;g++)c.push(b(a[g],g));return c},xa:function(a,b){for(var c=[],g=0,d=(a=a||[]).length;g<d;g++)b(a[g],g)&&c.push(a[g]);return c},ia:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,g=b.length;c<g;c++)a.push(b[c]);return a},ga:function(b,c,g){var d=a.a.m(a.a.cb(b),c);0>d?g&&b.push(c):g||b.splice(d,1)},za:f,extend:d,Fa:c,Ga:f?c:d,A:b,pa:function(a,b){if(!a)return a;var g,c={};for(g in a)a.hasOwnProperty(g)&&(c[g]=b(a[g],g,a));return c},Ra:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Jb:function(b){for(var c=((b=a.a.O(b))[0]&&b[0].ownerDocument||w).createElement("div"),g=0,d=b.length;g<d;g++)c.appendChild(a.S(b[g]));return c},la:function(b,c){for(var g=0,d=b.length,e=[];g<d;g++){var m=b[g].cloneNode(!0);e.push(c?a.S(m):m)}return e},T:function(b,c){if(a.a.Ra(b),c)for(var g=0,d=c.length;g<d;g++)b.appendChild(c[g])},Qb:function(b,c){var g=b.nodeType?[b]:b;if(0<g.length){for(var d=g[0],e=d.parentNode,m=0,f=c.length;m<f;m++)e.insertBefore(c[m],d);for(m=0,f=g.length;m<f;m++)a.removeNode(g[m])}},na:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],g=a[a.length-1];for(a.length=0;c!==g;)if(a.push(c),!(c=c.nextSibling))return;a.push(g)}}return a},Sb:function(a,b){7>g?a.setAttribute("selected",b):a.selected=b},ib:function(a){return null===a||a===p?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,b){return a=a||"",!(b.length>a.length)&&a.substring(0,b.length)===b},jc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(16&b.compareDocumentPosition(a));for(;a&&a!=b;)a=a.parentNode;return!!a},Qa:function(b){return a.a.jc(b,b.ownerDocument.documentElement)},tb:function(b){return!!a.a.vb(b,a.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(b,c,d){var m=g&&l[c];if(!m&&u)u(b).bind(c,d);else if(m||"function"!=typeof b.addEventListener){if(void 0===b.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var e=function(a){d.call(b,a)},f="on"+c;b.attachEvent(f,e),a.a.C.fa(b,function(){b.detachEvent(f,e)})}else b.addEventListener(c,d,!1)},qa:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var g;if("input"===a.a.v(b)&&b.type&&"click"==c.toLowerCase()?(g=b.type,g="checkbox"==g||"radio"==g):g=!1,u&&!g)u(b).trigger(c);else if("function"==typeof w.createEvent){if("function"!=typeof b.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(g=w.createEvent(h[c]||"HTMLEvents")).initEvent(c,!0,!0,y,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(g)}else if(g&&b.click)b.click();else{if(void 0===b.fireEvent)throw Error("Browser doesn't support triggering events");b.fireEvent("on"+c)}},c:function(b){return a.F(b)?b():b},cb:function(b){return a.F(b)?b.B():b},Ia:function(b,c,g){var d;c&&("object"==typeof b.classList?(d=b.classList[g?"add":"remove"],a.a.o(c.match(m),function(a){d.call(b.classList,a)})):"string"==typeof b.className.baseVal?e(b.className,"baseVal",c,g):e(b,"className",c,g))},Ha:function(b,c){var g=a.a.c(c);null!==g&&g!==p||(g="");var d=a.e.firstChild(b);!d||3!=d.nodeType||a.e.nextSibling(d)?a.e.T(b,[b.ownerDocument.createTextNode(g)]):d.data=g,a.a.mc(b)},Rb:function(a,b){if(a.name=b,7>=g)try{a.mergeAttributes(w.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},mc:function(a){9<=g&&(a=1==a.nodeType?a:a.parentNode).style&&(a.style.zoom=a.style.zoom)},kc:function(a){if(g){var b=a.style.width;a.style.width=0,a.style.width=b}},Bc:function(b,c){b=a.a.c(b),c=a.a.c(c);for(var g=[],d=b;d<=c;d++)g.push(d);return g},O:function(a){for(var b=[],c=0,g=a.length;c<g;c++)b.push(a[c]);return b},Hc:6===g,Ic:7===g,M:g,Db:function(b,c){for(var g=a.a.O(b.getElementsByTagName("input")).concat(a.a.O(b.getElementsByTagName("textarea"))),d="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},m=[],e=g.length-1;0<=e;e--)d(g[e])&&m.push(g[e]);return m},yc:function(b){return"string"==typeof b&&(b=a.a.ib(b))?E&&E.parse?E.parse(b):new Function("return "+b)():null},jb:function(b,c,g){if(!E||!E.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return E.stringify(a.a.c(b),c,g)},zc:function(c,g,d){var m=(d=d||{}).params||{},e=d.includeFields||this.Bb,f=c;if("object"==typeof c&&"form"===a.a.v(c))for(var f=c.action,l=e.length-1;0<=l;l--)for(var k=a.a.Db(c,e[l]),h=k.length-1;0<=h;h--)m[k[h].name]=k[h].value;g=a.a.c(g);var s=w.createElement("form");s.style.display="none",s.action=f,s.method="post";for(var p in g)c=w.createElement("input"),c.type="hidden",c.name=p,c.value=a.a.jb(a.a.c(g[p])),s.appendChild(c);b(m,function(a,b){var c=w.createElement("input");c.type="hidden",c.name=a,c.value=b,s.appendChild(c)}),w.body.appendChild(s),d.submitter?d.submitter(s):s.submit(),setTimeout(function(){s.parentNode.removeChild(s)},0)}}}(),a.b("utils",a.a),a.b("utils.arrayForEach",a.a.o),a.b("utils.arrayFirst",a.a.vb),a.b("utils.arrayFilter",a.a.xa),a.b("utils.arrayGetDistinctValues",a.a.wb),a.b("utils.arrayIndexOf",a.a.m),a.b("utils.arrayMap",a.a.Ka),a.b("utils.arrayPushAll",a.a.ia),a.b("utils.arrayRemoveItem",a.a.ya),a.b("utils.extend",a.a.extend),a.b("utils.fieldsIncludedWithJsonPost",a.a.Bb),a.b("utils.getFormFields",a.a.Db),a.b("utils.peekObservable",a.a.cb),a.b("utils.postJson",a.a.zc),a.b("utils.parseJson",a.a.yc),a.b("utils.registerEventHandler",a.a.n),a.b("utils.stringifyJson",a.a.jb),a.b("utils.range",a.a.Bc),a.b("utils.toggleDomNodeCssClass",a.a.Ia),a.b("utils.triggerEvent",a.a.qa),a.b("utils.unwrapObservable",a.a.c),a.b("utils.objectForEach",a.a.A),a.b("utils.addOrRemoveItem",a.a.ga),a.b("utils.setTextContent",a.a.Ha),a.b("unwrap",a.a.c),Function.prototype.bind||(Function.prototype.bind=function(a){var d=this;if(1===arguments.length)return function(){return d.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var e=c.slice(0);return e.push.apply(e,arguments),d.apply(a,e)}}),a.a.f=new function(){function a(b,k){var h=b[c];if(!h||"null"===h||!e[h]){if(!k)return p;h=b[c]="ko"+d++,e[h]={}}return e[h]}var d=0,c="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===p?p:e[d]},set:function(c,d,e){e===p&&a(c,!1)===p||(a(c,!0)[d]=e)},clear:function(a){var b=a[c];return!!b&&(delete e[b],a[c]=null,!0)},I:function(){return d+++c}}},a.b("utils.domData",a.a.f),a.b("utils.domData.clear",a.a.f.clear),a.a.C=new function(){function b(b,d){var e=a.a.f.get(b,c);return e===p&&d&&(e=[],a.a.f.set(b,c,e)),e}function d(c){if(e=b(c,!1))for(var e=e.slice(0),l=0;l<e.length;l++)e[l](c);if(a.a.f.clear(c),a.a.C.cleanExternalData(c),f[c.nodeType])for(e=c.firstChild;c=e;)e=c.nextSibling,8===c.nodeType&&d(c)}var c=a.a.f.I(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{fa:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},Pb:function(d,e){var f=b(d,!1);f&&(a.a.ya(f,e),0==f.length&&a.a.f.set(d,c,p))},S:function(b){if(e[b.nodeType]&&(d(b),f[b.nodeType])){var c=[];a.a.ia(c,b.getElementsByTagName("*"));for(var l=0,g=c.length;l<g;l++)d(c[l])}return b},removeNode:function(b){a.S(b),b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){u&&"function"==typeof u.cleanData&&u.cleanData([a])}}},a.S=a.a.C.S,a.removeNode=a.a.C.removeNode,a.b("cleanNode",a.S),a.b("removeNode",a.removeNode),a.b("utils.domNodeDisposal",a.a.C),a.b("utils.domNodeDisposal.addDisposeCallback",a.a.C.fa),a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.C.Pb),a.a.ca=function(b,d){var c;if(u){if(u.parseHTML)c=u.parseHTML(b,d)||[];else if((c=u.clean([b],d))&&c[0]){for(e=c[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{(e=d)||(e=w),c=e.parentWindow||e.defaultView||y;var f=a.a.ib(b).toLowerCase(),e=e.createElement("div"),k="ignored<div>"+(f=f.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+b+f[2]+"</div>";for("function"==typeof c.innerShiv?e.appendChild(c.innerShiv(k)):e.innerHTML=k;f[0]--;)e=e.lastChild;c=a.a.O(e.lastChild.childNodes)}return c},a.a.gb=function(b,d){if(a.a.Ra(b),null!==(d=a.a.c(d))&&d!==p)if("string"!=typeof d&&(d=d.toString()),u)u(b).html(d);else for(var c=a.a.ca(d,b.ownerDocument),e=0;e<c.length;e++)b.appendChild(c[e])},a.b("utils.parseHtmlFragment",a.a.ca),a.b("utils.setHtml",a.a.gb),a.H=function(){function b(c,d){if(c)if(8==c.nodeType)null!=(f=a.H.Lb(c.nodeValue))&&d.push({ic:c,wc:f});else if(1==c.nodeType)for(var f=0,k=c.childNodes,h=k.length;f<h;f++)b(k[f],d)}var d={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return d[b]=a,"\x3c!--[ko_memo:"+b+"]--\x3e"},Wb:function(a,b){var f=d[a];if(f===p)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete d[a]}},Xb:function(c,d){var f=[];b(c,f);for(var k=0,h=f.length;k<h;k++){var l=f[k].ic,g=[l];d&&a.a.ia(g,d),a.H.Wb(f[k].wc,g),l.nodeValue="",l.parentNode&&l.parentNode.removeChild(l)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}(),a.b("memoization",a.H),a.b("memoization.memoize",a.H.$a),a.b("memoization.unmemoize",a.H.Wb),a.b("memoization.parseMemoText",a.H.Lb),a.b("memoization.unmemoizeDomNodeAndDescendants",a.H.Xb),a.Sa={throttle:function(b,d){b.throttleEvaluation=d;var c=null;return a.j({read:b,write:function(a){clearTimeout(c),c=setTimeout(function(){b(a)},d)}})},rateLimit:function(a,d){var c,e,f;"number"==typeof d?c=d:(c=d.timeout,e=d.method),f="notifyWhenChangesStop"==e?S:R,a.Za(function(a){return f(a,c)})},notify:function(a,d){a.equalityComparer="always"==d?null:J}};var Q={undefined:1,boolean:1,number:1,string:1};a.b("extenders",a.Sa),a.Ub=function(b,d,c){this.da=b,this.La=d,this.hc=c,this.Gb=!1,a.D(this,"dispose",this.p)},a.Ub.prototype.p=function(){this.Gb=!0,this.hc()},a.Q=function(){a.a.Ga(this,a.Q.fn),this.G={},this.rb=1};var z={U:function(b,d,c){var e=this;c=c||"change";var f=new a.Ub(e,d?b.bind(d):b,function(){a.a.ya(e.G[c],f),e.ua&&e.ua(c)});return e.ja&&e.ja(c),e.G[c]||(e.G[c]=[]),e.G[c].push(f),f},notifySubscribers:function(b,d){if("change"===(d=d||"change")&&this.Yb(),this.Ba(d))try{a.k.xb();for(var f,c=this.G[d].slice(0),e=0;f=c[e];++e)f.Gb||f.La(b)}finally{a.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(b){var e,f,k,d=this,c=a.F(d);d.ta||(d.ta=d.notifySubscribers,d.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?d.pb(a):d.ta(a,b):d.qb(a)});var h=b(function(){c&&k===d&&(k=d()),e=!1,d.Wa(f,k)&&d.ta(f=k)});d.qb=function(a){e=!0,k=a,h()},d.pb=function(a){e||(f=a,d.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(b){if(b)return this.G[b]&&this.G[b].length||0;var d=0;return a.a.A(this.G,function(a,b){d+=b.length}),d},Wa:function(a,d){return!this.equalityComparer||!this.equalityComparer(a,d)},extend:function(b){var d=this;return b&&a.a.A(b,function(b,e){var f=a.Sa[b];"function"==typeof f&&(d=f(d,e)||d)}),d}};a.D(z,"subscribe",z.U),a.D(z,"extend",z.extend),a.D(z,"getSubscriptionsCount",z.nc),a.a.za&&a.a.Fa(z,Function.prototype),a.Q.fn=z,a.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers},a.b("subscribable",a.Q),a.b("isSubscribable",a.Hb),a.Z=a.k=function(){function b(a){c.push(e),e=a}function d(){e=c.pop()}var e,c=[],f=0;return{xb:b,end:d,Ob:function(b){if(e){if(!a.Hb(b))throw Error("Only subscribable things can act as dependencies");e.La(b,b.ac||(b.ac=++f))}},u:function(a,c,e){try{return b(),a.apply(c,e||[])}finally{d()}},oa:function(){if(e)return e.w.oa()},Ca:function(){if(e)return e.Ca}}}(),a.b("computedContext",a.Z),a.b("computedContext.getDependenciesCount",a.Z.oa),a.b("computedContext.isInitial",a.Z.Ca),a.b("computedContext.isSleeping",a.Z.Jc),a.b("ignoreDependencies",a.Gc=a.k.u),a.r=function(b){function d(){return 0<arguments.length?(d.Wa(c,arguments[0])&&(d.X(),c=arguments[0],d.W()),this):(a.k.Ob(d),c)}var c=b;return a.Q.call(d),a.a.Ga(d,a.r.fn),d.B=function(){return c},d.W=function(){d.notifySubscribers(c)},d.X=function(){d.notifySubscribers(c,"beforeChange")},a.D(d,"peek",d.B),a.D(d,"valueHasMutated",d.W),a.D(d,"valueWillMutate",d.X),d},a.r.fn={equalityComparer:J};var H=a.r.Ac="__ko_proto__";a.r.fn[H]=a.r,a.a.za&&a.a.Fa(a.r.fn,a.Q.fn),a.Ta=function(b,d){return null!==b&&b!==p&&b[H]!==p&&(b[H]===d||a.Ta(b[H],d))},a.F=function(b){return a.Ta(b,a.r)},a.Da=function(b){return!!("function"==typeof b&&b[H]===a.r||"function"==typeof b&&b[H]===a.j&&b.qc)},a.b("observable",a.r),a.b("isObservable",a.F),a.b("isWriteableObservable",a.Da),a.b("isWritableObservable",a.Da),a.ba=function(b){if("object"!=typeof(b=b||[])||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return b=a.r(b),a.a.Ga(b,a.ba.fn),b.extend({trackArrayChanges:!0})},a.ba.fn={remove:function(b){for(var d=this.B(),c=[],e="function"!=typeof b||a.F(b)?function(a){return a===b}:b,f=0;f<d.length;f++){var k=d[f];e(k)&&(0===c.length&&this.X(),c.push(k),d.splice(f,1),f--)}return c.length&&this.W(),c},removeAll:function(b){if(b===p){var d=this.B(),c=d.slice(0);return this.X(),d.splice(0,d.length),this.W(),c}return b?this.remove(function(c){return 0<=a.a.m(b,c)}):[]},destroy:function(b){var d=this.B(),c="function"!=typeof b||a.F(b)?function(a){return a===b}:b;this.X();for(var e=d.length-1;0<=e;e--)c(d[e])&&(d[e]._destroy=!0);this.W()},destroyAll:function(b){return b===p?this.destroy(function(){return!0}):b?this.destroy(function(d){return 0<=a.a.m(b,d)}):[]},indexOf:function(b){var d=this();return a.a.m(d,b)},replace:function(a,d){var c=this.indexOf(a);0<=c&&(this.X(),this.B()[c]=d,this.W())}},a.a.o("pop push reverse shift sort splice unshift".split(" "),function(b){a.ba.fn[b]=function(){var a=this.B();return this.X(),this.yb(a,b,arguments),a=a[b].apply(a,arguments),this.W(),a}}),a.a.o(["slice"],function(b){a.ba.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}}),a.a.za&&a.a.Fa(a.ba.fn,a.r.fn),a.b("observableArray",a.ba),a.Sa.trackArrayChanges=function(b){function d(){if(!c){c=!0;var g=b.notifySubscribers;b.notifySubscribers=function(a,b){return b&&"change"!==b||++k,g.apply(this,arguments)};var d=[].concat(b.B()||[]);e=null,f=b.U(function(c){if(c=[].concat(c||[]),b.Ba("arrayChange")){var g;(!e||1<k)&&(e=a.a.Ma(d,c,{sparse:!0})),g=e}d=c,e=null,k=0,g&&g.length&&b.notifySubscribers(g,"arrayChange")})}}if(!b.yb){var f,c=!1,e=null,k=0,h=b.ja,l=b.ua;b.ja=function(a){h&&h.call(b,a),"arrayChange"===a&&d()},b.ua=function(a){l&&l.call(b,a),"arrayChange"!==a||b.Ba("arrayChange")||(f.p(),c=!1)},b.yb=function(b,d,f){function l(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(c&&!k){var h=[],r=b.length,v=f.length,t=0;switch(d){case"push":t=r;case"unshift":for(d=0;d<v;d++)l("added",f[d],t+d);break;case"pop":t=r-1;case"shift":r&&l("deleted",b[t],t);break;case"splice":d=Math.min(Math.max(0,0>f[0]?r+f[0]:f[0]),r);for(var r=1===v?r:Math.min(d+(f[1]||0),r),v=d+v-2,t=Math.max(r,v),G=[],A=[],p=2;d<t;++d,++p)d<r&&A.push(l("deleted",b[d],d)),d<v&&G.push(l("added",f[p],d));a.a.Cb(A,G);break;default:return}e=h}}}},a.w=a.j=function(b,d,c){function e(a,b,c){if(I&&b===g)throw Error("A 'pure' computed must not be called recursively");B[a]=c,c.sa=F++,c.ea=b.Aa()}function f(){var a,b;for(a in B)if(B.hasOwnProperty(a)&&(b=B[a]).da.pc(b.ea))return!0}function k(){!s&&B&&a.a.A(B,function(a,b){b.p&&b.p()}),B=null,F=0,G=!0,s=r=!1}function h(){var a=g.throttleEvaluation;a&&0<=a?(clearTimeout(z),z=setTimeout(function(){l(!0)},a)):g.nb?g.nb():l(!0)}function l(b){if(!v&&!G){if(y&&y()){if(!t)return void w()}else t=!1;v=!0;try{var c=B,m=F,f=I?p:!F;a.k.xb({La:function(a,b){G||(m&&c[b]?(e(b,a,c[b]),delete c[b],--m):B[b]||e(b,a,s?{da:a}:a.U(h)))},w:g,Ca:f}),B={},F=0;try{var l=d?A.call(d):A()}finally{a.k.end(),m&&!s&&a.a.A(c,function(a,b){b.p&&b.p()}),r=!1}g.Wa(n,l)&&(s||q(n,"beforeChange"),n=l,s?g.Yb():b&&q(n)),f&&q(n,"awake")}finally{v=!1}F||w()}}function g(){if(0<arguments.length){if("function"!=typeof C)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return C.apply(d,arguments),this}return a.k.Ob(g),(r||s&&f())&&l(),n}function m(){return(r&&!F||s&&f())&&l(),n}function x(){return r||0<F}function q(a,b){g.notifySubscribers(a,b)}var n,r=!0,v=!1,t=!1,G=!1,A=b,I=!1,s=!1;if(A&&"object"==typeof A?(c=A,A=c.read):(c=c||{},A||(A=c.read)),"function"!=typeof A)throw Error("Pass a function that returns the value of the ko.computed");var C=c.write,D=c.disposeWhenNodeIsRemoved||c.q||null,u=c.disposeWhen||c.Pa,y=u,w=k,B={},F=0,z=null;d||(d=c.owner),a.Q.call(g),a.a.Ga(g,a.j.fn),g.B=m,g.oa=function(){return F},g.qc="function"==typeof C,g.p=function(){w()},g.$=x;var T=g.Za;return g.Za=function(a){T.call(g,a),g.nb=function(){g.pb(n),r=!0,g.qb(g)}},c.pure?(s=I=!0,g.ja=function(b){if(!G&&s&&"change"==b){if(s=!1,r||f())B=null,F=0,r=!0,l();else{var c=[];a.a.A(B,function(a,b){c[b.sa]=a}),a.a.o(c,function(a,b){var c=B[a],g=c.da.U(h);g.sa=b,g.ea=c.ea,B[a]=g})}G||q(n,"awake")}},g.ua=function(b){G||"change"!=b||g.Ba("change")||(a.a.A(B,function(a,b){b.p&&(B[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),s=!0,q(p,"asleep"))},g.bc=g.Aa,g.Aa=function(){return s&&(r||f())&&l(),g.bc()}):c.deferEvaluation&&(g.ja=function(a){"change"!=a&&"beforeChange"!=a||m()}),a.D(g,"peek",g.B),a.D(g,"dispose",g.p),a.D(g,"isActive",g.$),a.D(g,"getDependenciesCount",g.oa),D&&(t=!0,D.nodeType&&(y=function(){return!a.a.Qa(D)||u&&u()})),s||c.deferEvaluation||l(),D&&x()&&D.nodeType&&(w=function(){a.a.C.Pb(D,w),k()},a.a.C.fa(D,w)),g},a.sc=function(b){return a.Ta(b,a.j)},z=a.r.Ac,a.j[z]=a.r,a.j.fn={equalityComparer:J},a.j.fn[z]=a.j,a.a.za&&a.a.Fa(a.j.fn,a.Q.fn),a.b("dependentObservable",a.j),a.b("computed",a.j),a.b("isComputed",a.sc),a.Nb=function(b,d){return"function"==typeof b?a.w(b,d,{pure:!0}):(b=a.a.extend({},b),b.pure=!0,a.w(b,d))},a.b("pureComputed",a.Nb),function(){function b(a,f,k){if(k=k||new c,"object"!=typeof(a=f(a))||null===a||a===p||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};return k.save(a,h),d(a,function(c){var g=f(a[c]);switch(typeof g){case"boolean":case"number":case"string":case"function":h[c]=g;break;case"object":case"undefined":var d=k.get(g);h[c]=d!==p?d:b(g,f,k)}}),h}function d(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function c(){this.keys=[],this.mb=[]}a.Vb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.F(b)&&10>c;c++)b=b();return b})},a.toJSON=function(b,c,d){return b=a.Vb(b),a.a.jb(b,c,d)},c.prototype={save:function(b,c){var d=a.a.m(this.keys,b);0<=d?this.mb[d]=c:(this.keys.push(b),this.mb.push(c))},get:function(b){return 0<=(b=a.a.m(this.keys,b))?this.mb[b]:p}}}(),a.b("toJS",a.Vb),a.b("toJSON",a.toJSON),a.i={s:function(b){switch(a.a.v(b)){case"option":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.ab):7>=a.a.M?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?a.i.s(b.options[b.selectedIndex]):p;default:return b.value}},Y:function(b,d,c){switch(a.a.v(b)){case"option":switch(typeof d){case"string":a.a.f.set(b,a.d.options.ab,p),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=d;break;default:a.a.f.set(b,a.d.options.ab,d),b.__ko__hasDomDataOptionValue__=!0,b.value="number"==typeof d?d:""}break;case"select":""!==d&&null!==d||(d=p);for(var h,e=-1,f=0,k=b.options.length;f<k;++f)if((h=a.i.s(b.options[f]))==d||""==h&&d===p){e=f;break}(c||0<=e||d===p&&1<b.size)&&(b.selectedIndex=e);break;default:null!==d&&d!==p||(d=""),b.value=d}}},a.b("selectExtensions",a.i),a.b("selectExtensions.readValue",a.i.s),a.b("selectExtensions.writeValue",a.i.Y),a.h=function(){function b(b){123===(b=a.a.ib(b)).charCodeAt(0)&&(b=b.slice(1,-1));var x,c=[],d=b.match(e),h=[],n=0;if(d){d.push(",");for(var v,r=0;v=d[r];++r){var t=v.charCodeAt(0);if(44===t){if(0>=n){c.push(x&&h.length?{key:x,value:h.join("")}:{unknown:x||h.join("")}),x=n=0,h=[];continue}}else if(58===t){if(!n&&!x&&1===h.length){x=h.pop();continue}}else 47===t&&r&&1<v.length?(t=d[r-1].match(f))&&!k[t[0]]&&(b=b.substr(b.indexOf(v)+1),(d=b.match(e)).push(","),r=-1,v="/"):40===t||123===t||91===t?++n:41===t||125===t||93===t?--n:x||h.length||34!==t&&39!==t||(v=v.slice(1,-1));h.push(v)}}return c}var d=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,k={in:1,return:1,typeof:1},h={};return{ka:[],V:h,bb:b,Ea:function(e,g){function m(b,g){var e;if(!r){var l=a.getBindingHandler(b);if(l&&l.preprocess&&!(g=l.preprocess(g,b,m)))return;(l=h[b])&&(e=g,0<=a.a.m(d,e)?e=!1:(l=e.match(c),e=null!==l&&(l[1]?"Object("+l[1]+")"+l[2]:e)),l=e),l&&k.push("'"+b+"':function(_z){"+e+"=_z}")}n&&(g="function(){return "+g+" }"),f.push("'"+b+"':"+g)}var f=[],k=[],n=(g=g||{}).valueAccessors,r=g.bindingParams,v="string"==typeof e?b(e):e;return a.a.o(v,function(a){m(a.key||a.unknown,a.value)}),k.length&&m("_ko_property_writers","{"+k.join(",")+" }"),f.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(b,c,d,e,f){b&&a.F(b)?!a.Da(b)||f&&b.B()===e||b(e):(b=c.get("_ko_property_writers"))&&b[d]&&b[d](e)}}}(),a.b("expressionRewriting",a.h),a.b("expressionRewriting.bindingRewriteValidators",a.h.ka),a.b("expressionRewriting.parseObjectLiteral",a.h.bb),a.b("expressionRewriting.preProcessBindings",a.h.Ea),a.b("expressionRewriting._twoWayBindings",a.h.V),a.b("jsonExpressionRewriting",a.h),a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ea),function(){function b(a){return 8==a.nodeType&&k.test(f?a.text:a.nodeValue)}function d(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function c(a,c){for(var e=a,f=1,l=[];e=e.nextSibling;){if(d(e)&&0==--f)return l;l.push(e),b(e)&&f++}if(!c)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var d=c(a,b);return d?0<d.length?d[d.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,k=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.e={R:{},childNodes:function(a){return b(a)?c(a):a.childNodes},ma:function(c){if(b(c))for(var d=0,e=(c=a.e.childNodes(c)).length;d<e;d++)a.removeNode(c[d]);else a.a.Ra(c)},T:function(c,d){if(b(c)){a.e.ma(c);for(var e=c.nextSibling,f=0,l=d.length;f<l;f++)e.parentNode.insertBefore(d[f],e)}else a.a.T(c,d)},Mb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Fb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.Mb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||d(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){return b(a)&&(a=e(a)),a.nextSibling&&d(a.nextSibling)?null:a.nextSibling},oc:b,Fc:function(a){return(a=(f?a.text:a.nodeValue).match(k))?a[1]:null},Kb:function(c){if(l[a.a.v(c)]){var m=c.firstChild;if(m)do{if(1===m.nodeType){var f,h=null;if(f=m.firstChild)do{if(h)h.push(f);else if(b(f)){var k=e(f,!0);k?f=k:h=[f]}else d(f)&&(h=[f])}while(f=f.nextSibling);if(f=h)for(h=m.nextSibling,k=0;k<f.length;k++)h?c.insertBefore(f[k],h):c.appendChild(f[k])}}while(m=m.nextSibling)}}}}(),a.b("virtualElements",a.e),a.b("virtualElements.allowedBindings",a.e.R),a.b("virtualElements.emptyNode",a.e.ma),a.b("virtualElements.insertAfter",a.e.Fb),a.b("virtualElements.prepend",a.e.Mb),a.b("virtualElements.setDomNodeChildren",a.e.T),a.L=function(){this.ec={}},a.a.extend(a.L.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.e.oc(b);default:return!1}},getBindings:function(b,d){var c=(c=this.getBindingsString(b,d))?this.parseBindingsString(c,d,b):null;return a.g.sb(c,b,d,!1)},getBindingAccessors:function(b,d){var c=(c=this.getBindingsString(b,d))?this.parseBindingsString(c,d,b,{valueAccessors:!0}):null;return a.g.sb(c,b,d,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.e.Fc(b);default:return null}},parseBindingsString:function(b,d,c,e){try{var h,f=this.ec,k=b+(e&&e.valueAccessors||"");if(!(h=f[k])){var l,g="with($context){with($data||{}){return{"+a.h.Ea(b,e)+"}}}";l=new Function("$context","$element",g),h=f[k]=l}return h(d,c)}catch(m){throw m.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+m.message,m}}}),a.L.instance=new a.L,a.b("bindingProvider",a.L),function(){function b(a){return function(){return a}}function d(a){return a()}function c(b){return a.a.pa(a.k.u(b),function(a,c){return function(){return b()[c]}})}function e(d,g,e){return"function"==typeof d?c(d.bind(null,g,e)):a.a.pa(d,b)}function f(a,b){return c(this.getBindings.bind(this,a,b))}function k(b,c,d){var g,e=a.e.firstChild(c),f=a.L.instance,m=f.preprocessNode;if(m){for(;g=e;)e=a.e.nextSibling(g),m.call(f,g);e=a.e.firstChild(c)}for(;g=e;)e=a.e.nextSibling(g),h(b,g,d)}function h(b,c,d){var e=!0,f=1===c.nodeType;f&&a.e.Kb(c),(f&&d||a.L.instance.nodeHasBindings(c))&&(e=g(c,null,b,d).shouldBindDescendants),e&&!x[a.a.v(c)]&&k(b,c,!f)}function l(b){var c=[],d={},g=[];return a.a.A(b,function I(e){if(!d[e]){var f=a.getBindingHandler(e);f&&(f.after&&(g.push(e),a.a.o(f.after,function(c){if(b[c]){if(-1!==a.a.m(g,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+g.join(", "));I(c)}}),g.length--),c.push({key:e,Eb:f})),d[e]=!0}}),c}function g(b,c,g,e){var m=a.a.f.get(b,q);if(!c){if(m)throw Error("You cannot apply bindings multiple times to the same element.");a.a.f.set(b,q,!0)}!m&&e&&a.Tb(b,g);var h;if(c&&"function"!=typeof c)h=c;else{var k=a.L.instance,x=k.getBindingAccessors||f,n=a.j(function(){return(h=c?c(g,b):x.call(k,b,g))&&g.K&&g.K(),h},null,{q:b});h&&n.$()||(n=null)}var u;if(h){var w=n?function(a){return function(){return d(n()[a])}}:function(a){return h[a]},y=function(){return a.a.pa(n?n():h,d)};y.get=function(a){return h[a]&&d(w(a))},y.has=function(a){return a in h},e=l(h),a.a.o(e,function(c){var d=c.Eb.init,e=c.Eb.update,f=c.key;if(8===b.nodeType&&!a.e.R[f])throw Error("The binding '"+f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.k.u(function(){var a=d(b,w(f),y,g.$data,g);if(a&&a.controlsDescendantBindings){if(u!==p)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.j(function(){e(b,w(f),y,g.$data,g)},null,{q:b})}catch(m){throw m.message='Unable to process binding "'+f+": "+h[f]+'"\nMessage: '+m.message,m}})}return{shouldBindDescendants:u===p}}function m(b){return b&&b instanceof a.N?b:new a.N(b)}a.d={};var x={script:!0,textarea:!0};a.getBindingHandler=function(b){return a.d[b]},a.N=function(b,c,d,g){var m,e=this,f="function"==typeof b&&!a.F(b),l=a.j(function(){var m=f?b():b,h=a.a.c(m);return c?(c.K&&c.K(),a.a.extend(e,c),l&&(e.K=l)):(e.$parents=[],e.$root=h,e.ko=a),e.$rawData=m,e.$data=h,d&&(e[d]=h),g&&g(e,c,h),e.$data},null,{Pa:function(){return m&&!a.a.tb(m)},q:!0});l.$()&&(e.K=l,l.equalityComparer=null,m=[],l.Zb=function(b){m.push(b),a.a.C.fa(b,function(b){a.a.ya(m,b),m.length||(l.p(),e.K=l=p)})})},a.N.prototype.createChildContext=function(b,c,d){return new a.N(b,this,c,function(a,b){a.$parentContext=b,a.$parent=b.$data,a.$parents=(b.$parents||[]).slice(0),a.$parents.unshift(a.$parent),d&&d(a)})},a.N.prototype.extend=function(b){return new a.N(this.K||this.$data,this,null,function(c,d){c.$rawData=d.$rawData,a.a.extend(c,"function"==typeof b?b():b)})};var q=a.a.f.I(),n=a.a.f.I();a.Tb=function(b,c){if(2!=arguments.length)return a.a.f.get(b,n);a.a.f.set(b,n,c),c.K&&c.K.Zb(b)},a.va=function(b,c,d){return 1===b.nodeType&&a.e.Kb(b),g(b,c,m(d),!0)},a.cc=function(b,c,d){return d=m(d),a.va(b,e(c,d,b),d)},a.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||k(m(a),b,!0)},a.ub=function(a,b){if(!u&&y.jQuery&&(u=y.jQuery),b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||y.document.body,h(m(a),b,!0)},a.Oa=function(b){switch(b.nodeType){case 1:case 8:var c=a.Tb(b);if(c)return c;if(b.parentNode)return a.Oa(b.parentNode)}return p},a.gc=function(b){return(b=a.Oa(b))?b.$data:p},a.b("bindingHandlers",a.d),a.b("applyBindings",a.ub),a.b("applyBindingsToDescendants",a.Ja),a.b("applyBindingAccessorsToNode",a.va),a.b("applyBindingsToNode",a.cc),a.b("contextFor",a.Oa),a.b("dataFor",a.gc)}(),function(b){function d(d,e){var m,g=f.hasOwnProperty(d)?f[d]:b;g?g.U(e):((g=f[d]=new a.Q).U(e),c(d,function(a,b){var c=!(!b||!b.synchronous);k[d]={definition:a,tc:c},delete f[d],m||c?g.notifySubscribers(a):setTimeout(function(){g.notifySubscribers(a)},0)}),m=!0)}function c(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,g,f){f||(f=a.g.loaders.slice(0));var k=f.shift();if(k){var q=k[c];if(q){var n=!1;if(q.apply(k,d.concat(function(a){n?g(null):null!==a?g(a):e(c,d,g,f)}))!==b&&(n=!0,!k.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else e(c,d,g,f)}else g(null)}var f={},k={};a.g={get:function(c,e){var g=k.hasOwnProperty(c)?k[c]:b;g?g.tc?a.k.u(function(){e(g.definition)}):setTimeout(function(){e(g.definition)},0):d(c,e)},zb:function(a){delete k[a]},ob:e},a.g.loaders=[],a.b("components",a.g),a.b("components.get",a.g.get),a.b("components.clearCachedDefinition",a.g.zb)}(),function(){function b(b,c,d,e){function k(){0==--v&&e(h)}var h={},v=2,t=d.template;d=d.viewModel,t?f(c,t,function(c){a.g.ob("loadTemplate",[b,c],function(a){h.template=a,k()})}):k(),d?f(c,d,function(c){a.g.ob("loadViewModel",[b,c],function(a){h[l]=a,k()})}):k()}function d(a,b,c){if("function"==typeof b)c(function(a){return new b(a)});else if("function"==typeof b[l])c(b[l]);else if("instance"in b){var e=b.instance;c(function(){return e})}else"viewModel"in b?d(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function c(b){switch(a.a.v(b)){case"script":return a.a.ca(b.text);case"textarea":return a.a.ca(b.value);case"template":if(e(b.content))return a.a.la(b.content.childNodes)}return a.a.la(b.childNodes)}function e(a){return y.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"==typeof b.require?O||y.require?(O||y.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function k(a){return function(b){throw Error("Component '"+a+"': "+b)}}var h={};a.g.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.Xa(b))throw Error("Component "+b+" is already registered");h[b]=c},a.g.Xa=function(a){return a in h},a.g.Ec=function(b){delete h[b],a.g.zb(b)},a.g.Ab={getConfig:function(a,b){b(h.hasOwnProperty(a)?h[a]:null)},loadComponent:function(a,c,d){var e=k(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,d,f){if(b=k(b),"string"==typeof d)f(a.a.ca(d));else if(d instanceof Array)f(d);else if(e(d))f(a.a.O(d.childNodes));else if(d.element)if(d=d.element,y.HTMLElement?d instanceof HTMLElement:d&&d.tagName&&1===d.nodeType)f(c(d));else if("string"==typeof d){var l=w.getElementById(d);l?f(c(l)):b("Cannot find element with ID "+d)}else b("Unknown element type: "+d);else b("Unknown template value: "+d)},loadViewModel:function(a,b,c){d(k(a),b,c)}};var l="createViewModel";a.b("components.register",a.g.register),a.b("components.isRegistered",a.g.Xa),a.b("components.unregister",a.g.Ec),a.b("components.defaultLoader",a.g.Ab),a.g.loaders.push(a.g.Ab),a.g.$b=h}(),function(){function b(b,e){if(f=b.getAttribute("params")){var f=d.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.pa(f,function(d){return a.w(d,null,{q:b})}),k=a.a.pa(f,function(d){var e=d.B();return d.$()?a.w({read:function(){return a.a.c(d())},write:a.Da(e)&&function(a){d()(a)},q:b}):e});return k.hasOwnProperty("$raw")||(k.$raw=f),k}return{$raw:{}}}a.g.getComponentNameForNode=function(b){return b=a.a.v(b),a.g.Xa(b)&&b},a.g.sb=function(c,d,f,k){if(1===d.nodeType){var h=a.g.getComponentNameForNode(d);if(h){if((c=c||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var l={name:h,params:b(d,f)};c.component=k?function(){return l}:l}}return c};var d=new a.L;9>a.a.M&&(a.g.register=function(a){return function(b){return w.createElement(b),a.apply(this,arguments)}}(a.g.register),w.createDocumentFragment=function(b){return function(){var k,d=b(),f=a.g.$b;for(k in f)f.hasOwnProperty(k)&&d.createElement(k);return d}}(w.createDocumentFragment))}(),function(b){function d(b,c,d){if(!(c=c.template))throw Error("Component '"+b+"' has no template");b=a.a.la(c),a.e.T(d,b)}function c(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var e=0;a.d.component={init:function(f,k,h,l,g){function m(){var a=x&&x.dispose;"function"==typeof a&&a.call(x),q=null}var x,q,n=a.a.O(a.e.childNodes(f));return a.a.C.fa(f,m),a.w(function(){var h,t,l=a.a.c(k());if("string"==typeof l?h=l:(h=a.a.c(l.name),t=a.a.c(l.params)),!h)throw Error("No component name specified");var p=q=++e;a.g.get(h,function(e){if(q===p){if(m(),!e)throw Error("Unknown component '"+h+"'");d(h,e,f);var l=c(e,f,n,t);e=g.createChildContext(l,void 0,function(a){a.$component=l,a.$componentTemplateNodes=n}),x=l,a.Ja(e,f)}})},null,{q:f}),{controlsDescendantBindings:!0}}},a.e.R.component=!0}();var P={class:"className",for:"htmlFor"};a.d.attr={update:function(b,d){var c=a.a.c(d())||{};a.a.A(c,function(c,d){var k=!1===(d=a.a.c(d))||null===d||d===p;k&&b.removeAttribute(c),8>=a.a.M&&c in P?(c=P[c],k?b.removeAttribute(c):b[c]=d):k||b.setAttribute(c,d.toString()),"name"===c&&a.a.Rb(b,k?"":d.toString())})}},a.d.checked={after:["value","attr"],init:function(b,d,c){function e(){var e=b.checked,f=x?k():e;if(!a.Z.Ca()&&(!l||e)){var h=a.k.u(d);g?m!==f?(e&&(a.a.ga(h,f,!0),a.a.ga(h,m,!1)),m=f):a.a.ga(h,f,e):a.h.ra(h,c,"checked",f,!0)}}var k=a.Nb(function(){return c.has("checkedValue")?a.a.c(c.get("checkedValue")):c.has("value")?a.a.c(c.get("value")):b.value}),h="checkbox"==b.type,l="radio"==b.type;if(h||l){var g=h&&a.a.c(d())instanceof Array,m=g?k():p,x=l||g;l&&!b.name&&a.d.uniqueName.init(b,function(){return!0}),a.w(e,null,{q:b}),a.a.n(b,"click",e),a.w(function(){var c=a.a.c(d());b.checked=g?0<=a.a.m(c,k()):h?c:k()===c},null,{q:b})}}},a.h.V.checked=!0,a.d.checkedValue={update:function(b,d){b.value=a.a.c(d())}},a.d.css={update:function(b,d){var c=a.a.c(d());null!==c&&"object"==typeof c?a.a.A(c,function(c,d){d=a.a.c(d),a.a.Ia(b,c,d)}):(c=String(c||""),a.a.Ia(b,b.__ko__cssValue,!1),b.__ko__cssValue=c,a.a.Ia(b,c,!0))}},a.d.enable={update:function(b,d){var c=a.a.c(d());c&&b.disabled?b.removeAttribute("disabled"):c||b.disabled||(b.disabled=!0)}},a.d.disable={update:function(b,d){a.d.enable.update(b,function(){return!a.a.c(d())})}},a.d.event={init:function(b,d,c,e,f){var k=d()||{};a.a.A(k,function(h){"string"==typeof h&&a.a.n(b,h,function(b){var g,m=d()[h];if(m){try{var k=a.a.O(arguments);e=f.$data,k.unshift(e),g=m.apply(e,k)}finally{!0!==g&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===c.get(h+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}},a.d.foreach={Ib:function(b){return function(){var d=b(),c=a.a.cb(d);return c&&"number"!=typeof c.length?(a.a.c(d),{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:a.P.Va}):{foreach:d,templateEngine:a.P.Va}}},init:function(b,d){return a.d.template.init(b,a.d.foreach.Ib(d))},update:function(b,d,c,e,f){return a.d.template.update(b,a.d.foreach.Ib(d),c,e,f)}},a.h.ka.foreach=!1,a.e.R.foreach=!0,a.d.hasfocus={init:function(b,d,c){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(m){g=f.body}e=g===b}f=d(),a.h.ra(f,c,"hasfocus",e,!0),b.__ko_hasfocusLastValue=e,b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),k=e.bind(null,!1);a.a.n(b,"focus",f),a.a.n(b,"focusin",f),a.a.n(b,"blur",k),a.a.n(b,"focusout",k)},update:function(b,d){var c=!!a.a.c(d());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===c||(c?b.focus():b.blur(),a.k.u(a.a.qa,null,[b,c?"focusin":"focusout"]))}},a.h.V.hasfocus=!0,a.d.hasFocus=a.d.hasfocus,a.h.V.hasFocus=!0,a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,d){a.a.gb(b,d())}},K("if"),K("ifnot",!1,!0),K("with",!0,!1,function(a,d){return a.createChildContext(d)});var L={};a.d.options={init:function(b){if("select"!==a.a.v(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,d,c){function e(){return a.a.xa(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function k(d,e){if(r&&m)a.i.Y(b,a.a.c(c.get("value")),!0);else if(n.length){var g=0<=a.a.m(n,a.i.s(e[0]));a.a.Sb(e[0],g),r&&!g&&a.k.u(a.a.qa,null,[b,"change"])}}var h=b.multiple,l=0!=b.length&&h?b.scrollTop:null,g=a.a.c(d()),m=c.get("valueAllowUnset")&&c.has("value"),x=c.get("optionsIncludeDestroyed");d={};var q,n=[];m||(h?n=a.a.Ka(e(),a.i.s):0<=b.selectedIndex&&n.push(a.i.s(b.options[b.selectedIndex]))),g&&(void 0===g.length&&(g=[g]),q=a.a.xa(g,function(b){return x||b===p||null===b||!a.a.c(b._destroy)}),c.has("optionsCaption")&&null!==(g=a.a.c(c.get("optionsCaption")))&&g!==p&&q.unshift(L));var r=!1;d.beforeRemove=function(a){b.removeChild(a)},g=k,c.has("optionsAfterRender")&&"function"==typeof c.get("optionsAfterRender")&&(g=function(b,d){k(0,d),a.k.u(c.get("optionsAfterRender"),null,[d[0],b!==L?b:p])}),a.a.fb(b,q,function(d,e,g){return g.length&&(n=!m&&g[0].selected?[a.i.s(g[0])]:[],r=!0),e=b.ownerDocument.createElement("option"),d===L?(a.a.Ha(e,c.get("optionsCaption")),a.i.Y(e,p)):(g=f(d,c.get("optionsValue"),d),a.i.Y(e,a.a.c(g)),d=f(d,c.get("optionsText"),g),a.a.Ha(e,d)),[e]},d,g),a.k.u(function(){m?a.i.Y(b,a.a.c(c.get("value")),!0):(h?n.length&&e().length<n.length:n.length&&0<=b.selectedIndex?a.i.s(b.options[b.selectedIndex])!==n[0]:n.length||0<=b.selectedIndex)&&a.a.qa(b,"change")}),a.a.kc(b),l&&20<Math.abs(l-b.scrollTop)&&(b.scrollTop=l)}},a.d.options.ab=a.a.f.I(),a.d.selectedOptions={after:["options","foreach"],init:function(b,d,c){a.a.n(b,"change",function(){var e=d(),f=[];a.a.o(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.i.s(b))}),a.h.ra(e,c,"selectedOptions",f)})},update:function(b,d){if("select"!=a.a.v(b))throw Error("values binding applies only to SELECT elements");var c=a.a.c(d());c&&"number"==typeof c.length&&a.a.o(b.getElementsByTagName("option"),function(b){var d=0<=a.a.m(c,a.i.s(b));a.a.Sb(b,d)})}},a.h.V.selectedOptions=!0,a.d.style={update:function(b,d){var c=a.a.c(d()||{});a.a.A(c,function(c,d){null!==(d=a.a.c(d))&&d!==p&&!1!==d||(d=""),b.style[c]=d})}},a.d.submit={init:function(b,d,c,e,f){if("function"!=typeof d())throw Error("The value for a submit binding must be a function");a.a.n(b,"submit",function(a){var c,e=d();try{c=e.call(f.$data,b)}finally{!0!==c&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}},a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,d){a.a.Ha(b,d())}},a.e.R.text=!0,function(){if(y&&y.navigator)var b=function(a){if(a)return parseFloat(a[1])},d=y.opera&&y.opera.version&&parseInt(y.opera.version()),c=y.navigator.userAgent,e=b(c.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=b(c.match(/Firefox\/([^ ]*)/));if(10>a.a.M)var k=a.a.f.I(),h=a.a.f.I(),l=function(b){var c=this.activeElement;(c=c&&a.a.f.get(c,h))&&c(b)},g=function(b,c){var d=b.ownerDocument;a.a.f.get(d,k)||(a.a.f.set(d,k,!0),a.a.n(d,"selectionchange",l)),a.a.f.set(b,h,c)};a.d.textInput={init:function(b,c,l){function h(c,d){a.a.n(b,c,d)}function k(){var d=a.a.c(c());null!==d&&d!==p||(d=""),w!==p&&d===w?setTimeout(k,4):b.value!==d&&(u=d,b.value=d)}function v(){A||(w=b.value,A=setTimeout(t,4))}function t(){clearTimeout(A),w=A=p;var d=b.value;u!==d&&(u=d,a.h.ra(c(),l,"textInput",d))}var A,w,u=b.value;10>a.a.M?(h("propertychange",function(a){"value"===a.propertyName&&t()}),8==a.a.M&&(h("keyup",t),h("keydown",t)),8<=a.a.M&&(g(b,t),h("dragend",v))):(h("input",t),5>e&&"textarea"===a.a.v(b)?(h("keydown",v),h("paste",v),h("cut",v)):11>d?h("keydown",v):4>f&&(h("DOMAutoComplete",t),h("dragdrop",t),h("drop",t))),h("change",t),a.w(k,null,{q:b})}},a.h.V.textInput=!0,a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}}(),a.d.uniqueName={init:function(b,d){if(d()){var c="ko_unique_"+ ++a.d.uniqueName.fc;a.a.Rb(b,c)}}},a.d.uniqueName.fc=0,a.d.value={after:["options","foreach"],init:function(b,d,c){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],f=c.get("valueUpdate"),k=!1,h=null;f&&("string"==typeof f&&(f=[f]),a.a.ia(e,f),e=a.a.wb(e));var l=function(){h=null,k=!1;var e=d(),g=a.i.s(b);a.h.ra(e,c,"value",g)};!a.a.M||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.m(e,"propertychange")||(a.a.n(b,"propertychange",function(){k=!0}),a.a.n(b,"focus",function(){k=!1}),a.a.n(b,"blur",function(){k&&l()})),a.a.o(e,function(c){var d=l;a.a.Dc(c,"after")&&(d=function(){h=a.i.s(b),setTimeout(l,0)},c=c.substring(5)),a.a.n(b,c,d)});var g=function(){var e=a.a.c(d()),f=a.i.s(b);if(null!==h&&e===h)setTimeout(g,0);else if(e!==f)if("select"===a.a.v(b)){var l=c.get("valueAllowUnset");(f=function(){a.i.Y(b,e,l)})(),l||e===a.i.s(b)?setTimeout(f,0):a.k.u(a.a.qa,null,[b,"change"])}else a.i.Y(b,e)};a.w(g,null,{q:b})}else a.va(b,{checkedValue:d})},update:function(){}},a.h.V.value=!0,a.d.visible={update:function(b,d){var c=a.a.c(d()),e="none"!=b.style.display;c&&!e?b.style.display="":!c&&e&&(b.style.display="none")}},function(b){a.d[b]={init:function(d,c,e,f,k){return a.d.event.init.call(this,d,function(){var a={};return a[b]=c(),a},e,f,k)}}}("click"),a.J=function(){},a.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},a.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},a.J.prototype.makeTemplateSource=function(b,d){if("string"==typeof b){var c=(d=d||w).getElementById(b);if(!c)throw Error("Cannot find template with ID "+b);return new a.t.l(c)}if(1==b.nodeType||8==b.nodeType)return new a.t.ha(b);throw Error("Unknown template type: "+b)},a.J.prototype.renderTemplate=function(a,d,c,e){return a=this.makeTemplateSource(a,e),this.renderTemplateSource(a,d,c,e)},a.J.prototype.isTemplateRewritten=function(a,d){return!1===this.allowTemplateRewriting||this.makeTemplateSource(a,d).data("isRewritten")},a.J.prototype.rewriteTemplate=function(a,d,c){d=d((a=this.makeTemplateSource(a,c)).text()),a.text(d),a.data("isRewritten",!0)},a.b("templateEngine",a.J),a.kb=function(){function b(b,c,d,h){b=a.h.bb(b);for(var l=a.h.ka,g=0;g<b.length;g++){var m=b[g].key;if(l.hasOwnProperty(m)){var x=l[m];if("function"==typeof x){if(m=x(b[g].value))throw Error(m)}else if(!x)throw Error("This template engine does not support the '"+m+"' binding within its templates")}}return d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ea(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')",h.createJavaScriptEvaluatorBlock(d)+c}var d=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kb.xc(b,c)},d)},xc:function(a,f){return a.replace(d,function(a,c,d,e,m){return b(m,c,d,f)}).replace(c,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},dc:function(b,c){return a.H.$a(function(d,h){var l=d.nextSibling;l&&l.nodeName.toLowerCase()===c&&a.va(l,b,h)})}}}(),a.b("__tr_ambtns",a.kb.dc),function(){a.t={},a.t.l=function(a){this.l=a},a.t.l.prototype.text=function(){var b="script"===(b=a.a.v(this.l))?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.l[b];var d=arguments[0];"innerHTML"===b?a.a.gb(this.l,d):this.l[b]=d};var b=a.a.f.I()+"_";a.t.l.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.l,b+c);a.a.f.set(this.l,b+c,arguments[1])};var d=a.a.f.I();a.t.ha=function(a){this.l=a},a.t.ha.prototype=new a.t.l,a.t.ha.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.l,d)||{};return b.lb===p&&b.Na&&(b.lb=b.Na.innerHTML),b.lb}a.a.f.set(this.l,d,{lb:arguments[0]})},a.t.l.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.l,d)||{}).Na;a.a.f.set(this.l,d,{Na:arguments[0]})},a.b("templateSources",a.t),a.b("templateSources.domElement",a.t.l),a.b("templateSources.anonymousTemplate",a.t.ha)}(),function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;)b=a.e.nextSibling(e),d(e,b)}function d(c,d){if(c.length){var e=c[0],f=c[c.length-1],h=e.parentNode,k=a.L.instance,r=k.preprocessNode;if(r){if(b(e,f,function(a,b){var c=a.previousSibling,d=r.call(k,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))}),c.length=0,!e)return;e===f?c.push(e):(c.push(e,f),a.a.na(c,h))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.ub(d,b)}),b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.H.Xb(b,[d])}),a.a.na(c,h)}}function c(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,q){q=q||{};var n=(b&&c(b)||f||{}).ownerDocument,r=q.templateEngine||k;if(a.kb.lc(f,r,n),"number"!=typeof(f=r.renderTemplate(f,h,q,n)).length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(n=!1,e){case"replaceChildren":a.e.T(b,f),n=!0;break;case"replaceNode":a.a.Qb(b,f),n=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return n&&(d(f,h),q.afterRender&&a.k.u(q.afterRender,null,[f,h.$data])),f}function f(b,c,d){return a.F(b)?b():"function"==typeof b?b(c,d):b}var k;a.hb=function(b){if(b!=p&&!(b instanceof a.J))throw Error("templateEngine must inherit from ko.templateEngine");k=b},a.eb=function(b,d,h,x,q){if(((h=h||{}).templateEngine||k)==p)throw Error("Set a template engine before calling renderTemplate");if(q=q||"replaceChildren",x){var n=c(x);return a.j(function(){var k=d&&d instanceof a.N?d:new a.N(a.a.c(d)),p=f(b,k.$data,k),k=e(x,q,p,k,h);"replaceNode"==q&&(x=k,n=c(x))},null,{Pa:function(){return!n||!a.a.Qa(n)},q:n&&"replaceNode"==q?n.parentNode:n})}return a.H.$a(function(c){a.eb(b,d,h,c,"replaceNode")})},a.Cc=function(b,c,h,k,q){function n(a,b){d(b,v),h.afterRender&&h.afterRender(b,a),v=null}function r(a,c){return v=q.createChildContext(a,h.as,function(a){a.$index=c}),e(null,"ignoreTargetNode",f(b,a,v),v,h)}var v;return a.j(function(){var b=a.a.c(c)||[];void 0===b.length&&(b=[b]),b=a.a.xa(b,function(b){return h.includeDestroyed||b===p||null===b||!a.a.c(b._destroy)}),a.k.u(a.a.fb,null,[k,b,r,h,n])},null,{q:k})};var h=a.a.f.I();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.e.ma(b);else{if("nodes"in d){if(d=d.nodes||[],a.F(d))throw Error('The "nodes" option must be a plain, non-observable array.')}else d=a.e.childNodes(b);d=a.a.Jb(d),new a.t.ha(b).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var r,k=c();d=!0,e=null,"string"==typeof(c=a.a.c(k))?c={}:(k=c.name,"if"in c&&(d=a.a.c(c.if)),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),r=a.a.c(c.data)),"foreach"in c?e=a.Cc(k||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(r,c.as):f,e=a.eb(k||b,f,c,b)):a.e.ma(b),f=e,(r=a.a.f.get(b,h))&&"function"==typeof r.p&&r.p(),a.a.f.set(b,h,f&&f.$()?f:p)}},a.h.ka.template=function(b){return 1==(b=a.h.bb(b)).length&&b[0].unknown||a.h.vc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"},a.e.R.template=!0}(),a.b("setTemplateEngine",a.hb),a.b("renderTemplate",a.eb),a.a.Cb=function(a,d,c){if(a.length&&d.length){var e,f,k,h,l;for(e=f=0;(!c||e<c)&&(h=a[f]);++f){for(k=0;l=d[k];++k)if(h.value===l.value){h.moved=l.index,l.moved=h.index,d.splice(k,1),e=k=0;break}e+=k}}},a.a.Ma=function(){function b(b,c,e,f,k){var m,q,t,u,w,h=Math.min,l=Math.max,g=[],p=b.length,n=c.length,r=n-p||1,v=p+n+1;for(m=0;m<=p;m++)for(u=t,g.push(t=[]),w=h(n,m+r),q=l(0,m-1);q<=w;q++)t[q]=q?m?b[m-1]===c[q-1]?u[q-1]:h(u[q]||v,t[q-1]||v)+1:q+1:m+1;for(h=[],l=[],r=[],m=p,q=n;m||q;)n=g[m][q]-1,q&&n===g[m][q-1]?l.push(h[h.length]={status:e,value:c[--q],index:q}):m&&n===g[m-1][q]?r.push(h[h.length]={status:f,value:b[--m],index:m}):(--q,--m,k.sparse||h.push({status:"retained",value:c[q]}));return a.a.Cb(l,r,10*p),h.reverse()}return function(a,c,e){return e="boolean"==typeof e?{dontLimitMoves:e}:e||{},a=a||[],c=c||[],a.length<=c.length?b(a,c,"added","deleted",e):b(c,a,"deleted","added",e)}}(),a.b("utils.compareArrays",a.a.Ma),function(){function b(b,d,f,k,h){var l=[],g=a.j(function(){var g=d(f,h,a.a.na(l,b))||[];0<l.length&&(a.a.Qb(l,g),k&&a.k.u(k,null,[f,g,h])),l.length=0,a.a.ia(l,g)},null,{q:b,Pa:function(){return!a.a.tb(l)}});return{aa:l,j:g.$()?g:p}}var d=a.a.f.I();a.a.fb=function(c,e,f,k,h){function l(b,d){s=u[d],t!==d&&(z[b]=s),s.Ua(t++),a.a.na(s.aa,c),r.push(s),y.push(s)}function g(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.o(c[d].aa,function(a){b(a,d,c[d].wa)})}e=e||[],k=k||{};var m=a.a.f.get(c,d)===p,u=a.a.f.get(c,d)||[],q=a.a.Ka(u,function(a){return a.wa}),n=a.a.Ma(q,e,k.dontLimitMoves),r=[],v=0,t=0,w=[],y=[];e=[];for(var s,D,E,z=[],q=[],C=0;D=n[C];C++)switch(E=D.moved,D.status){case"deleted":E===p&&((s=u[v]).j&&s.j.p(),w.push.apply(w,a.a.na(s.aa,c)),k.beforeRemove&&(e[C]=s,y.push(s))),v++;break;case"retained":l(C,v++);break;case"added":E!==p?l(C,E):(s={wa:D.value,Ua:a.r(t++)},r.push(s),y.push(s),m||(q[C]=s))}g(k.beforeMove,z),a.a.o(w,k.beforeRemove?a.S:a.removeNode);for(var H,C=0,m=a.e.firstChild(c);s=y[C];C++){for(s.aa||a.a.extend(s,b(c,f,s.wa,h,s.Ua)),v=0;n=s.aa[v];m=n.nextSibling,H=n,v++)n!==m&&a.e.Fb(c,n,H);!s.rc&&h&&(h(s.wa,s.aa,s.Ua),s.rc=!0)}g(k.beforeRemove,e),g(k.afterMove,z),g(k.afterAdd,q),a.a.f.set(c,d,r)}}(),a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.fb),a.P=function(){this.allowTemplateRewriting=!1},a.P.prototype=new a.J,a.P.prototype.renderTemplateSource=function(b,d,c,e){return(d=(9>a.a.M?0:b.nodes)?b.nodes():null)?a.a.O(d.cloneNode(!0).childNodes):(b=b.text(),a.a.ca(b,e))},a.P.Va=new a.P,a.hb(a.P.Va),a.b("nativeTemplateEngine",a.P),function(){a.Ya=function(){var a=this.uc=function(){if(!u||!u.tmpl)return 0;try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,k){if(k=k||w,f=f||{},2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");return h||(h=b.text()||"",h=u.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h)),b=[e.$data],e=u.extend({koBindingContext:e},f.templateOptions),(e=u.tmpl(h,b,e)).appendTo(k.createElement("div")),u.fragments={},e},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"<\/script>")},0<a&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},a.Ya.prototype=new a.J;var b=new a.Ya;0<b.uc&&a.hb(b),a.b("jqueryTmplTemplateEngine",a.Ya)}()})}(),function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):root.ol=factory()}(this,function(){function r(a,b){var c=OPENLAYERS;a=a.split("."),c=c||aa,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function fa(a,b){return a>b?1:a<b?-1:0}function ha(a,b){return 0<=a.indexOf(b)}function ja(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c){for(c=1;c<d;++c)if(a[c]<b)return c-1}else if(0>c){for(c=1;c<d;++c)if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function ka(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]}function la(a,b){for(var d,c=a.length>>>0,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function ma(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function na(a){var e,b=oa,c=a.length,d=Array(a.length);for(e=0;e<c;e++)d[e]={index:e,value:a[e]};for(d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index}),e=0;e<a.length;e++)a[e]=d[e].value}function pa(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c}function qa(a,b){var c=b||fa;return a.every(function(b,e){return!e||!(0<(b=c(a[e-1],b))||0===b)})}function v(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function ra(){}function w(a){return a.ip||(a.ip=++sa)}function ua(a){this.message="Assertion failed. See https://openlayers.org/en/v4.3.3/doc/errors/#"+a+" for details.",this.code=a,this.name="AssertionError"}function va(a,b){if(!a)throw new ua(b)}function wa(a,b,c,d){this.ca=a,this.da=b,this.ea=c,this.ha=d}function xa(a,b,c){return a.ca<=b&&b<=a.da&&a.ea<=c&&c<=a.ha}function ya(a,b){return a.ca==b.ca&&a.ea==b.ea&&a.da==b.da&&a.ha==b.ha}function za(a,b){return a.ca<=b.da&&a.da>=b.ca&&a.ea<=b.ha&&a.ha>=b.ea}function Aa(a,b,c){return Math.min(Math.max(a,b),c)}function Ca(a){return va(0<a,29),Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Da(a,b,c,d,e,f){var g=e-c,h=f-d;if(g||h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return Ea(a,b,c,d)}function Ea(a,b,c,d){return a=c-a,b=d-b,a*a+b*b}function Fa(a){return a*Math.PI/180}function Ga(a,b){return 0>(a%=b)*b?a+b:a}function Ha(a,b,c){return a+c*(b-a)}function Ia(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c}function Ja(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c}function Ka(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:b[0]=b[1]=a,b)}function La(a){for(var b=Ma(),c=0,d=a.length;c<d;++c)Na(b,a[c]);return b}function Oa(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Pa(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Qa(a,b,c){return b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,b*b+a*a}function Ra(a,b){return Sa(a,b[0],b[1])}function Ta(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Sa(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Ua(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=0;return f<a[0]?g|=16:f>d&&(g|=4),b<c?g|=8:b>e&&(g|=2),g||(g=1),g}function Ma(){return[1/0,1/0,-1/0,-1/0]}function Va(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Wa(a){return Va(1/0,1/0,-1/0,-1/0,a)}function Xa(a,b){var c=a[0];return a=a[1],Va(c,a,c,a,b)}function Za(a,b,c,d,e){return e=Wa(e),$a(e,a,b,c,d)}function ab(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function bb(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a}function Na(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])}function $a(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g),f[1]=Math.min(f[1],h),f[2]=Math.max(f[2],g),f[3]=Math.max(f[3],h)}return a}function cb(a,b,c){var d;return(d=b.call(c,db(a)))||(d=b.call(c,eb(a)))||(d=b.call(c,fb(a)))?d:!!(d=b.call(c,gb(a)))&&d}function hb(a){var b=0;return ib(a)||(b=jb(a)*kb(a)),b}function db(a){return[a[0],a[1]]}function eb(a){return[a[2],a[1]]}function lb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function mb(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2,b=Math.cos(c);var g=Math.sin(c);c=f*b,f*=g,b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h,d=l-c-h,g=l+c-h,c=l+c+h,h=m-f-b,l=m-f+b;var n=m+f+b;return f=m+f-b,Va(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function kb(a){return a[3]-a[1]}function nb(a,b,c){return c=c||Ma(),ob(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]),c}function gb(a){return[a[0],a[3]]}function fb(a){return[a[2],a[3]]}function jb(a){return a[2]-a[0]}function ob(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function ib(a){return a[2]<a[0]||a[3]<a[1]}function pb(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1),a[0]-=c,a[2]+=c,a[1]-=b,a[3]+=b}function qb(a,b,c){b(a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]],a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];return b=Math.min.apply(null,d),a=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e),Va(b,a,d,e,c)}function sb(a){for(var b in a)delete a[b]}function tb(a){var c,b=[];for(c in a)b.push(a[c]);return b}function ub(a){for(var b in a)return!1;return!b}function vb(a){this.radius=a}function yb(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";var e=(a=a.clone().mb(c,"EPSG:4326")).T();c=0;var f;switch(e){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":c=zb(b=a.V(),d);break;case"MultiLineString":case"Polygon":for(b=a.V(),a=0,e=b.length;a<e;++a)c+=zb(b[a],d);break;case"MultiPolygon":for(b=a.V(),a=0,e=b.length;a<e;++a){var g=b[a],h=0;for(f=g.length;h<f;++h)c+=zb(g[h],d)}break;case"GeometryCollection":for(d=a.kd(),a=0,e=d.length;a<e;++a)c+=yb(d[a],b);break;default:throw Error("Unsupported geometry type: "+e)}return c}function zb(a,b){for(var c=0,d=0,e=a.length;d<e-1;++d)c+=xb(a[d],a[d+1],b);return c}function xb(a,b,c){var d=Fa(a[1]),e=Fa(b[1]),f=(e-d)/2;return a=Fa(b[0]-a[0])/2,d=Math.sin(f)*Math.sin(f)+Math.sin(a)*Math.sin(a)*Math.cos(d)*Math.cos(e),2*c*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}function Ab(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";var e=(a=a.clone().mb(c,"EPSG:4326")).T();c=0;var f;switch(e){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(b=a.V(),c=Math.abs(wb(b[0],d)),a=1,e=b.length;a<e;++a)c-=Math.abs(wb(b[a],d));break;case"MultiPolygon":for(b=a.V(),a=0,e=b.length;a<e;++a){var g=b[a];c+=Math.abs(wb(g[0],d));var h=1;for(f=g.length;h<f;++h)c-=Math.abs(wb(g[h],d))}break;case"GeometryCollection":for(d=a.kd(),a=0,e=d.length;a<e;++a)c+=Ab(d[a],b);break;default:throw Error("Unsupported geometry type: "+e)}return c}function wb(a,b){for(var c=0,d=a.length,e=a[d-1][0],f=a[d-1][1],g=0;g<d;g++){var h=a[g][0],l=a[g][1];c+=Fa(h-e)*(2+Math.sin(Fa(f))+Math.sin(Fa(l))),e=h,f=l}return c*b*b/2}function Db(a){this.qb=a.code,this.b=a.units,this.i=void 0!==a.extent?a.extent:null,this.g=void 0!==a.worldExtent?a.worldExtent:null,this.a=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.c=void 0!==a.global&&a.global,this.f=!(!this.c||!this.i),this.l=a.getPointResolution,this.j=null,this.o=a.metersPerUnit;var b=a.code,c=Cb||window.proj4;"function"==typeof c&&void 0!==(b=c.defs(b))&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.a=b.axis),void 0===a.metersPerUnit&&(this.o=b.to_meter),void 0===a.units&&(this.b=b.units))}function Eb(a){Db.call(this,{code:a,units:"m",extent:Fb,global:!0,worldExtent:Gb,getPointResolution:function(a,c){return a/Ba(c[1]/6378137)}})}function Jb(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c){b[e]=Hb*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Hb?f=Hb:f<-Hb&&(f=-Hb),b[e+1]=f}return b}function Kb(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/Hb,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b}function Lb(a,b){Db.call(this,{code:a,units:"degrees",extent:Mb,axisOrientation:b,global:!0,metersPerUnit:Nb,worldExtent:Mb})}function Rb(a,b,c){a=a.qb,b=b.qb,a in Qb||(Qb[a]={}),Qb[a][b]=c}function Sb(a,b){var c;return a in Qb&&b in Qb[a]&&(c=Qb[a][b]),c}function Ub(a,b,c,d){var e=(a=Wb(a)).l;return e?b=e(b,c):"degrees"==a.b&&!d||"degrees"==d||(e=Xb(a,Wb("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=e(b,b,2),b=(Tb.b(b.slice(0,2),b.slice(2,4))+Tb.b(b.slice(4,6),b.slice(6,8)))/2,void 0!==(a=d?Bb[d]:a.Nc())&&(b/=a)),b}function Yb(a){a.forEach(Zb),a.forEach(function(b){a.forEach(function(a){b!==a&&Rb(b,a,$b)})})}function ac(){Ob.forEach(function(a){Ib.forEach(function(b){Rb(a,b,Jb),Rb(b,a,Kb)})})}function Zb(a){Pb[a.qb]=a,Rb(a,a,$b)}function bc(a){return a?"string"==typeof a?Wb(a):a:Wb("EPSG:3857")}function cc(a,b,c,d){Rb(a=Wb(a),b=Wb(b),dc(c)),Rb(b,a,dc(d))}function dc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2,c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);for(c[f]=g[0],c[f+1]=g[1],g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}}function Wb(a){var b=null;if(a instanceof Db)b=a;else if("string"==typeof a&&!(b=Pb[a]||null)){var c=Cb||window.proj4;"function"==typeof c&&void 0!==c.defs(a)&&(b=new Db({code:a}),Zb(b))}return b}function ec(a,b){if(a===b)return!0;var c=a.b===b.b;return a.qb===b.qb?c:Xb(a,b)===$b&&c}function fc(a,b){return a=Wb(a),b=Wb(b),Xb(a,b)}function Xb(a,b){var c=a.qb,d=b.qb,e=Sb(c,d);if(!e){var f=Cb||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Yb([b,a]):(e=f(d,c),cc(b,a,e.forward,e.inverse)),e=Sb(c,d))}}return e||(e=gc),e}function gc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function $b(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}function hc(a,b,c){return fc(b,c)(a,void 0,a.length)}function ic(a,b,c){return b=fc(b,c),qb(a,b)}function jc(){Yb(Ib),Yb(Ob),ac()}function kc(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function lc(a){var e,b=a[0],c=Array(b),d=1<<b-1;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1),a[2]&d&&(f+=2),c[e]=String.fromCharCode(f),d>>=1}return c.join("")}function mc(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.b=a.resolutions,va(qa(this.b,function(a,b){return b-a}),17),this.maxZoom=this.b.length-1,this.f=void 0!==a.origin?a.origin:null,this.c=null,void 0!==a.origins&&(this.c=a.origins,va(this.c.length==this.b.length,20));var b=a.extent;void 0===b||this.f||this.c||(this.f=gb(b)),va(!this.f&&this.c||this.f&&!this.c,18),this.i=null,void 0!==a.tileSizes&&(this.i=a.tileSizes,va(this.i.length==this.b.length,19)),this.g=void 0!==a.tileSize?a.tileSize:this.i?null:256,va(!this.g&&this.i||this.g&&!this.i,22),this.v=void 0!==b?b:null,this.a=null,this.j=[0,0],void 0!==a.sizes?this.a=a.sizes.map(function(a){return new wa(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&nc(this,b)}function qc(a,b,c,d,e){for(e=a.Fa(b,e),b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,pc(a,e,b,d)))return!0;--b}return!1}function rc(a,b,c,d){return b[0]<a.maxZoom?(d=a.Fa(b,d),pc(a,d,b[0]+1,c)):null}function sc(a,b,c,d){tc(a,b[0],b[1],c,!1,oc);var e=oc[1],f=oc[2];return tc(a,b[2],b[3],c,!0,oc),a=oc[1],b=oc[2],void 0!==d?(d.ca=e,d.da=a,d.ea=f,d.ha=b):d=new wa(e,a,f,b),d}function pc(a,b,c,d){return sc(a,b,a.Ca(c),d)}function uc(a,b){var c=a.Sc(b[0]),d=a.Ca(b[0]);return a=Ka(a.eb(b[0]),a.j),[c[0]+(b[1]+.5)*a[0]*d,c[1]+(b[2]+.5)*a[1]*d]}function tc(a,b,c,d,e,f){var g=a.uc(d),h=d/a.Ca(g),l=a.Sc(g);return a=Ka(a.eb(g),a.j),b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0],c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1],e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c)),kc(g,b,c,f)}function nc(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=pc(a,b,e);a.a=d}function vc(a){var b=a.j;return b||(b=wc(a),a.j=b),b}function xc(a){var b={};return rb(b,a||{}),void 0===b.extent&&(b.extent=Wb("EPSG:3857").G()),b.resolutions=yc(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new mc(b)}function yc(a,b,c){b=void 0!==b?b:42;var d=kb(a);for(a=jb(a),c=Ka(void 0!==c?c:256),c=Math.max(a/c[0],d/c[1]),b+=1,d=Array(b),a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function wc(a,b,c){return a=zc(a),b=yc(a,b,c),new mc({extent:a,origin:gb(a),resolutions:b,tileSize:c})}function zc(a){var b=(a=Wb(a)).G();return b||(a=180*Bb.degrees/a.Nc(),b=Va(-a,-a,a,a)),b}function Cc(a){this.b=a.html,this.a=a.tileRanges?a.tileRanges:null}function Dc(a){return function(b){if(b)return[Aa(b[0],a[0],a[2]),Aa(b[1],a[1],a[3])]}}function Ec(a){return a}function Fc(a){return a.sh=function(b){var c=a.listener,e=a.rh||a.target;return a.th&&Gc(a),c.call(e,b)}}function Hc(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if((e=a[f]).listener===b&&e.rh===c)return d&&(e.deleteIndex=f),e}function Ic(a,b){return(a=a.jb)?a[b]:void 0}function Jc(a){var b=a.jb;return b||(b=a.jb={}),b}function Kc(a,b){var c=Ic(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].sh),sb(c[d]);c.length=0,(c=a.jb)&&(delete c[b],Object.keys(c).length||delete a.jb)}}function y(a,b,c,d,e){var f=Jc(a),g=f[b];return g||(g=f[b]=[]),(f=Hc(g,c,d,!1))?e||(f.th=!1):(f={rh:d,th:!!e,listener:c,target:a,type:b},a.addEventListener(b,Fc(f)),g.push(f)),f}function Lc(a,b,c,d){return y(a,b,c,d,!0)}function Mc(a,b,c,d){(a=Ic(a,b))&&(c=Hc(a,c,d,!0))&&Gc(c)}function Gc(a){if(a&&a.target){a.target.removeEventListener(a.type,a.sh);var b=Ic(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),b.length||Kc(a.target,a.type)}sb(a)}}function Nc(a){var c,b=Jc(a);for(c in b)Kc(a,c)}function Oc(){}function Pc(a){a.mc||(a.mc=!0,a.ka())}function Qc(a){this.type=a,this.target=null}function Rc(a){a.stopPropagation()}function Sc(){this.Va={},this.qa={},this.pa={}}function Tc(a,b){return b?b in a.pa:0<Object.keys(a.pa).length}function Uc(){Sc.call(this),this.f=0}function Vc(a){Uc.call(this),w(this),this.R={},void 0!==a&&this.H(a)}function Xc(a){return Wc.hasOwnProperty(a)?Wc[a]:Wc[a]="change:"+a}function Yc(a,b,c){var d=Xc(b);a.b(new Zc(d,b,c)),a.b(new Zc("propertychange",b,c))}function Zc(a,b,c){Qc.call(this,a),this.key=b,this.oldValue=c}function $c(a,b){if(Vc.call(this),this.c=!!(b||{}).unique,this.a=a||[],this.c)for(a=0,b=this.a.length;a<b;++a)ad(this,this.a[a],a);bd(this)}function bd(a){a.set(cd,a.a.length)}function ad(a,b,c){for(var d=0,e=a.a.length;d<e;++d)if(a.a[d]===b&&d!==c)throw new ua(58)}function dd(a,b){Qc.call(this,a),this.element=b}function gd(a){return Array.isArray(a)?a:hd(a)}function id(a){if("string"!=typeof a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];d!=(0|d)&&(d=d+.5|0),a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}function jd(a){var b=[];return b[0]=Aa(a[0]+.5|0,0,255),b[1]=Aa(a[1]+.5|0,0,255),b[2]=Aa(a[2]+.5|0,0,255),b[3]=Aa(a[3],0,1),b}function kd(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:id(a)}function ld(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")}function md(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function nd(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function od(a){Vc.call(this),this.element=a.element?a.element:null,this.a=this.S=null,this.v=[],this.render=a.render?a.render:ra,a.target&&this.i(a.target)}function pd(a){a=a||{},this.I=document.createElement("UL"),this.u=document.createElement("LI"),this.I.appendChild(this.u),this.u.style.display="none",this.c=void 0===a.collapsed||a.collapsed,this.l=void 0===a.collapsible||a.collapsible,this.l||(this.c=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"»";"string"==typeof d?(this.D=document.createElement("span"),this.D.textContent=d):this.D=d,"string"==typeof(d=void 0!==a.label?a.label:"i")?(this.B=document.createElement("span"),this.B.textContent=d):this.B=d;var e=this.l&&!this.c?this.D:this.B;(d=document.createElement("button")).setAttribute("type","button"),d.title=c,d.appendChild(e),y(d,"click",this.jn,this),(c=document.createElement("div")).className=b+" ol-unselectable ol-control"+(this.c&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),c.appendChild(this.I),c.appendChild(d),od.call(this,{element:c,render:a.render?a.render:qd,target:a.target}),this.C=!0,this.o={},this.j={},this.U={}}function qd(a){if(a=a.frameState){var b,c,d,e,f,g=a.layerStatesArray,h=rb({},a.attributions),l={},m={},n=a.viewState.projection,p=0;for(b=g.length;p<b;p++)if(e=g[p].layer.ia()){var q=w(e).toString();if(f=e.j){var t=0;for(c=f.length;t<c;t++){var u=f[t],x=w(u).toString();if(!(x in h)){if(d=a.usedTiles[q]){var B=e.Ta(n);a:{var G,z=void 0,E=u,ia=B,T=n;if(E.a){for(z in d)if(z in E.a){B=d[z];var R=0;for(G=E.a[z].length;R<G;++R){var U=E.a[z][R];if(za(U,B)){z=!0;break a}var ta=pc(ia,zc(T),parseInt(z,10)),A=ta.da-ta.ca+1;if((B.ca<ta.ca||B.da>ta.da)&&(za(U,new wa(Ga(B.ca,A),Ga(B.da,A),B.ea,B.ha))||B.da-B.ca+1>A&&za(U,ta))){z=!0;break a}}}z=!1}else z=!0}}else z=!1;z?(x in l&&delete l[x],(z=u.b)in m||(m[z]=!0,h[x]=u)):l[x]=u}}}}p=(b=[h,l])[0],b=b[1];for(var ea in this.o)ea in p?(this.j[ea]||(this.o[ea].style.display="",this.j[ea]=!0),delete p[ea]):ea in b?(this.j[ea]&&(this.o[ea].style.display="none",delete this.j[ea]),delete b[ea]):(nd(this.o[ea]),delete this.o[ea],delete this.j[ea]);for(ea in p)t=document.createElement("LI"),t.innerHTML=p[ea].b,this.I.appendChild(t),this.o[ea]=t,this.j[ea]=!0;for(ea in b)t=document.createElement("LI"),t.innerHTML=b[ea].b,t.style.display="none",this.I.appendChild(t),this.o[ea]=t;ea=!ub(this.j)||!ub(a.logos),this.C!=ea&&(this.element.style.display=ea?"":"none",this.C=ea),ea&&ub(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),a=a.logos,ea=this.U;for(da in ea)da in a||(nd(ea[da]),delete ea[da]);for(var Ya in a)if((b=a[Ya])instanceof HTMLElement&&(this.u.appendChild(b),ea[Ya]=b),!(Ya in ea)){var da=new Image;da.src=Ya,""===b?p=da:(p=document.createElement("a"),p.href=b,p.appendChild(da)),this.u.appendChild(p),ea[Ya]=p}this.u.style.display=ub(a)?"none":""}else this.C&&(this.element.style.display="none",this.C=!1)}function rd(a){a.element.classList.toggle("ol-collapsed"),a.c?md(a.D,a.B):md(a.B,a.D),a.c=!a.c}function sd(a){return Math.pow(a,3)}function td(a){return 1-sd(1-a)}function ud(a){return 3*a*a-2*a*a*a}function vd(a){return a}function wd(a){var b=void 0!==(a=a||{}).className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"⇧";this.c=null,"string"==typeof c?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=c):(this.c=c,this.c.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation";(c=document.createElement("button")).className=b+"-reset",c.setAttribute("type","button"),c.title=d,c.appendChild(this.c),y(c,"click",wd.prototype.D,this),(d=document.createElement("div")).className=b+" ol-unselectable ol-control",d.appendChild(c),b=a.render?a.render:xd,this.l=a.resetNorth?a.resetNorth:void 0,od.call(this,{element:d,render:b,target:a.target}),this.o=void 0!==a.duration?a.duration:250,this.j=void 0===a.autoHide||a.autoHide,this.u=void 0,this.j&&this.element.classList.add("ol-hidden")}function xd(a){if(a=a.frameState){if((a=a.viewState.rotation)!=this.u){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||a?c&&a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=b,this.c.style.webkitTransform=b,this.c.style.transform=b}this.u=a}}function yd(a){var b=void 0!==(a=a||{}).className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in",h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof d?document.createTextNode(d):d),y(h,"click",yd.prototype.j.bind(this,c)),(d=document.createElement("button")).className=b+"-out",d.setAttribute("type","button"),d.title=g,d.appendChild("string"==typeof e?document.createTextNode(e):e),y(d,"click",yd.prototype.j.bind(this,-c)),(c=document.createElement("div")).className=b+" ol-unselectable ol-control",c.appendChild(h),c.appendChild(d),od.call(this,{element:c,target:a.target}),this.c=void 0!==a.duration?a.duration:250}function zd(a){a=a||{};var b=new $c;return(void 0!==a.zoom?a.zoom:1)&&b.push(new yd(a.zoomOptions)),(void 0!==a.rotate?a.rotate:1)&&b.push(new wd(a.rotateOptions)),(void 0!==a.attribution?a.attribution:1)&&b.push(new pd(a.attributionOptions)),b}function Ad(a){a=a||{},this.c=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"⤢";this.l="string"==typeof b?document.createTextNode(b):b,b=void 0!==a.labelActive?a.labelActive:"×",this.o="string"==typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen";(b=document.createElement("button")).className=this.c+"-"+Bd(),b.setAttribute("type","button"),b.title=c,b.appendChild(this.l),y(b,"click",this.B,this),(c=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(Cd()?"":"ol-unsupported"),c.appendChild(b),od.call(this,{element:c,target:a.target}),this.D=void 0!==a.keys&&a.keys,this.j=a.source}function Cd(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Bd(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Dd(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function Fd(a){a=a||{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position",od.call(this,{element:b,render:a.render?a.render:Gd,target:a.target}),y(this,Xc(Hd),this.mn,this),a.coordinateFormat&&this.uj(a.coordinateFormat),a.projection&&this.ji(a.projection),this.u=void 0!==a.undefinedHTML?a.undefinedHTML:"",this.o=b.innerHTML,this.l=this.j=this.c=null}function Gd(a){(a=a.frameState)?this.c!=a.viewState.projection&&(this.c=a.viewState.projection,this.j=null):this.c=null,Id(this,this.l)}function Id(a,b){var c=a.u;if(b&&a.c){if(!a.j){var d=a.ii();a.j=d?Xb(a.c,d):gc}(b=a.a.Xa(b))&&(a.j(b,b),c=(c=a.Fh())?c(b):b.toString())}a.o&&c==a.o||(a.element.innerHTML=c,a.o=c)}function Kd(a,b,c){Qc.call(this,a),this.map=b,this.frameState=void 0!==c?c:null}function Ld(a,b,c,d,e){Kd.call(this,a,b,e),this.originalEvent=c,this.pixel=b.He(c),this.coordinate=b.Xa(this.pixel),this.dragging=void 0!==d&&d}function Nd(a,b){var c,d,e=Md.length;for(d=0;d<e;++d)try{if(c=a.getContext(Md[d],b))return c}catch(f){}return null}function ie(a,b,c,d,e){Ld.call(this,a,b,c.b,d,e),this.b=c}function je(a,b){this.b=a,this.i=b}function ke(a){je.call(this,a,{mousedown:this.tm,mousemove:this.um,mouseup:this.xm,mouseover:this.wm,mouseout:this.vm}),this.a=a.f,this.f=[]}function le(a,b){a=a.f;var c=b.clientX;b=b.clientY;for(var f,d=0,e=a.length;d<e&&(f=a[d]);d++){var g=Math.abs(b-f[1]);if(25>=Math.abs(c-f[0])&&25>=g)return!0}return!1}function me(a){var b=ne(a,a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=1,b.isPrimary=!0,b.pointerType="mouse",b}function re(a){je.call(this,a,{MSPointerDown:this.Cm,MSPointerMove:this.Dm,MSPointerUp:this.Gm,MSPointerOut:this.Em,MSPointerOver:this.Fm,MSPointerCancel:this.Bm,MSGotPointerCapture:this.zm,MSLostPointerCapture:this.Am}),this.a=a.f,this.f=["","unavailable","touch","pen","mouse"]}function se(a,b){var c=b;return"number"==typeof b.pointerType&&(c=ne(b,b),c.pointerType=a.f[b.pointerType]),c}function ue(a){je.call(this,a,{pointerdown:this.vp,pointermove:this.wp,pointerup:this.zp,pointerout:this.xp,pointerover:this.yp,pointercancel:this.up,gotpointercapture:this.Gl,lostpointercapture:this.sm})}function te(a,b,c){Qc.call(this,a),this.b=b,a=c||{},this.buttons=we(a),this.pressure=xe(a,this.buttons),this.bubbles="bubbles"in a&&a.bubbles,this.cancelable="cancelable"in a&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.ctrlKey="ctrlKey"in a&&a.ctrlKey,this.altKey="altKey"in a&&a.altKey,this.shiftKey="shiftKey"in a&&a.shiftKey,this.metaKey="metaKey"in a&&a.metaKey,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.tiltX="tiltX"in a?a.tiltX:0,this.tiltY="tiltY"in a?a.tiltY:0,this.pointerType="pointerType"in a?a.pointerType:"",this.isPrimary="isPrimary"in a&&a.isPrimary,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}function we(a){if(a.buttons||ye)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function xe(a,b){return a.pressure?a.pressure:b?.5:0}function ze(a,b){je.call(this,a,{touchstart:this.Fq,touchmove:this.Eq,touchend:this.Dq,touchcancel:this.Cq}),this.a=a.f,this.j=b,this.f=void 0,this.g=0,this.c=void 0}function Ae(a,b,c){return b=ne(b,c),b.pointerId=c.identifier+2,b.bubbles=!0,b.cancelable=!0,b.detail=a.g,b.button=0,b.buttons=1,b.width=c.webkitRadiusX||c.radiusX||0,b.height=c.webkitRadiusY||c.radiusY||0,b.pressure=c.webkitForce||c.force||.5,b.isPrimary=a.f===c.identifier,b.pointerType="touch",b.clientX=c.clientX,b.clientY=c.clientY,b.screenX=c.screenX,b.screenY=c.screenY,b}function Be(a,b,c){var g,e=Array.prototype.slice.call(b.changedTouches),f=e.length;for(g=0;g<f;++g){var h=Ae(a,b,e[g]);h.preventDefault=function(){b.preventDefault()},c.call(a,b,h)}}function Ce(a,b){var c=a.j.f;if(b=b.changedTouches[0],a.f===b.identifier){var d=[b.clientX,b.clientY];c.push(d),setTimeout(function(){var a=c.indexOf(d);-1<a&&c.splice(a,1)},2500)}}function Ee(a){Sc.call(this),this.g=a,this.f={},this.i={},this.a=[],$d?Fe(this,new ue(this)):ae?Fe(this,new re(this)):(a=new ke(this),Fe(this,a),Zd&&Fe(this,new ze(this,a))),a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Ge(this,Object.keys(b.i))}function Fe(a,b){var c=Object.keys(b.i);c&&(c.forEach(function(a){var c=b.i[a];c&&(this.i[a]=c.bind(b))},a),a.a.push(b))}function Ge(a,b){b.forEach(function(a){y(this.g,a,this.c,this)},a)}function He(a,b){b.forEach(function(a){Mc(this.g,a,this.c,this)},a)}function ne(a,b){for(var d,c={},e=0,f=Ie.length;e<f;e++)d=Ie[e][0],c[d]=a[d]||b[d]||Ie[e][1];return c}function De(a,b,c){b.bubbles=!1,oe(a,"pointerleave",b,c)}function qe(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||De(a,b,c)}function pe(a,b,c){b.bubbles=!0,oe(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,oe(a,"pointerenter",b,c))}function oe(a,b,c,d){a.b(new te(b,d,c))}function ve(a,b){a.b(new te(b.type,b,b))}function Je(a,b){Sc.call(this),this.f=a,this.j=0,this.l=!1,this.i=[],this.D=b?b*Ud:Ud,this.c=null,a=this.f.a,this.R=0,this.u={},this.g=new Ee(a),this.a=null,this.o=y(this.g,"pointerdown",this.$l,this),this.v=y(this.g,"pointermove",this.Yp,this)}function Ke(a,b){var c=new ie("click",a.f,b);a.b(c),a.j?(clearTimeout(a.j),a.j=0,c=new ie("dblclick",a.f,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new ie("singleclick",this.f,b);this.b(a)}.bind(a),250)}function Le(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.u[b.pointerId]:"pointerdown"==b.type&&(a.u[b.pointerId]=!0),a.R=Object.keys(a.u).length}function Me(a,b){return Math.abs(b.clientX-a.c.clientX)>a.D||Math.abs(b.clientY-a.c.clientY)>a.D}function Ne(a,b){this.o=a,this.c=b,this.b=[],this.f=[],this.a={}}function Oe(a){var b=a.b,c=a.f,d=b[0];return 1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Pe(a,0)),b=a.c(d),delete a.a[b],d}function Pe(a,b){for(var c=a.b,d=a.f,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2;l=m<e&&d[m]<d[l]?m:l,c[b]=c[l],d[b]=d[l],b=l}c[b]=f,d[b]=g,Qe(a,h,b)}function Qe(a,b,c){var d=a.b;a=a.f;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(!(a[g]>f))break;d[c]=d[g],a[c]=a[g],c=g}d[c]=e,a[c]=f}function Re(a){var g,b=a.o,c=a.b,d=a.f,e=0,f=c.length;for(g=0;g<f;++g){var h=c[g],l=b(h);1/0==l?delete a.a[a.c(h)]:(d[e]=l,c[e++]=h)}for(c.length=e,d.length=e,b=(a.b.length>>1)-1;0<=b;b--)Pe(a,b)}function Se(a,b){Ne.call(this,function(b){return a.apply(null,b)},function(a){return a[0].fb()}),this.v=b,this.j=0,this.g={}}function Te(a,b,c){for(var f,g,h,d=0,e=!1;a.j<b&&d<c&&0<a.b.length;)g=Oe(a)[0],h=g.fb(),5===(f=g.getState())?e=!0:0!==f||h in a.g||(a.g[h]=!0,++a.j,++d,g.load());!d&&e&&a.v()}function Ue(a){return function(b,c,d){if(void 0!==b)return b=ja(a,b,d),b=Aa(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function Ve(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}}function We(a){if(void 0!==a)return 0}function Xe(a,b){if(void 0!==a)return a+b}function Ye(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function Ze(){var a=Fa(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}}function $e(a,b){return a=void 0!==b?a.toFixed(b):""+a,b=a.indexOf("."),2<(b=-1===b?a.length:b)?a:Array(3-b).join("0")+a}function af(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0}function bf(a,b){return a[0]+=b[0],a[1]+=b[1],a}function cf(a,b){var c=b.vd(),d=b.xa();b=d[0],d=d[1];var e=a[0]-b;a=a[1]-d,e||a||(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]}function df(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0],d=d[1];var f=e[0],g=f-b,h=(e=e[1])-d;return 0>=(c=g||h?(g*(c-b)+h*(a-d))/(g*g+h*h||0):0)?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h),[a,c]}function ef(a,b,c){b=Ga(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60);return 60<=(d=Math.ceil((d-3600*f-60*g)*e)/e)&&(d=0,g+=1),60<=g&&(g=0,f+=1),f+"° "+$e(g)+"′ "+$e(d,c)+"″"+(b?" "+a.charAt(0>b?1:0):"")}function ff(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function gf(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}function hf(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;return a[0]=a[0]*c-a[1]*b,a[1]=d,a}function jf(a,b){a[0]*=b,a[1]*=b}function kf(a,b){var c=a[0]-b[0];return a=a[1]-b[1],c*c+a*a}function lf(a,b){return Math.sqrt(kf(a,b))}function mf(a,b){return kf(a,df(a,b))}function nf(a,b){return ff(a,"{x}, {y}",b)}function pf(){return!0}function qf(){return!1}function rf(){Vc.call(this),this.o=Ma(),this.v=-1,this.i={},this.l=this.g=0}function sf(a,b,c,d,e,f){for(var g=f||[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4],g[h++]=e[1]*l+e[3]*m+e[5]}return f&&g.length!=h&&(g.length=h),g}function tf(a,b,c,d,e,f,g){for(var m,h=g||[],l=0;b<c;b+=d)for(h[l++]=a[b]+e,h[l++]=a[b+1]+f,m=b+2;m<b+d;++m)h[l++]=a[m];return g&&h.length!=l&&(h.length=l),h}function uf(){rf.call(this),this.ja="XY",this.a=2,this.A=null}function vf(a){var b;return"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4),b}function wf(a,b,c){a.a=vf(b),a.ja=b,a.A=c}function xf(a,b,c,d){if(b)c=vf(b);else{for(b=0;b<d;++b){if(!c.length)return a.ja="XY",void(a.a=2);c=c[0]}var e;2==(c=c.length)?e="XY":3==c?e="XYZ":4==c&&(e="XYZM"),b=e}a.ja=b,a.a=c}function yf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=g*h-f*l,f=h,g=l}return e/2}function zf(a,b,c,d){var f,e=0,g=0;for(f=c.length;g<f;++g){var h=c[g];e+=yf(a,b,h,d),b=h}return e}function Af(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(m||n)if(1<(f=((e-h)*m+(f-l)*n)/(m*m+n*n)))b=c;else if(0<f){for(e=0;e<d;++e)g[e]=Ha(a[b+e],a[c+e],f);return void(g.length=d)}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function Bf(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1];(f=Ea(f,g,h,l))>e&&(e=f),f=h,g=l}return e}function Cf(a,b,c,d,e){var f,g=0;for(f=c.length;g<f;++g){var h=c[g];e=Bf(a,b,h,d,e),b=h}return e}function Df(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;if(!e){var p=Ea(g,h,a[b],a[b+1]);if(p<m){for(n=0;n<d;++n)l[n]=a[b+n];return l.length=d,p}return m}for(var q=n||[NaN,NaN],t=b+d;t<c;)if(Af(a,t-d,t,d,g,h,q),(p=Ea(g,h,q[0],q[1]))<m){for(m=p,n=0;n<d;++n)l[n]=q[n];l.length=d,t+=d}else t+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(Af(a,c-d,b,d,g,h,q),(p=Ea(g,h,q[0],q[1]))<m)){for(m=p,n=0;n<d;++n)l[n]=q[n];l.length=d}return m}function Ef(a,b,c,d,e,f,g,h,l,m,n){n=n||[NaN,NaN];var p,q=0;for(p=c.length;q<p;++q){var t=c[q];m=Df(a,b,t,d,e,f,g,h,l,m,n),b=t}return m}function Ff(a,b){var d,c=0,e=0;for(d=b.length;e<d;++e)a[c++]=b[e];return c}function Gf(a,b,c,d){var e,f=0;for(e=c.length;f<e;++f){var h,g=c[f];for(h=0;h<d;++h)a[b++]=g[h]}return b}function Hf(a,b,c,d,e){e=e||[];var g,f=0,h=0;for(g=c.length;h<g;++h)b=Gf(a,b,c[h],d),e[f++]=b;return e.length=f,e}function If(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);return e.length=f,e}function Jf(a,b,c,d,e){e=void 0!==e?e:[];var g,f=0,h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=If(a,b,l,d,e[f]),b=l}return e.length=f,e}function Kf(a,b,c,d,e){e=void 0!==e?e:[];var g,f=0,h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=Jf(a,b,l,d,e[f]),b=l[l.length-1]}return e.length=f,e}function Lf(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1,l[h-1]=1,c=[b,c-d];for(var n,m=0;0<c.length;){var p=c.pop(),q=c.pop(),t=0,u=a[q],x=a[q+1],B=a[p],z=a[p+1];for(n=q+d;n<p;n+=d){var G=Da(a[n],a[n+1],u,x,B,z);G>t&&(m=n,t=G)}t>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}function Mf(a,b,c,d,e,f,g,h){var l,m=0;for(l=c.length;m<l;++m){var n=c[m];a:{var p=a,q=n,t=d,u=e,x=f,B=g;if(b!=q){var z=u*Math.round(p[b]/u),G=u*Math.round(p[b+1]/u);b+=t,x[B++]=z,x[B++]=G;do{var E=u*Math.round(p[b]/u);if(g=u*Math.round(p[b+1]/u),(b+=t)==q){x[B++]=E,x[B++]=g,g=B;break a}}while(E==z&&g==G);for(;b<q;){var ia=u*Math.round(p[b]/u),T=u*Math.round(p[b+1]/u);if(b+=t,ia!=E||T!=g){var R=E-z,U=g-G,ta=ia-z,A=T-G;R*A==U*ta&&(0>R&&ta<R||R==ta||0<R&&ta>R)&&(0>U&&A<U||U==A||0<U&&A>U)||(x[B++]=E,x[B++]=g,z=E,G=g),E=ia,g=T}}x[B++]=E,x[B++]=g}g=B}h.push(g),b=n}return g}function Of(a,b){uf.call(this),this.c=this.j=-1,this.na(a,b)}function Pf(a,b,c){wf(a,b,c),a.s()}function C(a,b){uf.call(this),this.na(a,b)}function Qf(a,b,c,d,e){return!cb(e,function(e){return!Rf(a,b,c,d,e[0],e[1])})}function Rf(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l<=f?n>f&&0<(m-h)*(f-l)-(e-h)*(n-l)&&g++:n<=f&&0>(m-h)*(f-l)-(e-h)*(n-l)&&g--,h=m,l=n}return!!g}function Sf(a,b,c,d,e,f){if(!c.length||!Rf(a,b,c[0],d,e,f))return!1;var g;for(b=1,g=c.length;b<g;++b)if(Rf(a,c[b-1],c[b],d,e,f))return!1;return!0}function Tf(a,b,c,d,e,f,g){var h,l=e[f+1],m=[],n=c[0],p=a[n-d],q=a[n-d+1];for(h=b;h<n;h+=d){var t=a[h],u=a[h+1];(l<=q&&u<=l||q<=l&&l<=u)&&(p=(l-q)/(u-q)*(t-p)+p,m.push(p)),p=t,q=u}for(n=NaN,q=-1/0,m.sort(fa),p=m[0],h=1,u=m.length;h<u;++h){t=m[h];var x=Math.abs(t-p);x>q&&(p=(p+t)/2,Sf(a,b,c,d,p,l)&&(n=p,q=x)),p=t}return isNaN(n)&&(n=e[f]),g?(g.push(n,l),g):[n,l]}function Uf(a,b,c,d,e,f){for(var l,g=[a[b],a[b+1]],h=[];b+d<c;b+=d){if(h[0]=a[b+d],h[1]=a[b+d+1],l=e.call(f,g,h))return l;g[0]=h[0],g[1]=h[1]}return!1}function Vf(a,b,c,d,e){var f=$a(Ma(),a,b,c,d);return!!ob(e,f)&&(!!(Ta(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3])||Uf(a,b,c,d,function(a,b){var c=!1,d=Ua(e,a),f=Ua(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],t=e[2],u=e[3],x=b[0];a=((b=b[1])-a[1])/(x-a[0]),2&f&&!(2&d)&&(c=x-(b-u)/a,c=c>=g&&c<=t),c||!(4&f)||4&d||(c=b-(x-t)*a,c=c>=h&&c<=u),c||!(8&f)||8&d||(c=x-(b-h)/a,c=c>=g&&c<=t),c||!(16&f)||16&d||(c=b-(x-g)*a,c=c>=h&&c<=u)}return c}))}function Wf(a,b,c,d,e){var f=c[0];if(!(Vf(a,b,f,d,e)||Rf(a,b,f,d,e[0],e[1])||Rf(a,b,f,d,e[0],e[3])||Rf(a,b,f,d,e[2],e[1])||Rf(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;for(b=1,f=c.length;b<f;++b)if(Qf(a,c[b-1],c[b],d,e))return!1;return!0}function Xf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=(h-f)*(l+g),f=h,g=l}return 0<e}function Yf(a,b,c,d){var e=0;d=void 0!==d&&d;var f,g=0;for(f=b.length;g<f;++g){var h=b[g];if(e=Xf(a,e,h,c),g){if(d&&!e||!d&&e)return!1}else if(d&&e||!d&&!e)return!1;e=h}return!0}function Zf(a,b,c,d,e){e=void 0!==e&&e;var f,g=0;for(f=c.length;g<f;++g){var h=c[g],l=Xf(a,b,h,d);if(g?e&&!l||!e&&l:e&&l||!e&&!l){l=a;for(var m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p],l[m-n+p]=q}b+=n,m-=n}}b=h}return b}function $f(a,b,c,d){var f,e=0,g=0;for(f=b.length;g<f;++g)e=Zf(a,e,b[g],c,d);return e}function D(a,b){uf.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.B=this.C=-1,this.j=null,this.na(a,b)}function ag(a){if(a.u!=a.f){var b=lb(a.G());a.D=Tf(a.Tb(),0,a.c,a.a,b,0),a.u=a.f}return a.D}function bg(a,b,c,d){var e=d||32;d=[];var f;for(f=0;f<e;++f)ka(d,a.offset(b,c,2*Math.PI*f/e));return d.push(d[0],d[1]),(a=new D(null)).aa("XY",d,[d.length]),a}function cg(a){var b=a[0],c=a[1],d=a[2];return a=a[3],b=[b,c,b,a,d,a,d,c,b,c],(c=new D(null)).aa("XY",b,[b.length]),c}function dg(a,b,c){var d=b||32,e=a.ma(),f=new D(null,b=a.ja);d=e*(d+1),e=Array(d);for(var g=0;g<d;g++)e[g]=0;return f.aa(b,e,[e.length]),eg(f,a.xa(),a.vd(),c),f}function eg(a,b,c,d){var e=a.ba(),f=a.ja,g=a.ma(),h=a.sb(),l=e.length/g-1;d=d||0;for(var m,n,p=0;p<=l;++p)n=p*g,m=d+2*Ga(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.aa(f,e,h)}function F(a){Vc.call(this),a=rb({},a),this.l=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=bc(a.projection),fg(this,a)}function fg(a,b){var c={};c.center=void 0!==b.center?b.center:null;var d=void 0!==b.minZoom?b.minZoom:0,e=void 0!==b.maxZoom?b.maxZoom:28,f=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions){var g=(e=b.resolutions)[0],h=e[e.length-1];e=Ue(e)}else{var l=((h=(g=bc(b.projection)).G())?Math.max(jb(h),kb(h)):360*Bb.degrees/g.Nc())/256/Math.pow(2,0),m=l/Math.pow(2,28);void 0!==(g=b.maxResolution)?d=0:g=l/Math.pow(f,d),void 0===(h=b.minResolution)&&(h=void 0!==b.maxZoom?void 0!==b.maxResolution?g/Math.pow(f,e):l/Math.pow(f,e):m),e=d+Math.floor(Math.log(g/h)/Math.log(f)),h=g/Math.pow(f,e-d),e=Ve(f,g,e-d)}a.a=g,a.i=h,a.B=f,a.j=b.resolutions,a.o=d,(void 0!==b.enableRotation?b.enableRotation:1)?(d=b.constrainRotation,d=void 0===d||!0===d?Ze():!1===d?Xe:"number"==typeof d?Ye(d):Xe):d=We,a.g={center:void 0!==b.extent?Dc(b.extent):Ec,resolution:e,rotation:d},void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=a.constrainResolution(a.a,b.zoom-a.o)),c.rotation=void 0!==b.rotation?b.rotation:0,a.H(c),a.D=b}function gg(a,b){var c=rb({},a.D);return void 0!==c.resolution?c.resolution=a.Pa():c.zoom=a.Qh(),c.center=a.xa(),c.rotation=a.Qa(),rb({},c,b)}function kg(a,b,c){var d=a.xa();if(void 0!==d){var e=[d[0]-c[0],d[1]-c[1]];hf(e,b-a.Qa()),bf(e,c)}return e}function jg(a,b,c){var d,e=a.xa();return a=a.Pa(),void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]),d}function lg(a){var b=[100,100];return a='.ol-viewport[data-view="'+w(a)+'"]',(a=document.querySelector(a))&&(a=getComputedStyle(a),b[0]=parseInt(a.width,10),b[1]=parseInt(a.height,10)),b}function ig(a,b){return void 0!==b?(b[0]=a.l[0],b[1]=a.l[1],b):a.l.slice()}function mg(a){var b=a.a,c=Math.log(b/a.i)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}function ng(a){var b=a.a,c=Math.log(b/a.i)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}function og(a){return!!a.xa()&&void 0!==a.Pa()}function hg(a,b,c){a.l[b]+=c,a.s()}function pg(a,b,c){this.i=a,this.c=b,this.g=c,this.b=[],this.a=this.f=0}function qg(a){a.b.length=0,a.f=0,a.a=0}function rg(a){if(6>a.b.length)return!1;var b=Date.now()-a.g,c=a.b.length-3;if(a.b[c+2]<b)return!1;for(var d=c-3;0<d&&a.b[d+2]>b;)d-=3;if((b=a.b[c+2]-a.b[d+2])<1e3/60)return!1;var e=a.b[c]-a.b[d];return c=a.b[c+1]-a.b[d+1],a.f=Math.atan2(c,e),a.a=Math.sqrt(e*e+c*c)/b,a.a>a.c}function sg(a){Vc.call(this),this.v=null,this.Ia(!0),this.handleEvent=a.handleEvent}function tg(a,b,c,d){if(void 0!==b){var e=a.Qa(),f=a.xa();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:td}):a.rotate(b,c)}}function ug(a,b,c,d){var e=a.Pa();if(b=a.constrainResolution(e,b,0),c&&void 0!==b&&b!==e){var f=a.xa();c=jg(a,b,c),c=a.Gc(c),c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]}vg(a,b,c,d)}function vg(a,b,c,d){if(b){var e=a.Pa(),f=a.xa();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:td}):(c&&(c=jg(a,b,c),a.rb(c)),a.Yc(b))}}function wg(a){a=a||{},this.a=a.delta?a.delta:1,sg.call(this,{handleEvent:xg}),this.g=void 0!==a.duration?a.duration:250}function xg(a){var b=!1,c=a.originalEvent;return"dblclick"==a.type&&(b=a.coordinate,c=c.shiftKey?-this.a:this.a,ug(a.map.$(),c,b,this.g),a.preventDefault(),b=!0),!b}function yg(a){return(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function zg(a){return(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Ag(a){return!((a=a.originalEvent).button||Sd&&Td&&a.ctrlKey)}function Bg(a){return"pointermove"==a.type}function Cg(a){return"singleclick"==a.type}function Dg(a){return!(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function Eg(a){return!(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Fg(a){return"INPUT"!==(a=a.originalEvent.target.tagName)&&"SELECT"!==a&&"TEXTAREA"!==a}function Gg(a){return va(a.b,56),"mouse"==a.b.pointerType}function Hg(a){return(a=a.b).isPrimary&&0===a.button}function Jg(a){a=a||{},sg.call(this,{handleEvent:a.handleEvent?a.handleEvent:Kg}),this.Hf=a.handleDownEvent?a.handleDownEvent:qf,this.Qf=a.handleDragEvent?a.handleDragEvent:ra,this.Ck=a.handleMoveEvent?a.handleMoveEvent:ra,this.Dk=a.handleUpEvent?a.handleUpEvent:qf,this.D=!1,this.ta={},this.l=[]}function Lg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}function Kg(a){if(!(a instanceof ie))return!0;var b=!1,c=a.type;return"pointerdown"!==c&&"pointerdrag"!==c&&"pointerup"!==c||(c=a.b,"pointerup"==a.type?delete this.ta[c.pointerId]:"pointerdown"==a.type?this.ta[c.pointerId]=c:c.pointerId in this.ta&&(this.ta[c.pointerId]=c),this.l=tb(this.ta)),this.D?"pointerdrag"==a.type?this.Qf(a):"pointerup"==a.type&&(this.D=this.Dk(a)&&0<this.l.length):"pointerdown"==a.type?(this.D=a=this.Hf(a),b=this.$c(a)):"pointermove"==a.type&&this.Ck(a),!b}function Mg(a){Jg.call(this,{handleDownEvent:Ng,handleDragEvent:Og,handleUpEvent:Pg}),a=a||{},this.a=a.kinetic,this.g=null,this.u=a.condition?a.condition:Dg,this.j=!1}function Og(a){var b=this.l,c=Lg(b);if(b.length==this.o){if(this.a&&this.a.b.push(c[0],c[1],Date.now()),this.g){var d=this.g[0]-c[0],e=c[1]-this.g[1],f=(a=a.map.$()).getState();jf(d=[d,e],f.resolution),hf(d,f.rotation),bf(d,f.center),d=a.Gc(d),a.rb(d)}}else this.a&&qg(this.a);this.g=c,this.o=b.length}function Pg(a){var b=a.map;if(a=b.$(),this.l.length)return this.a&&qg(this.a),this.g=null,!0;if(!this.j&&this.a&&rg(this.a)){var c=this.a;c=(c.c-c.a)/c.i;var d=this.a.f,e=a.xa();e=b.Ka(e),b=b.Xa([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]),a.animate({center:a.Gc(b),duration:500,easing:td})}return hg(a,1,-1),!1}function Ng(a){if(0<this.l.length&&this.u(a)){var b=a.map.$();return this.g=null,this.D||hg(b,1,1),ig(b)[0]&&b.rb(a.frameState.viewState.center),this.a&&qg(this.a),this.j=1<this.l.length,!0}return!1}function Qg(a){a=a||{},Jg.call(this,{handleDownEvent:Rg,handleDragEvent:Sg,handleUpEvent:Tg}),this.g=a.condition?a.condition:zg,this.a=void 0,this.j=void 0!==a.duration?a.duration:250}function Sg(a){if(Gg(a)){var b=a.map,c=b.$();c.g.rotation!==We&&(b=b.Mb(),a=a.pixel,a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2),void 0!==this.a&&(b=a-this.a,tg(c,c.Qa()-b)),this.a=a)}}function Tg(a){if(!Gg(a))return!0;hg(a=a.map.$(),1,-1);var b=a.Qa(),c=this.j;return b=a.constrainRotation(b,0),tg(a,b,void 0,c),!1}function Rg(a){return!!(Gg(a)&&Ag(a)&&this.g(a))&&(hg(a.map.$(),1,1),this.a=void 0,!0)}function Ug(a){this.Ic=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+a,this.f=this.c=this.b=null}function Vg(a){var b=a.c,c=a.f;(a=a.a.style).left=Math.min(b[0],c[0])+"px",a.top=Math.min(b[1],c[1])+"px",a.width=Math.abs(c[0]-b[0])+"px",a.height=Math.abs(c[1]-b[1])+"px"}function Wg(a){var b=a.c,c=a.f;(b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Xa,a.b))[4]=b[0].slice(),a.Ic?a.Ic.na([b]):a.Ic=new D([b])}function Xg(a){Jg.call(this,{handleDownEvent:Yg,handleDragEvent:Zg,handleUpEvent:$g}),a=a||{},this.a=new Ug(a.className||"ol-dragbox"),this.u=void 0!==a.minArea?a.minArea:64,this.g=null,this.B=a.condition?a.condition:pf,this.o=a.boxEndCondition?a.boxEndCondition:ah}function ah(a,b,c){return a=c[0]-b[0],b=c[1]-b[1],a*a+b*b>=this.u}function Zg(a){if(Gg(a)){var b=this.a,c=a.pixel;b.c=this.g,b.f=c,Wg(b),Vg(b),this.b(new bh(ch,a.coordinate,a))}}function $g(a){return!Gg(a)||(this.a.setMap(null),this.o(a,this.g,a.pixel)&&(this.j(a),this.b(new bh(dh,a.coordinate,a))),!1)}function Yg(a){if(Gg(a)&&Ag(a)&&this.B(a)){this.g=a.pixel,this.a.setMap(a.map);var b=this.a,c=this.g;return b.c=this.g,b.f=c,Wg(b),Vg(b),this.b(new bh(eh,a.coordinate,a)),!0}return!1}function bh(a,b,c){Qc.call(this,a),this.coordinate=b,this.mapBrowserEvent=c}function fh(a){var b=(a=a||{}).condition?a.condition:Eg;this.C=void 0!==a.duration?a.duration:200,this.I=void 0!==a.out&&a.out,Xg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}function gh(a){sg.call(this,{handleEvent:hh}),a=a||{},this.a=function(a){return Dg(a)&&Fg(a)},this.g=a.condition?a.condition:this.a,this.j=void 0!==a.duration?a.duration:100,this.l=void 0!==a.pixelDelta?a.pixelDelta:128}function hh(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.g(a)&&(40==c||37==c||39==c||38==c)){var d=(b=a.map.$()).Pa()*this.l,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d,hf(d=[e,f],b.Qa()),c=this.j,(e=b.xa())&&(d=b.Gc([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:vd,center:d}):b.rb(d)),a.preventDefault(),b=!0}}return!b}function ih(a){sg.call(this,{handleEvent:jh}),a=a||{},this.g=a.condition?a.condition:Fg,this.a=a.delta?a.delta:1,this.j=void 0!==a.duration?a.duration:100}function jh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.g(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.$(),ug(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b}function kh(a){sg.call(this,{handleEvent:lh}),a=a||{},this.j=0,this.D=void 0!==a.duration?a.duration:250,this.ta=void 0!==a.timeout?a.timeout:80,this.B=void 0===a.useAnchor||a.useAnchor,this.S=a.constrainResolution||!1,this.a=null,this.o=this.l=this.u=this.g=void 0}function lh(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault(),b=a.map;var c=a.originalEvent;if(this.B&&(this.a=a.coordinate),"wheel"==a.type){var d=c.deltaY;Qd&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=Ud),c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else"mousewheel"==a.type&&(d=-c.wheelDeltaY,Rd&&(d/=3));if(0===d)return!1;if(a=Date.now(),void 0===this.g&&(this.g=a),(!this.l||400<a-this.g)&&(this.l=4>Math.abs(d)?mh:nh),this.l===mh){b=b.$(),this.o?clearTimeout(this.o):hg(b,1,1),this.o=setTimeout(this.C.bind(this),400),c=b.Pa()*Math.pow(2,d/300);var e=b.i,f=b.a,g=0;if(c<e?(c=Math.max(c,e/1.5),g=1):c>f&&(c=Math.min(c,1.5*f),g=-1),this.a){var h=jg(b,c,this.a);b.rb(b.Gc(h))}return b.Yc(c),!g&&this.S&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:td,anchor:this.a,duration:this.D}),0<g?b.animate({resolution:e,easing:td,anchor:this.a,duration:500}):0>g&&b.animate({resolution:f,easing:td,anchor:this.a,duration:500}),this.g=a,!1}return this.j+=d,d=Math.max(this.ta-(a-this.g),0),clearTimeout(this.u),this.u=setTimeout(this.I.bind(this,b),d),!1}function oh(a){Jg.call(this,{handleDownEvent:ph,handleDragEvent:qh,handleUpEvent:rh}),a=a||{},this.g=null,this.j=void 0,this.a=!1,this.o=0,this.B=void 0!==a.threshold?a.threshold:.3,this.u=void 0!==a.duration?a.duration:250}function qh(a){var b=0,c=this.l[0],d=this.l[1];if(c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX),void 0!==this.j&&(b=c-this.j,this.o+=b,!this.a&&Math.abs(this.o)>this.B&&(this.a=!0)),this.j=c,a=a.map,(c=a.$()).g.rotation!==We){d=a.a.getBoundingClientRect();var e=Lg(this.l);e[0]-=d.left,e[1]-=d.top,this.g=a.Xa(e),this.a&&(d=c.Qa(),a.render(),tg(c,d+b,this.g))}}function rh(a){if(2>this.l.length){if(a=a.map.$(),hg(a,1,-1),this.a){var b=a.Qa(),c=this.g,d=this.u;tg(a,b=a.constrainRotation(b,0),c,d)}return!1}return!0}function ph(a){return 2<=this.l.length&&(a=a.map,this.g=null,this.j=void 0,this.a=!1,this.o=0,this.D||hg(a.$(),1,1),!0)}function sh(a){Jg.call(this,{handleDownEvent:th,handleDragEvent:uh,handleUpEvent:vh}),a=a||{},this.o=a.constrainResolution||!1,this.g=null,this.u=void 0!==a.duration?a.duration:400,this.a=void 0,this.j=1}function uh(a){var b=1,c=this.l[0],d=this.l[1],e=c.clientX-d.clientX;c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c),void 0!==this.a&&(b=this.a/e),this.a=e,d=(e=(a=a.map).$()).Pa();var f=e.a,g=e.i;(c=d*b)>f?(b=f/d,c=f):c<g&&(b=g/d,c=g),1!=b&&(this.j=b),b=a.a.getBoundingClientRect(),(d=Lg(this.l))[0]-=b.left,d[1]-=b.top,this.g=a.Xa(d),a.render(),vg(e,c,this.g)}function vh(a){if(2>this.l.length){hg(a=a.map.$(),1,-1);var b=a.Pa();if(this.o||b<a.i||b>a.a){var c=this.g,d=this.u;vg(a,b=a.constrainResolution(b,0,this.j-1),c,d)}return!1}return!0}function th(a){return 2<=this.l.length&&(a=a.map,this.g=null,this.a=void 0,this.j=1,this.D||hg(a.$(),1,1),!0)}function wh(a){a=a||{};var b=new $c,c=new pg(-.005,.05,100);return(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new Qg),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new wg({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Mg({kinetic:c})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new oh),(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new sh({constrainResolution:a.constrainResolution,duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(b.push(new gh),b.push(new ih({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new kh({constrainResolution:a.constrainResolution,duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new fh({duration:a.zoomDuration})),b}function xh(a){Vc.call(this);var b=rb({},a);b.opacity=void 0!==a.opacity?a.opacity:1,b.visible=void 0===a.visible||a.visible,b.zIndex=void 0!==a.zIndex?a.zIndex:0,b.maxResolution=void 0!==a.maxResolution?a.maxResolution:1/0,b.minResolution=void 0!==a.minResolution?a.minResolution:0,this.H(b),this.a={layer:this,Ue:!0}}function yh(a){return a.a.opacity=Aa(a.hc(),0,1),a.a.Ij=a.hg(),a.a.visible=a.Sb(),a.a.extent=a.G(),a.a.zIndex=a.za(),a.a.maxResolution=a.fc(),a.a.minResolution=Math.max(a.gc(),0),a.a}function zh(a){var b=a||{};delete(a=rb({},b)).layers,b=b.layers,xh.call(this,a),this.i=[],this.c={},y(this,Xc(Ch),this.Tl,this),b?Array.isArray(b)?b=new $c(b.slice(),{unique:!0}):va(b instanceof $c,43):b=new $c(void 0,{unique:!0}),this.Hi(b)}function Dh(a){var b=rb({},a);delete b.source,xh.call(this,b),this.o=this.l=this.j=null,a.map&&this.setMap(a.map),y(this,Xc("source"),this.gm,this),this.Zc(a.source?a.source:null)}function Eh(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}function Fh(){this.b={},this.a=0}function Ih(){return[1,0,0,1,0,0]}function Jh(a){return Kh(a,1,0,0,1,0,0)}function Lh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],n=b[2],p=b[3],q=b[4];return b=b[5],a[0]=c*l+e*m,a[1]=d*l+f*m,a[2]=c*n+e*p,a[3]=d*n+f*p,a[4]=c*q+e*b+g,a[5]=d*q+f*b+h,a}function Kh(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a}function Mh(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Nh(a,b){var c=b[0],d=b[1];return b[0]=a[0]*c+a[2]*d+a[4],b[1]=a[1]*c+a[3]*d+a[5],b}function Oh(a,b){var c=Math.cos(b);b=Math.sin(b),Lh(a,Kh(Hh,c,b,-b,c,0,0))}function Ph(a,b,c){return Lh(a,Kh(Hh,b,0,0,c,0,0))}function Qh(a,b,c){Lh(a,Kh(Hh,1,0,0,1,b,c))}function Rh(a,b,c,d,e,f,g,h){var l=Math.sin(f);return f=Math.cos(f),a[0]=d*f,a[1]=e*l,a[2]=-d*l,a[3]=e*f,a[4]=g*d*f-h*d*l+b,a[5]=g*e*l+h*e*f+c,a}function Sh(a){var b=a[0]*a[3]-a[1]*a[2];va(!!b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];return a[0]=f/b,a[1]=-d/b,a[2]=-e/b,a[3]=c/b,a[4]=(e*h-f*g)/b,a[5]=-(c*h-d*g)/b,a}function Th(a,b){this.l=b,this.c={},this.v={}}function Uh(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;Rh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),Sh(Mh(d,c))}function Vh(){if(32<Gh.a){var b,a=0;for(b in Gh.b){var c=Gh.b[b];3&a++||Tc(c)||(delete Gh.b[b],--Gh.a)}}}function Wh(a,b){var c=w(b).toString();return c in a.c?a.c[c]:(b=b.Ld(a),a.c[c]=b,a.v[c]=y(b,"change",a.Rl,a),b)}function Xh(a,b){for(var c in a.c)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.eq.bind(a));break}}function oa(a,b){return a.zIndex-b.zIndex}function Yh(a,b,c,d,e){Qc.call(this,a),this.vectorContext=b,this.frameState=c,this.context=d,this.glContext=e}function bi(a,b,c,d){b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}function ci(){}function di(a,b,c,d,e){this.f=a,this.g=b,this.c=c,this.R=d,this.Zb=e,this.M=this.b=this.a=this.Va=this.S=this.I=null,this.ta=this.U=this.v=this.C=this.B=this.D=0,this.ga=!1,this.i=this.jb=0,this.oa=!1,this.pa=0,this.ua="",this.mc=this.va=0,this.Sa=!1,this.l=this.Za=0,this.qa=this.o=this.j=null,this.u=[],this.Ib=Ih()}function ei(a,b,c){if(a.M){b=sf(b,0,c,2,a.R,a.u),c=a.f;var d=a.Ib,e=c.globalAlpha;1!=a.v&&(c.globalAlpha=e*a.v);var f=a.jb;a.ga&&(f+=a.Zb);var g,h=0;for(g=b.length;h<g;h+=2){var l=b[h]-a.D,m=b[h+1]-a.B;if(a.oa&&(l=Math.round(l),m=Math.round(m)),f||1!=a.i){var n=l+a.D,p=m+a.B;Rh(d,n,p,a.i,a.i,f,-n,-p),c.setTransform.apply(c,d)}c.drawImage(a.M,a.U,a.ta,a.pa,a.C,l,m,a.pa,a.C)}(f||1!=a.i)&&c.setTransform(1,0,0,1,0,0),1!=a.v&&(c.globalAlpha=e)}}function fi(a,b,c,d){var e=0;if(a.qa&&""!==a.ua){a.j&&gi(a,a.j),a.o&&hi(a,a.o);var f=a.qa,g=a.f,h=a.Va;for(h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Va={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),b=sf(b,e,c,d,a.R,a.u),f=a.f,g=a.Za,a.Sa&&(g+=a.Zb);e<c;e+=d){h=b[e]+a.va;var l=b[e+1]+a.mc;if(g||1!=a.l){var m=Rh(a.Ib,h,l,a.l,a.l,g,-h,-l);f.setTransform.apply(f,m)}a.o&&f.strokeText(a.ua,h,l),a.j&&f.fillText(a.ua,h,l)}(g||1!=a.l)&&f.setTransform(1,0,0,1,0,0)}}function ii(a,b,c,d,e,f){var g=a.f;for(a=sf(b,c,d,e,a.R,a.u),g.moveTo(a[0],a[1]),b=a.length,f&&(b-=2),c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);return f&&g.closePath(),d}function ji(a,b,c,d,e){var f,g=0;for(f=d.length;g<f;++g)c=ii(a,b,c,d[g],e,!0);return c}function gi(a,b){var c=a.f,d=a.I;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.I={fillStyle:b.fillStyle})}function hi(a,b){var c=a.f,d=a.S;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Vd&&(ma(d.lineDash,b.lineDash)||c.setLineDash(d.lineDash=b.lineDash),d.lineDashOffset!=b.lineDashOffset&&(d.lineDashOffset=c.lineDashOffset=b.lineDashOffset)),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,Vd&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.S={lineCap:b.lineCap,lineDash:b.lineDash,lineDashOffset:b.lineDashOffset,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}function oi(a,b){Th.call(this,0,b),this.f=ld(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.a=!0,this.i=Ih()}function pi(a,b,c){var d=a.l,e=a.f;if(Tc(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=Rh(a.i,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]),d.b(new Yh(b,new di(e,g,f,a,h),c,e,null))}}function ri(){}function si(a){this.b=a}function ti(a){this.b=a}function ui(a){this.b=a}function vi(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function xi(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function zi(a,b){this.B=a.getUniformLocation(b,"n"),this.pa=a.getUniformLocation(b,"k"),this.c=a.getUniformLocation(b,"j"),this.i=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"m"),this.qa=a.getUniformLocation(b,"l"),this.f=a.getUniformLocation(b,"h"),this.I=a.getUniformLocation(b,"p"),this.S=a.getUniformLocation(b,"o"),this.j=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"e"),this.R=a.getAttribLocation(b,"g")}function Ai(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Bi(a,b){return a[0]=b[0],a[1]=b[1],a[4]=b[2],a[5]=b[3],a[12]=b[4],a[13]=b[5],a}function Ci(a,b){this.origin=lb(b),this.Ib=Ih(),this.Sa=Ih(),this.Za=Ih(),this.U=Ai(),this.b=[],this.j=null,this.f=[],this.i=[],this.a=[],this.o=null,this.g=void 0}function Ei(a,b,c,d){a.drawElements(4,d-c,b.g?5125:5123,c*(b.g?4:2))}function Ii(a,b,c,d,e,f){return(a=(c-a)*(f-b)-(e-a)*(d-b))<=Ji&&a>=-Ji?void 0:0<a}function Ki(a){this.b=void 0!==a?a:[],this.a=Li}function Mi(a,b){Ci.call(this,0,b),this.v=null,this.l=[],this.u=[],this.R=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function Pi(a,b,c,d){b.uniform4fv(a.v.S,c),b.uniform1f(a.v.pa,d)}function Qi(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Si(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function Ui(a,b){this.c=a.getUniformLocation(b,"j"),this.i=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"k"),this.f=a.getUniformLocation(b,"h"),this.v=a.getAttribLocation(b,"e"),this.u=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"c"),this.D=a.getAttribLocation(b,"g"),this.C=a.getAttribLocation(b,"d")}function Vi(a,b){this.j=a,this.b=b,this.a={},this.c={},this.f={},this.o=this.v=this.i=this.l=null,(this.g=ha(ca,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint"),y(this.j,"webglcontextlost",this.kp,this),y(this.j,"webglcontextrestored",this.lp,this)}function Di(a,b,c){var d=a.b,e=c.b,f=String(w(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.g?new Uint32Array(e):new Uint16Array(e)),d.bufferData(b,h,c.a),a.a[f]={nc:c,buffer:g}}}function Ni(a,b){var c=a.b;b=String(w(b));var d=a.a[b];c.isContextLost()||c.deleteBuffer(d.buffer),delete a.a[b]}function Wi(a){if(!a.i){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Xi(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e),b.bindTexture(b.TEXTURE_2D,null),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),a.i=c,a.v=d,a.o=e}return a.i}function Yi(a,b){var c=String(w(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.T());return d.shaderSource(e,b.b),d.compileShader(e),a.c[c]=e}function Oi(a,b,c){var d=w(b)+"/"+w(c);if(d in a.f)return a.f[d];var e=a.b,f=e.createProgram();return e.attachShader(f,Yi(a,b)),e.attachShader(f,Yi(a,c)),e.linkProgram(f),a.f[d]=f}function Zi(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(3553,10242,b),void 0!==c&&a.texParameteri(3553,10243,c),d}function Xi(a,b,c){var d=Zi(a,void 0,void 0);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),d}function $i(a,b){var c=Zi(a,33071,33071);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),c}function aj(a,b){Ci.call(this,0,b),this.B=this.D=void 0,this.v=[],this.u=[],this.qa=this.pa=this.height=void 0,this.Va=null,this.width=this.scale=this.rotation=this.rotateWithView=this.S=this.I=this.opacity=void 0}function bj(a,b,c,d,e){var f=a.D,g=a.B,h=a.height,l=a.pa,m=a.qa,n=a.opacity,p=a.I,q=a.S,t=a.rotateWithView?1:0,u=-a.rotation,x=a.scale,B=a.width,z=Math.cos(u);u=Math.sin(u);for(var ia,T,R,U,ta,G=a.b.length,E=a.a.length;c<d;c+=e)U=b[c]-a.origin[0],ta=b[c+1]-a.origin[1],ia=E/8,T=-x*f,R=-x*(h-g),a.a[E++]=U,a.a[E++]=ta,a.a[E++]=T*z-R*u,a.a[E++]=T*u+R*z,a.a[E++]=p/m,a.a[E++]=(q+h)/l,a.a[E++]=n,a.a[E++]=t,T=x*(B-f),R=-x*(h-g),a.a[E++]=U,a.a[E++]=ta,a.a[E++]=T*z-R*u,a.a[E++]=T*u+R*z,a.a[E++]=(p+B)/m,a.a[E++]=(q+h)/l,a.a[E++]=n,a.a[E++]=t,T=x*(B-f),R=x*g,a.a[E++]=U,a.a[E++]=ta,a.a[E++]=T*z-R*u,a.a[E++]=T*u+R*z,a.a[E++]=(p+B)/m,a.a[E++]=q/l,a.a[E++]=n,a.a[E++]=t,T=-x*f,R=x*g,a.a[E++]=U,a.a[E++]=ta,a.a[E++]=T*z-R*u,a.a[E++]=T*u+R*z,a.a[E++]=p/m,a.a[E++]=q/l,a.a[E++]=n,a.a[E++]=t,a.b[G++]=ia,a.b[G++]=ia+1,a.b[G++]=ia+2,a.b[G++]=ia,a.b[G++]=ia+2,a.b[G++]=ia+3}function cj(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e],h=w(g).toString();h in c?g=c[h]:(g=$i(d,g),c[h]=g),a[e]=g}}function dj(a,b){aj.call(this,0,b),this.l=[],this.c=[],this.C=[],this.R=[]}function ej(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c&&!!yf(a,0,b,c)}function fj(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function hj(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function jj(a,b){this.B=a.getUniformLocation(b,"n"),this.pa=a.getUniformLocation(b,"k"),this.S=a.getUniformLocation(b,"l"),this.c=a.getUniformLocation(b,"j"),this.i=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"m"),this.qa=a.getUniformLocation(b,"p"),this.f=a.getUniformLocation(b,"h"),this.I=a.getUniformLocation(b,"o"),this.g=a.getAttribLocation(b,"g"),this.l=a.getAttribLocation(b,"d"),this.o=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"e")}function kj(a,b){Ci.call(this,0,b),this.v=null,this.u=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function lj(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=ej(b,c,d),n=g,p=1;for(e=0;e<c;e+=d){var q=f/7,t=u,u=x||[b[e],b[e+1]];if(e){if(e===c-d){if(m)var x=B;else t=t||[0,0],f=mj(a,t,u,[0,0],p*nj*(l||1),f),f=mj(a,t,u,[0,0],-p*nj*(l||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,l&&(f=mj(a,t,u,[0,0],p*oj*l,f),f=mj(a,t,u,[0,0],-p*oj*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);break}x=[b[e+d],b[e+d+1]]}else{if(x=[b[e+d],b[e+d+1]],c-0==2*d&&ma(u,x))break;if(!m){l&&(f=mj(a,[0,0],u,x,p*pj*l,f),f=mj(a,[0,0],u,x,-p*pj*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2),f=mj(a,[0,0],u,x,p*qj*(l||1),f),n=(f=mj(a,[0,0],u,x,-p*qj*(l||1),f))/7-1;continue}t=[b[c-2*d],b[c-2*d+1]];var B=x}var z=Ii(t[0],t[1],u[0],u[1],x[0],x[1])?-1:1;f=mj(a,t,u,x,z*rj*(h||1),f),f=mj(a,t,u,x,z*sj*(h||1),f),f=mj(a,t,u,x,-z*tj*(h||1),f),0<e&&(a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<p*z?n:n-1),a.b[g++]=q,a.b[g++]=q+2,a.b[g++]=q+1,n=q+2,p=z,h&&(f=mj(a,t,u,x,z*uj*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,z=Xf([t[0],t[1],u[0],u[1],x[0],x[1]],0,6,2)?1:-1,f=mj(a,t,u,x,z*rj*(h||1),f),mj(a,t,u,x,-z*tj*(h||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<p*z?n:n-1)}function mj(a,b,c,d,e,f){return a.a[f++]=b[0],a.a[f++]=b[1],a.a[f++]=c[0],a.a[f++]=c[1],a.a[f++]=d[0],a.a[f++]=d[1],a.a[f++]=e,f}function vj(a,b,c,d){return!((c-=b)<2*d||c===2*d&&ma([a[b],a[b+1]],[a[b+d],a[b+d+1]]))}function wj(a,b,c,d){if(ej(b,b.length,d)||(b.push(b[0]),b.push(b[1])),lj(a,b,b.length,d),c.length){var e;for(b=0,e=c.length;b<e;++b)ej(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),lj(a,c[b],c[b].length,d)}}function xj(a,b,c){c=void 0===c?a.b.length:c,a.f.push(c),a.i.push(b),a.c.s&&(a.l.push(c),a.c.s=!1)}function yj(a,b,c,d,e){b.uniform4fv(a.v.B,c),b.uniform1f(a.v.pa,d),b.uniform1f(a.v.S,e)}function zj(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Bj(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Dj(a,b){this.B=a.getUniformLocation(b,"e"),this.c=a.getUniformLocation(b,"d"),this.i=a.getUniformLocation(b,"c"),this.a=a.getUniformLocation(b,"f"),this.f=a.getUniformLocation(b,"b"),this.b=a.getAttribLocation(b,"a")}function Ej(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.g=a.lineCap,this.f=void 0!==a.lineDash?a.lineDash:null,this.i=a.lineDashOffset,this.j=a.lineJoin,this.l=a.miterLimit,this.c=a.width,this.a=void 0}function Fj(a){this.b=this.a=this.f=void 0,this.i=void 0===a||a,this.c=0}function Gj(a){var b=a.b;if(b){var c=b.next,d=b.yb;c&&(c.yb=d),d&&(d.next=c),a.b=c||d,a.f===a.a?(a.b=void 0,a.f=void 0,a.a=void 0):a.f===b?a.f=a.b:a.a===b&&(a.a=d?a.b.yb:a.b),a.c--}}function Hj(a){if(a.b=a.f,a.b)return a.b.data}function Ij(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function Jj(a){if(a.b&&a.b.next)return a.b.next.data}function Kj(a){if(a.b&&a.b.yb)return a.b=a.b.yb,a.b.data}function Lj(a){if(a.b&&a.b.yb)return a.b.yb.data}function Mj(a){if(a.b)return a.b.data}function Oj(a){this.a=Nj.ge(a),this.b={}}function Pj(a,b,c){var d=a.b[w(c)];ab([d.ca,d.ea,d.da,d.ha],b)||(a.remove(c),a.Ga(b,c))}function Qj(a){return a.a.all().map(function(a){return a.value})}function Rj(a,b){return a.a.search({ca:b[0],ea:b[1],da:b[2],ha:b[3]}).map(function(a){return a.value})}function Tj(a,b,c,d){return Sj(Rj(a,b),c,d)}function Sj(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}function Uj(a,b){Ci.call(this,0,b),this.g=new kj(0,b),this.v=null,this.u=[],this.c=[],this.l={fillColor:null,s:!1}}function Vj(a,b,c,d){var e=new Fj,f=new Oj;if(Wj(a,b,d,e,f,!0),b=Xj(e),c.length){var g,h=[],l=0;for(g=c.length;l<g;++l){var m={list:new Fj,wc:void 0,Ug:new Oj};h.push(m),Wj(a,c[l],d,m.list,m.Ug,!1),Yj(m.list,m.Ug,!0),m.wc=Xj(m.list)}for(h.sort(function(a,b){return b.wc[0]===a.wc[0]?a.wc[1]-b.wc[1]:b.wc[0]-a.wc[0]}),l=0;l<h.length;++l){g=d=Hj(c=h[l].list);do{if(Zj(g,f).length){var n=!0;break}g=Ij(c)}while(d!==g);!n&&ak(c,h[l].wc[0],e,b[0],f)&&(f.concat(h[l].Ug),Yj(e,f,!1))}}else Yj(e,f,!1);bk(a,e,f)}function Wj(a,b,c,d,e,f){var g,h=a.a.length/2,l=[],m=[];if(f===Xf(b,0,b.length,c)){var n=f=ck(a,b[0],b[1],h++),p=c;for(g=b.length;p<g;p+=c){var q=ck(a,b[p],b[p+1],h++);m.push(dk(n,q,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),n=q}}else for(p=b.length-c,n=f=ck(a,b[p],b[p+1],h++),p-=c,g=0;p>=g;p-=c)q=ck(a,b[p],b[p+1],h++),m.push(dk(n,q,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),n=q;m.push(dk(q,f,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),e.load(l,m)}function Xj(a){var b=Hj(a),c=b,d=[c.Z.x,c.Z.y];do{(c=Ij(a)).Z.x>d[0]&&(d=[c.Z.x,c.Z.y])}while(c!==b);return d}function Yj(a,b,c){var d=Hj(a),e=d,f=Ij(a),g=!1;do{var h=c?Ii(f.X.x,f.X.y,e.X.x,e.X.y,e.Z.x,e.Z.y):Ii(e.Z.x,e.Z.y,e.X.x,e.X.y,f.X.x,f.X.y);void 0===h?(ek(e,f,a,b),g=!0,f===d&&(d=Jj(a)),f=e,Kj(a)):e.X.Eb!==h&&(e.X.Eb=h,g=!0),e=f,f=Ij(a)}while(e!==d);return g}function ak(a,b,c,d,e){for(var f=Hj(a);f.X.x!==b;)f=Ij(a);var h,g=1/0,l=Zj({Z:b=f.X,X:d={x:d,y:b.y,kb:-1}},e,!0),m=0;for(h=l.length;m<h;++m){var n=l[m],p=fk(b,d,n.Z,n.X,!0),q=Math.abs(b.x-p[0]);if(q<g&&void 0!==Ii(b.x,b.y,n.Z.x,n.Z.y,n.X.x,n.X.y)){g=q;var t={x:p[0],y:p[1],kb:-1};f=n}}if(1/0===g)return!1;if(l=f.X,0<g&&(f=gk(b,t,f.X,e)).length)for(t=1/0,m=0,h=f.length;m<h;++m)g=f[m],((n=Math.atan2(b.y-g.y,d.x-g.x))<t||n===t&&g.x<l.x)&&(t=n,l=g);for(f=Hj(c);f.X.x!==l.x||f.X.y!==l.y;)f=Ij(c);return d={x:b.x,y:b.y,kb:b.kb,Eb:void 0},m={x:f.X.x,y:f.X.y,kb:f.X.kb,Eb:void 0},Jj(a).Z=d,dk(b,f.X,a,e),dk(m,d,a,e),f.X=m,a.i&&a.b&&(a.f=a.b,a.a=a.b.yb),c.concat(a),!0}function bk(a,b,c){for(var d=!1,e=hk(b,c);3<b.c;)if(e){if(!ik(a,b,c,e,d)&&!Yj(b,c,d)&&!jk(a,b,c,!0))break}else if(!ik(a,b,c,e,d)&&!Yj(b,c,d)&&!jk(a,b,c)){if(!(e=hk(b,c))){e=a,f=g=Hj(d=b);do{if((h=Zj(f,c)).length){for(g=h[0],h=ck(e,(h=fk(f.Z,f.X,g.Z,g.X))[0],h[1],e.a.length/2),l=new Fj,m=new Oj,dk(h,f.X,l,m),f.X=h,Pj(c,[Math.min(f.Z.x,h.x),Math.min(f.Z.y,h.y),Math.max(f.Z.x,h.x),Math.max(f.Z.y,h.y)],f),f=Ij(d);f!==g;)dk(f.Z,f.X,l,m),c.remove(f),Gj(d),f=Mj(d);dk(g.Z,h,l,m),g.Z=h,Pj(c,[Math.min(g.X.x,h.x),Math.min(g.X.y,h.y),Math.max(g.X.x,h.x),Math.max(g.X.y,h.y)],g),Yj(d,c,!1),bk(e,d,c),Yj(l,m,!1),bk(e,l,m);break}f=Ij(d)}while(f!==g);break}var f=2*(d=b).c,g=Array(f),h=Hj(d),l=h,m=0;do{g[m++]=l.Z.x,g[m++]=l.Z.y,l=Ij(d)}while(l!==h);Yj(b,c,d=!Xf(g,0,f,2))}3===b.c&&(e=a.b.length,a.b[e++]=Lj(b).Z.kb,a.b[e++]=Mj(b).Z.kb,a.b[e++]=Jj(b).Z.kb)}function ik(a,b,c,d,e){var f=a.b.length,g=Hj(b),h=Lj(b),l=g,m=Ij(b),n=Jj(b),p=!1;do{var q=l.Z,t=l.X,u=m.X;if(!1===t.Eb){var x=d?!gk(q,t,u,c,!0).length:e?kk(n.X,u,t,q,h.Z):kk(h.Z,q,t,u,n.X);!d&&Zj({Z:q,X:u},c).length||!x||!d&&!1!==q.Eb&&!1!==u.Eb&&Xf([h.Z.x,h.Z.y,q.x,q.y,t.x,t.y,u.x,u.y,n.X.x,n.X.y],0,10,2)!==!e||(a.b[f++]=q.kb,a.b[f++]=t.kb,a.b[f++]=u.kb,ek(l,m,b,c),m===g&&(g=n),p=!0)}h=Lj(b),l=Mj(b),m=Ij(b),n=Jj(b)}while(l!==g&&3<b.c);return p}function jk(a,b,c,d){var e=Hj(b);Ij(b);var f=e,g=Ij(b),h=!1;do{var l=fk(f.Z,f.X,g.Z,g.X,d);if(l){h=a.b.length;var m=a.a.length/2,n=Kj(b);Gj(b),c.remove(n);var p=n===e;if(d?(l[0]===f.Z.x&&l[1]===f.Z.y?(Kj(b),l=f.Z,g.Z=l,c.remove(f),p=p||f===e):(l=g.X,f.X=l,c.remove(g),p=p||g===e),Gj(b)):(l=ck(a,l[0],l[1],m),f.X=l,g.Z=l,Pj(c,[Math.min(f.Z.x,f.X.x),Math.min(f.Z.y,f.X.y),Math.max(f.Z.x,f.X.x),Math.max(f.Z.y,f.X.y)],f),Pj(c,[Math.min(g.Z.x,g.X.x),Math.min(g.Z.y,g.X.y),Math.max(g.Z.x,g.X.x),Math.max(g.Z.y,g.X.y)],g)),a.b[h++]=n.Z.kb,a.b[h++]=n.X.kb,a.b[h++]=l.kb,h=!0,p)break}f=Lj(b),g=Ij(b)}while(f!==e);return h}function hk(a,b){var c=Hj(a),d=c;do{if(Zj(d,b).length)return!1;d=Ij(a)}while(d!==c);return!0}function ck(a,b,c,d){var e=a.a.length;return a.a[e++]=b,a.a[e++]=c,{x:b,y:c,kb:d,Eb:void 0}}function dk(a,b,c,d){var e={Z:a,X:b},f={yb:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.yb=g,f.next=h,g.next=f,h&&(h.yb=f),g===c.a&&(c.a=f)}else c.f=f,c.a=f,c.i&&(f.next=f,f.yb=f);return c.b=f,c.c++,d&&d.Ga([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e),e}function ek(a,b,c,d){Mj(c)===b&&(Gj(c),a.X=b.X,d.remove(b),Pj(d,[Math.min(a.Z.x,a.X.x),Math.min(a.Z.y,a.X.y),Math.max(a.Z.x,a.X.x),Math.max(a.Z.y,a.X.y)],a))}function gk(a,b,c,d,e){var f,g,h=[],l=Rj(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);for(d=0,f=l.length;d<f;++d)for(g in l[d]){var m=l[d][g];"object"!=typeof m||e&&!m.Eb||m.x===a.x&&m.y===a.y||m.x===b.x&&m.y===b.y||m.x===c.x&&m.y===c.y||-1!==h.indexOf(m)||!Rf([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,m.x,m.y)||h.push(m)}return h}function Zj(a,b,c){var g,d=a.Z,e=a.X,f=[],h=0;for(g=(b=Rj(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)])).length;h<g;++h){var l=b[h];a!==l&&(c||l.Z!==e||l.X!==d)&&fk(d,e,l.Z,l.X,c)&&f.push(l)}return f}function fk(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Ji&&d<1-Ji&&c>Ji&&c<1-Ji||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}function kk(a,b,c,d,e){if(void 0===b.Eb||void 0===d.Eb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);return e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x),a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x),c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x),b=b.Eb?c||a:c&&a,(d.Eb?e||f:e&&f)&&b}function lk(a,b){this.b=b,this.a=[{x:0,y:0,width:a,height:a}],this.c={},this.f=ld(a,a),this.i=this.f.canvas}function mk(a,b,c,d){b=[b,1],0<c.width&&0<c.height&&b.push(c),0<d.width&&0<d.height&&b.push(d),a.a.splice.apply(a.a,b)}function nk(a){a=a||{},this.a=void 0!==a.initialSize?a.initialSize:256,this.f=void 0!==a.maxSize?a.maxSize:void 0!==ba?ba:2048,this.b=void 0!==a.space?a.space:1,this.g=[new lk(this.a,this.b)],this.c=this.a,this.i=[new lk(this.c,this.b)]}function ok(a,b){var c,d=0;for(c=a.length;d<c;++d){var e=a[d];if(e=e.get(b))return e}return null}function pk(a,b){return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,mm:b.image}}function qk(a,b,c,d,e,f,g){var l,h=b?a.i:a.g,m=0;for(l=h.length;m<l;++m){var n=h[m];if(n=n.add(c,d,e,f,g))return n;n||m!==l-1||(b?(n=Math.min(2*a.c,a.f),a.c=n):(n=Math.min(2*a.a,a.f),a.a=n),n=new lk(n,a.b),h.push(n),++l)}return null}function rk(a,b){aj.call(this,0,b),this.c=[],this.va=[],this.mc=ld(0,0).canvas,this.R={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ua="",this.ga=this.ta=this.oa=this.jb=void 0,this.C={},this.l=void 0,this.opacity=this.scale=1}function sk(a,b){var c=a.l,d=b.length*c.height;return[b.map(function(b){var e,d=0,h=0;for(e=b.length;h<e;++h){var l=b[h];c.width[l]||tk(a,l),d+=c.width[l]?c.width[l]:0}return d}).reduce(function(a,b){return Math.max(a,b)}),d]}function tk(a,b){if(1===b.length){var c=a.l,d=a.R;(a=a.mc.getContext("2d")).font=d.font,a=Math.ceil(a.measureText(b).width*d.scale),c.qh.add(b,a,c.height,function(a,c,g){a.font=d.font,a.fillStyle=d.fillColor,a.strokeStyle=d.strokeColor,a.lineWidth=d.lineWidth,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.miterLimit=d.miterLimit,a.textAlign="left",a.textBaseline="top",Vd&&d.lineDash&&(a.setLineDash(d.lineDash),a.lineDashOffset=d.lineDashOffset),1!==d.scale&&a.setTransform(d.scale,0,0,d.scale,0,0),d.strokeColor&&a.strokeText(b,c,g),d.fillColor&&a.fillText(b,c,g)})&&(c.width[b]=a)}}function vk(a,b,c){this.g=b,this.j=a,this.i=c,this.f={}}function wk(a,b){var d,c=[];for(d in a.f){var f,e=a.f[d];for(f in e)c.push(e[f].xb(b))}return function(){for(var b,a=c.length,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function xk(a,b){for(var c in a.f){var e,d=a.f[c];for(e in d)d[e].ab(b)}}function zk(a,b,c,d,e,f,g,h,l,m,n){var p=Ak,q=Object.keys(a.f).map(Number);q.sort(function(a,b){return b-a});var t,u,x=0;for(t=q.length;x<t;++x){var B=a.f[q[x].toString()];for(u=qi.length-1;0<=u;--u){var z=B[qi[u]];if(void 0!==z&&(z=z.Ma(b,c,d,e,p,f,g,h,l,m,n)))return z}}}function Bk(a,b,c,d,e,f,g,h){var l=c.b;return l.bindFramebuffer(l.FRAMEBUFFER,Wi(c)),void 0!==zk(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a),0<a[3]},!1)}function Ck(a,b,c,d,e,f,g){this.b=a,this.f=b,this.c=f,this.i=g,this.l=e,this.j=d,this.g=c,this.a=this.o=this.v=this.u=null}function Dk(a,b,c,d,e){var f=a.b;(b=b.b(0,"Text")).gb(a.a),b.Qb(c,0,d,e,null,null),b.ab(f),b.Ma(a.b,a.f,a.g,a.j,a.l,a.i,1,{},void 0,!1),b.xb(f)()}function Ek(){this.c=0,this.b={},this.f=this.a=null}function Fk(a,b){Th.call(this,0,b),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.R=this.D=0,this.B=ld(),this.o=!0,this.f=Nd(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Vi(this.b,this.f),y(this.b,"webglcontextlost",this.no,this),y(this.b,"webglcontextrestored",this.oo,this),this.a=new Ek,this.u=null,this.j=new Ne(function(a){var b=a[1];a=a[2];var c=b[0]-this.u[0];return b=b[1]-this.u[1],65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].fb()}),this.C=function(){if(this.j.b.length){Re(this.j);var a=Oe(this.j);Gk(this,a[0],a[3],a[4])}return!1}.bind(this),this.g=0,Hk(this)}function Gk(a,b,c,d){var e=a.f,f=b.fb();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.Hb),9729!=a.Yh&&(e.texParameteri(3553,10240,9729),a.Yh=9729),9729!=a.$h&&(e.texParameteri(3553,10241,9729),a.$h=9729);else{var g=e.createTexture();if(e.bindTexture(3553,g),0<d){var h=a.B.canvas,l=a.B;a.D!==c[0]||a.R!==c[1]?(h.width=c[0],h.height=c[1],a.D=c[0],a.R=c[1]):l.clearRect(0,0,c[0],c[1]),l.drawImage(b.Y(),d,d,c[0],c[1],0,0,c[0],c[1]),e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.Y());e.texParameteri(3553,10240,9729),e.texParameteri(3553,10241,9729),e.texParameteri(3553,10242,33071),e.texParameteri(3553,10243,33071),a.a.set(f,{Hb:g,Yh:9729,$h:9729})}}function Ik(a,b,c){var d=a.l;if(Tc(d,b)){a=a.i;var e=c.viewState;d.b(new Yh(b,new Ck(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}function Hk(a){(a=a.f).activeTexture(33984),a.blendFuncSeparate(770,771,1,771),a.disable(2884),a.disable(2929),a.disable(3089),a.disable(2960)}function H(a){Vc.call(this);var b=Kk(a);this.ed=void 0!==a.loadTilesWhileAnimating&&a.loadTilesWhileAnimating,this.Jd=void 0!==a.loadTilesWhileInteracting&&a.loadTilesWhileInteracting,this.Hf=void 0!==a.pixelRatio?a.pixelRatio:Ud,this.Lf=b.logos,this.ga=function(){this.j=void 0,this.fq.call(this,Date.now())}.bind(this),this.Ib=Ih(),this.Qf=Ih(),this.Zb=0,this.C=this.I=this.S=this.g=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Zd?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.B=document.createElement("DIV"),this.B.className="ol-overlaycontainer",this.a.appendChild(this.B),this.D=document.createElement("DIV"),this.D.className="ol-overlaycontainer-stopevent";for(var c="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),d=0,e=c.length;d<e;++d)y(this.D,c[d],Rc);this.a.appendChild(this.D),this.va=new Je(this,a.moveTolerance);for(var f in fe)y(this.va,fe[f],this.Rh,this);this.oa=b.keyboardEventTarget,this.u=null,y(this.a,"wheel",this.rd,this),y(this.a,"mousewheel",this.rd,this),this.o=b.controls,this.l=b.interactions,this.v=b.overlays,this.zg={},this.jc=new b.hq(this.a,this),this.U=null,this.Za=[],this.Sa=new Se(this.Cl.bind(this),this.jm.bind(this)),this.ta={},y(this,Xc("layergroup"),this.Ql,this),y(this,Xc("view"),this.km,this),y(this,Xc("size"),this.em,this),y(this,Xc("target"),this.im,this),this.H(b.values),this.o.forEach(function(a){a.setMap(this)},this),y(this.o,"add",function(a){a.element.setMap(this)},this),y(this.o,"remove",function(a){a.element.setMap(null)},this),this.l.forEach(function(a){a.setMap(this)},this),y(this.l,"add",function(a){a.element.setMap(this)},this),y(this.l,"remove",function(a){a.element.setMap(null)},this),this.v.forEach(this.ph,this),y(this.v,"add",function(a){this.ph(a.element)},this),y(this.v,"remove",function(a){var b=a.element.g;void 0!==b&&delete this.zg[b.toString()],a.element.setMap(null)},this)}function Kk(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[w(e).toString()]=e:e&&(va("string"==typeof e.href,44),va("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof zh?a.layers:new zh({layers:a.layers}),c.layergroup=e,c.target=a.target,c.view=void 0!==a.view?a.view:new F,e=Th;var f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"==typeof a.renderer?f=[a.renderer]:va(!1,46),0<=f.indexOf("dom")&&(f=f.concat(Jk))):f=Jk;var g,h=0;for(g=f.length;h<g;++h){var l=f[h];if("canvas"==l){if(Wd){e=oi;break}}else if("webgl"==l&&Od){e=Fk;break}}return void 0!==a.controls?Array.isArray(a.controls)?f=new $c(a.controls.slice()):(va(a.controls instanceof $c,47),f=a.controls):f=zd(),void 0!==a.interactions?Array.isArray(a.interactions)?h=new $c(a.interactions.slice()):(va(a.interactions instanceof $c,48),h=a.interactions):h=wh(),void 0!==a.overlays?Array.isArray(a.overlays)?a=new $c(a.overlays.slice()):(va(a.overlays instanceof $c,49),a=a.overlays):a=new $c,{controls:f,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,hq:e,values:c}}function Lk(a){Vc.call(this),this.g=a.id,this.o=void 0===a.insertFirst||a.insertFirst,this.v=void 0===a.stopEvent||a.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==a.autoPan&&a.autoPan,this.j=a.autoPanAnimation||{},this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.a={Ce:"",Te:"",yf:"",Ef:"",visible:!0},this.i=null,y(this,Xc(Mk),this.Ll,this),y(this,Xc(Nk),this.Vl,this),y(this,Xc(Ok),this.Zl,this),y(this,Xc(Pk),this.am,this),y(this,Xc(Qk),this.bm,this),void 0!==a.element&&this.vj(a.element),this.Bj(void 0!==a.offset?a.offset:[0,0]),this.Ej(void 0!==a.positioning?a.positioning:"top-left"),void 0!==a.position&&this.Ye(a.position)}function Sk(a,b){var c=a.getBoundingClientRect();return a=c.left+window.pageXOffset,c=c.top+window.pageYOffset,[a,c,a+b[0],c+b[1]]}function Tk(a,b){a.a.visible!==b&&(a.c.style.display=b?"":"none",a.a.visible=b)}function Rk(a){var b=a.Xe(),c=a.gi();if(b&&b.c&&c){c=b.Ka(c);var d=b.Mb();b=a.c.style;var e=a.Lh(),f=a.Mh();Tk(a,!0);var g=e[0];e=e[1],"bottom-right"==f||"center-right"==f||"top-right"==f?(""!==a.a.Te&&(a.a.Te=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.yf!=g&&(a.a.yf=b.right=g)):(""!==a.a.yf&&(a.a.yf=b.right=""),"bottom-center"!=f&&"center-center"!=f&&"top-center"!=f||(g-=a.c.offsetWidth/2),g=Math.round(c[0]+g)+"px",a.a.Te!=g&&(a.a.Te=b.left=g)),"bottom-left"==f||"bottom-center"==f||"bottom-right"==f?(""!==a.a.Ef&&(a.a.Ef=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.Ce!=c&&(a.a.Ce=b.bottom=c)):(""!==a.a.Ce&&(a.a.Ce=b.bottom=""),"center-left"!=f&&"center-center"!=f&&"center-right"!=f||(e-=a.c.offsetHeight/2),c=Math.round(c[1]+e)+"px",a.a.Ef!=c&&(a.a.Ef=b.top=c))}else Tk(a,!1)}function Uk(a){function b(a){a=h.$f(a),l.a.$().rb(a),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",b)}function c(a){a=h.$f({clientX:a.clientX-n.offsetWidth/2,clientY:a.clientY+n.offsetHeight/2}),m.Ye(a)}a=a||{},this.j=void 0===a.collapsed||a.collapsed,this.l=void 0===a.collapsible||a.collapsible,this.l||(this.j=!1);var d=void 0!==a.className?a.className:"ol-overviewmap",e=void 0!==a.tipLabel?a.tipLabel:"Overview map",f=void 0!==a.collapseLabel?a.collapseLabel:"«";"string"==typeof f?(this.u=document.createElement("span"),this.u.textContent=f):this.u=f,"string"==typeof(f=void 0!==a.label?a.label:"»")?(this.D=document.createElement("span"),this.D.textContent=f):this.D=f;var g=this.l&&!this.j?this.u:this.D;(f=document.createElement("button")).setAttribute("type","button"),f.title=e,f.appendChild(g),y(f,"click",this.qn,this),this.B=document.createElement("DIV"),this.B.className="ol-overviewmap-map";var h=this.c=new H({controls:new $c,interactions:new $c,view:a.view});a.layers&&a.layers.forEach(function(a){h.nh(a)},this),(e=document.createElement("DIV")).className="ol-overviewmap-box",e.style.boxSizing="border-box",this.o=new Lk({position:[0,0],positioning:"bottom-left",element:e}),this.c.oh(this.o),(e=document.createElement("div")).className=d+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),e.appendChild(this.B),e.appendChild(f),od.call(this,{element:e,render:a.render?a.render:Vk,target:a.target});var l=this,m=this.o,n=this.o.Yd();n.addEventListener("mousedown",function(){window.addEventListener("mousemove",c),window.addEventListener("mouseup",b)})}function Vk(){var a=this.a,b=this.c;if(a.c&&b.c){var c=a.Mb();a=a.$().gd(c);var d=b.Mb();c=b.$().gd(d);var e=b.Ka(gb(a)),f=b.Ka(eb(a));b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1],b<.1*f||e<.1*d||b>.75*f||e>.75*d?Wk(this):Ta(c,a)||(a=this.c,c=this.a.$(),a.$().rb(c.xa()))}Xk(this)}function Wk(a){var b=a.a;a=a.c;var c=b.Mb();b=b.$().gd(c),a=a.$(),pb(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),a.Xf(b)}function Xk(a){var b=a.a,c=a.c;if(b.c&&c.c){var d=b.Mb(),e=b.$(),f=c.$();c=e.Qa(),b=a.o;var g=a.o.Yd(),h=e.gd(d);if(d=f.Pa(),e=db(h),f=fb(h),a=a.a.$().xa()){var l=[e[0]-a[0],e[1]-a[1]];hf(l,c),bf(l,a)}b.Ye(l),g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}function Yk(a){a.element.classList.toggle("ol-collapsed"),a.j?md(a.u,a.D):md(a.D,a.u),a.j=!a.j;var b=a.c;a.j||b.c||(b.Fd(),Wk(a),Lc(b,"postrender",function(){Xk(this)},a))}function Zk(a){var b=void 0!==(a=a||{}).className?a.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=b+"-inner",this.c=document.createElement("DIV"),this.c.className=b+" ol-unselectable",this.c.appendChild(this.l),this.u=null,this.o=void 0!==a.minWidth?a.minWidth:64,this.j=!1,this.C=void 0,this.D="",od.call(this,{element:this.c,render:a.render?a.render:$k,target:a.target}),y(this,Xc(al),this.U,this),this.I(a.units||"metric")}function $k(a){(a=a.frameState)?this.u=a.viewState:this.u=null,cl(this)}function cl(a){var b=a.u;if(b){var c=b.center,d=b.projection,e=a.B();b=Ub(d,b.resolution,c,"degrees"==e?"degrees":"m");var f=a.o*b;for(c="","degrees"==e?(c=Bb.degrees,"degrees"==d.b?f*=c:b/=c,f<c/60?(c="″",b*=3600):f<c?(c="′",b*=60):c="°"):"imperial"==e?.9144>f?(c="in",b/=.0254):1609.344>f?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?.001>f?(c="μm",b*=1e6):1>f?(c="mm",b*=1e3):1e3>f?c="m":(c="km",b/=1e3):"us"==e?.9144>f?(c="in",b*=39.37):1609.344>f?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):va(!1,33),e=3*Math.floor(Math.log(a.o*b)/Math.log(10));;){if(f=bl[(e%3+3)%3]*Math.pow(10,Math.floor(e/3)),d=Math.round(f/b),isNaN(d))return a.c.style.display="none",void(a.j=!1);if(d>=a.o)break;++e}b=f+" "+c,a.D!=b&&(a.l.innerHTML=b,a.D=b),a.C!=d&&(a.l.style.width=d+"px",a.C=d),a.j||(a.c.style.display="",a.j=!0)}else a.j&&(a.c.style.display="none",a.j=!1)}function dl(a){a=a||{},this.c=void 0,this.j=el,this.D=this.o=0,this.I=null,this.ta=!1,this.U=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button"),c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control",d.appendChild(c),this.l=new Ee(d),y(this.l,"pointerdown",this.Kl,this),y(this.l,"pointermove",this.Il,this),y(this.l,"pointerup",this.Jl,this),y(d,"click",this.Hl,this),y(c,"click",Rc),od.call(this,{element:d,render:a.render?a.render:fl})}function fl(a){if(a.frameState){if(!this.ta){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e);b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom),this.I=[b,e],c>d?(this.j=1,this.D=c-b):(this.j=el,this.o=d-e),this.ta=!0}(a=a.frameState.viewState.resolution)!==this.c&&(this.c=a,gl(this,a))}}function gl(a,b){b=1-ng(a.a.$())(b);var c=a.element.firstElementChild;1==a.j?c.style.left=a.D*b+"px":c.style.top=a.o*b+"px"}function hl(a,b){return mg(a.a.$())(1-b)}function il(a){a=a||{},this.c=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button"),e.title=d,e.appendChild("string"==typeof c?document.createTextNode(c):c),y(e,"click",this.j,this),(c=document.createElement("div")).className=b+" ol-unselectable ol-control",c.appendChild(e),od.call(this,{element:c,target:a.target})}function jl(a){Vc.call(this),a=a||{},this.a=null,y(this,Xc(kl),this.Jm,this),this.og(void 0!==a.tracking&&a.tracking)}function ql(a){this.i=a.opacity,this.o=a.rotateWithView,this.g=a.rotation,this.a=a.scale,this.v=a.snapToPixel}function rl(a){this.D=this.u=this.c=null,this.Wa=void 0!==a.fill?a.fill:null,this.pa=[0,0],this.l=a.points,this.b=void 0!==a.radius?a.radius:a.radius1,this.f=a.radius2,this.j=void 0!==a.angle?a.angle:0,this.Ua=void 0!==a.stroke?a.stroke:null,this.C=this.qa=this.B=null,this.R=a.atlasManager,sl(this,this.R),ql.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel})}function sl(a,b){var c="",d="",e=0,f=null,g=0,h=0;if(a.Ua){var l=a.Ua.b;null===l&&(l=ai),l=kd(l),void 0===(h=a.Ua.c)&&(h=1),f=a.Ua.f,g=a.Ua.i,Vd||(f=null,g=0),void 0===(d=a.Ua.j)&&(d="round"),void 0===(c=a.Ua.g)&&(c="round"),void 0===(e=a.Ua.l)&&(e=10)}var m=2*(a.b+h)+1;if(c={strokeStyle:l,Jj:h,size:m,lineCap:c,lineDash:f,lineDashOffset:g,lineJoin:d,miterLimit:e},void 0===b){var n=ld(m,m);a.u=n.canvas,b=m=a.u.width,a.yh(c,n,0,0),a.Wa?a.D=a.u:(n=ld(c.size,c.size),a.D=n.canvas,a.xh(c,n,0,0))}else m=Math.round(m),(d=!a.Wa)&&(n=a.xh.bind(a,c)),a.Ua?(void 0===(e=a.Ua).a&&(e.a="s",e.a=e.b?"string"==typeof e.b?e.a+e.b:e.a+w(e.b).toString():e.a+"-",e.a+=","+(void 0!==e.g?e.g.toString():"-")+","+(e.f?e.f.toString():"-")+","+(void 0!==e.i?e.i:"-")+","+(void 0!==e.j?e.j:"-")+","+(void 0!==e.l?e.l.toString():"-")+","+(void 0!==e.c?e.c.toString():"-")),e=e.a):e="-",a.Wa?(void 0===(f=a.Wa).a&&(f.a=f.b instanceof CanvasPattern||f.b instanceof CanvasGradient?w(f.b).toString():"f"+(f.b?id(f.b):"-")),f=f.a):f="-",a.c&&e==a.c[1]&&f==a.c[2]&&a.b==a.c[3]&&a.f==a.c[4]&&a.j==a.c[5]&&a.l==a.c[6]||(a.c=["r"+e+f+(void 0!==a.b?a.b.toString():"-")+(void 0!==a.f?a.f.toString():"-")+(void 0!==a.j?a.j.toString():"-")+(void 0!==a.l?a.l.toString():"-"),e,f,a.b,a.f,a.j,a.l]),n=b.add(a.c[0],m,m,a.yh.bind(a,c),n),a.u=n.image,a.pa=[n.offsetX,n.offsetY],b=n.image.width,a.D=d?n.mm:a.u;a.B=[m/2,m/2],a.qa=[m,m],a.C=[b,b]}function tl(a){a=a||{},rl.call(this,{points:1/0,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}function ul(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.a=void 0}function vl(a){a=a||{},this.Ic=null,this.$a=wl,void 0!==a.geometry&&this.Ra(a.geometry),this.Wa=void 0!==a.fill?a.fill:null,this.M=void 0!==a.image?a.image:null,this.jc=a.renderer?a.renderer:null,this.Ua=void 0!==a.stroke?a.stroke:null,this.ua=void 0!==a.text?a.text:null,this.Pj=a.zIndex}function xl(a){if("function"!=typeof a){if(Array.isArray(a))var b=a;else va(a instanceof vl,41),b=[a];a=function(){return b}}return a}function zl(){if(!yl){var a=new ul({color:"rgba(255,255,255,0.4)"}),b=new Ej({color:"#3399CC",width:1.25});yl=[new vl({image:new tl({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return yl}function Al(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a.Polygon=[new vl({fill:new ul({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new vl({stroke:new Ej({color:b,width:5})}),new vl({stroke:new Ej({color:c,width:3})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new vl({image:new tl({radius:6,fill:new ul({color:c}),stroke:new Ej({color:b,width:1.5})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function wl(a){return a.W()}function Bl(a){Vc.call(this),this.a=void 0,this.c="geometry",this.g=null,this.j=void 0,this.i=null,y(this,Xc(this.c),this.Pe,this),void 0!==a&&(a instanceof rf||!a?this.Ra(a):this.H(a))}function Cl(a){var b;if("function"==typeof a)b=2==a.length?function(b){return a(this,b)}:a;else{if(Array.isArray(a))var c=a;else va(a instanceof vl,41),c=[a];b=function(){return c}}return b}function El(a,b){return Dl.createElementNS(a,b)}function Fl(a,b){return Gl(a,b,[]).join("")}function Gl(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)Gl(a,b,c);return c}function Hl(a){return a instanceof Document}function Il(a){return a instanceof Node}function Jl(a){return(new DOMParser).parseFromString(a,"application/xml")}function Kl(a,b){return function(c,d){void 0!==(c=a.call(b,c,d))&&ka(d[d.length-1],c)}}function Ll(a,b){return function(c,d){void 0!==(c=a.call(void 0!==b?b:this,c,d))&&d[d.length-1].push(c)}}function Nl(a,b){return function(c,d){void 0!==(c=a.call(void 0!==b?b:this,c,d))&&(d[d.length-1]=c)}}function Ol(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){c=c[c.length-1];((b=b.localName)in c?c[b]:c[b]=[]).push(d)}}}function I(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function J(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}}function Pl(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a,b[d.namespaceURI]=g,c=Ql(d.localName)}Rl(b,c,e,f)}}function Ql(a,b){return function(c,d,e){return c=d[d.length-1].node,void 0===(d=a)&&(d=e),e=b,void 0===b&&(e=c.namespaceURI),El(e,d)}}function Tl(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function K(a,b,c){c=void 0!==c?c:{};var d,e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c}function Ul(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function L(a,b,c,d,e){return d.push(a),Ul(b,c,d,e),d.pop()}function Rl(a,b,c,d,e,f){for(var h,l,g=(void 0!==e?e:c).length,m=0;m<g;++m)void 0!==(h=c[m])&&void 0!==(l=b.call(f,h,d,void 0!==e?e[m]:void 0))&&a[l.namespaceURI][l.localName].call(f,l,h,d)}function Vl(a,b,c,d,e,f,g){e.push(a),Rl(b,c,d,e,f,g),e.pop()}function Wl(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"==typeof a?a(e,f,g):a,!0),"arraybuffer"==b.T()&&(h.responseType="arraybuffer"),h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.T();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=Jl(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.Oa(e,{featureProjection:g}),b.ob(e),b.eg()):d.call(this)}else d.call(this)}.bind(this),h.onerror=function(){d.call(this)}.bind(this),h.send()}}function Xl(a,b){return Wl(a,b,function(a){this.Ec(a)},ra)}function Yl(){this.i=this.defaultDataProjection=null}function Zl(a,b,c){var d;return c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.ob(b),featureProjection:c.featureProjection}),$l(a,d)}function $l(a,b){return rb({dataProjection:a.defaultDataProjection,featureProjection:a.i},b)}function am(a,b,c){var f,d=c?Wb(c.featureProjection):null,e=c?Wb(c.dataProjection):null;if(f=d&&e&&!ec(d,e)?a instanceof rf?(b?a.clone():a).mb(b?d:e,b?e:d):ic(a,e,d):a,b&&c&&void 0!==c.decimals){var g=Math.pow(10,c.decimals);f===a&&(f=f.clone()),f.Fc(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a})}return f}function bm(){Yl.call(this)}function cm(a){return"string"==typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}function dm(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(1===l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(l){h=a[b],l=a[b+1];var m=0;g=[0];var n;for(n=b+d;n<c;n+=d){var p=a[n],q=a[n+1];m+=Math.sqrt((p-h)*(p-h)+(q-l)*(q-l)),g.push(m),h=p,l=q}for(c=e*m,l=0,m=g.length,n=!1;l<m;)e=l+(m-l>>1),0>(h=+fa(g[e],c))?l=e+1:(m=e,n=!h);0>(e=n?l:~l)?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=Ha(a[b],a[b+d],c),h=Ha(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=g,f[1]=h,f):[g,h]}function em(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);for(b/=d,c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;if(c=a[b*d-1],e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c),c=[];var g;for(g=0;g<d-1;++g)c.push(Ha(a[(b-1)*d+g],a[b*d+g],f));return c.push(e),c}function fm(a,b,c,d,e,f){var g=0;if(f)return em(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;for(e=0,f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;if(d<=a[h-1])return em(a,g,h,c,d,!1);g=h}}return null}function M(a,b){uf.call(this),this.c=null,this.u=this.D=this.j=-1,this.na(a,b)}function ki(a){return a.j!=a.f&&(a.c=a.Eh(.5,a.c),a.j=a.f),a.c}function N(a,b){uf.call(this),this.c=[],this.j=this.u=-1,this.na(a,b)}function li(a){var b=[],c=a.A,d=0,e=a.c;a=a.a;var f,g=0;for(f=e.length;g<f;++g){var h=e[g];ka(b,d=dm(c,d,h,a,.5)),d=h}return b}function gm(a,b){var f,c=a.ja,d=[],e=[],g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja),ka(d,h.ba()),e.push(d.length)}a.aa(c,d,e)}function O(a,b){uf.call(this),this.na(a,b)}function P(a,b){uf.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.B=this.C=-1,this.j=null,this.na(a,b)}function ni(a){if(a.u!=a.f){var g,b=a.A,c=a.c,d=a.a,e=0,f=[],h=0;for(g=c.length;h<g;++h){var l=c[h];e=Za(b,e,l[0],d),f.push((e[0]+e[2])/2,(e[1]+e[3])/2),e=l[l.length-1]}for(b=mi(a),c=a.c,d=a.a,h=0,g=[],l=0,e=c.length;l<e;++l){var m=c[l];g=Tf(b,h,m,d,f,2*l,g),h=m[m.length-1]}a.D=g,a.u=a.f}return a.D}function mi(a){if(a.I!=a.f){var b=a.A;a:{var d,c=a.c,e=0;for(d=c.length;e<d;++e)if(!Yf(b,c[e],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=$f(a.j,a.c,a.a)),a.I=a.f}return a.j}function hm(a,b,c,d){wf(a,b,c),a.c=d,a.s()}function im(a,b){var f,c=a.ja,d=[],e=[],g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja);var n,l=d.length,m=h.sb(),p=0;for(n=m.length;p<n;++p)m[p]+=l;ka(d,h.ba()),e.push(m)}hm(a,c,d,e)}function jm(a){a=a||{},Yl.call(this),this.b=a.geometryName}function km(a,b){if(!a)return null;if("number"==typeof a.x&&"number"==typeof a.y)var c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=lm(a),f=[],g=[];c=[];var h,l=0;for(h=d.length;l<h;++l)f.length=0,Gf(f,0,d[l],e.length),Xf(f,0,f.length,e.length)?g.push([d[l]]):c.push(d[l]);for(;c.length;){for(d=c.shift(),e=!1,l=g.length-1;0<=l;l--)if(Ta(new Of(g[l][0]).G(),new Of(d).G())){g[l].push(d),e=!0;break}e||g.push([d.reverse()])}a=rb({},a),1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return am((0,mm[c])(a),!1,b)}function lm(a){var b="XY";return!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM"),b}function nm(a){return a=a.ja,{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}function pm(a,b){return(0,om[a.T()])(am(a,!0,b),b)}function qm(a){this.lc=a}function rm(a,b){this.lc=a,this.b=Array.prototype.slice.call(arguments,1),va(2<=this.b.length,57)}function sm(a){var b=["And"].concat(Array.prototype.slice.call(arguments));rm.apply(this,b)}function tm(a,b,c){this.lc="BBOX",this.geometryName=a,this.extent=b,this.srsName=c}function um(a,b){this.lc=a,this.b=b}function vm(a,b,c){um.call(this,"During",a),this.a=b,this.f=c}function wm(a,b,c,d){um.call(this,a,b),this.f=c,this.a=d}function xm(a,b,c){wm.call(this,"PropertyIsEqualTo",a,b,c)}function ym(a,b){wm.call(this,"PropertyIsGreaterThan",a,b)}function zm(a,b){wm.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}function Am(a,b,c,d){this.lc=a,this.geometryName=b||"the_geom",this.geometry=c,this.srsName=d}function Bm(a,b,c){Am.call(this,"Intersects",a,b,c)}function Cm(a,b,c){um.call(this,"PropertyIsBetween",a),this.a=b,this.f=c}function Dm(a,b,c,d,e,f){um.call(this,"PropertyIsLike",a),this.c=b,this.g=void 0!==c?c:"*",this.i=void 0!==d?d:".",this.f=void 0!==e?e:"!",this.a=f}function Em(a){um.call(this,"PropertyIsNull",a)}function Fm(a,b){wm.call(this,"PropertyIsLessThan",a,b)}function Gm(a,b){wm.call(this,"PropertyIsLessThanOrEqualTo",a,b)}function Hm(a){this.lc="Not",this.condition=a}function Im(a,b,c){wm.call(this,"PropertyIsNotEqualTo",a,b,c)}function Jm(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));rm.apply(this,b)}function Km(a,b,c){Am.call(this,"Within",a,b,c)}function Lm(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(sm,b))}function Mm(a,b,c){return new tm(a,b,c)}function Nm(a){rf.call(this),this.a=a||null,Om(this)}function Pm(a){var c,b=[],d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b}function Qm(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)Mc(a.a[c],"change",a.s,a)}}function Om(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)y(a.a[c],"change",a.s,a)}}function Rm(a){a=a||{},Yl.call(this),this.defaultDataProjection=Wb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326"),a.featureProjection&&(this.i=Wb(a.featureProjection)),this.b=a.geometryName}function Sm(a,b){return a?am((0,Tm[a.type])(a),!1,b):null}function Um(a,b){return(0,Vm[a.T()])(am(a,!0,b),b)}function Wm(){this.f=new XMLSerializer,Yl.call(this)}function Xm(a,b,c){return 0<(a=Ym(a,b,c)).length?a[0]:null}function Ym(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&ka(d,a.Ac(b,c));return d}function Zm(a){a=a||{},this.featureType=a.featureType,this.featureNS=a.featureNS,this.srsName=a.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Nl(Zm.prototype.ie),featureMembers:Nl(Zm.prototype.ie)},Wm.call(this)}function an(a){return a=Fl(a,!1),bn(a)}function bn(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function cn(a){return a=Fl(a,!1),a=Date.parse(a),isNaN(a)?void 0:a/1e3}function dn(a){return a=Fl(a,!1),en(a)}function en(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function fn(a){return a=Fl(a,!1),gn(a)}function gn(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function Q(a){return Fl(a,!1).trim()}function hn(a,b){jn(a,b?"1":"0")}function kn(a,b){a.appendChild(Dl.createTextNode(b.toPrecision()))}function ln(a,b){a.appendChild(Dl.createTextNode(b.toString()))}function jn(a,b){a.appendChild(Dl.createTextNode(b))}function mn(a){a=a||{},Zm.call(this,a),this.o=void 0!==a.surface&&a.surface,this.c=void 0!==a.curve&&a.curve,this.g=void 0===a.multiCurve||a.multiCurve,this.j=void 0===a.multiSurface||a.multiSurface,this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==a.hasZ&&a.hasZ}function nn(a,b,c){var d=c[c.length-1];c=d.hasZ,d=d.srsName;for(var g,e=(b=b.V()).length,f=Array(e),h=0;h<e;++h){g=b[h];var l=h,m=c,n="enu";d&&(n=Wb(d).a),n="en"===n.substr(0,2)?g[0]+" "+g[1]:g[1]+" "+g[0],m&&(n+=" "+(g[2]||0)),f[l]=n}jn(a,f.join(" "))}function vn(a){a=a||{},Zm.call(this,a),this.b["http://www.opengis.net/gml"].featureMember=Ll(Zm.prototype.ie),this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function xn(a){return(a=El(a,"coordinates")).setAttribute("decimal","."),a.setAttribute("cs",","),a.setAttribute("ts"," "),a}function yn(a,b,c){var d=c[c.length-1];c=d.hasZ,d=d.srsName;for(var g,e=(b=b.V()).length,f=Array(e),h=0;h<e;++h)g=b[h],f[h]=zn(g,d,c);jn(a,f.join(" "))}function zn(a,b,c){var d="enu";return b&&(d=Wb(b).a),b="en"===d.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0],c&&(b+=","+(a[2]||0)),b}function Gn(a){a=a||{},Wm.call(this),this.defaultDataProjection=Wb("EPSG:4326"),this.b=a.readExtensions}function In(a,b,c,d){return a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat"))),"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0),"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0),a}function Jn(a,b,c){var d="XY",e=2;if(a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3),4!==e){var f,g=0;for(f=b.length/4;g<f;g++)b[g*e]=b[4*g],b[g*e+1]=b[4*g+1],a.hasZ&&(b[g*e+2]=b[4*g+2]),a.hasM&&(b[g*e+2]=b[4*g+3]);if(b.length=b.length/4*e,c)for(g=0,f=c.length;g<f;g++)c[g]=c[g]/4*e}return d}function Kn(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),Ul(Ln,a,b)}function Mn(a,b){b[b.length-1].extensionsNode_=a}function Nn(a,b){var c=b[0];if(a=L({flatCoordinates:[],layoutOptions:{}},On,a,b)){b=a.flatCoordinates,delete a.flatCoordinates;var d=a.layoutOptions;delete a.layoutOptions,d=Jn(d,b);var e=new M(null);return e.aa(d,b),am(e,!1,c),(c=new Bl(e)).H(a),c}}function Pn(a,b){var c=b[0];if(a=L({flatCoordinates:[],ends:[],layoutOptions:{}},Qn,a,b)){b=a.flatCoordinates,delete a.flatCoordinates;var d=a.ends;delete a.ends;var e=a.layoutOptions;delete a.layoutOptions,e=Jn(e,b,d);var f=new N(null);return f.aa(e,b,d),am(f,!1,c),(c=new Bl(f)).H(a),c}}function Rn(a,b){var c=b[0];if(b=L({},Sn,a,b)){var d={};return a=In([],d,a,b),d=Jn(d,a),a=new C(a,d),am(a,!1,c),(c=new Bl(a)).H(b),c}}function Yn(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}function Zn(a,b,c){a.setAttribute("href",b),b=c[c.length-1].properties,Vl({node:a},$n,Sl,[b.linkText,b.linkType],c,ao)}function bo(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;switch(a.setAttributeNS(null,"lat",b[1]),a.setAttributeNS(null,"lon",b[0]),d.geometryLayout){case"XYZM":b[3]&&(f.time=b[3]);case"XYZ":b[2]&&(f.ele=b[2]);break;case"XYM":b[2]&&(f.time=b[2])}d=Tl(f,b="rtept"==a.nodeName?co[e]:eo[e]),Vl({node:a,properties:f},fo,Sl,d,c,b)}function no(a,b){if((a=a.W())&&(a=mo[a.T()]))return El(b[b.length-1].node.namespaceURI,a)}function po(){Yl.call(this)}function qo(a){return"string"==typeof a?a:""}function ro(a){a=a||{},Yl.call(this),this.defaultDataProjection=Wb("EPSG:4326"),this.b=a.altitudeMode?a.altitudeMode:"none"}function wo(a,b,c,d,e,f){Sc.call(this),this.j=null,this.M=a||new Image,null!==d&&(this.M.crossOrigin=d),this.c=f?document.createElement("CANVAS"):null,this.g=f,this.i=null,this.f=e,this.a=c,this.l=b,this.o=!1,2==this.f&&xo(this)}function xo(a){var b=ld(1,1);try{b.drawImage(a.M,0,0),b.getImageData(0,0,1,1)}catch(c){a.o=!0}}function yo(a){a=a||{},this.l=void 0!==a.anchor?a.anchor:[.5,.5],this.u=null,this.f=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left",this.B=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction",this.C=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction",this.qa=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;va(!(void 0!==d&&b),4),va(!b||b&&c,5),void 0!==d&&d.length||!b||(d=b.src||w(b).toString()),va(void 0!==d&&0<d.length,6);var e=void 0!==a.src?0:2;this.j=void 0!==a.color?gd(a.color):null;var f=this.qa,g=this.j,h=Gh.get(d,f,g);h||(h=new wo(b,d,c,f,e,g),Gh.set(d,f,g,h)),this.b=h,this.pa=void 0!==a.offset?a.offset:[0,0],this.c=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left",this.R=null,this.D=void 0!==a.size?a.size:null,ql.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView})}function zo(a){a=a||{},this.a=a.font,this.i=a.rotation,this.l=a.rotateWithView,this.b=a.scale,this.ua=a.text,this.g=a.textAlign,this.j=a.textBaseline,this.Wa=void 0!==a.fill?a.fill:new ul({color:"#333"}),this.Ua=void 0!==a.stroke?a.stroke:null,this.f=void 0!==a.offsetX?a.offsetX:0,this.c=void 0!==a.offsetY?a.offsetY:0}function Ao(a){a=a||{},Wm.call(this),Bo||(Co=[255,255,255,1],Do=new ul({color:Co}),Eo=[20,2],Fo=Go="pixels",Ho=[64,64],Io="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Jo=.5,Ko=new yo({anchor:Eo,anchorOrigin:"bottom-left",anchorXUnits:Go,anchorYUnits:Fo,crossOrigin:"anonymous",rotation:0,scale:Jo,size:Ho,src:Io}),Lo="NO_IMAGE",Mo=new Ej({color:Co,width:1}),No=new Ej({color:[51,51,51,1],width:2}),Oo=new zo({font:"bold 16px Helvetica",fill:Do,stroke:No,scale:.8}),Po=new vl({fill:Do,image:Ko,text:Oo,stroke:Mo,zIndex:0}),Bo=[Po]),this.defaultDataProjection=Wb("EPSG:4326"),this.a=a.defaultStyle?a.defaultStyle:Bo,this.c=void 0===a.extractStyles||a.extractStyles,this.j=void 0===a.writeStyles||a.writeStyles,this.b={},this.g=void 0===a.showPointNames||a.showPointNames}function To(a,b){var c=[0,0],d="start";if(a.Y()){var e=a.Y().Ie();null===e&&(e=Ho),2==e.length&&(d=a.Y().a,c[0]=d*e[0]/2,c[1]=-d*e[1]/2,d="left")}return null!==a.Ja()?(e=a.Ja(),(a=e.clone()).xj(e.a||Oo.a),a.bj(e.b||Oo.b),a.zf(e.Da()||Oo.Da()),a.Af(e.Ea()||No)):a=Oo.clone(),a.Dd(b),a.Cj(c[0]),a.Dj(c[1]),a.Fj(d),new vl({text:a})}function Uo(a,b,c,d,e){return function(){var f=e,g="";if(f&&this.W()&&(f="Point"===this.W().T()),f&&(g=this.get("name"),f=f&&g),a)return f?(f=To(a[0],g),a.concat(f)):a;if(b){var h=Vo(b,c,d);return f?(f=To(h[0],g),h.concat(f)):h}return f?(f=To(c[0],g),c.concat(f)):c}}function Vo(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Vo(c[a],b,c)):b}function Wo(a){if(a=Fl(a,!1),a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function Xo(a){a=Fl(a,!1);for(var d,b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);if(""===a)return b}function Yo(a){var b=Fl(a,!1).trim();return a.baseURI&&"about:blank"!==a.baseURI?new URL(b,a.baseURI).href:b}function Zo(a){return dn(a)}function $o(a,b){return L(null,ap,a,b)}function bp(a,b){if(b=L({A:[],Oj:[]},cp,a,b)){a=b.A,b=b.Oj;var c,d=0;for(c=Math.min(a.length,b.length);d<c;++d)a[4*d+3]=b[d];return(b=new M(null)).aa("XYZM",a),b}}function dp(a,b){var c=L({},ep,a,b);if(a=L(null,fp,a,b))return(b=new M(null)).aa("XYZ",a),b.H(c),b}function gp(a,b){var c=L({},ep,a,b);if(a=L(null,fp,a,b))return(b=new D(null)).aa("XYZ",a,[a.length]),b.H(c),b}function hp(a,b){if(!(a=L([],ip,a,b)))return null;if(!a.length)return new Nm(a);var e,c=!0,d=a[0].T(),f=1;for(e=a.length;f<e;++f)if((b=a[f]).T()!=d){c=!1;break}if(c)if("Point"==d){var g=a[0];for(c=g.ja,d=g.ba(),f=1,e=a.length;f<e;++f)b=a[f],ka(d,b.ba());(g=new O(null)).aa(c,d),jp(g,a)}else"LineString"==d?(g=new N(null),gm(g,a),jp(g,a)):"Polygon"==d?(g=new P(null),im(g,a),jp(g,a)):"GeometryCollection"==d?g=new Nm(a):va(!1,37);else g=new Nm(a);return g}function kp(a,b){var c=L({},ep,a,b);if(a=L(null,fp,a,b))return(b=new C(null)).aa("XYZ",a),b.H(c),b}function lp(a,b){var c=L({},ep,a,b);if((a=L([null],mp,a,b))&&a[0]){b=new D(null);var f,d=a[0],e=[d.length],g=1;for(f=a.length;g<f;++g)ka(d,a[g]),e.push(d.length);return b.aa("XYZ",d,e),b.H(c),b}}function np(a,b){if(!(b=L({},op,a,b)))return null;a="fillStyle"in b?b.fillStyle:Do;var c=b.fill;void 0===c||c||(a=null),(c="imageStyle"in b?b.imageStyle:Ko)==Lo&&(c=void 0);var d="textStyle"in b?b.textStyle:Oo,e="strokeStyle"in b?b.strokeStyle:Mo;return void 0===(b=b.outline)||b||(e=null),[new vl({fill:a,image:c,stroke:e,text:d,zIndex:void 0})]}function jp(a,b){var g,h,l,c=b.length,d=Array(b.length),e=Array(b.length),f=Array(b.length),m=h=l=!1;for(g=0;g<c;++g){var n=b[g];d[g]=n.get("extrude"),e[g]=n.get("tessellate"),f[g]=n.get("altitudeMode"),m=m||void 0!==d[g],h=h||void 0!==e[g],l=l||f[g]}m&&a.set("extrude",d),h&&a.set("tessellate",e),l&&a.set("altitudeMode",f)}function pp(a,b){Ul(qp,a,b)}function rp(a,b){Ul(sp,a,b)}function Kp(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=Lp(a,b);if(c)return c}}function Lp(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ha(Ro,c.namespaceURI)&&"name"==c.localName)return Q(c);for(c=b.firstElementChild;c;c=c.nextElementSibling)if(b=c.localName,ha(Ro,c.namespaceURI)&&("Document"==b||"Folder"==b||"Placemark"==b||"kml"==b)&&(b=Lp(a,c)))return b}function Mp(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&ka(c,Np(a,b));return c}function Np(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ha(Ro,c.namespaceURI)&&"NetworkLink"==c.localName){var e=L({},Fp,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)b=c.localName,!ha(Ro,c.namespaceURI)||"Document"!=b&&"Folder"!=b&&"kml"!=b||ka(d,Np(a,c));return d}function Op(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&ka(c,a.wf(b));return c}function Pp(a,b){b=[255*(4==(b=gd(b)).length?b[3]:1),b[2],b[1],b[0]];var c;for(c=0;4>c;++c){var d=parseInt(b[c],10).toString(16);b[c]=1==d.length?"0"+d:d}jn(a,b.join(""))}function Qp(a,b,c){a={node:a};var d=b.T();if("GeometryCollection"==d)var e=b.kd(),f=Rp;else"MultiPoint"==d?(e=b.ee(),f=Sp):"MultiLineString"==d?(e=b.ld(),f=Tp):"MultiPolygon"==d?(e=b.$d(),f=Up):va(!1,39);Vl(a,Vp,f,e,c)}function Wp(a,b,c){Vl({node:a},Xp,Yp,[b],c)}function Zp(a,b,c){var d={node:a};b.a&&a.setAttribute("id",b.a),a=b.N();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.c]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=Tl(a,f);Vl(d,$p,aq,[{names:f,values:g}],c)}(f=b.bb())&&(f=f.call(b,0))&&(f=Array.isArray(f)?f[0]:f,this.j&&(a.Style=f),(f=f.Ja())&&(a.name=f.Ja())),a=Tl(a,f=bq[c[c.length-1].node.namespaceURI]),Vl(d,$p,Sl,a,c,f),a=c[0],(b=b.W())&&(b=am(b,!0,a)),Vl(d,$p,Rp,[b],c)}function cq(a,b,c){var d=b.ba();(a={node:a}).layout=b.ja,a.stride=b.ma(),(b=b.N()).coordinates=d,b=Tl(b,d=dq[c[c.length-1].node.namespaceURI]),Vl(a,eq,Sl,b,c,d)}function fq(a,b,c){var d=(b=b.Zd()).shift();Vl(a={node:a},gq,hq,b,c),Vl(a,gq,iq,[d],c)}function jq(a,b){kn(a,Math.round(1e6*b)/1e6)}function tq(a,b,c){return El(Qo[0],"gx:"+c)}function mq(a,b){return El(b[b.length-1].node.namespaceURI,"Placemark")}function Rp(a,b){if(a)return El(b[b.length-1].node.namespaceURI,pq[a.T()])}function Eq(a,b,c,d,e){this.g=e,this.f=a,this.b=b,this.i=c,this.c=d}function Fq(a){Yl.call(this),a=a||{},this.defaultDataProjection=new Db({code:"",units:"tile-pixels"}),this.b=a.featureClass?a.featureClass:Eq,this.f=a.geometryName,this.c=a.layerName?a.layerName:"layer",this.g=a.layers?a.layers:null,this.a=null}function Gq(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var h,g=a[e],l=0;for(h=g.length;l<h;++l){var m=g[l];b.push(m.x,m.y)}d+=2*l,c.push(d)}}function Hq(){Wm.call(this),this.defaultDataProjection=Wb("EPSG:4326")}function Iq(a,b){b[b.length-1].oe[a.getAttribute("k")]=a.getAttribute("v")}function Nq(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Oq(){}function Pq(){}function fr(a,b,c,d){var e;e=void 0!==d?d:[];for(var f=d=0;f<b;){var g=a[f++];for(e[d++]=a[f++],e[d++]=g,g=2;g<c;++g)e[d++]=a[f++]}e.length=d}function gr(a){a=a||{},Yl.call(this),this.defaultDataProjection=Wb("EPSG:4326"),this.b=a.factor?a.factor:1e5,this.a=a.geometryLayout?a.geometryLayout:"XY"}function hr(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f,g=0;for(f=a.length;g<f;)for(d=0;d<b;++d,++g){var h=a[g],l=h-e[d];e[d]=h,a[g]=l}return ir(a,c||1e5)}function jr(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=kr(a,c||1e5);var f;for(c=0,f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}function ir(a,b){b=b||1e5;var c,d=0;for(c=a.length;d<c;++d)a[d]=Math.round(a[d]*b);for(b=0,d=a.length;b<d;++b)c=a[b],a[b]=0>c?~(c<<1):c<<1;for(b="",d=0,c=a.length;d<c;++d){for(var e,f=a[d],g="";32<=f;)e=63+(32|31&f),g+=String.fromCharCode(e),f>>=5;b+=g+=String.fromCharCode(f+63)}return b}function kr(a,b){b=b||1e5;var f,c=[],d=0,e=0,g=0;for(f=a.length;g<f;++g){var h=a.charCodeAt(g)-63;d|=(31&h)<<e,32>h?(c.push(d),e=d=0):e+=5}for(a=0,d=c.length;a<d;++a)e=c[a],c[a]=1&e?~(e>>1):e>>1;for(a=0,d=c.length;a<d;++a)c[a]/=b;return c}function lr(a){a=a||{},Yl.call(this),this.a=a.layerName,this.b=a.layers?a.layers:null,this.defaultDataProjection=Wb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}function mr(a,b){var d,e,c=[],f=0;for(e=a.length;f<e;++f){var g=a[f];0<f&&c.pop(),d=0<=g?b[g]:b[~g].slice().reverse(),c.push.apply(c,d)}for(a=0,b=c.length;a<b;++a)c[a]=c[a].slice();return c}function nr(a,b,c,d,e,f,g){var l,h=[],m=0;for(l=(a=a.geometries).length;m<l;++m)h[m]=or(a[m],b,c,d,e,f,g);return h}function or(a,b,c,d,e,f,g){var h=a.type,l=pr[h];return c="Point"===h||"MultiPoint"===h?l(a,c,d):l(a,b),(b=new Bl).Ra(am(c,!1,g)),void 0!==a.id&&b.kc(a.id),a=a.properties,e&&(a||(a={}),a[e]=f),a&&b.H(a),b}function qr(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]}function rr(a){a=a||{},this.c=a.featureType,this.a=a.featureNS,this.b=a.gmlFormat?a.gmlFormat:new mn,this.l=a.schemaLocation?a.schemaLocation:sr["1.1.0"],Wm.call(this)}function vr(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return wr(a,b)}function wr(a,b){var c={},d=gn(b.getAttribute("numberOfFeatures"));return c.numberOfFeatures=d,L(c,xr,b,[],a.b)}function tr(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return L({},ur,a,[])}function Cr(a,b){var c=El("http://www.opengis.net/ogc","Filter"),d=El("http://www.opengis.net/ogc","FeatureId");c.appendChild(d),d.setAttribute("fid",b),a.appendChild(c)}function Dr(a,b){return a=(a||"feature")+":",b.indexOf(a)?a+b:b}function Fr(a,b,c){a={node:a};for(var d=0,e=(b=b.b).length;d<e;++d){var f=b[d];Vl(a,Gr,Ql(f.lc),[f],c)}}function Hr(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Ir(a,b.b),Jr(a,""+b.f)}function Kr(a,b,c){jn(a=El("http://www.opengis.net/ogc",a),c),b.appendChild(a)}function Ir(a,b){Kr("PropertyName",a,b)}function Jr(a,b){Kr("Literal",a,b)}function Lr(a,b){var c=El("http://www.opengis.net/gml","TimeInstant");a.appendChild(c),a=El("http://www.opengis.net/gml","timePosition"),c.appendChild(a),jn(a,b)}function Mr(a){a=a||{},Yl.call(this),this.b=void 0!==a.splitCollection&&a.splitCollection}function Nr(a){return(a=a.V()).length?a.join(" "):""}function Or(a){for(var b=[],c=0,d=(a=a.V()).length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function Pr(a){for(var b=[],c=0,d=(a=a.Zd()).length;c<d;++c)b.push("("+Or(a[c])+")");return b.join(",")}function Qr(a){var b=a.T(),c=(0,Rr[b])(a);if(b=b.toUpperCase(),a instanceof uf){var d="";"XYZ"!==(a=a.ja)&&"XYZM"!==a||(d+="Z"),"XYM"!==a&&"XYZM"!==a||(d+="M"),0<(a=d).length&&(b+=" "+a)}return c.length?b+"("+c+")":b+" EMPTY"}function Tr(a){this.a=a,this.b=-1}function Wr(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4,b=a.b;var d=!1,e=!1;do{"."==f?d=!0:"e"!=f&&"E"!=f||(e=!0);var f=a.a.charAt(++a.b)}while("0"<=f&&"9">=f||"."==f&&(void 0===d||!d)||!e&&("e"==f||"E"==f)||e&&("-"==f||"+"==f));a=parseFloat(a.a.substring(b,a.b--)),c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1,b=a.b;do{f=a.a.charAt(++a.b)}while("a"<=f&&"z">=f||"A"<=f&&"Z">=f);a=a.a.substring(b,a.b--).toUpperCase(),c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Wr(a);if(""!==b)throw Error("Unexpected character: "+b);c.type=6}return c}function Sr(a){this.f=a,this.a="XY"}function Ur(a){a.b=Wr(a.f)}function Xr(a,b){return(b=a.b.type==b)&&Ur(a),b}function Vr(a){var b=a.b;if(Xr(a,1)){b=b.value;var c="XY",d=a.b;if(1==a.b.type&&("Z"===(d=d.value)?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Ur(a)),a.a=c,"GEOMETRYCOLLECTION"==b){a:{if(Xr(a,2)){b=[];do{b.push(Vr(a))}while(Xr(a,5));if(Xr(a,3)){a=b;break a}}else if(Yr(a)){a=[];break a}throw Error(Zr(a))}return new Nm(a)}if(d=$r[b],c=as[b],!d||!c)throw Error("Invalid geometry type: "+b);return b=d.call(a),new c(b,a.a)}throw Error(Zr(a))}function bs(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(!Xr(a,4))break;b.push(e.value)}if(b.length==c)return b;throw Error(Zr(a))}function cs(a){for(var b=[bs(a)];Xr(a,5);)b.push(bs(a));return b}function ds(a){for(var b=[a.Ag()];Xr(a,5);)b.push(a.Ag());return b}function Yr(a){var b=1==a.b.type&&"EMPTY"==a.b.value;return b&&Ur(a),b}function Zr(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.f.a+"`"}function es(){this.version=void 0}function gs(a,b){return L({},hs,a,b)}function is(a,b){return L({},js,a,b)}function ks(a,b){if(b=gs(a,b))return a=[gn(a.getAttribute("width")),gn(a.getAttribute("height"))],b.size=a,b}function ls(a,b){return L([],ms,a,b)}function Bs(a){a=a||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new vn,this.c=a.layers?a.layers:null,Wm.call(this)}function Cs(){this.f=new Pq}function Es(a){var b=Q(a).split(" ");if(b&&2==b.length&&(a=+b[0],b=+b[1],!isNaN(a)&&!isNaN(b)))return[a,b]}function Rs(a){Vc.call(this),a=a||{},this.a=null,this.i=gc,this.g=new vb(6378137),this.c=void 0,y(this,Xc("projection"),this.Om,this),y(this,Xc("tracking"),this.Pm,this),void 0!==a.projection&&this.ei(a.projection),void 0!==a.trackingOptions&&this.Gj(a.trackingOptions),this.Ve(void 0!==a.tracking&&a.tracking)}function Ss(a,b,c){uf.call(this),this.Vg(a,b||0,c)}function Ts(a){var b=a.A[a.a]-a.A[0];return a=a.A[a.a+1]-a.A[1],b*b+a*a}function Us(a,b,c){for(var t,u,x,B,z,d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1e5;0<--q&&0<n.length;)x=n.pop(),e=l.pop(),g=m.pop(),(f=x.toString())in p||(d.push(g[0],g[1]),p[f]=!0),B=n.pop(),f=l.pop(),h=m.pop(),z=(x+B)/2,t=a(z),u=b(t),Da(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=B.toString(),p[f]=!0):(n.push(B,z,z,x),m.push(h,u,u,g),l.push(f,t,t,e));return d}function Vs(a,b,c,d,e){return Us(function(d){return[a,b+(c-b)*d]},fc(Wb("EPSG:4326"),d),e)}function Ws(a,b,c,d,e){return Us(function(d){return[b+(c-b)*d,a]},fc(Wb("EPSG:4326"),d),e)}function Xs(a){a=a||{},this.i=this.v=null,this.j=this.g=1/0,this.o=this.l=-1/0,this.qa=this.pa=1/0,this.S=this.I=-1/0,this.va=void 0!==a.targetSize?a.targetSize:100,this.jb=void 0!==a.maxLines?a.maxLines:100,this.f=[],this.c=[],this.oa=void 0!==a.strokeStyle?a.strokeStyle:Ys,this.D=this.u=void 0,this.a=this.b=this.R=null,1==a.showLabels&&(this.ta=a.lonLabelFormatter?a.lonLabelFormatter:ef.bind(this,"EW"),this.Va=a.latLabelFormatter?a.latLabelFormatter:ef.bind(this,"NS"),this.ga=void 0==a.lonLabelPosition?0:a.lonLabelPosition,this.U=void 0==a.latLabelPosition?1:a.latLabelPosition,this.C=void 0!==a.lonLabelStyle?a.lonLabelStyle:new zo({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ul({color:"rgba(0,0,0,1)"}),stroke:new Ej({color:"rgba(255,255,255,1)",width:3})}),this.B=void 0!==a.latLabelStyle?a.latLabelStyle:new zo({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ul({color:"rgba(0,0,0,1)"}),stroke:new Ej({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==a.map?a.map:null)}function $s(a,b,c,d,e,f,g){var h=g;return c=Vs(b,c,d,a.i,e),(h=void 0!==a.f[h]?a.f[h]:new M(null)).aa("XY",c),ob(h.G(),f)&&(a.b&&(c=g,d=h.ba(),f=[d[0],Aa(f[1]+Math.abs(f[1]-f[3])*a.ga,Math.max(f[1],d[1]),Math.min(f[3],d[d.length-1]))],(c=a.b[c]?a.b[c].Xd:new C(null)).na(f),a.b[g]={Xd:c,text:a.ta(b)}),a.f[g++]=h),g}function at(a,b,c,d,e,f,g){var h=g;return c=Ws(b,c,d,a.i,e),(h=void 0!==a.c[h]?a.c[h]:new M(null)).aa("XY",c),ob(h.G(),f)&&(a.a&&(c=g,d=h.ba(),f=[Aa(f[0]+Math.abs(f[0]-f[2])*a.U,Math.max(f[0],d[0]),Math.min(f[2],d[d.length-2])),d[1]],(c=a.a[c]?a.a[c].Xd:new C(null)).na(f),a.a[g]={Xd:c,text:a.Va(b)}),a.c[g++]=h),g}function bt(a,b,c,d,e){Sc.call(this),this.i=e,this.extent=a,this.a=c,this.resolution=b,this.state=d}function ct(a,b,c,d,e,f,g){bt.call(this,a,b,c,0,d),this.j=e,this.M=new Image,null!==f&&(this.M.crossOrigin=f),this.c={},this.f=null,this.state=0,this.g=g}function dt(a,b,c,d,e,f){this.c=f||null,bt.call(this,a,b,c,f?0:2,d),this.f=e}function et(a,b){Sc.call(this),this.sa=a,this.state=b,this.a=null,this.key=""}function ft(a){if(!a.a)return a;var b=a.a;do{if(2==b.getState())return b;b=b.a}while(b);return a}function gt(a){if(a.a){var b=a.a;do{if(2==b.getState()){b.a=null;break}1==b.getState()?a=b:0==b.getState()?a.a=b.a:a=b,b=a.a}while(b)}}function ht(a,b){a.state=b,a.s()}function it(a,b,c,d,e){et.call(this,a,b),this.g=c,this.M=new Image,null!==d&&(this.M.crossOrigin=d),this.c=null,this.j=e}function jt(a){a.c.forEach(Gc),a.c=null}function mt(a){a=a||{},sg.call(this,{handleEvent:pf}),this.j=a.formatConstructors?a.formatConstructors:[],this.o=a.projection?Wb(a.projection):null,this.a=null,this.g=a.source||null,this.target=a.target?a.target:null}function nt(a){var b,c=0;for(b=(a=a.dataTransfer.files).length;c<b;++c){var d=a.item(c),e=new FileReader;e.addEventListener("load",this.l.bind(this,d)),e.readAsText(d)}}function ot(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function rt(a){var b=a.v;b&&(b=a.target?a.target:b.a,a.a=[y(b,"drop",nt,a),y(b,"dragenter",ot,a),y(b,"dragover",ot,a),y(b,"drop",ot,a)])}function st(a){a.a&&(a.a.forEach(Gc),a.a=null)}function pt(a,b,c,d){Qc.call(this,a),this.features=c,this.file=b,this.projection=d}function tt(a){a=a||{},Jg.call(this,{handleDownEvent:ut,handleDragEvent:vt,handleUpEvent:wt}),this.o=a.condition?a.condition:Eg,this.a=this.g=void 0,this.j=0,this.u=void 0!==a.duration?a.duration:400}function vt(a){if(Gg(a)){var b=a.map,c=b.Mb(),d=a.pixel;a=d[0]-c[0]/2,d=c[1]/2-d[1],c=Math.atan2(d,a),a=Math.sqrt(a*a+d*d),(b=b.$()).g.rotation!==We&&void 0!==this.g&&(d=c-this.g,tg(b,b.Qa()-d)),this.g=c,void 0!==this.a&&(c=this.a*(b.Pa()/a),vg(b,c)),void 0!==this.a&&(this.j=this.a/a),this.a=a}}function wt(a){if(!Gg(a))return!0;hg(a=a.map.$(),1,-1);var b=this.j-1,c=a.Qa();tg(a,c=a.constrainRotation(c,0),void 0,void 0),c=a.Pa();var d=this.u;return c=a.constrainResolution(c,0,b),vg(a,c,void 0,d),this.j=0,!1}function ut(a){return!(!Gg(a)||!this.o(a))&&(hg(a.map.$(),1,1),this.a=this.g=void 0,!0)}function xt(a,b,c,d){this.oa=a,this.Va=b,this.overlaps=d,this.c=0,this.resolution=c,this.qa=this.pa=null,this.a=[],this.coordinates=[],this.ga={},this.U=Ih(),this.b=[],this.C=null,this.jb=Ih(),this.ta=Ih()}function yt(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.Zf();g&&(c+=e),g=[b[c],b[c+1]];var p,m=[NaN,NaN],n=!0;for(p=c+e;p<d;p+=e){m[0]=b[p],m[1]=b[p+1];var q=Ua(l,m);q!==t?(n&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):1===q?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):n=!0,g[0]=m[0],g[1]=m[1];var t=q}return(f&&n||p===c+e)&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),h}function zt(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;++g){var l=d[g];c=yt(a,b,c,l,e,!1,!1),f.push(c),c=l}return c}function At(a,b){a.pa=[0,b,0],a.a.push(a.pa),a.qa=[0,b,0],a.b.push(a.qa)}function Ct(a,b,c,d,e,f,g,h,l){if(a.C&&ma(d,a.U))var m=a.C;else a.C||(a.C=[]),m=sf(a.coordinates,0,a.coordinates.length,2,d,a.C),Mh(a.U,d);d=!ub(f);for(var t,B,z,G,E,n=0,p=g.length,q=0,u=a.jb,x=a.ta,ia=0,T=0,R=a.ga,U={context:b,pixelRatio:c,resolution:a.resolution,rotation:e},ta=a.a!=g||a.overlaps?0:200;n<p;){var A=g[n];switch(A[0]){case 0:var ea=A[1];d&&f[w(ea).toString()]||!ea.W()?n=A[2]:void 0===l||ob(l,ea.W().G())?++n:n=A[2]+1;break;case 1:ia>ta&&(a.Wa(b,e),ia=0),T>ta&&(b.stroke(),T=0),ia||T||(b.beginPath(),B=z=NaN),++n;break;case 2:t=m[q=A[1]],A=m[q+1],G=m[q+2]-t,q=m[q+3]-A,q=Math.sqrt(G*G+q*q),b.moveTo(t+q,A),b.arc(t,A,q,0,2*Math.PI,!0),++n;break;case 3:b.closePath(),++n;break;case 4:q=A[1],t=A[2],G=A[4],E=6==A.length?A[5]:void 0,U.geometry=A[3],U.feature=ea,n in R||(R[n]=[]),A=R[n],E?E(m,q,t,2,A):(A[0]=m[q],A[1]=m[q+1],A.length=2),G(A,U),++n;break;case 5:q=A[1],t=A[2];var Ya=A[3],da=A[4]*c,Vb=A[5]*c,Ac=A[6],ge=A[7],he=A[8],Nf=A[9],Bc=A[10];G=A[11],E=A[12];var Ah=A[13],Ig=A[14];for(Bc&&(G+=e);q<t;q+=2){if(A=m[q]-da,Bc=m[q+1]-Vb,Ah&&(A=Math.round(A),Bc=Math.round(Bc)),1!=E||G){var of=A+da,Bh=Bc+Vb;Rh(u,of,Bh,E,E,G,-of,-Bh),b.setTransform.apply(b,u)}of=b.globalAlpha,1!=ge&&(b.globalAlpha=of*ge),Bh=Ig+he>Ya.width?Ya.width-he:Ig;var Zq=Ac+Nf>Ya.height?Ya.height-Nf:Ac;b.drawImage(Ya,he,Nf,Bh,Zq,A,Bc,Bh*c,Zq*c),1!=ge&&(b.globalAlpha=of),(1!=E||G)&&b.setTransform.apply(b,x)}++n;break;case 6:for(q=A[1],t=A[2],Vb=A[3],Ac=A[4]*c,ge=A[5]*c,G=A[6],E=A[7]*c,Ya=A[8],da=A[9],(Bc=A[10])&&(G+=e);q<t;q+=2){for(A=m[q]+Ac,Bc=m[q+1]+ge,(1!=E||G)&&(Rh(u,A,Bc,E,E,G,-A,-Bc),b.setTransform.apply(b,u)),1<(Nf=(he=Vb.split("\n")).length)?(Ah=Math.round(1.5*b.measureText("M").width),Bc-=(Nf-1)/2*Ah):Ah=0,Ig=0;Ig<Nf;Ig++)of=he[Ig],da&&b.strokeText(of,A,Bc),Ya&&b.fillText(of,A,Bc),Bc+=Ah;(1!=E||G)&&b.setTransform.apply(b,x)}++n;break;case 7:if(h&&(ea=A[1],q=h(ea)))return q;++n;break;case 8:ta?ia++:a.Wa(b,e),++n;break;case 9:for(q=A[1],t=A[2],A=m[q],E=(Bc=m[q+1])+.5|0,(G=A+.5|0)===B&&E===z||(b.moveTo(A,Bc),B=G,z=E),q+=2;q<t;q+=2)A=m[q],Bc=m[q+1],G=A+.5|0,E=Bc+.5|0,(q==t-2||G!==B||E!==z)&&(b.lineTo(A,Bc),B=G,z=E);++n;break;case 10:a.S=A[2],ia&&(a.Wa(b,e),ia=0,T&&(b.stroke(),T=0)),b.fillStyle=A[1],++n;break;case 11:q=void 0===A[8]||A[8];var Ml=A[9];t=A[2],T&&(b.stroke(),T=0),b.strokeStyle=A[1],b.lineWidth=q?t*c:t,b.lineCap=A[3],b.lineJoin=A[4],b.miterLimit=A[5],Vd&&(t=A[6],G=A[7],q&&c!==Ml&&(t=t.map(function(a){return a*c/Ml}),G*=c/Ml,A[6]=t,A[7]=G,A[9]=c),b.lineDashOffset=G,b.setLineDash(t)),++n;break;case 12:b.font=A[1],b.textAlign=A[2],b.textBaseline=A[3],++n;break;case 13:ta?T++:b.stroke(),++n;break;default:++n}}ia&&a.Wa(b,e),T&&b.stroke()}function Dt(a){var b=a.b;b.reverse();var c,d=b.length,e=-1;for(c=0;c<d;++c){var f=b[c],g=f[0];if(7==g)e=c;else if(0==g){for(f[2]=c,f=a.b,g=c;e<g;){var h=f[e];f[e]=f[g],f[g]=h,++e,--g}e=-1}}}function Bt(a,b){a.pa[2]=a.a.length,a.pa=null,a.qa[2]=a.b.length,a.qa=null,b=[7,b],a.a.push(b),a.b.push(b)}function Et(a,b,c,d){xt.call(this,a,b,c,d),this.M=this.I=null,this.R=this.u=this.v=this.o=this.l=this.B=this.D=this.j=this.g=this.i=this.f=void 0}function Ft(a,b,c,d){xt.call(this,a,b,c,d),this.i=null,this.f={Sd:void 0,Md:void 0,Nd:null,Od:void 0,Pd:void 0,Qd:void 0,Rd:void 0,sd:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Gt(a,b,c,d,e){var f=a.coordinates.length;return b=yt(a,b,c,d,e,!1,!1),f=[9,f,b],a.a.push(f),a.b.push(f),d}function Ht(a){var b=a.f,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineDashOffset,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;b.Sd==c&&b.Md==d&&ma(b.Nd,e)&&b.Od==f&&b.Pd==g&&b.Qd==h&&b.Rd==l||(void 0!=b.sd&&b.sd!=a.coordinates.length&&(a.a.push([13]),b.sd=a.coordinates.length),b.sd=0,a.a.push([11,c,h,d,g,l,e,f,!0,1],[1]),b.Sd=c,b.Md=d,b.Nd=e,b.Od=f,b.Pd=g,b.Qd=h,b.Rd=l)}function It(a,b,c,d){xt.call(this,a,b,c,d),this.i=null,this.f={uh:void 0,Sd:void 0,Md:void 0,Nd:null,Od:void 0,Pd:void 0,Qd:void 0,Rd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Jt(a,b,c,d,e){var f=a.f,g=void 0!==f.fillStyle;f=void 0!=f.strokeStyle;var h=d.length,l=[1];for(a.a.push(l),a.b.push(l),l=0;l<h;++l){var m=d[l];c=[9,a.coordinates.length,c=yt(a,b,c,m,e,!0,!f)],a.a.push(c),a.b.push(c),f&&(c=[3],a.a.push(c),a.b.push(c)),c=m}return b=[8],a.b.push(b),g&&a.a.push(b),f&&(g=[13],a.a.push(g),a.b.push(g)),c}function Kt(a,b){var c=a.f,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineDashOffset,l=c.lineJoin,m=c.lineWidth,n=c.miterLimit;if(void 0!==d&&("string"!=typeof d||c.uh!=d)){var p=[10,d];"string"!=typeof d&&(b=b.G(),p.push([b[0],b[3]])),a.a.push(p),c.uh=c.fillStyle}void 0===e||c.Sd==e&&c.Md==f&&ma(c.Nd,g)&&c.Od==h&&c.Pd==l&&c.Qd==m&&c.Rd==n||(a.a.push([11,e,m,f,l,n,g,h,!0,1]),c.Sd=e,c.Md=f,c.Nd=g,c.Od=h,c.Pd=l,c.Qd=m,c.Rd=n)}function Lt(a,b,c,d){xt.call(this,a,b,c,d),this.B=this.D=this.R=null,this.ua="",this.l=this.j=0,this.o=void 0,this.u=this.v=0,this.g=this.i=this.f=null}function Mt(a,b,c,d,e){this.v=a,this.f=b,this.l=d,this.o=c,this.i=e,this.a={},this.g=ld(1,1),this.j=Ih()}function Ot(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}function Pt(a){if(void 0!==Nt[a])return Nt[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);b=a;for(var e=d=0;b>=d;)Ot(c,a+b,a+d),Ot(c,a+d,a+b),Ot(c,a-d,a+b),Ot(c,a-b,a+d),Ot(c,a-b,a-d),Ot(c,a-d,a-b),Ot(c,a+d,a-b),Ot(c,a+b,a-d),d++,0<2*((e+=1+2*d)-b)+1&&(--b,e+=1-2*b);return Nt[a]=c}function Qt(a){for(var b in a.a){var d,c=a.a[b];for(d in c)c[d].df()}}function St(a,b){var c=a.f;a=c[0];var d=c[1],e=c[2];return c=c[3],a=[a,d,a,c,e,c,e,d],sf(a,0,8,2,b,a),a}function Rt(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m,n=0;for(l=h.length;n<l;++n){var p=a.a[h[n].toString()];for(m=qi.length-1;0<=m;--m){var q=p[qi[m]];if(void 0!==q&&(q=Ct(q,b,1,c,d,e,q.b,f,g)))return q}}}function Ut(a){Uc.call(this),this.a=a}function Xt(a,b){var c=b.getState();return 2!=c&&3!=c&&y(b,"change",a.ta,a),0==c&&(b.load(),c=b.getState()),2==c}function Wt(a){var b=a.a;b.Sb()&&"ready"==b.hg()&&a.s()}function Yt(a,b){b.Ui()&&a.postRenderFunctions.push(function(a,b,e){(b=w(a).toString())in e.usedTiles&&a.jd(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Zt(a,b){if(b){var c,d=0;for(c=b.length;d<c;++d){var e=b[d];a[w(e).toString()]=e}}}function $t(a,b){void 0!==(b=b.D)&&("string"==typeof b?a.logos[b]="":b&&(va("string"==typeof b.href,44),va("string"==typeof b.src,45),a.logos[b.src]=b.href))}function au(a,b,c,d){b=w(b).toString(),c=c.toString(),b in a?c in a[b]?(a=a[b][c],d.ca<a.ca&&(a.ca=d.ca),d.da>a.da&&(a.da=d.da),d.ea<a.ea&&(a.ea=d.ea),d.ha>a.ha&&(a.ha=d.ha)):a[b][c]=d:(a[b]={},a[b][c]=d)}function bu(a,b,c,d,e,f,g,h,l,m){var n=w(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var t,u,x,q=c.minZoom;for(x=g;x>=q;--x){var B=pc(c,f,x,B),z=c.Ca(x);for(t=B.ca;t<=B.da;++t)for(u=B.ea;u<=B.ha;++u)if(g-x<=h){var G=b.Qc(x,t,u,d,e);0==G.getState()&&(p[G.fb()]=!0,G.fb()in a.a||a.i([G,n,uc(c,G.sa),z])),l&&l.call(m,G)}else b.Zg(x,t,u,e)}}function cu(a){Ut.call(this,a),this.U=Ih()}function du(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=gb(c),l=fb(c),m=eb(c);c=db(c),Nh(b.coordinateToPixelTransform,h),Nh(b.coordinateToPixelTransform,l),Nh(b.coordinateToPixelTransform,m),Nh(b.coordinateToPixelTransform,c),a.save(),bi(a,-g,e/2,f/2),a.beginPath(),a.moveTo(h[0]*d,h[1]*d),a.lineTo(l[0]*d,l[1]*d),a.lineTo(m[0]*d,m[1]*d),a.lineTo(c[0]*d,c[1]*d),a.clip(),bi(a,g,e/2,f/2)}function eu(a,b,c,d,e){var f=a.a;if(Tc(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;bi(c,-l,g/2,h/2),a=e||fu(a,d,0),f.b(new Yh(b,new di(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null)),bi(c,l,g/2,h/2)}}function fu(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return Rh(a.U,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])}function gu(a,b){return w(a)-w(b)}function hu(a,b){return(a=.5*a/b)*a}function iu(a,b,c,d,e,f){var h,g=!1;if(h=c.Y()){var l=h.hf();2==l||3==l?h.Lj(e,f):(0==l&&h.load(),h.Wh(e,f),g=!0)}return(e=(0,c.$a)(b))&&(d=e.ae(d),c.Je()?ju(a,d,c,b):(0,ku[d.T()])(a,d,c,b)),g}function ju(a,b,c,d){if("GeometryCollection"==b.T())for(var e=0,f=(b=b.kd()).length;e<f;++e)ju(a,b[e],c,d);else a.b(c.za(),"Default").wh(b,d,c.Je())}function lu(a){cu.call(this,a),this.c=!1,this.R=-1,this.o=NaN,this.j=Ma(),this.i=this.l=null,this.g=ld()}function nu(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function pu(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function ru(a,b){this.f=a.getUniformLocation(b,"f"),this.c=a.getUniformLocation(b,"e"),this.g=a.getUniformLocation(b,"d"),this.i=a.getUniformLocation(b,"g"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function su(a,b){Ut.call(this,b),this.c=a,this.U=new Ki([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.g=this.Hb=null,this.j=void 0,this.v=Ih(),this.R=Ih(),this.B=Ai(),this.u=null}function tu(a,b,c){var d=a.c.f;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.g,a.Hb)),b=Xi(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e),d.framebufferTexture2D(36160,36064,3553,b,0),a.Hb=b,a.g=e,a.j=c}else d.bindFramebuffer(36160,a.g)}function uu(a,b,c,d){if(a=a.a,Tc(a,b)){var e=d.viewState;a.b(new Yh(b,new Ck(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}function vu(a,b){su.call(this,a,b),this.o=!1,this.S=-1,this.I=NaN,this.D=Ma(),this.l=this.i=this.C=null}function S(a){var b=rb({},a=a||{});delete b.style,delete b.renderBuffer,delete b.updateWhileAnimating,delete b.updateWhileInteracting,Dh.call(this,b),this.c=void 0!==a.renderBuffer?a.renderBuffer:100,this.v=null,this.C=void 0,this.i(a.style),this.S=void 0!==a.updateWhileAnimating&&a.updateWhileAnimating,this.U=void 0!==a.updateWhileInteracting&&a.updateWhileInteracting}function wu(){return[[-1/0,-1/0,1/0,1/0]]}function xu(a){Vc.call(this),this.c=Wb(a.projection),this.j=yu(a.attributions),this.D=a.logo,this.ta=void 0!==a.state?a.state:"ready",this.u=void 0!==a.wrapX&&a.wrapX}function yu(a){if("string"==typeof a)return[new Cc({html:a})];if(a instanceof Cc)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"==typeof e?new Cc({html:e}):e}return c}return null}function zu(a,b){a.ta=b,a.s()}function V(a){a=a||{},xu.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0===a.wrapX||a.wrapX}),this.C=ra,this.B=a.format,this.U=void 0==a.overlaps||a.overlaps,this.I=a.url,a.loader?this.C=a.loader:void 0!==this.I&&(va(this.B,7),this.C=Xl(this.I,this.B)),this.ga=a.strategy?a.strategy:wu;var b=void 0===a.useSpatialIndex||a.useSpatialIndex;if(this.a=b?new Oj:null,this.S=new Oj,this.g={},this.l={},this.o={},this.v={},this.i=null,a.features instanceof $c)var c=a.features,d=c.a;else Array.isArray(a.features)&&(d=a.features);b||c||(c=new $c(d)),d&&Au(this,d),c&&Bu(this,c)}function Du(a,b,c){a.v[b]=[y(c,"change",a.Yi,a),y(c,"propertychange",a.Yi,a)]}function Cu(a,b,c){var d=!0,e=c.a;return void 0!==e?e.toString()in a.l?d=!1:a.l[e.toString()]=c:(va(!(b in a.o),30),a.o[b]=c),d}function Au(a,b){var c,d=[],e=[],f=[],g=0;for(c=b.length;g<c;g++){var h=b[g],l=w(h).toString();Cu(a,l,h)&&e.push(h)}for(g=0,c=e.length;g<c;g++)h=e[g],l=w(h).toString(),Du(a,l,h),(b=h.W())?(l=b.G(),d.push(l),f.push(h)):a.g[l]=h;for(a.a&&a.a.load(d,f),g=0,c=e.length;g<c;g++)a.b(new Eu("addfeature",e[g]))}function Bu(a,b){var c=!1;y(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)}),y(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)}),y(b,"add",function(a){c||(c=!0,this.Bb(a.element),c=!1)},a),y(b,"remove",function(a){c||(c=!0,this.Fb(a.element),c=!1)},a),a.i=b}function Fu(a,b,c){a.ac([b[0],b[1],b[0],b[1]],function(a){if(a.W().wb(b))return c.call(void 0,a)})}function Gu(a,b){for(var c in a.l)if(a.l[c]===b){delete a.l[c];break}}function Eu(a,b){Qc.call(this,a),this.feature=b}function Hu(a){Jg.call(this,{handleDownEvent:Iu,handleEvent:Ju,handleUpEvent:Ku}),this.U=!1,this.ga=null,this.u=!1,this.Zb=a.source?a.source:null,this.Za=a.features?a.features:null,this.Hk=a.snapTolerance?a.snapTolerance:12,this.S=a.type,this.g=Lu(this.S),this.Sa=a.minPoints?a.minPoints:this.g===Mu?3:2,this.va=a.maxPoints?a.maxPoints:1/0,this.Jd=a.finishCondition?a.finishCondition:pf;var b=a.geometryFunction;if(!b)if("Circle"===this.S)b=function(a,b){return(b=b||new Ss([NaN,NaN])).Vg(a[0],Math.sqrt(kf(a[0],a[1]))),b};else{var c,d=this.g;d===Nu?c=C:d===Ou?c=M:d===Mu&&(c=D),b=function(a,b){return b?d===Mu?b.na([a[0].concat([a[0][0]])]):b.na(a):b=new c(a),b}}this.$a=b,this.I=this.B=this.a=this.C=this.j=this.o=null,this.ed=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.oa=new S({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX&&a.wrapX}),style:a.style?a.style:Pu()}),this.Ib=a.geometryName,this.Gk=a.condition?a.condition:Dg,this.Lf=a.freehand?pf:a.freehandCondition?a.freehandCondition:Eg,y(this,Xc("active"),this.Bi,this)}function Pu(){var a=Al();return function(b){return a[b.W().T()]}}function Ju(a){this.u=this.g!==Nu&&this.Lf(a);var b=!this.u;return this.u&&"pointerdrag"===a.type&&null!==this.j?(Qu(this,a),b=!1):"pointermove"===a.type?b=Ru(this,a):"dblclick"===a.type&&(b=!1),Kg.call(this,a)&&b}function Iu(a){return this.U=!this.u,this.u?(this.ga=a.pixel,this.o||Su(this,a),!0):!!this.Gk(a)&&(this.ga=a.pixel,!0)}function Ku(a){var b=!0;Ru(this,a);var c=this.g===Tu;return this.U?(this.o?this.u||c?this.Vd():Uu(this,a)?this.Jd(a)&&this.Vd():Qu(this,a):(Su(this,a),this.g===Nu&&this.Vd()),b=!1):this.u&&(this.o=null,Vu(this)),b}function Ru(a,b){if(a.ga&&(!a.u&&a.U||a.u&&!a.U)){var c=a.ga,d=b.pixel,e=c[0]-d[0];e=e*e+(c=c[1]-d[1])*c,a.U=a.u?e>a.ed:e<=a.ed}return a.o?(e=b.coordinate,c=a.j.W(),a.g===Nu?d=a.a:a.g===Mu?(d=a.a[0],d=d[d.length-1],Uu(a,b)&&(e=a.o.slice())):(d=a.a,d=d[d.length-1]),d[0]=e[0],d[1]=e[1],a.$a(a.a,c),a.C&&a.C.W().na(e),c instanceof D&&a.g!==Mu?(a.B||(a.B=new Bl(new M(null))),e=c.Kh(0),(b=a.B.W()).aa(e.ja,e.ba())):a.I&&(b=a.B.W()).na(a.I),Wu(a)):(b=b.coordinate.slice(),a.C?a.C.W().na(b):(a.C=new Bl(new C(b)),Wu(a))),!0}function Uu(a,b){var c=!1;if(a.j){var d=!1,e=[a.o];if(a.g===Ou?d=a.a.length>a.Sa:a.g===Mu&&(d=a.a[0].length>a.Sa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]),d){d=b.map;for(var f=0,g=e.length;f<g;f++){var h=e[f],l=d.Ka(h),m=b.pixel;if(c=m[0]-l[0],l=m[1]-l[1],c=Math.sqrt(c*c+l*l)<=(a.u?1:a.Hk)){a.o=h;break}}}}return c}function Su(a,b){b=b.coordinate,a.o=b,a.g===Nu?a.a=b.slice():a.g===Mu?(a.a=[[b.slice(),b.slice()]],a.I=a.a[0]):(a.a=[b.slice(),b.slice()],a.g===Tu&&(a.I=a.a)),a.I&&(a.B=new Bl(new M(a.I))),b=a.$a(a.a),a.j=new Bl,a.Ib&&a.j.Wc(a.Ib),a.j.Ra(b),Wu(a),a.b(new Xu("drawstart",a.j))}function Qu(a,b){b=b.coordinate;var d,c=a.j.W();if(a.g===Ou){a.o=b.slice();var e=a.a;e.length>=a.va&&(a.u?e.pop():d=!0),e.push(b.slice()),a.$a(e,c)}else a.g===Mu&&((e=a.a[0]).length>=a.va&&(a.u?e.pop():d=!0),e.push(b.slice()),d&&(a.o=e[0]),a.$a(a.a,c));Wu(a),d&&a.Vd()}function Vu(a){a.o=null;var b=a.j;return b&&(a.j=null,a.C=null,a.B=null,a.oa.ia().clear(!0)),b}function Wu(a){var b=[];a.j&&b.push(a.j),a.B&&b.push(a.B),a.C&&b.push(a.C),(a=a.oa.ia()).clear(!0),a.Ec(b)}function Lu(a){var b;return"Point"===a||"MultiPoint"===a?b=Nu:"LineString"===a||"MultiLineString"===a?b=Ou:"Polygon"===a||"MultiPolygon"===a?b=Mu:"Circle"===a&&(b=Tu),b}function Xu(a,b){Qc.call(this,a),this.feature=b}function Yu(a){this.a=this.j=null,this.B=!1,this.C=this.o=null,a||(a={}),Jg.call(this,{handleDownEvent:Zu,handleDragEvent:$u,handleEvent:av,handleUpEvent:bv}),this.u=new S({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:cv(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.I=new S({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:dv(),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.extent&&this.g(a.extent)}function av(a){if(!(a instanceof ie))return!0;if("pointermove"==a.type&&!this.D){var b=a.pixel,c=a.map,d=ev(this,b,c);d||(d=c.Xa(b)),fv(this,d)}return Kg.call(this,a),!1}function Zu(a){function b(a){var b=null,c=null;return a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]),a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]),null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();return(a=ev(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=gv(b(a)):null!==c?this.a=hv(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=hv(b([e[0],d]),b([e[2],d])))):(a=d.Xa(c),this.g([a[0],a[1],a[0],a[1]]),this.a=gv(a)),!0}function $u(a){return this.a&&(a=a.coordinate,this.g(this.a(a)),fv(this,a)),!0}function bv(){this.a=null;var a=this.G();return a&&hb(a)||this.g(null),!1}function cv(){var a=Al();return function(){return a.Polygon}}function dv(){var a=Al();return function(){return a.Point}}function gv(a){return function(b){return La([a,b])}}function hv(a,b){return a[0]==b[0]?function(c){return La([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return La([a,[b[0],c[1]]])}:null}function ev(a,b,c){var e=c.Xa(b),f=a.G();if(f){(f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]]).sort(function(a,b){return mf(e,a)-mf(e,b)}),f=f[0];var g=df(e,f),h=c.Ka(g);if(10>=lf(b,h))return b=c.Ka(f[0]),c=c.Ka(f[1]),b=kf(h,b),c=kf(h,c),a.B=10>=Math.sqrt(Math.min(b,c)),a.B&&(g=b>c?f[1]:f[0]),g}return null}function fv(a,b){var c=a.C;c?c.W().na(b):(c=new Bl(new C(b)),a.C=c,a.I.ia().Bb(c))}function iv(a){Qc.call(this,"extentchanged"),this.extent=a}function jv(a){if(Jg.call(this,{handleDownEvent:kv,handleDragEvent:lv,handleEvent:mv,handleUpEvent:nv}),this.Jd=a.condition?a.condition:Hg,this.Ib=function(a){return yg(a)&&Cg(a)},this.Zb=a.deleteCondition?a.deleteCondition:this.Ib,this.ed=a.insertVertexCondition?a.insertVertexCondition:pf,this.Za=this.g=null,this.Sa=[0,0],this.B=this.I=!1,this.a=new Oj,this.oa=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.o=this.va=!1,this.j=[],this.C=new S({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:ov(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ga={Point:this.Rn,LineString:this.Di,LinearRing:this.Di,Polygon:this.Sn,MultiPoint:this.Pn,MultiLineString:this.On,MultiPolygon:this.Qn,Circle:this.Mn,GeometryCollection:this.Nn},this.U=null,a.source?(this.U=a.source,a=new $c(this.U.fe()),y(this.U,"addfeature",this.fm,this),y(this.U,"removefeature",this.hm,this)):a=a.features,!a)throw Error("The modify interaction requires features or a source");this.u=a,this.u.forEach(this.sg,this),y(this.u,"add",this.Kn,this),y(this.u,"remove",this.Ln,this),this.S=null}function qv(a,b){a.B||(a.B=!0,a.b(new rv("modifystart",a.u,b)))}function sv(a,b){tv(a,b),a.g&&!a.u.ec()&&(a.C.ia().Fb(a.g),a.g=null),Mc(b,"change",a.Ci,a)}function tv(a,b){var c=[];(a=a.a).forEach(function(a){b===a.feature&&c.push(a)});for(var d=c.length-1;0<=d;--d)a.remove(c[d])}function uv(a,b){var c=a.g;c?c.W().na(b):(c=new Bl(new C(b)),a.g=c,a.C.ia().Bb(c))}function vv(a,b){return a.index-b.index}function kv(a){if(!this.Jd(a))return!1;pv(this,a.pixel,a.map);var b=a.map.Xa(a.pixel);this.j.length=0,this.B=!1;var c=this.g;if(c){var d=[],e=La([c=c.W().V()]),f={};(e=Rj(this.a,e)).sort(vv);for(var g=0,h=e.length;g<h;++g){var l=e[g],m=l.la,n=w(l.feature),p=l.depth;p&&(n+="-"+p.join("-")),f[n]||(f[n]=Array(2)),"Circle"===l.geometry.T()&&1===l.index?(m=wv(b,l),gf(m,c)&&!f[n][0]&&(this.j.push([l,0]),f[n][0]=l)):gf(m[0],c)&&!f[n][0]?(this.j.push([l,0]),f[n][0]=l):gf(m[1],c)&&!f[n][1]?("LineString"!==l.geometry.T()&&"MultiLineString"!==l.geometry.T()||!f[n][0]||0!==f[n][0].index)&&(this.j.push([l,1]),f[n][1]=l):this.ed(a)&&w(m)in this.Za&&!f[n][0]&&!f[n][1]&&d.push([l,c])}for(d.length&&qv(this,a),a=d.length-1;0<=a;--a)this.pm.apply(this,d[a])}return!!this.g}function lv(a){this.I=!1,qv(this,a),a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=e.la;for(d=d[1];a.length<g.ma();)a.push(h[d][a.length]);switch(g.T()){case"Point":var l=a;h[0]=h[1]=a;break;case"MultiPoint":(l=g.V())[e.index]=a,h[0]=h[1]=a;break;case"LineString":(l=g.V())[e.index+d]=a,h[d]=a;break;case"MultiLineString":case"Polygon":(l=g.V())[f[0]][e.index+d]=a,h[d]=a;break;case"MultiPolygon":(l=g.V())[f[1]][f[0]][e.index+d]=a,h[d]=a;break;case"Circle":h[0]=h[1]=a,0===e.index?(this.o=!0,g.rb(a)):(this.o=!0,g.Xc(lf(g.xa(),a))),this.o=!1}l&&(e=g,f=l,this.o=!0,e.na(f),this.o=!1)}uv(this,a)}function nv(a){for(var b,c,d=this.j.length-1;0<=d;--d)if(b=this.j[d][0],"Circle"===(c=b.geometry).T()){var e=c.xa(),f=b.Wf[0];b=b.Wf[1],f.la[0]=f.la[1]=e,b.la[0]=b.la[1]=e,Pj(this.a,Xa(e),f),Pj(this.a,c.G(),b)}else Pj(this.a,La(b.la),b);return this.B&&(this.b(new rv("modifyend",this.u,a)),this.B=!1),!1}function mv(a){if(!(a instanceof ie))return!0;this.S=a;var b;return ig(a.map.$())[1]||"pointermove"!=a.type||this.D||(this.Sa=a.pixel,pv(this,a.pixel,a.map)),this.g&&this.Zb(a)&&(b=!("singleclick"!=a.type||!this.I)||this.rj()),"singleclick"==a.type&&(this.I=!1),Kg.call(this,a)&&!b}function pv(a,b,c){var e=c.Xa(b),f=Oa(Xa(e),c.$().Pa()*a.oa);if(0<(f=Rj(a.a,f)).length){f.sort(function(a,b){return xv(e,a)-xv(e,b)});var g=f[0],h=g.la,l=wv(e,g),m=c.Ka(l),n=lf(b,m);if(n<=a.oa){if(b={},"Circle"===g.geometry.T()&&1===g.index)a.va=!0,uv(a,l);else for(n=c.Ka(h[0]),g=c.Ka(h[1]),c=kf(m,n),m=kf(m,g),n=Math.sqrt(Math.min(c,m)),a.va=n<=a.oa,a.va&&(l=c>m?h[1]:h[0]),uv(a,l),m=1,c=f.length;m<c&&(l=f[m].la,gf(h[0],l[0])&&gf(h[1],l[1])||gf(h[0],l[1])&&gf(h[1],l[0]));++m)b[w(l)]=!0;return b[w(h)]=!0,void(a.Za=b)}}a.g&&(a.C.ia().Fb(a.g),a.g=null)}function xv(a,b){var c=b.geometry;return"Circle"===c.T()&&1===b.index?(a=kf(c.xa(),a),(c=Math.sqrt(a)-c.vd())*c):mf(a,b.la)}function wv(a,b){var c=b.geometry;return"Circle"===c.T()&&1===b.index?c.Db(a):df(a,b.la)}function yv(a,b,c,d,e){Tj(a.a,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||ma(a.depth,d))&&a.index>c&&(a.index+=e)})}function ov(){var a=Al();return function(){return a.Point}}function rv(a,b,c){Qc.call(this,a),this.features=b,this.mapBrowserEvent=c}function zv(a){if(sg.call(this,{handleEvent:Av}),a=a||{},this.B=a.condition?a.condition:Cg,this.D=a.addCondition?a.addCondition:qf,this.C=a.removeCondition?a.removeCondition:qf,this.I=a.toggleCondition?a.toggleCondition:Eg,this.o=!!a.multi&&a.multi,this.l=a.filter?a.filter:pf,this.j=a.hitTolerance?a.hitTolerance:0,this.g=new S({source:new V({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:Bv(),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.layers)if("function"==typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return ha(b,a)}}else a=pf;this.u=a,this.a={},y(a=this.g.ia().i,"add",this.Tn,this),y(a,"remove",this.Xn,this)}function Av(a){if(!this.B(a))return!0;var b=this.D(a),c=this.C(a),d=this.I(a),e=!b&&!c&&!d,f=a.map,g=this.g.ia().i,h=[],l=[];if(e){for(sb(this.a),f.Wd(a.pixel,function(a,b){if(this.l(a,b))return l.push(a),a=w(a),this.a[a]=b,!this.o}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),e=g.ec()-1;0<=e;--e){f=g.item(e);var m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}l.length&&g.ng(l)}else{for(f.Wd(a.pixel,function(a,e){if(this.l(a,e))return!b&&!d||ha(g.a,a)?(c||d)&&ha(g.a,a)&&(h.push(a),e=w(a),delete this.a[e]):(l.push(a),a=w(a),this.a[a]=e),!this.o}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),e=h.length-1;0<=e;--e)g.remove(h[e]);g.ng(l)}return(0<l.length||0<h.length)&&this.b(new Cv(Dv,l,h,a)),Bg(a)}function Bv(){var a=Al();return ka(a.Polygon,a.LineString),ka(a.GeometryCollection,a.LineString),function(b){return b.W()?a[b.W().T()]:null}}function Cv(a,b,c,d){Qc.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d}function Ev(a){Jg.call(this,{handleEvent:Fv,handleDownEvent:pf,handleUpEvent:Gv}),a=a||{},this.o=a.source?a.source:null,this.S=void 0===a.vertex||a.vertex,this.B=void 0===a.edge||a.edge,this.j=a.features?a.features:null,this.oa=[],this.C={},this.U={},this.u={},this.I=null,this.g=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.va=Hv.bind(this),this.a=new Oj,this.ga={Point:this.fo,LineString:this.Gi,LinearRing:this.Gi,Polygon:this.ho,MultiPoint:this.co,MultiLineString:this.bo,MultiPolygon:this.eo,GeometryCollection:this.ao,Circle:this.$n}}function Iv(a,b,c,d){var e=d.Xa([b[0]-a.g,b[1]+a.g]),f=d.Xa([b[0]+a.g,b[1]-a.g]);e=La([e,f]);var g=Rj(a.a,e);a.S&&!a.B&&(g=g.filter(function(a){return"Circle"!==a.feature.W().T()}));var h=!1;e=!1;var l=f=null;if(0<g.length){a.I=c,g.sort(a.va);var m=g[0].la;h="Circle"===g[0].feature.W().T(),a.S&&!a.B?(c=d.Ka(m[0]),h=d.Ka(m[1]),c=kf(b,c),b=kf(b,h),(h=(h=Math.sqrt(Math.min(c,b)))<=a.g)&&(e=!0,f=c>b?m[1]:m[0],l=d.Ka(f))):a.B&&(f=h?cf(c,g[0].feature.W()):df(c,m),l=d.Ka(f),lf(b,l)<=a.g&&(e=!0,a.S&&!h&&(c=d.Ka(m[0]),h=d.Ka(m[1]),c=kf(l,c),b=kf(l,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)))&&(f=c>b?m[1]:m[0],l=d.Ka(f)),e&&(l=[Math.round(l[0]),Math.round(l[1])])}return{Bq:e,vertex:f,Kq:l}}function Fv(a){var b=Iv(this,a.pixel,a.coordinate,a.map);return b.Bq&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.Kq),Kg.call(this,a)}function Gv(){var a=tb(this.u);return a.length&&(a.forEach(this.Nj,this),this.u={}),!1}function Hv(a,b){return mf(this.I,a.la)-mf(this.I,b.la)}function Jv(a){if(Jg.call(this,{handleDownEvent:Kv,handleDragEvent:Lv,handleMoveEvent:Mv,handleUpEvent:Nv}),a=a||{},this.a=null,this.j=void 0!==a.features?a.features:null,a.layers)if("function"==typeof a.layers)var b=a.layers;else{var c=a.layers;b=function(a){return ha(c,a)}}else b=pf;this.B=b,this.o=a.hitTolerance?a.hitTolerance:0,this.g=null,y(this,Xc("active"),this.u,this)}function Kv(a){if(this.g=Ov(this,a.pixel,a.map),!this.a&&this.g){this.a=a.coordinate,Mv.call(this,a);var b=this.j||new $c([this.g]);return this.b(new Pv("translatestart",b,a.coordinate)),!0}return!1}function Nv(a){if(this.a){this.a=null,Mv.call(this,a);var b=this.j||new $c([this.g]);return this.b(new Pv("translateend",b,a.coordinate)),!0}return!1}function Lv(a){if(this.a){var b=(a=a.coordinate)[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new $c([this.g]);d.forEach(function(a){var d=a.W();d.translate(b,c),a.Ra(d)}),this.a=a,this.b(new Pv("translating",d,a))}}function Mv(a){var b=a.map.a;Ov(this,a.pixel,a.map)?(b.classList.remove(this.a?"ol-grab":"ol-grabbing"),b.classList.add(this.a?"ol-grabbing":"ol-grab")):b.classList.remove("ol-grab","ol-grabbing")}function Ov(a,b,c){return c.Wd(b,function(a){if(!this.j||ha(this.j.a,a))return a}.bind(a),{layerFilter:a.B,hitTolerance:a.o})}function Qv(a,b){var c=a.v;a=a.c(),c&&a||(c=c||b)&&c.a.classList.remove("ol-grab","ol-grabbing")}function Pv(a,b,c){Qc.call(this,a),this.features=b,this.coordinate=c}function W(a){var b=rb({},a=a||{});delete b.gradient,delete b.radius,delete b.blur,delete b.shadow,delete b.weight,S.call(this,b),this.g=null,this.I=void 0!==a.shadow?a.shadow:250,this.B=void 0,this.D=null,y(this,Xc(Rv),this.Nl,this),this.zj(a.gradient?a.gradient:Sv),this.tj(void 0!==a.blur?a.blur:15),this.Xc(void 0!==a.radius?a.radius:8),y(this,Xc(Tv),this.lg,this),y(this,Xc(Uv),this.lg,this),this.lg();var d,c=a.weight?a.weight:"weight";d="string"==typeof c?function(a){return a.get(c)}:c,this.i(function(a){var b=255*(a=void 0!==(a=d(a))?Aa(a,0,1):1)|0,c=this.D[b];return c||(c=[new vl({image:new yo({opacity:a,src:this.B})})],this.D[b]=c),c}.bind(this)),this.set(mu,null),y(this,"render",this.dm,this)}function Vv(a){cu.call(this,a),this.o=Ih(),this.g=null}function Wv(a){Vv.call(this,a),this.M=null,this.i=Ih()}function Xv(a,b,c,d){var e=hc(c,b,a);return c=Ub(b,d,c),void 0!==(b=b.Nc())&&(c*=b),void 0!==(b=a.Nc())&&(c/=b),(b=a.G())&&!Ra(b,e)||(a=Ub(a,c,e)/c,isFinite(a)&&0<a&&(c/=a)),c}function Yv(a,b,c,d){a=c-a,b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}function Zv(a,b,c,d,e,f,g,h,l,m,n){var p=ld(Math.round(c*a),Math.round(c*b));if(!l.length)return p.canvas;p.scale(c,c);var q=Ma();l.forEach(function(a){bb(q,a.extent)});var t=ld(Math.round(c*jb(q)/d),Math.round(c*kb(q)/d)),u=c/d;l.forEach(function(a){t.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,jb(a.extent)*u,kb(a.extent)*u)});var x=gb(g);return h.c.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-x[0])/f;var n=-(e[0][1]-x[1])/f,u=(e[1][0]-x[0])/f,B=-(e[1][1]-x[1])/f,ea=(e[2][0]-x[0])/f,Ya=-(e[2][1]-x[1])/f;a:{for(h=(g=[[g-=e=b[0][0],h-=b=b[0][1],0,0,u-a],[l-=e,m-=b,0,0,ea-a],[0,0,g,h,B-n],[0,0,l,m,Ya-n]]).length,l=0;l<h;l++){m=l;for(var da=Math.abs(g[l][l]),Vb=l+1;Vb<h;Vb++){var Ac=Math.abs(g[Vb][l]);Ac>da&&(da=Ac,m=Vb)}if(!da){g=null;break a}for(da=g[m],g[m]=g[l],g[l]=da,m=l+1;m<h;m++)for(da=-g[m][l]/g[l][l],Vb=l;Vb<h+1;Vb++)g[m][Vb]=l==Vb?0:g[m][Vb]+da*g[l][Vb]}for(l=Array(h),m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],da=m-1;0<=da;da--)g[da][h]-=g[da][m]*l[m];g=l}g&&(p.save(),p.beginPath(),l=(a+u+ea)/3,m=(n+B+Ya)/3,h=Yv(l,m,a,n),u=Yv(l,m,u,B),ea=Yv(l,m,ea,Ya),p.moveTo(u[0],u[1]),p.lineTo(h[0],h[1]),p.lineTo(ea[0],ea[1]),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(t.canvas,0,0),p.restore())}),n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.c.forEach(function(a){var b=a.target;a=(b[0][0]-x[0])/f;var c=-(b[0][1]-x[1])/f,d=(b[1][0]-x[0])/f,e=-(b[1][1]-x[1])/f,g=(b[2][0]-x[0])/f;b=-(b[2][1]-x[1])/f,p.beginPath(),p.moveTo(d,e),p.lineTo(a,c),p.lineTo(g,b),p.closePath(),p.stroke()}),p.restore()),p.canvas}function $v(a,b,c,d,e){this.f=a,this.i=b;var f={},g=fc(this.i,this.f);if(this.a=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.g=d,this.v=e*e,this.c=[],this.l=!1,this.o=this.f.f&&!!d&&!!this.f.G()&&jb(d)==jb(this.f.G()),this.b=this.f.G()?jb(this.f.G()):null,this.j=this.i.G()?jb(this.i.G()):null,aw(this,a=gb(c),b=fb(c),d=eb(c),c=db(c),e=this.a(a),this.a(b),this.a(d),this.a(c),10),this.l){var n=1/0;this.c.forEach(function(a){n=Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])}),this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b),b[1][0]-n>this.b/2&&(b[1][0]-=this.b),b[2][0]-n>this.b/2&&(b[2][0]-=this.b),Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}function aw(a,b,c,d,e,f,g,h,l,m){var n=La([f,g,h,l]),p=a.b?jb(n)/a.b:null,q=a.b,t=a.f.f&&.5<p&&1>p,u=!1;if(0<m&&(a.i.c&&a.j&&(u|=.25<jb(La([b,c,d,e]))/a.j),!t&&a.f.c&&p&&(u|=.25<p)),u||!a.g||ob(n,a.g)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(0<m))return;u=!0}if(0<m&&(u||(n=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=t?(Ga(f[0],q)+Ga(h[0],q))/2-Ga(n[0],q):(f[0]+h[0])/2-n[0],n=(f[1]+h[1])/2-n[1],u=q*q+n*n>a.v),u))return void(Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(t=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(t),n=[(e[0]+b[0])/2,(e[1]+b[1])/2],p=a.a(n),aw(a,b,c,t,n,f,g,q,p,m-1),aw(a,n,t,d,e,p,q,h,l,m-1)):(t=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(t),n=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.a(n),aw(a,b,t,n,e,f,q,p,l,m-1),aw(a,t,c,d,n,q,g,h,p,m-1)));if(t){if(!a.o)return;a.l=!0}a.c.push({source:[f,h,l],target:[b,d,e]}),a.c.push({source:[f,g,h],target:[b,c,d]})}}function bw(a){var b=Ma();return a.c.forEach(function(a){a=a.source,Na(b,a[0]),Na(b,a[1]),Na(b,a[2])}),b}function cw(a,b,c,d,e,f){this.v=b,this.o=a.G();var g=b.G(),h=g?nb(c,g):c;g=Xv(a,b,lb(h),d),this.j=new $v(a,b,h,this.o,.5*g),this.c=d,this.f=c,a=bw(this.j),this.l=(this.Gb=f(a,g,e))?this.Gb.a:1,this.me=this.g=null,e=2,f=[],this.Gb&&(e=0,f=this.Gb.i),bt.call(this,c,d,this.l,e,f)}function dw(a){xu.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.B=void 0!==a.resolutions?a.resolutions:null,this.i=null,this.ga=0}function ew(a,b){return a.B&&(b=a.B[ja(a.B,b,0)]),b}function jw(a,b){a.Y().src=b}function fw(a,b){Qc.call(this,a),this.image=b}function kw(a){dw.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.oa=a.canvasFunction,this.S=null,this.U=0,this.va=void 0!==a.ratio?a.ratio:1.5}function lw(a){this.a=a.source,this.Za=Ih(),this.g=ld(),this.o=[0,0],this.Sa=void 0==a.renderBuffer?100:a.renderBuffer,this.C=null,kw.call(this,{attributions:a.attributions,canvasFunction:this.Ek.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.a.getState()}),this.I=null,this.v=void 0,this.Si(a.style),y(this.a,"change",this.Eo,this)}function mw(a,b,c,d,e){return c=d/c,Rh(a.Za,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}function nw(a,b){su.call(this,a,b),this.l=this.i=this.M=null}function ow(a,b){return b=b.Y(),$i(a.c.f,b)}function pw(a,b,c,d,e,f,g,h){b*=f,c*=f,Jh(a=a.R),Ph(a,2*d/b,2*d/c),Oh(a,-g),Qh(a,h[0]-e[0],h[1]-e[1]),Ph(a,(h[2]-h[0])/2,(h[3]-h[1])/2),Qh(a,1,1)}function qw(a){Dh.call(this,a||{})}function rw(a){Vv.call(this,a),this.context=null===this.context?null:ld(),this.j=null,this.i=[],this.l=Ma(),this.oa=new wa(0,0,0,0),this.B=Ih(),this.S=0}function sw(a,b){return b=b.getState(),a=a.a.qd(),2==b||4==b||3==b&&!a}function tw(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function vw(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function xw(a,b){this.f=a.getUniformLocation(b,"e"),this.c=a.getUniformLocation(b,"d"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function yw(a,b){su.call(this,a,b),this.I=uw,this.ga=ww,this.i=null,this.C=new Ki([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.o=-1,this.S=[0,0]}function zw(a){var b=rb({},a=a||{});delete b.preload,delete b.useInterimTilesOnError,Dh.call(this,b),this.Ji(void 0!==a.preload?a.preload:0),this.Ki(void 0===a.useInterimTilesOnError||a.useInterimTilesOnError)}function Aw(a){this.context=null,rw.call(this,a),this.C=!1,this.R=Ih(),this.S="vector"==a.g?1:0}function Ew(a,b){return jb(b.G())/Ka(a.tileGrid.eb(b.sa[0]))[0]}function Hw(a){var b=rb({},a=a||{});delete b.preload,delete b.useInterimTilesOnError,S.call(this,b),this.Li(a.preload?a.preload:0),this.Mi(!a.useInterimTilesOnError||a.useInterimTilesOnError),va(void 0==a.renderMode||"image"==a.renderMode||"hybrid"==a.renderMode||"vector"==a.renderMode,28),this.g=a.renderMode||"hybrid"}function Iw(a,b,c,d){function e(){delete window[g],f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+w(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e(),c&&c()},1e4);window[g]=function(a){clearTimeout(h),e(),b(a)},document.getElementsByTagName("head")[0].appendChild(f)}function Jw(a,b,c,d,e,f,g,h,l,m,n){if(et.call(this,e,0),this.D=void 0!==n&&n,this.R=g,this.u=h,this.v=null,this.c=b,this.j=d,this.l=f||e,this.f=[],this.Ed=null,this.g=0,f=d.Fa(this.l),h=this.j.G(),e=this.c.G(),f=h?nb(f,h):f,hb(f))if((h=a.G())&&(e=e?nb(e,h):h),d=Xv(a,c,lb(f),d.Ca(this.l[0])),!isFinite(d)||0>=d)this.state=4;else if(this.o=new $v(a,c,f,e,d*(void 0!==m?m:.5)),this.o.c.length)if(this.g=b.uc(d),c=bw(this.o),e&&(a.f?(c[1]=Aa(c[1],e[1],e[3]),c[3]=Aa(c[3],e[1],e[3])):c=nb(c,e)),hb(c)){for(b=(a=pc(b,c,this.g)).ca;b<=a.da;b++)for(c=a.ea;c<=a.ha;c++)(m=l(this.g,b,c,g))&&this.f.push(m);this.f.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function Kw(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;return va(a,55),(a.ha-a.ea+1+g[2]).toString()})}}function Lw(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=Kw(a[e],b);return Mw(d)}function Mw(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[Ga((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function Nw(){}function Ow(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var e,d=c[2].charCodeAt(0);for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){for(d=parseInt(c[2],10),e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}return b.push(a),b}function Pw(a){Ek.call(this),this.highWaterMark=void 0!==a?a:2048}function Qw(a){return a.c>a.highWaterMark}function Rw(a){xu.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.va=void 0!==a.opaque&&a.opaque,this.Za=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.a=new Pw(a.cacheSize),this.l=[0,0],this.vc=""}function Vt(a,b,c,d,e){if(!(b=a.be(b)))return!1;for(var g,h,f=!0,l=d.ca;l<=d.da;++l)for(var m=d.ea;m<=d.ha;++m)g=a.Rb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=2===g.getState())&&(h=!1!==e(g))),h||(f=!1);return f}function Sw(a,b){a.vc!==b&&(a.vc=b,a.s())}function Tw(a,b,c){var d=void 0!==c?c:a.c;if(c=a.Ta(d),a.u&&d.c){var e=b;b=e[0],a=uc(c,e),Ra(d=zc(d),a)?b=e:(e=jb(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.kg(a,b))}if(e=b[0],d=b[1],a=b[2],c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=!(c=f?pc(c,f,e):c.a?c.a[e]:null)||xa(c,d,a)}return c?b:null}function Uw(a,b){Qc.call(this,a),this.tile=b}function Vw(a){Rw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.Hc?this.Hc.bind(this):Nw,this.urls=null,a.urls?this.ib(a.urls):a.url&&this.nb(a.url),a.tileUrlFunction&&this.hb(a.tileUrlFunction)}function X(a){Vw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Ww,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=a.tileClass?a.tileClass:it,this.g={},this.v={},this.Sa=a.reprojectionErrorThreshold,this.I=!1}function Xw(a,b,c,d,e,f,g){return b=[b,c,d],e=(c=Tw(a,b,f))?a.tileUrlFunction(c,e,f):void 0,e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction),e.key=g,y(e,"change",a.Vi,a),e}function Yw(a,b,c,d,e,f){var g=a.Rb(b,c,d),h=a.vc;if(a.a.b.hasOwnProperty(g)){var l=a.a.get(g);if(l.key!=h){var m=l;l=Xw(a,b,c,d,e,f,h),0==m.getState()?l.a=m.a:l.a=m,gt(l),a.a.replace(g,l)}}else l=Xw(a,b,c,d,e,f,h),a.a.set(g,l);return l}function Ww(a,b){a.Y().src=b}function Zw(a){this.i=void 0!==a.hidpi&&a.hidpi,X.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Wb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===a.wrapX||a.wrapX}),this.S=void 0!==a.culture?a.culture:"en-us",this.C=void 0!==a.maxZoom?a.maxZoom:-1,this.o=a.key,this.B=a.imagerySet,Iw("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.o,this.oa.bind(this),void 0,"jsonp")}function ax(a){var b=void 0!==(a=a||{}).projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:xc({extent:zc(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX})}function bx(a){this.B=a.account,this.C=a.map||"",this.i=a.config||{},this.o={},ax.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX}),cx(this)}function cx(a){var b=JSON.stringify(a.i);if(a.o[b])dx(a,a.o[b]);else{var c="https://"+a.B+".cartodb.com/api/v1/map";a.C&&(c+="/named/"+a.C);var d=new XMLHttpRequest;d.addEventListener("load",a.Pl.bind(a,b)),d.addEventListener("error",a.Ol.bind(a)),d.open("POST",c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(a.i))}}function dx(a,b){a.nb("https://"+b.cdn_url.https+"/"+a.B+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")}function Y(a){V.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.resolution=void 0,this.distance=void 0!==a.distance?a.distance:20,this.features=[],this.geometryFunction=a.geometryFunction||function(a){return a=a.W(),va(a instanceof C,10),a},this.source=a.source,this.source.J("change",Y.prototype.ra,this)}function ex(a){if(void 0!==a.resolution){a.features.length=0;for(var b=Ma(),c=a.distance*a.resolution,d=a.source.fe(),e={},f=0,g=d.length;f<g;f++){var h=d[f];w(h).toString()in e||!(h=a.geometryFunction(h))||(h=h.V(),Xa(h,b),Oa(b,c,b),h=a.source.ag(b),h=h.filter(function(a){return!((a=w(a).toString())in e)&&(e[a]=!0)}),a.features.push(fx(a,h)))}}}function fx(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.geometryFunction(b[d]);e?bf(c,e.V()):b.splice(d,1)}return jf(c,1/b.length),(a=new Bl(new C(c))).set("features",b),a}function gx(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");return a=a.replace(/[?&]$/,""),(a=-1===a.indexOf("?")?a+"?":a+"&")+d}function hx(a){a=a||{},dw.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.S=void 0!==a.crossOrigin?a.crossOrigin:null,this.U=void 0===a.hidpi||a.hidpi,this.a=a.url,this.g=a.imageLoadFunction?a.imageLoadFunction:jw,this.v=a.params||{},this.M=null,this.o=[0,0],this.I=0,this.C=void 0!==a.ratio?a.ratio:1.5}function ix(a){dw.call(this,{projection:a.projection,resolutions:a.resolutions}),this.S=void 0!==a.crossOrigin?a.crossOrigin:null,this.o=void 0!==a.displayDpi?a.displayDpi:96,this.g=a.params||{},this.I=a.url,this.a=a.imageLoadFunction?a.imageLoadFunction:jw,this.U=void 0===a.hidpi||a.hidpi,this.oa=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.v=void 0!==a.ratio?a.ratio:1,this.va=void 0!==a.useOverlay&&a.useOverlay,this.M=null,this.C=0}function jx(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=a.imageLoadFunction?a.imageLoadFunction:jw;dw.call(this,{attributions:a.attributions,logo:a.logo,projection:Wb(a.projection)}),this.M=new ct(b,void 0,1,this.j,a.url,c,d),this.a=a.imageSize?a.imageSize:null,y(this.M,"change",this.l,this)}function kx(a){a=a||{},dw.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.oa=void 0!==a.crossOrigin?a.crossOrigin:null,this.g=a.url,this.v=a.imageLoadFunction?a.imageLoadFunction:jw,this.a=a.params||{},this.o=!0,lx(this),this.U=a.serverType,this.va=void 0===a.hidpi||a.hidpi,this.M=null,this.C=[0,0],this.S=0,this.I=void 0!==a.ratio?a.ratio:1.5}function nx(a,b,c,d,e,f){if(va(void 0!==a.g,9),f[a.o?"CRS":"SRS"]=e.qb,"STYLES"in a.a||(f.STYLES=""),1!=d)switch(a.U){case"geoserver":d=90*d+.5|0,f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+";dpi:"+d:"dpi:"+d;break;case"mapserver":f.MAP_RESOLUTION=90*d;break;case"carmentaserver":case"qgis":f.DPI=90*d;break;default:va(!1,8)}f.WIDTH=c[0],f.HEIGHT=c[1],c=e.a;var g;return g=a.o&&"ne"==c.substr(0,2)?[b[1],b[0],b[3],b[2]]:b,f.BBOX=g.join(","),gx(a.g,f)}function lx(a){a.o=0<=af(a.a.VERSION||"1.3.0")}function ox(a){var b;b=void 0!==(a=a||{}).attributions?a.attributions:[px],ax.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0===a.opaque||a.opaque,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}function qx(a){this.C=null,this.va=void 0!==a.operationType?a.operationType:"pixel",this.Sa=void 0!==a.threads?a.threads:1,this.g=rx(a.sources);for(var b=0,c=this.g.length;b<c;++b)y(this.g[b],"change",this.s,this);this.U=new Se(function(){return 1},this.s.bind(this)),c={};for(var d=0,e=(b=sx(this.g)).length;d<e;++d)c[w(b[d].layer)]=b[d];this.a=null,this.I={animate:!1,attributions:{},coordinateToPixelTransform:Ih(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateTransform:Ih(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.U,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},dw.call(this,{}),a.operation&&this.v(a.operation,a.lib)}function sx(a){return a.map(function(a){return yh(a.a)})}function rx(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof Rw?(f=new zw({source:f}),g=new rw(f)):f instanceof dw&&(f=new qw({source:f}),g=new Wv(f)),c[e]=g}return c}function ux(a,b,c){Qc.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c}function xx(a){var b=a.layer.indexOf("-");b=yx[-1==b?a.layer:a.layer.slice(0,b)];var c=zx[a.layer];ax.call(this,{attributions:Ax,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Kb,wrapX:a.wrapX})}function Bx(a){a=a||{},X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.i=a.params||{},this.o=Ma(),Sw(this,Cx(this))}function Cx(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function Dx(a){Rw.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0===a.wrapX||a.wrapX})}function Ex(a,b,c){et.call(this,a,2),this.c=b,this.ua=c,this.f=null}function Fx(a){if(this.i=null,X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Wb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0===a.wrapX||a.wrapX}),a.url)if(a.jsonp)Iw(a.url,this.wg.bind(this),this.ff.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.No.bind(this)),b.addEventListener("error",this.Mo.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.wg(a.tileJSON):va(!1,51)}function Gx(a){if(Rw.call(this,{projection:Wb("EPSG:3857"),state:"loading"}),this.v=void 0===a.preemptive||a.preemptive,this.o=Nw,this.g=void 0,this.i=a.jsonp||!1,a.url)if(this.i)Iw(a.url,this.xg.bind(this),this.gf.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Ro.bind(this)),b.addEventListener("error",this.Qo.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.xg(a.tileJSON):va(!1,51)}function Ix(a,b,c,d,e,f){et.call(this,a,b),this.l=c,this.f=d,this.v=e,this.c=this.j=this.g=null,this.o=f}function Hx(a,b,c,d,e){0==a.state&&!0===e?(Lc(a,"change",function(){c.call(d,this.getData(b))},a),Jx(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}function Jx(a){if(0==a.state)if(a.state=1,a.o)Iw(a.l,a.Ti.bind(a),a.Oe.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.Po.bind(a)),b.addEventListener("error",a.Oo.bind(a)),b.open("GET",a.l),b.send()}}function Kx(a){var b=(a=a||{}).params||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.B=void 0!==a.gutter?a.gutter:0,this.i=b,this.o=!0,this.C=a.serverType,this.U=void 0===a.hidpi||a.hidpi,this.S="",Lx(this),this.ga=Ma(),Mx(this),Sw(this,Nx(this))}function Ox(a,b,c,d,e,f,g){var h=a.urls;if(h){if(g.WIDTH=c[0],g.HEIGHT=c[1],g[a.o?"CRS":"SRS"]=f.qb,"STYLES"in a.i||(g.STYLES=""),1!=e)switch(a.C){case"geoserver":c=90*e+.5|0,g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+";dpi:"+c:"dpi:"+c;break;case"mapserver":g.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":g.DPI=90*e;break;default:va(!1,52)}return f=f.a,a.o&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a),g.BBOX=d.join(","),gx(1==h.length?h[0]:h[Ga((b[1]<<b[0])+b[2],h.length)],g)}}function Lx(a){var b=0,c=[];if(a.urls){var d,e=0;for(d=a.urls.length;e<d;++e)c[b++]=a.urls[e]}a.S=c.join("#")}function Nx(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function Mx(a){a.o=0<=af(a.i.VERSION||"1.3.0")}function Px(a,b,c,d,e,f,g,h,l,m,n,p,q,t){if(et.call(this,a,b),this.j={},this.l={},this.c=m,this.f=[],this.u=c,this.v=f,this.g=[],this.o=[],f){var u=l.Fa(f),x=l.Ca(a[0]);h.Yf(u,h.uc(x),function(a){var b=nb(u,h.Fa(a));if(.5<=jb(b)/x&&.5<=kb(b)/x){b=a.toString();var c=m[b];c||(c=g(a,n,p),c=m[b]=new q(a,void 0==c?4:0,void 0==c?"":c,d,e),this.o.push(y(c,"change",t))),c.g++,this.f.push(b)}}.bind(this))}}function Fw(a,b){return(b=w(b).toString())in a.j||(a.j[b]=ld()),a.j[b]}function Dw(a,b){return(b=w(b).toString())in a.l||(a.l[b]={Td:!1,Sg:null,xf:-1,Tg:-1}),a.l[b]}function Qx(a,b){a.Xg(Wl(b,a.o,a.np.bind(a),a.mp.bind(a)))}function Rx(a,b,c,d,e){et.call(this,a,b),this.g=0,this.l=null,this.o=d,this.c=null,this.j={},this.R=e,this.v=c}function Gw(a,b,c){return a.j[w(b)+","+c]}function Tx(a){var b=a.projection||"EPSG:3857",c=a.extent||zc(b),d=a.tileGrid||xc({extent:c,maxZoom:a.maxZoom||22,minZoom:a.minZoom,tileSize:a.tileSize||512});Vw.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:c,logo:a.logo,opaque:!1,projection:b,state:a.state,tileGrid:d,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Qx,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.g=a.format?a.format:null,this.v={},this.o=void 0==a.overlaps||a.overlaps,this.tileClass=a.tileClass?a.tileClass:Rx,this.i={},this.tileGrid||(this.tileGrid=this.Ta(Wb(a.projection||"EPSG:3857")))}function Ux(a){this.l=a.matrixIds,mc.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}function Vx(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[],m=(c=Wb(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))).Nc(),n="ne"==c.a.substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a){var b;if(b=!(0<l.length)||la(l,function(b){return a.Identifier==b.TileMatrix})){e.push(a.Identifier),b=28e-5*a.ScaleDenominator/m;var c=a.TileWidth,p=a.TileHeight;n?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):f.push(a.TopLeftCorner),d.push(b),g.push(c==p?c:[c,p]),h.push([a.MatrixWidth,-a.MatrixHeight])}}),new Ux({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})}function Z(a){this.ga=void 0!==a.version?a.version:"1.0.0",this.B=void 0!==a.format?a.format:"image/jpeg",this.i=a.dimensions?a.dimensions:{},this.C=a.layer,this.o=a.matrixSet,this.S=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=Ow(a.url));var d=this.U=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.C,style:this.S,tilematrixset:this.o};"KVP"==d&&rb(f,{Service:"WMTS",Request:"GetTile",Version:this.ga,Format:this.B});var g=this.i,h=c&&0<c.length?Mw(c.map(function(a){return a="KVP"==d?gx(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};return rb(c,g),b=a,b="KVP"==d?gx(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}})):Nw;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX&&a.wrapX}),Sw(this,Wx(this))}function Wx(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function Xx(a){var b=(a=a||{}).size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:Yx){case Yx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case Zx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:va(!1,53)}e.push([1,1]),e.reverse(),f=[1];var g=[0];for(d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse(),b=new mc({extent:b=[0,-b[1],b[0],0],origin:gb(b),resolutions:f}),(f=a.url)&&-1==f.indexOf("{TileGroup}")&&(f+="{TileGroup}/{z}-{x}-{y}.jpg"),f=Mw((f=Ow(f)).map(function(a){return function(b){if(b){var c=b[0],d=b[1],f={z:c,x:d,y:b=-b[2]-1,TileGroup:"TileGroup"+((d+b*e[c][0]+g[c])/256|0)};return a.replace(/\{(\w+?)\}/g,function(a,b){return f[b]})}}})),X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:$x,tileGrid:b,tileUrlFunction:f})}function $x(a,b,c,d,e){it.call(this,a,b,c,d,e),this.f=null}var k,ba,ca,OPENLAYERS={},aa=this,sa=0;v(ua,Error);var Ba="cosh"in Math?Math.cosh:function(a){return((a=Math.exp(a))+1/a)/2},rb="function"==typeof Object.assign?Object.assign:function(a,b){if(!a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};vb.prototype.a=function(a){return wb(a,this.radius)},vb.prototype.b=function(a,b){return xb(a,b,this.radius)},vb.prototype.offset=function(a,b,c){var d=Fa(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(Fa(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Bb={};Bb.degrees=12741994*Math.PI/360,Bb.ft=.3048,Bb.m=1,Bb["us-ft"]=1200/3937;var Cb=null;(k=Db.prototype).Uk=function(){return this.qb},k.G=function(){return this.i},k.jo=function(){return this.b},k.Nc=function(){return this.o||Bb[this.b]},k.Fl=function(){return this.g},k.rm=function(){return this.c},k.nq=function(a){this.c=a,this.f=!(!a||!this.i)},k.ko=function(a){this.i=a,this.f=!(!this.c||!a)},k.yq=function(a){this.g=a},k.mq=function(a){this.l=a},v(Eb,Db);var Hb=6378137*Math.PI,Fb=[-Hb,-Hb,Hb,Hb],Gb=[-180,-85,180,85],Ib=[new Eb("EPSG:3857"),new Eb("EPSG:102100"),new Eb("EPSG:102113"),new Eb("EPSG:900913"),new Eb("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Eb("urn:ogc:def:crs:EPSG::3857"),new Eb("http://www.opengis.net/gml/srs/epsg.xml#3857")];v(Lb,Db);var Mb=[-180,-90,180,90],Nb=6378137*Math.PI/180,Ob=[new Lb("CRS:84"),new Lb("EPSG:4326","neu"),new Lb("urn:ogc:def:crs:EPSG::4326","neu"),new Lb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Lb("urn:ogc:def:crs:OGC:1.3:CRS84"),new Lb("urn:ogc:def:crs:OGC:2:84"),new Lb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Lb("urn:x-ogc:def:crs:EPSG:4326","neu")],Pb={},Qb={},Tb=new vb(6371008.8);jc();var oc=[0,0,0];(k=mc.prototype).Yf=function(a,b,c){for(var d=(a=pc(this,a,b)).ca,e=a.da;d<=e;++d)for(var f=a.ea,g=a.ha;f<=g;++f)c([b,d,f])},k.G=function(){return this.v},k.cj=function(){return this.maxZoom},k.dj=function(){return this.minZoom},k.Sc=function(a){return this.f?this.f:this.c[a]},k.Ca=function(a){return this.b[a]},k.ej=function(){return this.b},k.Fa=function(a,b){var c=this.Sc(a[0]),d=this.Ca(a[0]),e=Ka(this.eb(a[0]),this.j),f=c[0]+a[1]*e[0]*d;return a=c[1]+a[2]*e[1]*d,Va(f,a,f+e[0]*d,a+e[1]*d,b)},k.Me=function(a,b,c){return tc(this,a[0],a[1],b,!1,c)},k.kg=function(a,b,c){return tc(this,a[0],a[1],this.Ca(b),!1,c)},k.eb=function(a){return this.g?this.g:this.i[a]},k.uc=function(a,b){return Aa(ja(this.b,a,b||0),this.minZoom,this.maxZoom)},Cc.prototype.f=function(){return this.b},Oc.prototype.mc=!1,Oc.prototype.ka=ra,Qc.prototype.preventDefault=Qc.prototype.stopPropagation=function(){this.Dp=!0},v(Sc,Oc),Sc.prototype.addEventListener=function(a,b){var c=this.pa[a];c||(c=this.pa[a]=[]),-1===c.indexOf(b)&&c.push(b)},Sc.prototype.b=function(a){var b="string"==typeof a?new Qc(a):a;a=b.type,b.target=this;var c=this.pa[a];if(c){a in this.qa||(this.qa[a]=0,this.Va[a]=0),++this.qa[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.Dp){var f=!1;break}if(!--this.qa[a]){for(b=this.Va[a],delete this.Va[a];b--;)this.removeEventListener(a,ra);delete this.qa[a]}return f}},Sc.prototype.ka=function(){Nc(this)},Sc.prototype.removeEventListener=function(a,b){var c=this.pa[a];c&&(b=c.indexOf(b),a in this.Va?(c[b]=ra,++this.Va[a]):(c.splice(b,1),c.length||delete this.pa[a]))},v(Uc,Sc),(k=Uc.prototype).s=function(){++this.f,this.b("change")},k.L=function(){return this.f},k.J=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=y(this,a[f],b,c);return e}return y(this,a,b,c)},k.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Lc(this,a[f],b,c);return e}return Lc(this,a,b,c)},k.K=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Mc(this,a[d],b,c);else Mc(this,a,b,c)},v(Vc,Uc);var Wc={};(k=Vc.prototype).get=function(a){var b;return this.R.hasOwnProperty(a)&&(b=this.R[a]),b},k.O=function(){return Object.keys(this.R)},k.N=function(){return rb({},this.R)},k.set=function(a,b,c){c?this.R[a]=b:(c=this.R[a],this.R[a]=b,c!==b&&Yc(this,a,c))},k.H=function(a,b){for(var c in a)this.set(c,a[c],b)},k.P=function(a,b){if(a in this.R){var c=this.R[a];delete this.R[a],b||Yc(this,a,c)}},v(Zc,Qc),v($c,Vc),(k=$c.prototype).clear=function(){for(;0<this.ec();)this.pop()},k.ng=function(a){var b,c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this},k.forEach=function(a,b){a=b?a.bind(b):a;for(var c=0,d=(b=this.a).length;c<d;++c)a(b[c],c,b)},k.Hm=function(){return this.a},k.item=function(a){return this.a[a]},k.ec=function(){return this.get(cd)},k.Se=function(a,b){this.c&&ad(this,b),this.a.splice(a,0,b),bd(this),this.b(new dd("add",b))},k.pop=function(){return this.Pg(this.ec()-1)},k.push=function(a){this.c&&ad(this,a);var b=this.ec();return this.Se(b,a),this.ec()},k.remove=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.Pg(d)},k.Pg=function(a){var b=this.a[a];return this.a.splice(a,1),bd(this),this.b(new dd("remove",b)),b},k.jq=function(a,b){var c=this.ec();if(a<c)this.c&&ad(this,b,a),c=this.a[a],this.a[a]=b,this.b(new dd("remove",c)),this.b(new dd("add",b));else{for(;c<a;++c)this.Se(c,void 0);this.Se(a,b)}};var cd="length";v(dd,Qc);var ed=/^#(?:[0-9a-f]{3}){1,2}$/i,fd=/^([a-z]*)$/i,hd=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)3&d++||(delete a[e],--b)}if(d=c,fd.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e)),ed.exec(d)){var f=d.length-1;va(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16),e=parseInt(d.substr(1+1*g,g),16),d=parseInt(d.substr(1+2*g,g),16),1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=(d<<4)+d),f=[f,e,d,1]}else d.indexOf("rgba(")?d.indexOf("rgb(")?va(!1,14):((d=d.slice(4,-1).split(",").map(Number)).push(1),f=jd(d)):(d=d.slice(5,-1).split(",").map(Number),f=jd(d));d=f,a[c]=d,++b}return d}}();v(od,Vc),od.prototype.ka=function(){nd(this.element),Vc.prototype.ka.call(this)},od.prototype.g=function(){return this.a},od.prototype.setMap=function(a){this.a&&nd(this.element);for(var b=0,c=this.v.length;b<c;++b)Gc(this.v[b]);this.v.length=0,(this.a=a)&&((this.S?this.S:a.D).appendChild(this.element),this.render!==ra&&this.v.push(y(a,"postrender",this.render,this)),a.render())},od.prototype.i=function(a){this.S="string"==typeof a?document.getElementById(a):a},v(pd,od),(k=pd.prototype).jn=function(a){a.preventDefault(),rd(this)},k.hn=function(){return this.l},k.ln=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.c&&rd(this))},k.kn=function(a){this.l&&this.c!==a&&rd(this)},k.gn=function(){return this.c},v(wd,od),wd.prototype.D=function(a){a.preventDefault(),this.l?this.l():(a=this.a.$())&&void 0!==a.Qa()&&(0<this.o?a.animate({rotation:0,duration:this.o,easing:td}):a.Ze(0))},v(yd,od),yd.prototype.j=function(a,b){if(b.preventDefault(),b=this.a.$()){var c=b.Pa();c&&(a=b.constrainResolution(c,a),0<this.c?(b.Kc()&&b.hd(),b.animate({resolution:a,duration:this.c,easing:td})):b.Yc(a))}},v(Ad,od),Ad.prototype.B=function(a){a.preventDefault(),Cd()&&(a=this.a)&&(Bd()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:a.pd(),this.D?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Dd(a):Dd(a)))},Ad.prototype.u=function(){var a=this.element.firstElementChild,b=this.a;Bd()?(a.className=this.c+"-true",md(this.o,this.l)):(a.className=this.c+"-false",md(this.l,this.o)),b&&b.Fd()},Ad.prototype.setMap=function(a){od.prototype.setMap.call(this,a),a&&this.v.push(y(document,Ed(),this.u,this))};var Ed=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();v(Fd,od),(k=Fd.prototype).mn=function(){this.j=null},k.Fh=function(){return this.get(Jd)},k.ii=function(){return this.get(Hd)},k.Xl=function(a){this.l=this.a.He(a),Id(this,this.l)},k.Yl=function(){Id(this,null),this.l=null},k.setMap=function(a){od.prototype.setMap.call(this,a),a&&(a=a.a,this.v.push(y(a,"mousemove",this.Xl,this),y(a,"mouseout",this.Yl,this)))},k.uj=function(a){this.set(Jd,a)},k.ji=function(a){this.set(Hd,Wb(a))};var Hd="projection",Jd="coordinateFormat";v(Kd,Qc),v(Ld,Kd),Ld.prototype.preventDefault=function(){Kd.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Ld.prototype.stopPropagation=function(){Kd.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Od,ce,Md=["experimental-webgl","webgl","webkit-3d","moz-webgl"],Pd="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Qd=-1!==Pd.indexOf("firefox"),Rd=-1!==Pd.indexOf("safari")&&-1==Pd.indexOf("chrom"),Sd=-1!==Pd.indexOf("webkit")&&-1==Pd.indexOf("edge"),Td=-1!==Pd.indexOf("macintosh"),Ud=window.devicePixelRatio||1,Vd=!1,Wd=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return!!a&&(void 0!==a.setLineDash&&(Vd=!0),!0)}catch(b){return!1}}(),Xd="DeviceOrientationEvent"in window,Yd="geolocation"in navigator,Zd="ontouchstart"in window,$d="PointerEvent"in window,ae=!!navigator.msPointerEnabled,be=!1,de=[];if("WebGLRenderingContext"in window)try{var ee=Nd(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ee&&(be=!0,ce=ee.getParameter(ee.MAX_TEXTURE_SIZE),de=ee.getSupportedExtensions())}catch(a){}Od=be,ca=de,ba=ce;var fe={Wq:"singleclick",Lq:"click",Mq:"dblclick",Pq:"pointerdrag",Sq:"pointermove",Oq:"pointerdown",Vq:"pointerup",Uq:"pointerover",Tq:"pointerout",Qq:"pointerenter",Rq:"pointerleave",Nq:"pointercancel"};v(ie,Ld),v(ke,je),(k=ke.prototype).tm=function(a){if(!le(this,a)){1..toString()in this.a&&this.cancel(a);var b=me(a);this.a[1..toString()]=a,oe(this.b,"pointerdown",b,a)}},k.um=function(a){if(!le(this,a)){var b=me(a);oe(this.b,"pointermove",b,a)}},k.xm=function(a){if(!le(this,a)){var b=this.a[1..toString()];b&&b.button===a.button&&(b=me(a),oe(this.b,"pointerup",b,a),delete this.a[1..toString()])}},k.wm=function(a){if(!le(this,a)){var b=me(a);pe(this.b,b,a)}},k.vm=function(a){if(!le(this,a)){var b=me(a);qe(this.b,b,a)}},k.cancel=function(a){var b=me(a);this.b.cancel(b,a),delete this.a[1..toString()]},v(re,je),(k=re.prototype).Cm=function(a){this.a[a.pointerId.toString()]=a;var b=se(this,a);oe(this.b,"pointerdown",b,a)},k.Dm=function(a){var b=se(this,a);oe(this.b,"pointermove",b,a)},k.Gm=function(a){var b=se(this,a);oe(this.b,"pointerup",b,a),delete this.a[a.pointerId.toString()]},k.Em=function(a){var b=se(this,a);qe(this.b,b,a)},k.Fm=function(a){var b=se(this,a);pe(this.b,b,a)},k.Bm=function(a){var b=se(this,a);this.b.cancel(b,a),delete this.a[a.pointerId.toString()]},k.Am=function(a){this.b.b(new te("lostpointercapture",a,a))},k.zm=function(a){this.b.b(new te("gotpointercapture",a,a))},v(ue,je),(k=ue.prototype).vp=function(a){ve(this.b,a)},k.wp=function(a){ve(this.b,a)},k.zp=function(a){ve(this.b,a)},k.xp=function(a){ve(this.b,a)},k.yp=function(a){ve(this.b,a)},k.up=function(a){ve(this.b,a)},k.sm=function(a){ve(this.b,a)},k.Gl=function(a){ve(this.b,a)},v(te,Qc);var ye=!1;try{ye=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}v(ze,je),(k=ze.prototype).sj=function(){this.g=0,this.c=void 0},k.Fq=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var f,e=[];for(f=0;f<d;++f){var l,g=c[f],h=this.a[g];if(!(l=1==g))a:{for(var m=b.length,n=0;n<m;n++)if((l=b[n]).identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Rf(a,e[f])}b=a.changedTouches[0],(!(c=Object.keys(this.a).length)||1===c&&1..toString()in this.a)&&(this.f=b.identifier,void 0!==this.c&&clearTimeout(this.c)),Ce(this,a),this.g++,Be(this,a,this.qp)},k.qp=function(a,b){this.a[b.pointerId]={target:b.target,out:b,fj:b.target};var c=this.b;b.bubbles=!0,oe(c,"pointerover",b,a),c=this.b,b.bubbles=!1,oe(c,"pointerenter",b,a),oe(this.b,"pointerdown",b,a)},k.Eq=function(a){a.preventDefault(),Be(this,a,this.ym)},k.ym=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.fj;oe(this.b,"pointermove",b,a),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(qe(this.b,d,a),pe(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Rf(a,b))),c.out=b,c.fj=b.target}},k.Dq=function(a){Ce(this,a),Be(this,a,this.Gq)},k.Gq=function(a,b){oe(this.b,"pointerup",b,a),this.b.out(b,a),De(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.f=void 0,this.c=setTimeout(this.sj.bind(this),200))},k.Cq=function(a){Be(this,a,this.Rf)},k.Rf=function(a,b){this.b.cancel(b,a),this.b.out(b,a),De(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.f=void 0,this.c=setTimeout(this.sj.bind(this),200))},v(Ee,Sc),Ee.prototype.c=function(a){var b=this.i[a.type];b&&b(a)},Ee.prototype.out=function(a,b){a.bubbles=!0,oe(this,"pointerout",a,b)},Ee.prototype.cancel=function(a,b){oe(this,"pointercancel",a,b)},Ee.prototype.ka=function(){for(var b,a=this.a.length,c=0;c<a;c++)b=this.a[c],He(this,Object.keys(b.i));Sc.prototype.ka.call(this)};var Ie=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];v(Je,Sc),(k=Je.prototype).Sh=function(a){Le(this,a);var b=new ie("pointerup",this.f,a);this.b(b),this.l||a.button||Ke(this,this.c),this.R||(this.i.forEach(Gc),this.i.length=0,this.l=!1,this.c=null,Pc(this.a),this.a=null)},k.$l=function(a){Le(this,a);var b=new ie("pointerdown",this.f,a);this.b(b),this.c=a,this.i.length||(this.a=new Ee(document),this.i.push(y(this.a,"pointermove",this.Vm,this),y(this.a,"pointerup",this.Sh,this),y(this.g,"pointercancel",this.Sh,this)))},k.Vm=function(a){if(Me(this,a)){this.l=!0;var b=new ie("pointerdrag",this.f,a,this.l);this.b(b)}a.preventDefault()},k.Yp=function(a){this.b(new ie(a.type,this.f,a,!(!this.c||!Me(this,a))))},k.ka=function(){this.v&&(Gc(this.v),this.v=null),this.o&&(Gc(this.o),this.o=null),this.i.forEach(Gc),this.i.length=0,this.a&&(Pc(this.a),this.a=null),this.g&&(Pc(this.g),this.g=null),Sc.prototype.ka.call(this)},Ne.prototype.clear=function(){this.b.length=0,this.f.length=0,sb(this.a)},Ne.prototype.i=function(a){va(!(this.c(a)in this.a),31);var b=this.o(a);return 1/0!=b&&(this.b.push(a),this.f.push(b),this.a[this.c(a)]=!0,Qe(this,0,this.b.length-1),!0)},v(Se,Ne),Se.prototype.i=function(a){var b=Ne.prototype.i.call(this,a);return b&&y(a[0],"change",this.l,this),b},Se.prototype.l=function(a){var b=(a=a.target).getState();2!==b&&3!==b&&4!==b&&5!==b||(Mc(a,"change",this.l,this),(a=a.fb())in this.g&&(delete this.g[a],--this.j),this.v())},v(rf,Vc),(k=rf.prototype).Db=function(a,b){return b=b||[NaN,NaN],this.Jb(a[0],a[1],b,1/0),b},k.wb=function(a){return this.Pc(a[0],a[1])},k.Pc=qf,k.G=function(a){this.v!=this.f&&(this.o=this.De(this.o),this.v=this.f);var b=this.o;return a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b,a},k.Pb=function(a){return this.ae(a*a)},k.mb=function(a,b){return this.Fc(fc(a,b)),this},v(uf,rf),(k=uf.prototype).Pc=qf,k.De=function(a){return Za(this.A,0,this.A.length,this.a,a)},k.bc=function(){return this.A.slice(0,this.a)},k.ba=function(){return this.A},k.cc=function(){return this.A.slice(this.A.length-this.a)},k.dc=function(){return this.ja},k.ae=function(a){if(this.l!=this.f&&(sb(this.i),this.g=0,this.l=this.f),0>a||this.g&&a<=this.g)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=this.od(a);return c.ba().length<this.A.length?this.i[b]=c:(this.g=a,this)},k.od=function(){return this},k.ma=function(){return this.a},k.Fc=function(a){this.A&&(a(this.A,this.A,this.a),this.s())},k.rotate=function(a,b){var c=this.ba();if(c){var d=c.length,e=this.ma(),f=c||[],g=Math.cos(a);a=Math.sin(a);var h=b[0];b=b[1];for(var l=0,m=0;m<d;m+=e){var n=c[m]-h,p=c[m+1]-b;for(f[l++]=h+n*g-p*a,f[l++]=b+n*a+p*g,n=m+2;n<m+e;++n)f[l++]=c[n]}c&&f.length!=l&&(f.length=l),this.s()}},k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;if(e||(e=lb(this.G())),c=this.ba()){b=c.length;var f=this.ma(),g=c||[],h=e[0];e=e[1];for(var l=0,m=0;m<b;m+=f){var n=c[m]-h,p=c[m+1]-e;for(g[l++]=h+a*n,g[l++]=e+d*p,n=m+2;n<m+f;++n)g[l++]=c[n]}c&&g.length!=l&&(g.length=l),this.s()}},k.translate=function(a,b){var c=this.ba();c&&(tf(c,0,c.length,this.ma(),a,b,c),this.s())},v(Of,uf),(k=Of.prototype).clone=function(){var a=new Of(null);return Pf(a,this.ja,this.A.slice()),a},k.Jb=function(a,b,c,d){return d<Qa(this.G(),a,b)?d:(this.c!=this.f&&(this.j=Math.sqrt(Bf(this.A,0,this.A.length,this.a,0)),this.c=this.f),Df(this.A,0,this.A.length,this.a,this.j,!0,a,b,c,d))},k.Fn=function(){return yf(this.A,0,this.A.length,this.a)},k.V=function(){return If(this.A,0,this.A.length,this.a)},k.od=function(a){var b=[];return b.length=Lf(this.A,0,this.A.length,this.a,a,b,0),a=new Of(null),Pf(a,"XY",b),a},k.T=function(){return"LinearRing"},k.Ya=function(){},k.na=function(a,b){a?(xf(this,b,a,1),this.A||(this.A=[]),this.A.length=Gf(this.A,0,a,this.a),this.s()):Pf(this,"XY",null)},v(C,uf),(k=C.prototype).clone=function(){var a=new C(null);return a.aa(this.ja,this.A.slice()),a},k.Jb=function(a,b,c,d){var e=this.A;if((a=Ea(a,b,e[0],e[1]))<d){for(d=this.a,b=0;b<d;++b)c[b]=e[b];return c.length=d,a}return d},k.V=function(){return this.A?this.A.slice():[]},k.De=function(a){return Xa(this.A,a)},k.T=function(){return"Point"},k.Ya=function(a){return Sa(a,this.A[0],this.A[1])},k.na=function(a,b){a?(xf(this,b,a,0),this.A||(this.A=[]),this.A.length=Ff(this.A,a),this.s()):this.aa("XY",null)},k.aa=function(a,b){wf(this,a,b),this.s()},v(D,uf),(k=D.prototype).zk=function(a){this.A?ka(this.A,a.ba()):this.A=a.ba().slice(),this.c.push(this.A.length),this.s()},k.clone=function(){var a=new D(null);return a.aa(this.ja,this.A.slice(),this.c.slice()),a},k.Jb=function(a,b,c,d){return d<Qa(this.G(),a,b)?d:(this.B!=this.f&&(this.C=Math.sqrt(Cf(this.A,0,this.c,this.a,0)),this.B=this.f),Ef(this.A,0,this.c,this.a,this.C,!0,a,b,c,d))},k.Pc=function(a,b){return Sf(this.Tb(),0,this.c,this.a,a,b)},k.In=function(){return zf(this.Tb(),0,this.c,this.a)},k.V=function(a){if(void 0!==a){var b=this.Tb().slice();Zf(b,0,this.c,this.a,a)}else b=this.A;return Jf(b,0,this.c,this.a)},k.sb=function(){return this.c},k.el=function(){return new C(ag(this))},k.kl=function(){return this.c.length},k.Kh=function(a){if(0>a||this.c.length<=a)return null;var b=new Of(null);return Pf(b,this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a])),b},k.Zd=function(){var f,a=this.ja,b=this.A,c=this.c,d=[],e=0,g=0;for(f=c.length;g<f;++g){var h=c[g],l=new Of(null);Pf(l,a,b.slice(e,h)),d.push(l),e=h}return d},k.Tb=function(){if(this.I!=this.f){var a=this.A;Yf(a,this.c,this.a)?this.j=a:(this.j=a.slice(),this.j.length=Zf(this.j,0,this.c,this.a)),this.I=this.f}return this.j},k.od=function(a){var b=[],c=[];return b.length=Mf(this.A,0,this.c,this.a,Math.sqrt(a),b,0,c),(a=new D(null)).aa("XY",b,c),a},k.T=function(){return"Polygon"},k.Ya=function(a){return Wf(this.Tb(),0,this.c,this.a,a)},k.na=function(a,b){a?(xf(this,b,a,2),this.A||(this.A=[]),a=Hf(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.aa("XY",null,this.c)},k.aa=function(a,b,c){wf(this,a,b),this.c=c,this.s()},v(F,Vc),(k=F.prototype).animate=function(a){var b=Date.now(),c=this.xa().slice(),d=this.Pa(),e=this.Qa(),f=arguments.length;if(1<f&&"function"==typeof arguments[f-1]){var g=arguments[f-1];--f}for(var h=[],l=0;l<f;++l){var m=arguments[l],n={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||ud};m.center&&(n.le=c,n.pe=m.center,c=n.pe),void 0!==m.zoom?(n.ne=d,n.ad=this.constrainResolution(this.a,m.zoom-this.o,0),d=n.ad):m.resolution&&(n.ne=d,n.ad=m.resolution,d=n.ad),void 0!==m.rotation&&(n.Df=e,n.qe=e+(Ga(m.rotation-e+Math.PI,2*Math.PI)-Math.PI),e=n.qe),n.callback=g,n.le&&n.pe&&!gf(n.le,n.pe)||n.ne!==n.ad||n.Df!==n.qe?b+=n.duration:n.complete=!0,h.push(n)}this.c.push(h),hg(this,0,1),this.Ff()},k.Kc=function(){return 0<ig(this)[0]},k.cl=function(){return 0<ig(this)[1]},k.hd=function(){hg(this,0,-ig(this)[0]);for(var a=0,b=this.c.length;a<b;++a){var c=this.c[a];c[0].callback&&c[0].callback(!1)}this.c.length=0},k.Ff=function(){if(void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0),this.Kc()){for(var a=Date.now(),b=!1,c=this.c.length-1;0<=c;--c){for(var d=this.c[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){if(b=a-h.start,1<=(b=0<h.duration?b/h.duration:1)?(h.complete=!0,b=1):e=!1,b=h.easing(b),h.le){var l=h.le[0],m=h.le[1];this.set("center",[l+b*(h.pe[0]-l),m+b*(h.pe[1]-m)])}if(h.ne&&h.ad&&(l=1===b?h.ad:h.ne+b*(h.ad-h.ne),h.anchor&&this.set("center",jg(this,l,h.anchor)),this.set("resolution",l)),void 0!==h.Df&&void 0!==h.qe&&(b=1===b?Ga(h.qe+Math.PI,2*Math.PI)-Math.PI:h.Df+b*(h.qe-h.Df),h.anchor&&this.set("center",kg(this,b,h.anchor)),this.set("rotation",b)),b=!0,!h.complete)break}}e&&(this.c[c]=null,hg(this,0,-1),(d=d[0].callback)&&d(!0))}this.c=this.c.filter(Boolean),b&&void 0===this.u&&(this.u=requestAnimationFrame(this.Ff))}},k.Gc=function(a){return this.g.center(a)},k.constrainResolution=function(a,b,c){return this.g.resolution(a,b||0,c||0)},k.constrainRotation=function(a,b){return this.g.rotation(a,b||0)},k.xa=function(){return this.get("center")},k.gd=function(a){a=a||lg(this);var b=this.xa();va(b,1);var c=this.Pa();va(void 0!==c,2);var d=this.Qa();return va(void 0!==d,3),mb(b,c,d,a)},k.an=function(){return this.a},k.cn=function(){return this.i},k.bn=function(){return this.Ne(this.i)},k.rq=function(a){fg(this,gg(this,{maxZoom:a}))},k.dn=function(){return this.Ne(this.a)},k.sq=function(a){fg(this,gg(this,{minZoom:a}))},k.en=function(){return this.v},k.Pa=function(){return this.get("resolution")},k.fn=function(){return this.j},k.Ke=function(a,b){return b=b||lg(this),Math.max(jb(a)/b[0],kb(a)/b[1])},k.Qa=function(){return this.get("rotation")},k.getState=function(){var a=this.xa(),b=this.v,c=this.Pa(),d=this.Qa();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}},k.Qh=function(){var a,b=this.Pa();return void 0!==b&&(a=this.Ne(b)),a},k.Ne=function(a){if(a>=this.i&&a<=this.a){var b=this.o||0;if(this.j){var c=ja(this.j,a,1);if(b+=c,c==this.j.length-1)return b;var d=this.j[c];c=d/this.j[c+1]}else d=this.a,c=this.B;b+=Math.log(d/a)/Math.log(c)}return b},k.Oh=function(a){return this.constrainResolution(this.a,a-this.o,0)},k.Xf=function(a,b){var c=(b=b||{}).size;if(c||(c=lg(this)),a instanceof uf)if("Circle"===a.T()){var d=cg(a=a.G());d.rotate(this.Qa(),lb(a))}else d=a;else va(Array.isArray(a),24),va(!ib(a),25),d=cg(a);var h,e=b.padding?b.padding:[0,0,0,0],f=void 0===b.constrainResolution||b.constrainResolution,g=void 0!==b.nearest&&b.nearest;h=void 0!==b.minResolution?b.minResolution:void 0!==b.maxZoom?this.constrainResolution(this.a,b.maxZoom-this.o,0):0;var l=d.ba(),m=this.Qa();a=Math.cos(-m),m=Math.sin(-m);var n=1/0,p=1/0,q=-1/0,t=-1/0;d=d.ma();for(var u=0,x=l.length;u<x;u+=d){var B=l[u]*a-l[u+1]*m,z=l[u]*m+l[u+1]*a;n=Math.min(n,B),p=Math.min(p,z),q=Math.max(q,B),t=Math.max(t,z)}c=this.Ke([n,p,q,t],[c[0]-e[1]-e[3],c[1]-e[0]-e[2]]),c=isNaN(c)?h:Math.max(c,h),f&&(h=this.constrainResolution(c,0,0),!g&&h<c&&(h=this.constrainResolution(h,-1,0)),c=h),m=-m,a=[(h=(n+q)/2+(e[1]-e[3])/2*c)*a-(e=(p+t)/2+(e[0]-e[2])/2*c)*m,e*a+h*m],e=b.callback?b.callback:ra,void 0!==b.duration?this.animate({resolution:c,center:a,duration:b.duration,easing:b.easing},e):(this.Yc(c),this.rb(a),setTimeout(e.bind(void 0,!0),0))},k.Fk=function(a,b,c){var d=this.Qa(),e=Math.cos(-d);d=Math.sin(-d);var f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Pa();f+=(b[0]/2-c[0])*g,a+=(c[1]-b[1]/2)*g,d=-d,this.rb([f*e-a*d,a*e+f*d])},k.rotate=function(a,b){void 0!==b&&(b=kg(this,a,b),this.rb(b)),this.Ze(a)},k.rb=function(a){this.set("center",a),this.Kc()&&this.hd()},k.Yc=function(a){this.set("resolution",a),this.Kc()&&this.hd()},k.Ze=function(a){this.set("rotation",a),this.Kc()&&this.hd()},k.zq=function(a){this.Yc(this.Oh(a))},v(sg,Vc),sg.prototype.c=function(){return this.get("active")},sg.prototype.i=function(){return this.v},sg.prototype.Ia=function(a){this.set("active",a)},sg.prototype.setMap=function(a){this.v=a},v(wg,sg),v(Jg,sg),Jg.prototype.$c=function(a){return a},v(Mg,Jg),Mg.prototype.$c=qf,v(Qg,Jg),Qg.prototype.$c=qf,v(Ug,Oc),Ug.prototype.ka=function(){this.setMap(null)},Ug.prototype.setMap=function(a){if(this.b){this.b.B.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.B.appendChild(this.a)},Ug.prototype.W=function(){return this.Ic},v(Xg,Jg),Xg.prototype.W=function(){return this.a.W()},Xg.prototype.j=ra;var eh="boxstart",ch="boxdrag",dh="boxend";v(bh,Qc),v(fh,Xg),fh.prototype.j=function(){var a=this.v,b=a.$(),c=a.Mb(),d=this.W().G();if(this.I){var e=b.gd(c);d=[a.Ka(db(d)),a.Ka(fb(d))],a=Wa(void 0);var f,g=0;for(f=d.length;g<f;++g)Na(a,d[g]);pb(e,1/(d=b.Ke(a,c))),d=e}c=b.constrainResolution(b.Ke(d,c)),e=lb(d),e=b.Gc(e),b.animate({resolution:c,center:e,duration:this.C,easing:td})},v(gh,sg),v(ih,sg),v(kh,sg),kh.prototype.C=function(){this.o=void 0,hg(this.v.$(),1,-1)},kh.prototype.I=function(a){(a=a.$()).Kc()&&a.hd(),ug(a,-Aa(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.u=this.g=void 0},kh.prototype.U=function(a){this.B=a,a||(this.a=null)};var mh="trackpad",nh="wheel";v(oh,Jg),oh.prototype.$c=qf,v(sh,Jg),sh.prototype.$c=qf,v(xh,Vc),(k=xh.prototype).G=function(){return this.get("extent")},k.fc=function(){return this.get("maxResolution")},k.gc=function(){return this.get("minResolution")},k.hc=function(){return this.get("opacity")},k.Sb=function(){return this.get("visible")},k.za=function(){return this.get("zIndex")},k.xc=function(a){this.set("extent",a)},k.Bc=function(a){this.set("maxResolution",a)},k.Cc=function(a){this.set("minResolution",a)},k.yc=function(a){this.set("opacity",a)},k.zc=function(a){this.set("visible",a)},k.Wb=function(a){this.set("zIndex",a)},v(zh,xh),(k=zh.prototype).Ld=function(){},k.Qe=function(){this.s()},k.Tl=function(){this.i.forEach(Gc),this.i.length=0;var a=this.wd();this.i.push(y(a,"add",this.Sl,this),y(a,"remove",this.Ul,this));for(var b in this.c)this.c[b].forEach(Gc);sb(this.c);var c;for(b=0,c=(a=a.a).length;b<c;b++){var d=a[b];this.c[w(d).toString()]=[y(d,"propertychange",this.Qe,this),y(d,"change",this.Qe,this)]}this.s()},k.Sl=function(a){var b=w(a=a.element).toString();this.c[b]=[y(a,"propertychange",this.Qe,this),y(a,"change",this.Qe,this)],this.s()},k.Ul=function(a){a=w(a.element).toString(),this.c[a].forEach(Gc),delete this.c[a],this.s()},k.wd=function(){return this.get(Ch)},k.Hi=function(a){this.set(Ch,a)},k.fg=function(a){var b=void 0!==a?a:[],c=b.length;this.wd().forEach(function(a){a.fg(b)}),a=yh(this);var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?nb(e.extent,a.extent):a.extent)}return b},k.hg=function(){return"ready"};var Ch="layers";v(Dh,xh),(k=Dh.prototype).fg=function(a){return(a=a||[]).push(yh(this)),a},k.ia=function(){return this.get("source")||null},k.hg=function(){var a=this.ia();return a?a.getState():"undefined"},k.io=function(){this.s()},k.gm=function(){this.o&&(Gc(this.o),this.o=null);var a=this.ia();a&&(this.o=y(a,"change",this.io,this)),this.s()},k.setMap=function(a){this.j&&(Gc(this.j),this.j=null),a||this.s(),this.l&&(Gc(this.l),this.l=null),a&&(this.j=y(a,"precompose",function(a){var b=yh(this);b.Ue=!1,b.zIndex=1/0,a.frameState.layerStatesArray.push(b),a.frameState.layerStates[w(this)]=b},this),this.l=y(this,"change",a.render,a),this.s())},k.Zc=function(a){this.set("source",a)},Fh.prototype.clear=function(){this.b={},this.a=0},Fh.prototype.get=function(a,b,c){return(a=b+":"+a+":"+(c?id(c):"null"))in this.b?this.b[a]:null},Fh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?id(c):"null")]=d,++this.a};var Gh=new Fh,Hh=Array(6);v(Th,Oc),(k=Th.prototype).ka=function(){for(var a in this.c)Pc(this.c[a])},k.Ha=function(a,b,c,d,e,f,g){var l,m=b.viewState,n=m.resolution,p=m.projection;if(m=a,p.f){var q=jb(p=p.G()),t=a[0];(t<p[0]||t>p[2])&&(m=[t+q*Math.ceil((p[0]-t)/q),a[1]])}for(q=(p=b.layerStatesArray).length-1;0<=q;--q){var u=p[q];if(t=u.layer,Eh(u,n)&&f.call(g,t)&&(u=Wh(this,t),t.ia()&&(l=u.Ha(t.ia().u?m:a,b,c,function(a,c){var f=w(a).toString(),g=b.layerStates[w(c)].Ue;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)},e)),l))return l}},k.Oi=function(a,b,c,d,e){return void 0!==this.Ha(a,b,c,pf,this,d,e)},k.Rl=function(){this.l.render()},k.Rg=ra,k.eq=function(a,b){for(var c in this.c)if(!(b&&c in b.layerStates)){a=c;var d=this.c[a];delete this.c[a],Gc(this.v[a]),delete this.v[a],Pc(d)}},v(Yh,Qc);var Zh=[0,0,0,1],$h=[],ai=[0,0,0,1];(k=ci.prototype).wh=function(){},k.Cb=function(){},k.xd=function(){},k.$b=function(){},k.Ee=function(){},k.Fe=function(){},k.oc=function(){},k.pc=function(){},k.qc=function(){},k.rc=function(){},k.sc=function(){},k.tc=function(){},k.Qb=function(){},k.Na=function(){},k.Vb=function(){},k.gb=function(){},v(di,ci),(k=di.prototype).$b=function(a){if(ob(this.c,a.G())){if(this.a||this.b){this.a&&gi(this,this.a),this.b&&hi(this,this.b);var b=this.R,c=this.u,d=a.ba();c=(b=d?sf(d,0,d.length,a.ma(),b,c):null)[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),(d=this.f).beginPath(),d.arc(b[0],b[1],c,0,2*Math.PI),this.a&&d.fill(),this.b&&d.stroke()}""!==this.ua&&fi(this,a.xa(),2,2)}},k.xd=function(a){this.Na(a.Da(),a.Ea()),this.Vb(a.Y()),this.gb(a.Ja())},k.Cb=function(a){switch(a.T()){case"Point":this.sc(a);break;case"LineString":this.oc(a);break;case"Polygon":this.tc(a);break;case"MultiPoint":this.qc(a);break;case"MultiLineString":this.pc(a);break;case"MultiPolygon":this.rc(a);break;case"GeometryCollection":this.Fe(a);break;case"Circle":this.$b(a)}},k.Ee=function(a,b){(a=(0,b.$a)(a))&&ob(this.c,a.G())&&(this.xd(b),this.Cb(a))},k.Fe=function(a){var b,c=0;for(b=(a=a.a).length;c<b;++c)this.Cb(a[c])},k.sc=function(a){var b=a.ba();a=a.ma(),this.M&&ei(this,b,b.length),""!==this.ua&&fi(this,b,b.length,a)},k.qc=function(a){var b=a.ba();a=a.ma(),this.M&&ei(this,b,b.length),""!==this.ua&&fi(this,b,b.length,a)},k.oc=function(a){if(ob(this.c,a.G())){if(this.b){hi(this,this.b);var b=this.f,c=a.ba();b.beginPath(),ii(this,c,0,c.length,a.ma(),!1),b.stroke()}""!==this.ua&&(a=ki(a),fi(this,a,2,2))}},k.pc=function(a){var b=a.G();if(ob(this.c,b)){if(this.b){hi(this,this.b),b=this.f;var c=a.ba(),d=0,e=a.sb(),f=a.ma();b.beginPath();var g,h=0;for(g=e.length;h<g;++h)d=ii(this,c,d,e[h],f,!1);b.stroke()}""!==this.ua&&(a=li(a),fi(this,a,a.length,2))}},k.tc=function(a){if(ob(this.c,a.G())){if(this.b||this.a){this.a&&gi(this,this.a),this.b&&hi(this,this.b);var b=this.f;b.beginPath(),ji(this,a.Tb(),0,a.sb(),a.ma()),this.a&&b.fill(),this.b&&b.stroke()}""!==this.ua&&(a=ag(a),fi(this,a,2,2))}},k.rc=function(a){if(ob(this.c,a.G())){if(this.b||this.a){this.a&&gi(this,this.a),this.b&&hi(this,this.b);var g,b=this.f,c=mi(a),d=0,e=a.c,f=a.ma();b.beginPath();var h=0;for(g=e.length;h<g;++h)d=ji(this,c,d,e[h],f);this.a&&b.fill(),this.b&&b.stroke()}""!==this.ua&&(a=ni(a),fi(this,a,a.length,2))}},k.Na=function(a,b){if(a?(a=a.b,this.a={fillStyle:kd(a||Zh)}):this.a=null,b){a=b.b;var c=b.g,d=b.f,e=b.i,f=b.j,g=b.c;b=b.l,this.b={lineCap:void 0!==c?c:"round",lineDash:d||$h,lineDashOffset:e||0,lineJoin:void 0!==f?f:"round",lineWidth:this.g*(void 0!==g?g:1),miterLimit:void 0!==b?b:10,strokeStyle:kd(a||ai)}}else this.b=null},k.Vb=function(a){if(a){var b=a.Jc(),c=a.Y(1),d=a.Rc(),e=a.ic();this.D=b[0],this.B=b[1],this.C=e[1],this.M=c,this.v=a.i,this.U=d[0],this.ta=d[1],this.ga=a.o,this.jb=a.g,this.i=a.a*this.g,this.oa=a.v,this.pa=e[0]}else this.M=null},k.gb=function(a){if(a){var b=a.Da();b?(b=b.b,this.j={fillStyle:kd(b||Zh)}):this.j=null;var c=a.Ea();if(c){b=c.b;var d=c.g,e=c.f,f=c.i,g=c.j,h=c.c;c=c.l,this.o={lineCap:void 0!==d?d:"round",lineDash:e||$h,lineDashOffset:f||0,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==c?c:10,strokeStyle:kd(b||ai)}}else this.o=null;b=a.a,d=a.f,e=a.c,f=a.l,g=a.i,h=a.b,c=a.Ja();var l=a.g;a=a.j,this.qa={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==a?a:"middle"},this.ua=void 0!==c?c:"",this.va=void 0!==d?this.g*d:0,this.mc=void 0!==e?this.g*e:0,this.Sa=void 0!==f&&f,this.Za=void 0!==g?g:0,this.l=this.g*(void 0!==h?h:1)}else this.ua=""},v(oi,Th),oi.prototype.T=function(){return"canvas"},oi.prototype.Rg=function(a){if(a){var b=this.f,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=e?(this.b.width=d,this.b.height=e):b.clearRect(0,0,d,e),c=a.viewState.rotation,Uh(a),pi(this,"precompose",a);var f=a.layerStatesArray;na(f),c&&(b.save(),bi(b,c,d/2,e/2)),d=a.viewState.resolution;var g;for(e=0,g=f.length;e<g;++e){var h=f[e],l=h.layer;l=Wh(this,l),Eh(h,d)&&"ready"==h.Ij&&l.yd(a,h)&&l.u(a,h,b)}c&&b.restore(),pi(this,"postcompose",a),this.a||(this.b.style.display="",this.a=!0),Xh(this,a),a.postRenderFunctions.push(Vh)}else this.a&&(this.b.style.display="none",this.a=!1)},oi.prototype.Ni=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,l=h.length;for(a=Nh(b.pixelToCoordinateTransform,a.slice()),--l;0<=l;--l){var m=h[l],n=m.layer;if(Eh(m,g)&&e.call(f,n)&&(m=Wh(this,n).v(a,b,c,d)))return m}};var qi="Polygon Circle LineString Image Text Default".split(" ");v(ti,si),ti.prototype.T=function(){return 35632},v(ui,si),ui.prototype.T=function(){return 35633},v(vi,ti);var wi=new vi;v(xi,ui);var yi=new xi;v(Ci,ci),Ci.prototype.Ma=function(a,b,c,d,e,f,g,h,l,m,n){var p=a.b;if(this.g){var q=p.isEnabled(p.STENCIL_TEST),t=p.getParameter(p.STENCIL_FUNC),u=p.getParameter(p.STENCIL_VALUE_MASK),x=p.getParameter(p.STENCIL_REF),B=p.getParameter(p.STENCIL_WRITEMASK),z=p.getParameter(p.STENCIL_FAIL),G=p.getParameter(p.STENCIL_PASS_DEPTH_PASS),E=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilMask(255),p.stencilFunc(p.ALWAYS,1,255),p.stencilOp(p.KEEP,p.KEEP,p.REPLACE),this.g.Ma(a,b,c,d,e,f,g,h,l,m,n),p.stencilMask(0),p.stencilFunc(p.NOTEQUAL,1,255)}Di(a,34962,this.o),Di(a,34963,this.j),f=this.Bf(p,a,e,f);var ia=Jh(this.Ib);if(Ph(ia,2/(c*e[0]),2/(c*e[1])),Oh(ia,-d),Qh(ia,-(b[0]-this.origin[0]),-(b[1]-this.origin[1])),b=Jh(this.Za),Ph(b,2/e[0],2/e[1]),e=Jh(this.Sa),d&&Oh(e,-d),p.uniformMatrix4fv(f.f,!1,Bi(this.U,ia)),p.uniformMatrix4fv(f.i,!1,Bi(this.U,b)),p.uniformMatrix4fv(f.c,!1,Bi(this.U,e)),p.uniform1f(f.a,g),l){m?a=this.Ge(p,a,h,l,n):(p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT),this.Ud(p,a,h,!0),a=(a=l(null))?a:void 0);var T=a}else this.Ud(p,a,h,!1);return this.Cf(p,f),this.g&&(q||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(t,x,u),p.stencilMask(B),p.stencilOp(z,E,G)),T};var Fi=[0,0,0,1],Gi=[],Hi=[0,0,0,1],Ji=Number.EPSILON||2.220446049250313e-16,Li=35044;v(Mi,Ci),(k=Mi.prototype).$b=function(a,b){var c=a.vd(),d=a.ma();if(c){this.f.push(this.b.length),this.i.push(b),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.R=c,a=tf(a=a.ba(),0,2,d,-this.origin[0],-this.origin[1]),b=this.a.length,c=this.b.length;var f,e=b/4;for(f=0;2>f;f+=d)this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=0,this.a[b++]=this.R,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=1,this.a[b++]=this.R,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=2,this.a[b++]=this.R,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=3,this.a[b++]=this.R,this.b[c++]=e,this.b[c++]=e+1,this.b[c++]=e+2,this.b[c++]=e+2,this.b[c++]=e+3,this.b[c++]=e,e+=4}else this.c.s&&(this.l.pop(),this.l.length&&(d=this.l[this.l.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.s=!1))},k.ab=function(){this.o=new Ki(this.a),this.j=new Ki(this.b),this.f.push(this.b.length),!this.u.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},k.xb=function(a){var b=this.o,c=this.j;return function(){Ni(a,b),Ni(a,c)}},k.Bf=function(a,b,c,d){var e=Oi(b,wi,yi);if(this.v)var f=this.v;else this.v=f=new zi(a,e);return b.Tc(e),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,16,0),a.enableVertexAttribArray(f.j),a.vertexAttribPointer(f.j,1,5126,!1,16,8),a.enableVertexAttribArray(f.R),a.vertexAttribPointer(f.R,1,5126,!1,16,12),a.uniform2fv(f.I,c),a.uniform1f(f.qa,d),f},k.Cf=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.j),a.disableVertexAttribArray(b.R)},k.Ud=function(a,b,c){if(ub(c)){var d=this.f[this.f.length-1];for(c=this.u.length-1;0<=c;--c){var e=this.u[c],f=this.l[c];a.uniform4fv(this.v.B,f[0]),Pi(this,a,f[1],f[2]),Ei(a,b,e,d),d=e}}else{var g=this.f.length-2;for(f=d=this.f[g+1],e=this.u.length-1;0<=e;--e){var h=this.l[e];for(a.uniform4fv(this.v.B,h[0]),Pi(this,a,h[1],h[2]),h=this.u[e];0<=g&&this.f[g]>=h;){var l=this.f[g],m=this.i[g];c[m=w(m).toString()]&&(d!==f&&Ei(a,b,d,f),f=l),g--,d=l}d!==f&&Ei(a,b,d,f),d=f=h}}},k.Ge=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.u.length-1;0<=f;--f){var m=this.l[f];for(a.uniform4fv(this.v.B,m[0]),Pi(this,a,m[1],m[2]),g=this.u[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||ob(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ei(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Na=function(a,b){if(b){var c=b.f;this.c.lineDash=c||Gi,c=b.i,this.c.lineDashOffset=c||0,c=(c=b.b)instanceof CanvasGradient||c instanceof CanvasPattern?Hi:gd(c).map(function(a,b){return 3!=b?a/255:a})||Hi,b=void 0!==(b=b.c)?b:1}else c=[0,0,0,0],b=0;a=(a=a?a.b:[0,0,0,0])instanceof CanvasGradient||a instanceof CanvasPattern?Fi:gd(a).map(function(a,b){return 3!=b?a/255:a})||Fi,this.c.strokeColor&&ma(this.c.strokeColor,c)&&this.c.fillColor&&ma(this.c.fillColor,a)&&this.c.lineWidth===b||(this.c.s=!0,this.c.fillColor=a,this.c.strokeColor=c,this.c.lineWidth=b,this.l.push([a,c,b]))},v(Qi,ti);var Ri=new Qi;v(Si,ui);var Ti=new Si;v(Vi,Oc),(k=Vi.prototype).ka=function(){Nc(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.f)a.deleteProgram(this.f[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.i),a.deleteRenderbuffer(this.o),a.deleteTexture(this.v)}},k.jp=function(){return this.b},k.kp=function(){sb(this.a),sb(this.c),sb(this.f),this.o=this.v=this.i=this.l=null},k.lp=function(){},k.Tc=function(a){return a!=this.l&&(this.b.useProgram(a),this.l=a,!0)},v(aj,Ci),(k=aj.prototype).xb=function(a){var b=this.o,c=this.j,d=this.jg(!0),e=a.b;return function(){if(!e.isContextLost()){var f,g=0;for(f=d.length;g<f;++g)e.deleteTexture(d[g])}Ni(a,b),Ni(a,c)}},k.Bf=function(a,b){var c=Oi(b,Ri,Ti);if(this.Va)var d=this.Va;else this.Va=d=new Ui(a,c);return b.Tc(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,32,0),a.enableVertexAttribArray(d.v),a.vertexAttribPointer(d.v,2,5126,!1,32,8),a.enableVertexAttribArray(d.C),a.vertexAttribPointer(d.C,2,5126,!1,32,16),a.enableVertexAttribArray(d.u),a.vertexAttribPointer(d.u,1,5126,!1,32,24),a.enableVertexAttribArray(d.D),a.vertexAttribPointer(d.D,1,5126,!1,32,28),d},k.Cf=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.v),a.disableVertexAttribArray(b.C),a.disableVertexAttribArray(b.u),a.disableVertexAttribArray(b.D)},k.Ud=function(a,b,c,d){var e=d?this.dg():this.jg();if(d=d?this.u:this.v,ub(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(3553,e[c]);var h=d[c];Ei(a,b,f,h),f=h}}else for(f=g=0,h=e.length;f<h;++f){a.bindTexture(3553,e[f]);for(var l=0<f?d[f-1]:0,m=d[f],n=l;g<this.f.length&&this.f[g]<=m;)void 0!==c[w(this.i[g]).toString()]?(n!==l&&Ei(a,b,n,l),l=n=g===this.f.length-1?m:this.f[g+1]):l=g===this.f.length-1?m:this.f[g+1],g++;n!==l&&Ei(a,b,n,l)}},k.Ge=function(a,b,c,d,e){var f,g,h=this.f.length-1,l=this.dg();for(f=l.length-1;0<=f;--f){a.bindTexture(3553,l[f]);var m=0<f?this.u[f-1]:0;for(g=this.u[f];0<=h&&this.f[h]>=m;){var n=this.f[h],p=this.i[h];if(void 0===c[w(p).toString()]&&p.W()&&(void 0===e||ob(e,p.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ei(a,b,n,g),g=d(p)))return g;g=n,h--}}},k.ab=function(){this.qa=this.pa=this.height=this.B=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.S=this.I=this.opacity=void 0,this.a=null,this.width=void 0},v(dj,aj),(k=dj.prototype).qc=function(a,b){this.f.push(this.b.length),this.i.push(b),bj(this,b=a.ba(),0,b.length,a.ma())},k.sc=function(a,b){this.f.push(this.b.length),this.i.push(b),bj(this,b=a.ba(),0,b.length,a.ma())},k.ab=function(a){var b=a.b;this.v.push(this.b.length),this.u.push(this.b.length),this.o=new Ki(this.a),this.j=new Ki(this.b);var c={};cj(this.C,this.l,c,b),cj(this.R,this.c,c,b),this.c=this.l=null,aj.prototype.ab.call(this,a)},k.Vb=function(a){var b=a.Jc(),c=a.Y(1),d=a.Ie(),e=a.yg(1),f=a.i,g=a.Rc(),h=a.o,l=a.g,m=a.ic();if(a=a.a,this.l.length){var n=this.l[this.l.length-1];w(n)!=w(c)&&(this.v.push(this.b.length),this.l.push(c))}else this.l.push(c);this.c.length?(n=this.c[this.c.length-1],w(n)!=w(e)&&(this.u.push(this.b.length),this.c.push(e))):this.c.push(e),this.D=b[0],this.B=b[1],this.height=m[1],this.pa=d[1],this.qa=d[0],this.opacity=f,this.I=g[0],this.S=g[1],this.rotation=l,this.rotateWithView=h,this.scale=a,this.width=m[0]},k.jg=function(a){return a?this.C.concat(this.R):this.C},k.dg=function(){return this.R},v(fj,ti);var gj=new fj;v(hj,ui);var ij=new hj;v(kj,Ci),(k=kj.prototype).oc=function(a,b){var c=a.ba();a=a.ma(),vj(c,0,c.length,a)&&(c=tf(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.f.push(this.b.length),this.i.push(b),lj(this,c,c.length,a))},k.pc=function(a,b){var c=this.b.length,d=a.sb();d.unshift(0);var e=a.ba();a=a.ma();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(vj(e,d[g-1],d[g],a)){var h=tf(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);lj(this,h,h.length,a)}}this.b.length>c&&(this.f.push(c),this.i.push(b),this.c.s&&(this.l.push(c),this.c.s=!1))},k.ab=function(){this.o=new Ki(this.a),this.j=new Ki(this.b),this.f.push(this.b.length),!this.l.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},k.xb=function(a){var b=this.o,c=this.j;return function(){Ni(a,b),Ni(a,c)}},k.Bf=function(a,b,c,d){var e=Oi(b,gj,ij);if(this.v)var f=this.v;else this.v=f=new jj(a,e);return b.Tc(e),a.enableVertexAttribArray(f.l),a.vertexAttribPointer(f.l,2,5126,!1,28,0),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,28,8),a.enableVertexAttribArray(f.o),a.vertexAttribPointer(f.o,2,5126,!1,28,16),a.enableVertexAttribArray(f.g),a.vertexAttribPointer(f.g,1,5126,!1,28,24),a.uniform2fv(f.I,c),a.uniform1f(f.qa,d),f},k.Cf=function(a,b){a.disableVertexAttribArray(b.l),a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.o),a.disableVertexAttribArray(b.g)},k.Ud=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),ub(c)){var g=this.f[this.f.length-1];for(c=this.l.length-1;0<=c;--c){var h=this.l[c],l=this.u[c];yj(this,a,l[0],l[1],l[2]),Ei(a,b,h,g),a.clear(a.DEPTH_BUFFER_BIT),g=h}}else{var m=this.f.length-2;for(l=g=this.f[m+1],h=this.l.length-1;0<=h;--h){var n=this.u[h];for(yj(this,a,n[0],n[1],n[2]),n=this.l[h];0<=m&&this.f[m]>=n;){var p=this.f[m],q=this.i[m];c[q=w(q).toString()]&&(g!==l&&(Ei(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p),m--,g=p}g!==l&&(Ei(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.Ge=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.l.length-1;0<=f;--f){var m=this.u[f];for(yj(this,a,m[0],m[1],m[2]),g=this.l[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||ob(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ei(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Na=function(a,b){a=b.g,this.c.lineCap=void 0!==a?a:"round",a=b.f,this.c.lineDash=a||Gi,a=b.i,this.c.lineDashOffset=a||0,a=b.j,this.c.lineJoin=void 0!==a?a:"round",a=(a=b.b)instanceof CanvasGradient||a instanceof CanvasPattern?Hi:gd(a).map(function(a,b){return 3!=b?a/255:a})||Hi;var c=b.c;c=void 0!==c?c:1,b=void 0!==(b=b.l)?b:10,this.c.strokeColor&&ma(this.c.strokeColor,a)&&this.c.lineWidth===c&&this.c.miterLimit===b||(this.c.s=!0,this.c.strokeColor=a,this.c.lineWidth=c,this.c.miterLimit=b,this.u.push([a,c,b]))};var qj=3,nj=5,pj=7,oj=11,rj=13,sj=17,tj=19,uj=23;v(zj,ti);var Aj=new zj;v(Bj,ui);var Cj=new Bj;(k=Ej.prototype).clone=function(){var a=this.b;return new Ej({color:a&&a.slice?a.slice():a||void 0,lineCap:this.g,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},k.$o=function(){return this.b},k.gl=function(){return this.g},k.ap=function(){return this.f},k.hl=function(){return this.i},k.il=function(){return this.j},k.nl=function(){return this.l},k.bp=function(){return this.c},k.cp=function(a){this.b=a,this.a=void 0},k.oq=function(a){this.g=a,this.a=void 0},k.setLineDash=function(a){this.f=a,this.a=void 0},k.pq=function(a){this.i=a,this.a=void 0},k.qq=function(a){this.j=a,this.a=void 0},k.tq=function(a){this.l=a,this.a=void 0},k.xq=function(a){this.c=a,this.a=void 0},Fj.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.f,a.f.yb=this.b,b.yb=a.a,a.a.next=b,this.c+=a.c}else this.b=a.b,this.f=a.f,this.a=a.a,this.c=a.c;a.b=void 0,a.f=void 0,a.a=void 0,a.c=0}};var Nj={ge:function(){}};!function(a){function b(a,e,f,g,h){for(f=f||0,g=g||a.length-1,h=h||d;g>f;){if(600<g-f){var l=g-f+1,m=e-f+1,n=Math.log(l),p=.5*Math.exp(2*n/3);n=.5*Math.sqrt(n*p*(l-p)/l)*(0>m-l/2?-1:1),b(a,e,Math.max(f,Math.floor(e-m*p/l+n)),Math.min(g,Math.floor(e+(l-m)*p/l+n)),h)}for(l=a[e],m=f,p=g,c(a,f,e),0<h(a[g],l)&&c(a,f,g);m<p;){for(c(a,m,p),m++,p--;0>h(a[m],l);)m++;for(;0<h(a[p],l);)p--}0===h(a[f],l)?c(a,f,p):(p++,c(a,p,g)),p<=e&&(f=p+1),e<=p&&(g=p-1)}}function c(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(a,b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.Pf=Math.max(4,a||9),this.kh=Math.max(2,Math.ceil(.4*this.Pf)),b&&this.pk(b),this.clear()}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=u(null)),e.ca=1/0,e.ea=1/0,e.da=-1/0,e.ha=-1/0;for(var f;b<c;b++)f=a.children[b],h(e,a.lb?d(f):f);return e}function h(a,b){a.ca=Math.min(a.ca,b.ca),a.ea=Math.min(a.ea,b.ea),a.da=Math.max(a.da,b.da),a.ha=Math.max(a.ha,b.ha)}function l(a,b){return a.ca-b.ca}function m(a,b){return a.ea-b.ea}function n(a){return(a.da-a.ca)*(a.ha-a.ea)}function p(a){return a.da-a.ca+(a.ha-a.ea)}function q(a,b){return a.ca<=b.ca&&a.ea<=b.ea&&b.da<=a.da&&b.ha<=a.ha}function t(a,b){return b.ca<=a.da&&b.ea<=a.ha&&b.da>=a.ca&&b.ha>=a.ea}function u(a){return{children:a,height:1,lb:!0,ca:1/0,ea:1/0,da:-1/0,ha:-1/0}}function x(a,b,c,d,e){for(var g,f=[b,c];f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,B(a,g,b,c,e),f.push(b,g,g,c))}var B=b;e.prototype={all:function(){return this.fh(this.data,[])},search:function(a){var b=this.data,c=[],d=this.Ab;if(!t(a,b))return c;for(var f,g,h,l,e=[];b;){for(f=0,g=b.children.length;f<g;f++)h=b.children[f],l=b.lb?d(h):h,t(a,l)&&(b.lb?c.push(h):q(a,l)?this.fh(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.kh){for(var b=0,c=a.length;b<c;b++)this.Ga(a[b]);return this}return a=this.hh(a.slice(),0,a.length-1,0),this.data.children.length?this.data.height===a.height?this.mh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.jh(a,this.data.height-a.height-1,!0)):this.data=a,this},Ga:function(a){return a&&this.jh(a,this.data.height-1),this},clear:function(){return this.data=u([]),this},remove:function(a,b){if(!a)return this;for(var g,h,l,m,c=this.data,d=this.Ab(a),e=[],f=[];c||e.length;){if(c||(c=e.pop(),h=e[e.length-1],g=f.pop(),m=!0),c.lb){a:{l=a;var n=c.children,p=b;if(p){for(var t=0;t<n.length;t++)if(p(l,n[t])){l=t;break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1),e.push(c),this.mk(e);break}}m||c.lb||!q(c,d)?h?(g++,c=h.children[g],m=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},Ab:function(a){return a},Sf:l,Tf:m,toJSON:function(){return this.data},fh:function(a,b){for(var c=[];a;)a.lb?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},hh:function(a,b,c,d){var e=c-b+1,g=this.Pf;if(e<=g){var h=u(a.slice(b,c+1));return f(h,this.Ab),h}d||(d=Math.ceil(Math.log(e)/Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1))),(h=u([])).lb=!1,h.height=d;var l;for(x(a,b,c,g=(e=Math.ceil(e/g))*Math.ceil(Math.sqrt(g)),this.Sf);b<=c;b+=g){var m=Math.min(b+g-1,c);for(x(a,b,m,e,this.Tf),l=b;l<=m;l+=e){var n=Math.min(l+e-1,m);h.children.push(this.hh(a,l,n,d-1))}}return f(h,this.Ab),h},lk:function(a,b,c,d){for(var e,f,g,h,l,m,p,q;d.push(b),!b.lb&&d.length-1!==c;){for(p=q=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],l=n(g),(m=(Math.max(g.da,a.da)-Math.min(g.ca,a.ca))*(Math.max(g.ha,a.ha)-Math.min(g.ea,a.ea))-l)<q?(q=m,p=l<p?l:p,h=g):m===q&&l<p&&(p=l,h=g);b=h||b.children[0]}return b},jh:function(a,b,c){var d=this.Ab;c=c?a:d(a),d=[];var e=this.lk(c,this.data,b,d);for(e.children.push(a),h(e,c);0<=b&&d[b].children.length>this.Pf;)this.uk(d,b),b--;this.ik(c,d,b)},uk:function(a,b){var c=a[b],d=c.children.length,e=this.kh;this.jk(c,e,d),d=this.kk(c,e,d),(d=u(c.children.splice(d,c.children.length-d))).height=c.height,d.lb=c.lb,f(c,this.Ab),f(d,this.Ab),b?a[b-1].children.push(d):this.mh(c,d)},mh:function(a,b){this.data=u([a,b]),this.data.height=a.height+1,this.data.lb=!1,f(this.data,this.Ab)},kk:function(a,b,c){var d,e,f=e=1/0;for(d=b;d<=c-b;d++){var h=g(a,0,d,this.Ab),l=g(a,d,c,this.Ab),m=Math.max(0,Math.min(h.da,l.da)-Math.max(h.ca,l.ca))*Math.max(0,Math.min(h.ha,l.ha)-Math.max(h.ea,l.ea));if(h=n(h)+n(l),m<f){f=m;var p=d;e=h<e?h:e}else m===f&&h<e&&(e=h,p=d)}return p},jk:function(a,b,c){var d=a.lb?this.Sf:l,e=a.lb?this.Tf:m;this.gh(a,b,c,d)<(b=this.gh(a,b,c,e))&&a.children.sort(d)},gh:function(a,b,c,d){a.children.sort(d);var m,e=g(a,0,b,d=this.Ab),f=g(a,c-b,c,d),l=p(e)+p(f);for(m=b;m<c-b;m++){var n=a.children[m];h(e,a.lb?d(n):n),l+=p(e)}for(m=c-b-1;m>=b;m--)n=a.children[m],h(f,a.lb?d(n):n),l+=p(f);return l},ik:function(a,b,c){for(;0<=c;c--)h(b[c],a)},mk:function(a){for(var c,b=a.length-1;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children).splice(c.indexOf(a[b]),1):this.clear():f(a[b],this.Ab)},pk:function(a){var b=["return a"," - b",";"];this.Sf=new Function("a","b",b.join(a[0])),this.Tf=new Function("a","b",b.join(a[1])),this.Ab=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}},a.default=e}(Nj.ge=Nj.ge||{}),Nj.ge=Nj.ge.default,(k=Oj.prototype).Ga=function(a,b){a={ca:a[0],ea:a[1],da:a[2],ha:a[3],value:b},this.a.Ga(a),this.b[w(b)]=a},k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d];f={ca:f[0],ea:f[1],da:f[2],ha:f[3],value:g},c[d]=f,this.b[w(g)]=f}this.a.load(c)},k.remove=function(a){a=w(a);var b=this.b[a];return delete this.b[a],null!==this.a.remove(b)},k.forEach=function(a,b){return Sj(Qj(this),a,b)},k.clear=function(){this.a.clear(),this.b={}},k.G=function(a){var b=this.a.data;return Va(b.ca,b.ea,b.da,b.ha,a)},k.concat=function(a){this.a.load(a.a.all());for(var b in a.b)this.b[0|b]=a.b[0|b]},v(Uj,Ci),(k=Uj.prototype).rc=function(a,b){var c=a.c,d=a.ma(),e=this.b.length,f=this.g.b.length;a=a.ba();var g,h,l,m=h=0;for(g=c.length;m<g;++m){var n=c[m];if(0<n.length){var p=tf(a,h,n[0],d,-this.origin[0],-this.origin[1]);if(p.length){var q=[];for(h=1,l=n.length;h<l;++h)if(n[h]!==n[h-1]){var t=tf(a,n[h-1],n[h],d,-this.origin[0],-this.origin[1]);q.push(t)}wj(this.g,p,q,d),Vj(this,p,q,d)}}h=n[n.length-1]}this.b.length>e&&(this.f.push(e),this.i.push(b),this.l.s&&(this.c.push(e),this.l.s=!1)),this.g.b.length>f&&xj(this.g,b,f)},k.tc=function(a,b){var c=a.sb(),d=a.ma();if(0<c.length){var e=tf(a=a.ba().map(Number),0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var g,f=[],h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var l=tf(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(l)}this.f.push(this.b.length),this.i.push(b),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),xj(this.g,b),wj(this.g,e,f,d),Vj(this,e,f,d)}}},k.ab=function(a){this.o=new Ki(this.a),this.j=new Ki(this.b),this.f.push(this.b.length),this.g.ab(a),!this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},k.xb=function(a){var b=this.o,c=this.j,d=this.g.xb(a);return function(){Ni(a,b),Ni(a,c),d()}},k.Bf=function(a,b){var c=Oi(b,Aj,Cj);if(this.v)var d=this.v;else this.v=d=new Dj(a,c);return b.Tc(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,8,0),d},k.Cf=function(a,b){a.disableVertexAttribArray(b.b)},k.Ud=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),ub(c)){var g=this.f[this.f.length-1];for(c=this.c.length-1;0<=c;--c){var h=this.c[c],l=this.u[c];a.uniform4fv(this.v.B,l),Ei(a,b,h,g),g=h}}else{var m=this.f.length-2;for(l=g=this.f[m+1],h=this.c.length-1;0<=h;--h){var n=this.u[h];for(a.uniform4fv(this.v.B,n),n=this.c[h];0<=m&&this.f[m]>=n;){var p=this.f[m],q=this.i[m];c[q=w(q).toString()]&&(g!==l&&(Ei(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p),m--,g=p}g!==l&&(Ei(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.Ge=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.c.length-1;0<=f;--f){var m=this.u[f];for(a.uniform4fv(this.v.B,m),g=this.c[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||ob(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ei(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Na=function(a,b){a=(a=a?a.b:[0,0,0,0])instanceof CanvasGradient||a instanceof CanvasPattern?Fi:gd(a).map(function(a,b){return 3!=b?a/255:a})||Fi,this.l.fillColor&&ma(a,this.l.fillColor)||(this.l.fillColor=a,this.l.s=!0,this.u.push(a)),b?this.g.Na(null,b):this.g.Na(null,new Ej({color:[0,0,0,0],lineWidth:0}))},lk.prototype.get=function(a){return this.c[a]||null},lk.prototype.add=function(a,b,c,d,e){var f,g=0;for(f=this.a.length;g<f;++g){var h=this.a[g];if(h.width>=b+this.b&&h.height>=c+this.b)return f={offsetX:h.x+this.b,offsetY:h.y+this.b,image:this.i},this.c[a]=f,d.call(e,this.f,h.x+this.b,h.y+this.b),a=g,b+=this.b,d=c+this.b,h.width-b>h.height-d?(c={x:h.x+b,y:h.y,width:h.width-b,height:h.height},b={x:h.x,y:h.y+d,width:b,height:h.height-d},mk(this,a,c,b)):(c={x:h.x+b,y:h.y,width:h.width-b,height:d},b={x:h.x,y:h.y+d,width:h.width,height:h.height-d},mk(this,a,c,b)),f}return null},nk.prototype.add=function(a,b,c,d,e,f){return b+this.b>this.f||c+this.b>this.f?null:(d=qk(this,!1,a,b,c,d,f))?(a=qk(this,!0,a,b,c,e||ra,f),pk(d,a)):null},v(rk,aj),(k=rk.prototype).Qb=function(a,b,c,d,e,f){if(this.ua){this.f.push(this.b.length),this.i.push(f),e=this.l;var h,l,g=sk(this,f=this.ua.split("\n")),m=Math.round(g[0]*this.jb-this.ta),n=Math.round(g[1]*this.oa-this.ga),p=this.R.lineWidth/2*this.R.scale;for(g=0,h=f.length;g<h;++g){var q=0,t=e.height*g,u=f[g].split(""),x=0;for(l=u.length;x<l;++x){var B=e.qh,z=u[x],G=ok(B.g,z);if(G?(B=ok(B.i,z),B=pk(G,B)):B=null,B){G=B.image,this.D=m-q,this.B=n-t,this.I=x?B.offsetX:B.offsetX-p,this.S=B.offsetY,this.height=e.height,this.width=x&&x!==u.length-1?e.width[u[x]]:e.width[u[x]]+p,this.pa=G.height,this.qa=G.width,this.c.length?(B=this.c[this.c.length-1],w(B)!=w(G)&&(this.v.push(this.b.length),this.c.push(G))):this.c.push(G),B=a;var E=c,ia=d;for(G=z=b;G<E;G+=ia)bj(this,B,z,E,ia)}q+=this.width}}}},k.ab=function(a){var b=a.b;this.v.push(this.b.length),this.u=this.v,this.o=new Ki(this.a),this.j=new Ki(this.b),cj(this.va,this.c,{},b),this.R={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ua="",this.ga=this.ta=this.oa=this.jb=void 0,this.c=null,this.C={},this.l=void 0,aj.prototype.ab.call(this,a)},k.gb=function(a){var b=this.R,c=a.Da(),d=a.Ea();if(a&&a.Ja()&&(c||d)){c?(c=c.b,b.fillColor=kd(c||Fi)):b.fillColor=null,d?(c=d.b,b.strokeColor=kd(c||Hi),b.lineWidth=d.c||1,b.lineCap=d.g||"round",b.lineDashOffset=d.i||0,b.lineJoin=d.j||"round",b.miterLimit=d.l||10,d=d.f,b.lineDash=d?d.slice():Gi):(b.strokeColor=null,b.lineWidth=0),b.font=a.a||"10px sans-serif",b.scale=a.b||1,this.ua=a.Ja(),d=uk[a.g],c=uk[a.j],this.jb=void 0===d?.5:d,this.oa=void 0===c?.5:c,this.ta=a.f||0,this.ga=a.c||0,this.rotateWithView=!!a.l,this.rotation=a.i||0,a=[];for(var e in b)(b[e]||0===b[e])&&(Array.isArray(b[e])?a=a.concat(b[e]):a.push(b[e]));for(c="",e=0,d=a.length;e<d;++e)c+=a[e];e=c,this.C[e]||(a=this.mc.getContext("2d"),a.font=b.font,a=Math.ceil((1.5*a.measureText("M").width+b.lineWidth/2)*b.scale),this.C[e]={qh:new nk({space:b.lineWidth+1}),width:{},height:a}),this.l=this.C[e]}else this.ua=""},k.jg=function(){return this.va},k.dg=function(){return this.va};var uk={left:0,end:0,center:.5,right:1,start:1,top:0,br:.5,$q:.2,Yq:.8,ar:.8,bottom:1};v(vk,ri),vk.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";return void 0===(a=this.f[c])&&(a={},this.f[c]=a),void 0===(c=a[b])&&(c=new yk[b](this.j,this.g),a[b]=c),c},vk.prototype.c=function(){return ub(this.f)},vk.prototype.Ma=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.f).map(Number);l.sort(fa);var m,n,p=0;for(m=l.length;p<m;++p){var q=this.f[l[p].toString()],t=0;for(n=qi.length;t<n;++t){var u=q[qi[t]];void 0!==u&&u.Ma(a,b,c,d,e,f,g,h,void 0,!1)}}},vk.prototype.Ha=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,Wi(b));var p;return void 0!==this.i&&(p=Oa(Xa(a),d*this.i)),zk(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);if(n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b),0<b[3]&&(a=m(a)))return a},!0,p)};var Ak=[1,1],yk={Circle:Mi,Image:dj,LineString:kj,Polygon:Uj,Text:rk};v(Ck,ci),(k=Ck.prototype).xd=function(a){this.Na(a.Da(),a.Ea()),this.Vb(a.Y()),this.gb(a.Ja())},k.Cb=function(a){switch(a.T()){case"Point":this.sc(a,null);break;case"LineString":this.oc(a,null);break;case"Polygon":this.tc(a,null);break;case"MultiPoint":this.qc(a,null);break;case"MultiLineString":this.pc(a,null);break;case"MultiPolygon":this.rc(a,null);break;case"GeometryCollection":this.Fe(a,null);break;case"Circle":this.$b(a,null)}},k.Ee=function(a,b){(a=(0,b.$a)(a))&&ob(this.c,a.G())&&(this.xd(b),this.Cb(a))},k.Fe=function(a){var b,c=0;for(b=(a=a.a).length;c<b;++c)this.Cb(a[c])},k.sc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"Image");e.Vb(this.u),e.sc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(b=a.ba(),Dk(this,d,b,b.length,a.ma()))},k.qc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"Image");e.Vb(this.u),e.qc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(b=a.ba(),Dk(this,d,b,b.length,a.ma()))},k.oc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"LineString");e.Na(null,this.o),e.oc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(a=ki(a),Dk(this,d,a,2,2))},k.pc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"LineString");e.Na(null,this.o),e.pc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(a=li(a),Dk(this,d,a,a.length,2))},k.tc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"Polygon");e.Na(this.v,this.o),e.tc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(a=ag(a),Dk(this,d,a,2,2))},k.rc=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"Polygon");e.Na(this.v,this.o),e.rc(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&(a=ni(a),Dk(this,d,a,a.length,2))},k.$b=function(a,b){var c=this.b,d=new vk(1,this.c),e=d.b(0,"Circle");e.Na(this.v,this.o),e.$b(a,b),e.ab(c),e.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.xb(c)(),this.a&&Dk(this,d,a.xa(),2,2)},k.Vb=function(a){this.u=a},k.Na=function(a,b){this.v=a,this.o=b},k.gb=function(a){this.a=a},(k=Ek.prototype).clear=function(){this.c=0,this.b={},this.f=this.a=null},k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.bd,c.vc,this),c=c.Lb},k.get=function(a){return a=this.b[a],va(!!a,15),a===this.f?a.bd:(a===this.a?(this.a=this.a.Lb,this.a.Bd=null):(a.Lb.Bd=a.Bd,a.Bd.Lb=a.Lb),a.Lb=null,a.Bd=this.f,this.f=this.f.Lb=a,a.bd)},k.pop=function(){var a=this.a;return delete this.b[a.vc],a.Lb&&(a.Lb.Bd=null),this.a=a.Lb,this.a||(this.f=null),--this.c,a.bd},k.replace=function(a,b){this.get(a),this.b[a].bd=b},k.set=function(a,b){va(!(a in this.b),16),b={vc:a,Lb:null,Bd:this.f,bd:b},this.f?this.f.Lb=b:this.a=b,this.f=b,this.b[a]=b,++this.c},v(Fk,Th),(k=Fk.prototype).ka=function(){var a=this.f;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.Hb)}),Pc(this.i),Th.prototype.ka.call(this)},k.Ik=function(a,b){a=this.f;for(var c;1024<this.a.c-this.g;){if(c=this.a.a.bd)a.deleteTexture(c.Hb);else{if(+this.a.a.vc==b.index)break;--this.g}this.a.pop()}},k.T=function(){return"webgl"},k.no=function(a){a.preventDefault(),this.a.clear(),this.g=0,a=this.c;for(var b in a)a[b].ug()},k.oo=function(){Hk(this),this.l.render()},k.Rg=function(a){var b=this.i,c=this.f;if(c.isContextLost())return!1;if(!a)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.u=a.focus,this.a.set((-a.index).toString(),null),++this.g,Ik(this,"precompose",a);var d=[],e=a.layerStatesArray;na(e);var g,f=a.viewState.resolution,h=0;for(g=e.length;h<g;++h){var l=e[h];if(Eh(l,f)&&"ready"==l.Ij){var m=Wh(this,l.layer);m.vg(a,l,b)&&d.push(l)}}for(e=a.size[0]*a.pixelRatio,f=a.size[1]*a.pixelRatio,this.b.width==e&&this.b.height==f||(this.b.width=e,this.b.height=f),c.bindFramebuffer(36160,null),c.clearColor(0,0,0,0),c.clear(16384),c.enable(3042),c.viewport(0,0,this.b.width,this.b.height),h=0,g=d.length;h<g;++h)l=d[h],(m=Wh(this,l.layer)).Qi(a,l,b);this.o||(this.b.style.display="",this.o=!0),Uh(a),1024<this.a.c-this.g&&a.postRenderFunctions.push(this.Ik.bind(this)),this.j.b.length&&(a.postRenderFunctions.push(this.C),a.animate=!0),Ik(this,"postcompose",a),Xh(this,a),a.postRenderFunctions.push(Vh)},k.Ha=function(a,b,c,d,e,f,g){if(this.f.isContextLost())return!1;var m,h=b.viewState,l=b.layerStatesArray;for(m=l.length-1;0<=m;--m){var n=l[m],p=n.layer;if(Eh(n,h.resolution)&&f.call(g,p)&&(n=Wh(this,p).Ha(a,b,c,d,e)))return n}},k.Oi=function(a,b,c,d,e){if(c=!1,this.f.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(Eh(l,f.resolution)&&d.call(e,m)&&(c=Wh(this,m).ef(a,b)))return!0}return c},k.Ni=function(a,b,c,d,e){if(this.f.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(Eh(l,f.resolution)&&e.call(d,m)&&(l=Wh(this,m).tg(a,b,c,d)))return l}};var Jk=["canvas","webgl"];v(H,Vc),(k=H.prototype).vk=function(a){this.o.push(a)},k.wk=function(a){this.l.push(a)},k.nh=function(a){this.Mc().wd().push(a)},k.oh=function(a){this.v.push(a)},k.ph=function(a){var b=a.g;void 0!==b&&(this.zg[b.toString()]=a),a.setMap(this)},k.ka=function(){Pc(this.va),Pc(this.jc),Mc(this.a,"wheel",this.rd,this),Mc(this.a,"mousewheel",this.rd,this),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.We(null),Vc.prototype.ka.call(this)},k.Wd=function(a,b,c){if(this.c)return a=this.Xa(a),c=c||{},this.jc.Ha(a,this.c,void 0!==c.hitTolerance?c.hitTolerance*this.c.pixelRatio:0,b,null,c.layerFilter?c.layerFilter:pf,null)},k.Yk=function(a,b){var c=null;return this.Wd(a,function(a){c||(c=[]),c.push(a)},b),c},k.Wm=function(a,b,c,d,e){if(this.c)return this.jc.Ni(a,this.c,b,void 0!==c?c:null,d||pf,void 0!==e?e:null)},k.lm=function(a,b){return!!this.c&&(a=this.Xa(a),b=b||{},this.jc.Oi(a,this.c,void 0!==b.hitTolerance?b.hitTolerance*this.c.pixelRatio:0,b.layerFilter?b.layerFilter:pf,null))},k.$f=function(a){return this.Xa(this.He(a))},k.He=function(a){var b=this.a.getBoundingClientRect();return a=a.changedTouches?a.changedTouches[0]:a,[a.clientX-b.left,a.clientY-b.top]},k.ig=function(){return this.get("target")},k.pd=function(){var a=this.ig();return void 0!==a?"string"==typeof a?document.getElementById(a):a:null},k.Xa=function(a){var b=this.c;return b?Nh(b.pixelToCoordinateTransform,a.slice()):null},k.Wk=function(){return this.o},k.rl=function(){return this.v},k.ql=function(a){return void 0!==(a=this.zg[a.toString()])?a:null},k.dl=function(){return this.l},k.Mc=function(){return this.get("layergroup")},k.fi=function(){return this.Mc().wd()},k.Ka=function(a){var b=this.c;return b?Nh(b.coordinateToPixelTransform,a.slice(0,2)):null},k.Je=function(){return this.jc},k.Mb=function(){return this.get("size")},k.$=function(){return this.get("view")},k.El=function(){return this.a},k.Cl=function(a,b,c,d){var e=this.c;return e&&b in e.wantedTiles&&e.wantedTiles[b][a.fb()]?(a=c[0]-e.focus[0],c=c[1]-e.focus[1],65536*Math.log(d)+Math.sqrt(a*a+c*c)/d):1/0},k.rd=function(a,b){a=new Ld(b||a.type,this,a),this.Rh(a)},k.Rh=function(a){if(this.c){this.U=a.coordinate,a.frameState=this.c;var c,b=this.l.a;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.c()&&!d.handleEvent(a))break}}},k.cm=function(){var a=this.c,b=this.Sa;if(b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.ed?8:0,d=2),e[1]&&(c=this.Jd?8:0,d=2)}b.j<c&&(Re(b),Te(b,c,d))}for(c=0,d=(b=this.Za).length;c<d;++c)b[c](this,a);b.length=0},k.em=function(){this.render()},k.im=function(){var a;if(this.ig()&&(a=this.pd()),this.u){for(var b=0,c=this.u.length;b<c;++b)Gc(this.u[b]);this.u=null}a?(a.appendChild(this.a),a=this.oa?this.oa:a,this.u=[y(a,"keydown",this.rd,this),y(a,"keypress",this.rd,this)],this.i||(this.i=this.Fd.bind(this),window.addEventListener("resize",this.i,!1))):(nd(this.a),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)),this.Fd()},k.jm=function(){this.render()},k.Uh=function(){this.render()},k.km=function(){this.S&&(Gc(this.S),this.S=null),this.I&&(Gc(this.I),this.I=null);var a=this.$();a&&(this.a.setAttribute("data-view",w(a)),this.S=y(a,"propertychange",this.Uh,this),this.I=y(a,"change",this.Uh,this)),this.render()},k.Ql=function(){this.C&&(this.C.forEach(Gc),this.C=null);var a=this.Mc();a&&(this.C=[y(a,"propertychange",this.render,this),y(a,"change",this.render,this)]),this.render()},k.gq=function(){this.j&&cancelAnimationFrame(this.j),this.ga()},k.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.ga))},k.Zp=function(a){return this.o.remove(a)},k.$p=function(a){return this.l.remove(a)},k.bq=function(a){return this.Mc().wd().remove(a)},k.cq=function(a){return this.v.remove(a)},k.fq=function(a){var b,c=this.Mb(),d=this.$(),e=Ma(),f=this.c,g=null;if(void 0!==c&&0<c[0]&&0<c[1]&&d&&og(d)){g=ig(d,this.c?this.c.viewHints:void 0);var h=this.Mc().fg(),l={},m=0;for(b=h.length;m<b;++m)l[w(h[m].layer)]=h[m];m=d.getState(),g={animate:!1,attributions:{},coordinateToPixelTransform:this.Ib,extent:e,focus:this.U?this.U:m.center,index:this.Zb++,layerStates:l,layerStatesArray:h,logos:rb({},this.Lf),pixelRatio:this.Hf,pixelToCoordinateTransform:this.Qf,postRenderFunctions:[],size:c,skippedFeatureUids:this.ta,tileQueue:this.Sa,time:a,usedTiles:{},viewState:m,viewHints:g,wantedTiles:{}}}g&&(g.extent=mb(m.center,m.resolution,m.rotation,g.size,e)),this.c=g,this.jc.Rg(g),g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Za,g.postRenderFunctions),!f||this.g&&(ib(this.g)||ab(g.extent,this.g))||(this.b(new Kd("movestart",this,f)),this.g=Wa(this.g)),!this.g||g.viewHints[0]||g.viewHints[1]||ab(g.extent,this.g)||(this.b(new Kd("moveend",this,g)),Pa(g.extent,this.g))),this.b(new Kd("postrender",this,g)),setTimeout(this.cm.bind(this),0)},k.Aj=function(a){this.set("layergroup",a)},k.Yg=function(a){this.set("size",a)},k.We=function(a){this.set("target",a)},k.wq=function(a){this.set("view",a)},k.Hj=function(a){a=w(a).toString(),this.ta[a]=!0,this.render()},k.Fd=function(){var a=this.pd();if(a){var b=getComputedStyle(a);this.Yg([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.Yg(void 0)},k.Mj=function(a){a=w(a).toString(),delete this.ta[a],this.render()},v(Lk,Vc),(k=Lk.prototype).Yd=function(){return this.get(Mk)},k.Xm=function(){return this.g},k.Xe=function(){return this.get(Nk)},k.Lh=function(){return this.get(Ok)},k.gi=function(){return this.get(Pk)},k.Mh=function(){return this.get(Qk)},k.Ll=function(){for(var a=this.c;a.lastChild;)a.removeChild(a.lastChild);(a=this.Yd())&&this.c.appendChild(a)},k.Vl=function(){this.i&&(nd(this.c),Gc(this.i),this.i=null);var a=this.Xe();a&&(this.i=y(a,"postrender",this.render,this),Rk(this),a=this.v?a.D:a.B,this.o?a.insertBefore(this.c,a.childNodes[0]||null):a.appendChild(this.c))},k.render=function(){Rk(this)},k.Zl=function(){Rk(this)},k.am=function(){if(Rk(this),this.get(Pk)&&this.autoPan){var a=this.Xe();if(a&&a.pd()){var b=Sk(a.pd(),a.Mb()),c=this.Yd(),d=c.offsetWidth,e=getComputedStyle(c);d+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),e=c.offsetHeight;var f=getComputedStyle(c),g=Sk(c,[d,e+=parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)]);c=this.l,Ta(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.$().xa(),c=a.Ka(c),b=[c[0]+b[0],c[1]+b[1]],a.$().animate({center:a.Xa(b),duration:this.j.duration,easing:this.j.easing}))}}},k.bm=function(){Rk(this)},k.vj=function(a){this.set(Mk,a)},k.setMap=function(a){this.set(Nk,a)},k.Bj=function(a){this.set(Ok,a)},k.Ye=function(a){this.set(Pk,a)},k.Ej=function(a){this.set(Qk,a)};var Mk="element",Nk="map",Ok="offset",Pk="position",Qk="positioning";v(Uk,od),(k=Uk.prototype).setMap=function(a){var b=this.a;a!==b&&(b&&((b=b.$())&&Mc(b,Xc("rotation"),this.Re,this),this.c.We(null)),od.prototype.setMap.call(this,a),a&&(this.c.We(this.B),this.v.push(y(a,"propertychange",this.Wl,this)),this.c.fi().ec()||this.c.Aj(a.Mc()),a=a.$()))&&(y(a,Xc("rotation"),this.Re,this),og(a)&&(this.c.Fd(),Wk(this)))},k.Wl=function(a){"view"===a.key&&((a=a.oldValue)&&Mc(a,Xc("rotation"),this.Re,this),a=this.a.$(),y(a,Xc("rotation"),this.Re,this))},k.Re=function(){this.c.$().Ze(this.a.$().Qa())},k.qn=function(a){a.preventDefault(),Yk(this)},k.pn=function(){return this.l},k.sn=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&Yk(this))},k.rn=function(a){this.l&&this.j!==a&&Yk(this)},k.nn=function(){return this.j},k.sl=function(){return this.c},v(Zk,od);var bl=[1,2,5];Zk.prototype.B=function(){return this.get(al)},Zk.prototype.U=function(){cl(this)},Zk.prototype.I=function(a){this.set(al,a)};var al="units";v(dl,od),dl.prototype.ka=function(){Pc(this.l),od.prototype.ka.call(this)};var el=0;(k=dl.prototype).setMap=function(a){od.prototype.setMap.call(this,a),a&&a.render()},k.Hl=function(a){var b=this.a.$();a=hl(this,Aa(1===this.j?(a.offsetX-this.I[0]/2)/this.D:(a.offsetY-this.I[1]/2)/this.o,0,1)),b.animate({resolution:b.constrainResolution(a),duration:this.U,easing:td})},k.Kl=function(a){this.u||a.b.target!==this.element.firstElementChild||(hg(this.a.$(),1,1),this.B=a.clientX,this.C=a.clientY,this.u=!0)},k.Il=function(a){if(this.u){var b=this.element.firstElementChild;this.c=hl(this,Aa(1===this.j?(a.clientX-this.B+parseInt(b.style.left,10))/this.D:(a.clientY-this.C+parseInt(b.style.top,10))/this.o,0,1)),this.a.$().Yc(this.c),gl(this,this.c),this.B=a.clientX,this.C=a.clientY}},k.Jl=function(){if(this.u){var a=this.a.$();hg(a,1,-1),a.animate({resolution:a.constrainResolution(this.c),duration:this.U,easing:td}),this.u=!1,this.C=this.B=void 0}},v(il,od),il.prototype.j=function(a){a.preventDefault(),a=this.a.$();var b=this.c?this.c:a.v.G();a.Xf(b)},v(jl,Vc),(k=jl.prototype).ka=function(){this.og(!1),Vc.prototype.ka.call(this)},k.op=function(a){if(null!==a.alpha){var b=Fa(a.alpha);this.set(ll,b),"boolean"==typeof a.absolute&&a.absolute?this.set(ml,b):"number"==typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(ml,Fa(a.webkitCompassHeading))}null!==a.beta&&this.set(nl,Fa(a.beta)),null!==a.gamma&&this.set(pl,Fa(a.gamma)),this.s()},k.Qk=function(){return this.get(ll)},k.Tk=function(){return this.get(nl)},k.$k=function(){return this.get(pl)},k.Im=function(){return this.get(ml)},k.bi=function(){return this.get(kl)},k.Jm=function(){if(Xd){var a=this.bi();a&&!this.a?this.a=y(window,"deviceorientation",this.op,this):a||null===this.a||(Gc(this.a),this.a=null)}},k.og=function(a){this.set(kl,a)};var ll="alpha",nl="beta",pl="gamma",ml="heading",kl="tracking";(k=ql.prototype).jf=function(){return this.i},k.kf=function(){return this.o},k.lf=function(){return this.g},k.mf=function(){return this.a},k.Le=function(){return this.v},k.zd=function(a){this.i=a},k.nf=function(a){this.g=a},k.Ad=function(a){this.a=a},v(rl,ql),(k=rl.prototype).clone=function(){var a=new rl({fill:this.Da()?this.Da().clone():void 0,points:this.l,radius:this.b,radius2:this.f,angle:this.j,snapToPixel:this.v,stroke:this.Ea()?this.Ea().clone():void 0,rotation:this.g,rotateWithView:this.o,atlasManager:this.R});return a.zd(this.i),a.Ad(this.a),a},k.Jc=function(){return this.B},k.Zi=function(){return this.j},k.Da=function(){return this.Wa},k.yg=function(){return this.D},k.Y=function(){return this.u},k.Ie=function(){return this.C},k.hf=function(){return 2},k.Rc=function(){return this.pa},k.$i=function(){return this.l},k.aj=function(){return this.b},k.Nh=function(){return this.f},k.ic=function(){return this.qa},k.Ea=function(){return this.Ua},k.Wh=function(){},k.load=function(){},k.Lj=function(){},k.yh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath();var e=this.l;if(1/0===e)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var f=void 0!==this.f?this.f:this.b;for(f!==this.b&&(e*=2),c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.j;var g=c%2?f:this.b;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.Wa&&(null===(c=this.Wa.b)&&(c=Zh),b.fillStyle=kd(c),b.fill()),this.Ua&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Jj,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},k.xh=function(a,b,c,d){if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),c=this.l,1/0===c)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{(d=void 0!==this.f?this.f:this.b)!==this.b&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.j,g=e%2?d:this.b;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=Zh,b.fill(),this.Ua&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Jj,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.stroke()),b.closePath()},v(tl,rl),tl.prototype.clone=function(){var a=new tl({fill:this.Da()?this.Da().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.R});return a.zd(this.i),a.Ad(this.a),a},tl.prototype.Xc=function(a){this.b=a,sl(this,this.R)},ul.prototype.clone=function(){var a=this.b;return new ul({color:a&&a.slice?a.slice():a||void 0})},ul.prototype.f=function(){return this.b},ul.prototype.c=function(a){this.b=a,this.a=void 0},(k=vl.prototype).clone=function(){var a=this.W();return a&&a.clone&&(a=a.clone()),new vl({geometry:a,fill:this.Da()?this.Da().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,text:this.Ja()?this.Ja().clone():void 0,zIndex:this.za()})},k.Je=function(){return this.jc},k.uq=function(a){this.jc=a},k.W=function(){return this.Ic},k.al=function(){return this.$a},k.Da=function(){return this.Wa},k.zf=function(a){this.Wa=a},k.Y=function(){return this.M},k.Wg=function(a){this.M=a},k.Ea=function(){return this.Ua},k.Af=function(a){this.Ua=a},k.Ja=function(){return this.ua},k.Dd=function(a){this.ua=a},k.za=function(){return this.Pj},k.Ra=function(a){"function"==typeof a?this.$a=a:"string"==typeof a?this.$a=function(b){return b.get(a)}:a?a&&(this.$a=function(){return a}):this.$a=wl,this.Ic=a},k.Wb=function(a){this.Pj=a};var yl=null;v(Bl,Vc),(k=Bl.prototype).clone=function(){var a=new Bl(this.N());a.Wc(this.c);var b=this.W();return b&&a.Ra(b.clone()),(b=this.g)&&a.pg(b),a},k.W=function(){return this.get(this.c)},k.Km=function(){return this.a},k.bl=function(){return this.c},k.Lm=function(){return this.g},k.bb=function(){return this.j},k.Ml=function(){this.s()},k.Pe=function(){this.i&&(Gc(this.i),this.i=null);var a=this.W();a&&(this.i=y(a,"change",this.Ml,this)),this.s()},k.Ra=function(a){this.set(this.c,a)},k.pg=function(a){this.j=(this.g=a)?Cl(a):void 0,this.s()},k.kc=function(a){this.a=a,this.s()},k.Wc=function(a){Mc(this,Xc(this.c),this.Pe,this),this.c=a,y(this,Xc(this.c),this.Pe,this),this.Pe()};var Dl=document.implementation.createDocument("","",null),Sl=Ql();Yl.prototype.eg=function(){return null},v(bm,Yl),(k=bm.prototype).T=function(){return"json"},k.Ub=function(a,b){return this.Uc(cm(a),Zl(this,a,b))},k.Oa=function(a,b){return this.Gg(cm(a),Zl(this,a,b))},k.Vc=function(a,b){return this.Kg(cm(a),Zl(this,a,b))},k.ob=function(a){return this.Ng(cm(a))},k.Gd=function(a,b){return JSON.stringify(this.cd(a,b))},k.Xb=function(a,b){return JSON.stringify(this.se(a,b))},k.dd=function(a,b){return JSON.stringify(this.ue(a,b))},v(M,uf),(k=M.prototype).xk=function(a){this.A?ka(this.A,a):this.A=a.slice(),this.s()},k.clone=function(){var a=new M(null);return a.aa(this.ja,this.A.slice()),a},k.Jb=function(a,b,c,d){return d<Qa(this.G(),a,b)?d:(this.u!=this.f&&(this.D=Math.sqrt(Bf(this.A,0,this.A.length,this.a,0)),this.u=this.f),Df(this.A,0,this.A.length,this.a,this.D,!1,a,b,c,d))},k.Nk=function(a,b){return Uf(this.A,0,this.A.length,this.a,a,b)},k.Dn=function(a,b){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:em(this.A,0,this.A.length,this.a,a,void 0!==b&&b)},k.V=function(){return If(this.A,0,this.A.length,this.a)},k.Eh=function(a,b){return dm(this.A,0,this.A.length,this.a,a,b)},k.En=function(){var f,a=this.A,b=this.a,c=a[0],d=a[1],e=0;for(f=0+b;f<this.A.length;f+=b){var g=a[f],h=a[f+1];e+=Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h}return e},k.od=function(a){var b=[];return b.length=Lf(this.A,0,this.A.length,this.a,a,b,0),(a=new M(null)).aa("XY",b),a},k.T=function(){return"LineString"},k.Ya=function(a){return Vf(this.A,0,this.A.length,this.a,a)},k.na=function(a,b){a?(xf(this,b,a,1),this.A||(this.A=[]),this.A.length=Gf(this.A,0,a,this.a),this.s()):this.aa("XY",null)},k.aa=function(a,b){wf(this,a,b),this.s()},v(N,uf),(k=N.prototype).yk=function(a){this.A?ka(this.A,a.ba().slice()):this.A=a.ba().slice(),this.c.push(this.A.length),this.s()},k.clone=function(){var a=new N(null);return a.aa(this.ja,this.A.slice(),this.c.slice()),a},k.Jb=function(a,b,c,d){return d<Qa(this.G(),a,b)?d:(this.j!=this.f&&(this.u=Math.sqrt(Cf(this.A,0,this.c,this.a,0)),this.j=this.f),Ef(this.A,0,this.c,this.a,this.u,!1,a,b,c,d))},k.Gn=function(a,b,c){return"XYM"!=this.ja&&"XYZM"!=this.ja||!this.A.length?null:fm(this.A,this.c,this.a,a,void 0!==b&&b,void 0!==c&&c)},k.V=function(){return Jf(this.A,0,this.c,this.a)},k.sb=function(){return this.c},k.jl=function(a){if(0>a||this.c.length<=a)return null;var b=new M(null);return b.aa(this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a])),b},k.ld=function(){var f,a=this.A,b=this.c,c=this.ja,d=[],e=0,g=0;for(f=b.length;g<f;++g){var h=b[g],l=new M(null);l.aa(c,a.slice(e,h)),d.push(l),e=h}return d},k.od=function(a){var l,b=[],c=[],d=this.A,e=this.c,f=this.a,g=0,h=0,m=0;for(l=e.length;m<l;++m){var n=e[m];h=Lf(d,g,n,f,a,b,h),c.push(h),g=n}return b.length=h,(a=new N(null)).aa("XY",b,c),a},k.T=function(){return"MultiLineString"},k.Ya=function(a){a:{var f,b=this.A,c=this.c,d=this.a,e=0,g=0;for(f=c.length;g<f;++g){if(Vf(b,e,c[g],d,a)){a=!0;break a}e=c[g]}a=!1}return a},k.na=function(a,b){a?(xf(this,b,a,2),this.A||(this.A=[]),a=Hf(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.aa("XY",null,this.c)},k.aa=function(a,b,c){wf(this,a,b),this.c=c,this.s()},v(O,uf),(k=O.prototype).Ak=function(a){this.A?ka(this.A,a.ba()):this.A=a.ba().slice(),this.s()},k.clone=function(){var a=new O(null);return a.aa(this.ja,this.A.slice()),a},k.Jb=function(a,b,c,d){if(d<Qa(this.G(),a,b))return d;var g,e=this.A,f=this.a,h=0;for(g=e.length;h<g;h+=f){var l=Ea(a,b,e[h],e[h+1]);if(l<d){for(d=l,l=0;l<f;++l)c[l]=e[h+l];c.length=f}}return d},k.V=function(){return If(this.A,0,this.A.length,this.a)},k.ul=function(a){var b=this.A?this.A.length/this.a:0;return 0>a||b<=a?null:((b=new C(null)).aa(this.ja,this.A.slice(a*this.a,(a+1)*this.a)),b)},k.ee=function(){var e,a=this.A,b=this.ja,c=this.a,d=[],f=0;for(e=a.length;f<e;f+=c){var g=new C(null);g.aa(b,a.slice(f,f+c)),d.push(g)}return d},k.T=function(){return"MultiPoint"},k.Ya=function(a){var d,b=this.A,c=this.a,e=0;for(d=b.length;e<d;e+=c)if(Sa(a,b[e],b[e+1]))return!0;return!1},k.na=function(a,b){a?(xf(this,b,a,1),this.A||(this.A=[]),this.A.length=Gf(this.A,0,a,this.a),this.s()):this.aa("XY",null)},k.aa=function(a,b){wf(this,a,b),this.s()},v(P,uf),(k=P.prototype).Bk=function(a){if(this.A){var b=this.A.length;ka(this.A,a.ba());var c,d=0;for(c=(a=a.sb().slice()).length;d<c;++d)a[d]+=b}else this.A=a.ba().slice(),a=a.sb().slice(),this.c.push();this.c.push(a),this.s()},k.clone=function(){for(var a=new P(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();return hm(a,this.ja,this.A.slice(),c),a},k.Jb=function(a,b,c,d){if(d<Qa(this.G(),a,b))return d;if(this.B!=this.f){var h,e=this.c,f=0,g=0,l=0;for(h=e.length;l<h;++l){var m=e[l];g=Cf(this.A,f,m,this.a,g),f=m[m.length-1]}this.C=Math.sqrt(g),this.B=this.f}e=mi(this),f=this.c,g=this.a,l=this.C,h=0,m=[NaN,NaN];var n,p=0;for(n=f.length;p<n;++p){var q=f[p];d=Ef(e,h,q,g,l,!0,a,b,c,d,m),h=q[q.length-1]}return d},k.Pc=function(a,b){a:{var c=mi(this),d=this.c,e=0;if(d.length){var f,g=0;for(f=d.length;g<f;++g){var h=d[g];if(Sf(c,e,h,this.a,a,b)){a=!0;break a}e=h[h.length-1]}}a=!1}return a},k.Hn=function(){var e,a=mi(this),b=this.c,c=0,d=0,f=0;for(e=b.length;f<e;++f){var g=b[f];d+=zf(a,c,g,this.a),c=g[g.length-1]}return d},k.V=function(a){if(void 0!==a){var b=mi(this).slice();$f(b,this.c,this.a,a)}else b=this.A;return Kf(b,0,this.c,this.a)},k.fl=function(){var a=new O(null);return a.aa("XY",ni(this).slice()),a},k.od=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a;a=Math.sqrt(a);var l,g=0,h=0,m=0;for(l=e.length;m<l;++m){var n=e[m],p=[];h=Mf(d,g,n,f,a,b,h,p),c.push(p),g=n[n.length-1]}return b.length=h,d=new P(null),hm(d,"XY",b,c),d},k.vl=function(a){if(0>a||this.c.length<=a)return null;if(a){var b=this.c[a-1];b=b[b.length-1]}else b=0;var c=(a=this.c[a].slice())[a.length-1];if(b){var d,e=0;for(d=a.length;e<d;++e)a[e]-=b}return(e=new D(null)).aa(this.ja,this.A.slice(b,c),a),e},k.$d=function(){var f,g,a=this.ja,b=this.A,c=this.c,d=[],e=0,h=0;for(f=c.length;h<f;++h){var l=c[h].slice(),m=l[l.length-1];if(e){var n=0;for(g=l.length;n<g;++n)l[n]-=e}(n=new D(null)).aa(a,b.slice(e,m),l),d.push(n),e=m}return d},k.T=function(){return"MultiPolygon"},k.Ya=function(a){a:{var f,b=mi(this),c=this.c,d=this.a,e=0,g=0;for(f=c.length;g<f;++g){var h=c[g];if(Wf(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a},k.na=function(a,b){if(a){xf(this,b,a,3),this.A||(this.A=[]),b=this.A;var c=this.a,d=this.c,e=0;d=d||[];var g,f=0,h=0;for(g=a.length;h<g;++h)e=Hf(b,e,a[h],c,d[f]),d[f++]=e,e=e[e.length-1];d.length=f,d.length?(a=d[d.length-1],this.A.length=a.length?a[a.length-1]:0):this.A.length=0,this.s()}else hm(this,"XY",null,this.c)},v(jm,bm);var mm={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new M(a.paths[0],lm(a))},Polygon:function(a){return new D(a.rings,lm(a))},MultiPoint:function(a){return new O(a.points,lm(a))},MultiLineString:function(a){return new N(a.paths,lm(a))},MultiPolygon:function(a){return new P(a.rings,lm(a))}},om={Point:function(a){var c,b=a.V();return"XYZ"===(a=a.ja)?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:va(!1,34),c},LineString:function(a){var b=nm(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.V()]}},Polygon:function(a){var b=nm(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.V(!1)}},MultiPoint:function(a){var b=nm(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.V()}},MultiLineString:function(a){var b=nm(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.V()}},MultiPolygon:function(a){var b=nm(a);a=a.V(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};(k=jm.prototype).Uc=function(a,b){var c=km(a.geometry,b),d=new Bl;return this.b&&d.Wc(this.b),d.Ra(c),b&&b.mg&&a.attributes[b.mg]&&d.kc(a.attributes[b.mg]),a.attributes&&d.H(a.attributes),d},k.Gg=function(a,b){if(b=b||{},a.features){var e,c=[],d=a.features;for(b.mg=a.objectIdFieldName,a=0,e=d.length;a<e;++a)c.push(this.Uc(d[a],b));return c}return[this.Uc(a,b)]},k.Kg=function(a,b){return km(a,b)},k.Ng=function(a){return a.spatialReference&&a.spatialReference.wkid?Wb("EPSG:"+a.spatialReference.wkid):null},k.ue=function(a,b){return pm(a,$l(this,b))},k.cd=function(a,b){b=$l(this,b);var c={},d=a.W();return d&&(c.geometry=pm(d,b),b&&b.featureProjection&&(c.geometry.spatialReference={wkid:Wb(b.featureProjection).qb.split(":").pop()})),b=a.N(),delete b[a.c],c.attributes=ub(b)?{}:b,c},k.se=function(a,b){b=$l(this,b);var d,c=[],e=0;for(d=a.length;e<d;++e)c.push(this.cd(a[e],b));return{features:c}},v(rm,qm),v(sm,rm),v(tm,qm),v(um,qm),v(vm,um),v(wm,um),v(xm,wm),v(ym,wm),v(zm,wm),v(Am,qm),v(Bm,Am),v(Cm,um),v(Dm,um),v(Em,um),v(Fm,wm),v(Gm,wm),v(Hm,qm),v(Im,wm),v(Jm,rm),v(Km,Am),v(Nm,rf),(k=Nm.prototype).clone=function(){var a=new Nm(null);return a.yj(this.a),a},k.Jb=function(a,b,c,d){if(d<Qa(this.G(),a,b))return d;var f,e=this.a,g=0;for(f=e.length;g<f;++g)d=e[g].Jb(a,b,c,d);return d},k.Pc=function(a,b){var d,c=this.a,e=0;for(d=c.length;e<d;++e)if(c[e].Pc(a,b))return!0;return!1},k.De=function(a){Wa(a);for(var b=this.a,c=0,d=b.length;c<d;++c)bb(a,b[c].G());return a},k.kd=function(){return Pm(this.a)},k.ae=function(a){if(this.l!=this.f&&(sb(this.i),this.g=0,this.l=this.f),0>a||this.g&&a<this.g)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var f,c=[],d=this.a,e=!1,g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.ae(a);c.push(l),l!==h&&(e=!0)}return e?(a=new Nm(null),Qm(a),a.a=c,Om(a),a.s(),this.i[b]=a):(this.g=a,this)},k.T=function(){return"GeometryCollection"},k.Ya=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)if(b[d].Ya(a))return!0;return!1},k.rotate=function(a,b){for(var c=this.a,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.s()},k.scale=function(a,b,c){c||(c=lb(this.G()));for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.s()},k.yj=function(a){a=Pm(a),Qm(this),this.a=a,Om(this),this.s()},k.Fc=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)b[d].Fc(a);this.s()},k.translate=function(a,b){var d,c=this.a,e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.s()},k.ka=function(){Qm(this),rf.prototype.ka.call(this)},v(Rm,bm);var Tm={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new M(a.coordinates)},Polygon:function(a){return new D(a.coordinates)},MultiPoint:function(a){return new O(a.coordinates)},MultiLineString:function(a){return new N(a.coordinates)},MultiPolygon:function(a){return new P(a.coordinates)},GeometryCollection:function(a,b){return a=a.geometries.map(function(a){return Sm(a,b)}),new Nm(a)}},Vm={Point:function(a){return{type:"Point",coordinates:a.V()}},LineString:function(a){return{type:"LineString",coordinates:a.V()}},Polygon:function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.V(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.V()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.V()}},MultiPolygon:function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.V(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.a.map(function(a){var c=rb({},b);return delete c.featureProjection,Um(a,c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};(k=Rm.prototype).Uc=function(a,b){b=Sm((a="Feature"===a.type?a:{type:"Feature",geometry:a}).geometry,b);var c=new Bl;return this.b&&c.Wc(this.b),c.Ra(b),void 0!==a.id&&c.kc(a.id),a.properties&&c.H(a.properties),c},k.Gg=function(a,b){if("FeatureCollection"===a.type){var d,c=[],e=0;for(d=(a=a.features).length;e<d;++e)c.push(this.Uc(a[e],b))}else c=[this.Uc(a,b)];return c},k.Kg=function(a,b){return Sm(a,b)},k.Ng=function(a){var b;return(a=a.crs)?"name"==a.type?b=Wb(a.properties.name):"EPSG"==a.type?b=Wb("EPSG:"+a.properties.code):va(!1,36):b=this.defaultDataProjection,b},k.cd=function(a,b){b=$l(this,b);var c={type:"Feature"},d=a.a;return void 0!==d&&(c.id=d),(d=a.W())?c.geometry=Um(d,b):c.geometry=null,b=a.N(),delete b[a.c],ub(b)?c.properties=null:c.properties=b,c},k.se=function(a,b){b=$l(this,b);var d,c=[],e=0;for(d=a.length;e<d;++e)c.push(this.cd(a[e],b));return{type:"FeatureCollection",features:c}},k.ue=function(a,b){return Um(a,$l(this,b))},v(Wm,Yl),(k=Wm.prototype).T=function(){return"xml"},k.Ub=function(a,b){return Hl(a)?Xm(this,a,b):Il(a)?this.Fg(a,b):"string"==typeof a?(a=Jl(a),Xm(this,a,b)):null},k.Fg=function(){return null},k.Oa=function(a,b){return Hl(a)?Ym(this,a,b):Il(a)?this.Ac(a,b):"string"==typeof a?(a=Jl(a),Ym(this,a,b)):[]},k.Vc=function(a,b){return Hl(a)?null:Il(a)?this.kj(a,b):("string"==typeof a&&Jl(a),null)},k.kj=function(){return null},k.ob=function(a){return Hl(a)?this.Mg(a):Il(a)?this.vf(a):"string"==typeof a?(a=Jl(a),this.Mg(a)):null},k.Mg=function(){return this.defaultDataProjection},k.vf=function(){return this.defaultDataProjection},k.Gd=function(a,b){return this.f.serializeToString(this.$g(a,b))},k.$g=function(){return null},k.Xb=function(a,b){return a=this.Yb(a,b),this.f.serializeToString(a)},k.Yb=function(){return null},k.dd=function(a,b){return a=this.te(a,b),this.f.serializeToString(a)},k.te=function(){return null},v(Zm,Wm);var $m=/^[\s\xa0]*$/;(k=Zm.prototype).ie=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?L([],this.b,a,b,this):L(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var h,e=b[0],f=e.featureType,g=e.featureNS;if(!f&&a.childNodes){f=[],g={};var l=0;for(h=a.childNodes.length;l<h;++l){var m=a.childNodes[l];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var p="",q=0;m=m.namespaceURI;for(var t in g){if(g[t]===m){p=t;break}++q}p||(p="p"+q,g[p]=m),f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"==typeof g&&(l=g,g={},g.p0=l),e={},f=Array.isArray(f)?f:[f];for(var u in g){for(n={},l=0,h=f.length;l<h;++l)(-1===f[l].indexOf(":")?"p0":f[l].split(":")[0])===u&&(n[f[l].split(":").pop()]="featureMembers"==c?Ll(this.Eg,this):Nl(this.Eg,this));e[g[u]]=n}d="featureMember"==c?L(void 0,e,a,b):L([],e,a,b)}return null===d&&(d=[]),d},k.sf=function(a,b){var c=b[0];if(c.srsName=a.firstElementChild.getAttribute("srsName"),a=L(null,this.eh,a,b,this))return am(a,!1,c)},k.Eg=function(a,b){var c;(c=a.getAttribute("fid"))||(c=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var e,d={};for(a=a.firstElementChild;a;a=a.nextElementSibling){var f=a.localName;if(0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)){var g=Fl(a,!1);$m.test(g)&&(g=void 0),d[f]=g}else"boundedBy"!==f&&(e=f),d[f]=this.sf(a,b)}return b=new Bl(d),e&&b.Wc(e),c&&b.kc(c),b},k.pj=function(a,b){if(a=this.rf(a,b))return(b=new C(null)).aa("XYZ",a),b},k.nj=function(a,b){if(a=L([],this.Xj,a,b,this))return new O(a)},k.mj=function(a,b){if(a=L([],this.Wj,a,b,this))return b=new N(null),gm(b,a),b},k.oj=function(a,b){if(a=L([],this.Yj,a,b,this))return b=new P(null),im(b,a),b},k.gj=function(a,b){Ul(this.ak,a,b,this)},k.Vh=function(a,b){Ul(this.Uj,a,b,this)},k.hj=function(a,b){Ul(this.bk,a,b,this)},k.tf=function(a,b){if(a=this.rf(a,b))return(b=new M(null)).aa("XYZ",a),b},k.Jp=function(a,b){if(a=L(null,this.ve,a,b,this))return a},k.lj=function(a,b){if(a=this.rf(a,b))return b=new Of(null),Pf(b,"XYZ",a),b},k.uf=function(a,b){if((a=L([null],this.If,a,b,this))&&a[0]){b=new D(null);var e,c=a[0],d=[c.length],f=1;for(e=a.length;f<e;++f)ka(c,a[f]),d.push(c.length);return b.aa("XYZ",c,d),b}},k.rf=function(a,b){return L(null,this.ve,a,b,this)},k.Xj={"http://www.opengis.net/gml":{pointMember:Ll(Zm.prototype.gj),pointMembers:Ll(Zm.prototype.gj)}},k.Wj={"http://www.opengis.net/gml":{lineStringMember:Ll(Zm.prototype.Vh),lineStringMembers:Ll(Zm.prototype.Vh)}},k.Yj={"http://www.opengis.net/gml":{polygonMember:Ll(Zm.prototype.hj),polygonMembers:Ll(Zm.prototype.hj)}},k.ak={"http://www.opengis.net/gml":{Point:Ll(Zm.prototype.rf)}},k.Uj={"http://www.opengis.net/gml":{LineString:Ll(Zm.prototype.tf)}},k.bk={"http://www.opengis.net/gml":{Polygon:Ll(Zm.prototype.uf)}},k.we={"http://www.opengis.net/gml":{LinearRing:Nl(Zm.prototype.Jp)}},k.kj=function(a,b){return(a=this.sf(a,[Zl(this,a,b||{})]))?a:null},k.Ac=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&rb(c,Zl(this,a,b)),this.ie(a,[c])||[]},k.vf=function(a){return Wb(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},v(mn,Zm),(k=mn.prototype).Np=function(a,b){if(a=L([],this.Vj,a,b,this))return b=new N(null),gm(b,a),b},k.Op=function(a,b){if(a=L([],this.Zj,a,b,this))return b=new P(null),im(b,a),b},k.vh=function(a,b){Ul(this.Rj,a,b,this)},k.Kj=function(a,b){Ul(this.dk,a,b,this)},k.Rp=function(a,b){return L([null],this.$j,a,b,this)},k.Up=function(a,b){return L([null],this.ck,a,b,this)},k.Sp=function(a,b){return L([null],this.If,a,b,this)},k.Mp=function(a,b){return L([null],this.ve,a,b,this)},k.qm=function(a,b){(a=L(void 0,this.we,a,b,this))&&b[b.length-1].push(a)},k.Jk=function(a,b){(a=L(void 0,this.we,a,b,this))&&(b[b.length-1][0]=a)},k.qj=function(a,b){if((a=L([null],this.ek,a,b,this))&&a[0]){b=new D(null);var e,c=a[0],d=[c.length],f=1;for(e=a.length;f<e;++f)ka(c,a[f]),d.push(c.length);return b.aa("XYZ",c,d),b}},k.ij=function(a,b){if(a=L([null],this.Sj,a,b,this))return(b=new M(null)).aa("XYZ",a),b},k.Ip=function(a,b){return a=L([null],this.Tj,a,b,this),Va(a[1][0],a[1][1],a[2][0],a[2][1])},k.Kp=function(a,b){var c=Fl(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;a=[];for(var e;e=d.exec(c);)a.push(parseFloat(e[1])),c=c.substr(e[0].length);if(""===c){if(b=b[0].srsName,c="enu",b&&(c=Wb(b).a),"neu"===c)for(b=0,c=a.length;b<c;b+=3)d=a[b],a[b]=a[b+1],a[b+1]=d;if(2==(b=a.length)&&a.push(0),b)return a}},k.Jg=function(a,b){var c=Fl(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension");b="enu",d&&(b=Wb(d).a),c=c.split(/\s+/),d=2,a.getAttribute("srsDimension")?d=gn(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=gn(a.getAttribute("dimension")):e&&(d=gn(e));for(var f,g=[],h=0,l=c.length;h<l;h+=d)a=parseFloat(c[h]),e=parseFloat(c[h+1]),f=3===d?parseFloat(c[h+2]):0,"en"===b.substr(0,2)?g.push(a,e,f):g.push(e,a,f);return g},k.ve={"http://www.opengis.net/gml":{pos:Nl(mn.prototype.Kp),posList:Nl(mn.prototype.Jg)}},k.If={"http://www.opengis.net/gml":{interior:mn.prototype.qm,exterior:mn.prototype.Jk}},k.eh={"http://www.opengis.net/gml":{Point:Nl(Zm.prototype.pj),MultiPoint:Nl(Zm.prototype.nj),LineString:Nl(Zm.prototype.tf),MultiLineString:Nl(Zm.prototype.mj),LinearRing:Nl(Zm.prototype.lj),Polygon:Nl(Zm.prototype.uf),MultiPolygon:Nl(Zm.prototype.oj),Surface:Nl(mn.prototype.qj),MultiSurface:Nl(mn.prototype.Op),Curve:Nl(mn.prototype.ij),MultiCurve:Nl(mn.prototype.Np),Envelope:Nl(mn.prototype.Ip)}},k.Vj={"http://www.opengis.net/gml":{curveMember:Ll(mn.prototype.vh),curveMembers:Ll(mn.prototype.vh)}},k.Zj={"http://www.opengis.net/gml":{surfaceMember:Ll(mn.prototype.Kj),surfaceMembers:Ll(mn.prototype.Kj)}},k.Rj={"http://www.opengis.net/gml":{LineString:Ll(Zm.prototype.tf),Curve:Ll(mn.prototype.ij)}},k.dk={"http://www.opengis.net/gml":{Polygon:Ll(Zm.prototype.uf),Surface:Ll(mn.prototype.qj)}},k.ek={"http://www.opengis.net/gml":{patches:Nl(mn.prototype.Rp)}},k.Sj={"http://www.opengis.net/gml":{segments:Nl(mn.prototype.Up)}},k.Tj={"http://www.opengis.net/gml":{lowerCorner:Ll(mn.prototype.Jg),upperCorner:Ll(mn.prototype.Jg)}},k.$j={"http://www.opengis.net/gml":{PolygonPatch:Nl(mn.prototype.Sp)}},k.ck={"http://www.opengis.net/gml":{LineStringSegment:Nl(mn.prototype.Mp)}},k.yi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=El(a.namespaceURI,"pos"),a.appendChild(d),a=(c=c[c.length-1]).hasZ;var e=c.srsName;c="enu",e&&(c=Wb(e).a),b=b.V(),c="en"===c.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0],a&&(c+=" "+(b[2]||0)),jn(d,c)};var on={"http://www.opengis.net/gml":{lowerCorner:J(jn),upperCorner:J(jn)}};(k=mn.prototype).zn=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),Vl({node:a},on,Sl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)},k.vi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=El(a.namespaceURI,"posList"),a.appendChild(d),nn(d,b,c)},k.yn=function(a,b){b=(a=b[b.length-1]).node;var c=a.exteriorWritten;return void 0===c&&(a.exteriorWritten=!0),El(b.namespaceURI,void 0!==c?"interior":"exterior")},k.cf=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName,"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Zd(),Vl({node:a,hasZ:e,srsName:d},pn,this.yn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=El(a.namespaceURI,"patches"),a.appendChild(e),a=El(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.cf(a,b,c))},k.bf=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=El(a.namespaceURI,"posList"),a.appendChild(d),nn(d,b,c)):"Curve"===a.nodeName&&(d=El(a.namespaceURI,"segments"),a.appendChild(d),a=El(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.bf(a,b,c))},k.xi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface,f&&a.setAttribute("srsName",f),b=b.$d(),Vl({node:a,hasZ:e,srsName:f,surface:d},qn,this.l,b,c,void 0,this)},k.An=function(a,b,c){var d=c[c.length-1],e=d.srsName;d=d.hasZ,e&&a.setAttribute("srsName",e),b=b.ee(),Vl({node:a,hasZ:d,srsName:e},rn,Ql("pointMember"),b,c,void 0,this)},k.wi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve,f&&a.setAttribute("srsName",f),b=b.ld(),Vl({node:a,hasZ:e,srsName:f,curve:d},sn,this.l,b,c,void 0,this)},k.zi=function(a,b,c){var d=El(a.namespaceURI,"LinearRing");a.appendChild(d),this.vi(d,b,c)},k.Ai=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.cf(d,b,c))},k.Bn=function(a,b,c){var d=El(a.namespaceURI,"Point");a.appendChild(d),this.yi(d,b,c)},k.ui=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.bf(d,b,c))},k.ud=function(a,b,c){var d=c[c.length-1],e=rb({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?ic(b,d.featureProjection,d.dataProjection):b:am(b,!0,d),Vl(e,tn,this.a,[f],c,void 0,this)},k.ti=function(a,b,c){var d=b.a;d&&a.setAttribute("fid",d);var e=(d=c[c.length-1]).featureNS,f=b.c;d.pb||(d.pb={},d.pb[e]={});var g=b.N();b=[];var h=[];for(m in g){var l=g[m];null!==l&&(b.push(m),h.push(l),m==f||l instanceof rf?m in d.pb[e]||(d.pb[e][m]=J(this.ud,this)):m in d.pb[e]||(d.pb[e][m]=J(jn)))}var m=rb({},d);m.node=a,Vl(m,d.pb,Ql(void 0,e),h,c,b)};var qn={"http://www.opengis.net/gml":{surfaceMember:J(mn.prototype.Ai),polygonMember:J(mn.prototype.Ai)}},rn={"http://www.opengis.net/gml":{pointMember:J(mn.prototype.Bn)}},sn={"http://www.opengis.net/gml":{lineStringMember:J(mn.prototype.ui),curveMember:J(mn.prototype.ui)}},pn={"http://www.opengis.net/gml":{exterior:J(mn.prototype.zi),interior:J(mn.prototype.zi)}},tn={"http://www.opengis.net/gml":{Curve:J(mn.prototype.bf),MultiCurve:J(mn.prototype.wi),Point:J(mn.prototype.yi),MultiPoint:J(mn.prototype.An),LineString:J(mn.prototype.bf),MultiLineString:J(mn.prototype.wi),LinearRing:J(mn.prototype.vi),Polygon:J(mn.prototype.cf),MultiPolygon:J(mn.prototype.xi),Surface:J(mn.prototype.cf),MultiSurface:J(mn.prototype.xi),Envelope:J(mn.prototype.zn)}},un={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};mn.prototype.l=function(a,b){return El("http://www.opengis.net/gml",un[b[b.length-1].node.nodeName])},mn.prototype.a=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,e=c.curve;return c=c.multiCurve,Array.isArray(a)?a="Envelope":"MultiPolygon"===(a=a.T())&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"LineString"===a&&!0===e?a="Curve":"MultiLineString"===a&&!0===c&&(a="MultiCurve"),El("http://www.opengis.net/gml",a)},mn.prototype.te=function(a,b){b=$l(this,b);var c=El("http://www.opengis.net/gml","geom"),d={node:c,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g};return b&&rb(d,b),this.ud(c,a,[d]),c},mn.prototype.Yb=function(a,b){b=$l(this,b);var c=El("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};b&&rb(d,b);var e=(b=[d])[b.length-1];d=e.featureType;var f=e.featureNS,g={};return g[f]={},g[f][d]=J(this.ti,this),e=rb({},e),e.node=c,Vl(e,g,Ql(d,f),a,b),c},v(vn,Zm),(k=vn.prototype).jj=function(a,b){a=Fl(a,!1).replace(/^\s*|\s*$/g,"");var c=b[0].srsName;b="enu",c&&(c=Wb(c))&&(b=c.a);for(var d,e,f=[],g=0,h=(a=a.trim().split(/\s+/)).length;g<h;g++)e=a[g].split(/,+/),c=parseFloat(e[0]),d=parseFloat(e[1]),e=3===e.length?parseFloat(e[2]):0,"en"===b.substr(0,2)?f.push(c,d,e):f.push(d,c,e);return f},k.Gp=function(a,b){return a=L([null],this.Qj,a,b,this),Va(a[1][0],a[1][1],a[1][3],a[1][4])},k.om=function(a,b){(a=L(void 0,this.we,a,b,this))&&b[b.length-1].push(a)},k.pp=function(a,b){(a=L(void 0,this.we,a,b,this))&&(b[b.length-1][0]=a)},k.ve={"http://www.opengis.net/gml":{coordinates:Nl(vn.prototype.jj)}},k.If={"http://www.opengis.net/gml":{innerBoundaryIs:vn.prototype.om,outerBoundaryIs:vn.prototype.pp}},k.Qj={"http://www.opengis.net/gml":{coordinates:Ll(vn.prototype.jj)}},k.eh={"http://www.opengis.net/gml":{Point:Nl(Zm.prototype.pj),MultiPoint:Nl(Zm.prototype.nj),LineString:Nl(Zm.prototype.tf),MultiLineString:Nl(Zm.prototype.mj),LinearRing:Nl(Zm.prototype.lj),Polygon:Nl(Zm.prototype.uf),MultiPolygon:Nl(Zm.prototype.oj),Box:Nl(vn.prototype.Gp)}},k.rg=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface;return c=c.multiCurve,Array.isArray(a)?a="Envelope":"MultiPolygon"===(a=a.T())&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"MultiLineString"===a&&!0===c&&(a="MultiCurve"),El("http://www.opengis.net/gml",a)},k.ki=function(a,b,c){var d=c[c.length-1],e=rb({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?ic(b,d.featureProjection,d.dataProjection):b:am(b,!0,d),Vl(e,wn,this.rg,[f],c,void 0,this)},k.$e=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=xn(a.namespaceURI),a.appendChild(d),yn(d,b,c)):"Curve"===a.nodeName&&(d=El(a.namespaceURI,"segments"),a.appendChild(d),a=El(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.$e(a,b,c))},k.af=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName,"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Zd(),Vl({node:a,hasZ:e,srsName:d},An,this.tn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=El(a.namespaceURI,"patches"),a.appendChild(e),a=El(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.af(a,b,c))},k.tn=function(a,b){b=(a=b[b.length-1]).node;var c=a.exteriorWritten;return void 0===c&&(a.exteriorWritten=!0),El(b.namespaceURI,void 0!==c?"innerBoundaryIs":"outerBoundaryIs")},k.ri=function(a,b,c){var d=El(a.namespaceURI,"LinearRing");a.appendChild(d),this.mi(d,b,c)},k.ni=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve,f&&a.setAttribute("srsName",f),b=b.ld(),Vl({node:a,hasZ:e,srsName:f,curve:d},Bn,this.a,b,c,void 0,this)},k.pi=function(a,b,c){var d=c[c.length-1];c=d.hasZ;var e=d.srsName;e&&a.setAttribute("srsName",e),d=xn(a.namespaceURI),a.appendChild(d),jn(d,a=zn(a=b.V(),e,c))},k.wn=function(a,b,c){var d=c[c.length-1],e=d.hasZ;(d=d.srsName)&&a.setAttribute("srsName",d),b=b.ee(),Vl({node:a,hasZ:e,srsName:d},Cn,Ql("pointMember"),b,c,void 0,this)},k.xn=function(a,b,c){var d=El(a.namespaceURI,"Point");a.appendChild(d),this.pi(d,b,c)},k.li=function(a,b,c){var d=this.rg(b,c);d&&(a.appendChild(d),this.$e(d,b,c))},k.mi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=xn(a.namespaceURI),a.appendChild(d),yn(d,b,c)},k.oi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface,f&&a.setAttribute("srsName",f),b=b.$d(),Vl({node:a,hasZ:e,srsName:f,surface:d},Dn,this.a,b,c,void 0,this)},k.si=function(a,b,c){var d=this.rg(b,c);d&&(a.appendChild(d),this.af(d,b,c))},k.vn=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),Vl({node:a},En,Sl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};var wn={"http://www.opengis.net/gml":{Curve:J(vn.prototype.$e),MultiCurve:J(vn.prototype.ni),Point:J(vn.prototype.pi),MultiPoint:J(vn.prototype.wn),LineString:J(vn.prototype.$e),MultiLineString:J(vn.prototype.ni),LinearRing:J(vn.prototype.mi),Polygon:J(vn.prototype.af),MultiPolygon:J(vn.prototype.oi),Surface:J(vn.prototype.af),MultiSurface:J(vn.prototype.oi),Envelope:J(vn.prototype.vn)}},An={"http://www.opengis.net/gml":{outerBoundaryIs:J(vn.prototype.ri),innerBoundaryIs:J(vn.prototype.ri)}},Cn={"http://www.opengis.net/gml":{pointMember:J(vn.prototype.xn)}},Bn={"http://www.opengis.net/gml":{lineStringMember:J(vn.prototype.li),curveMember:J(vn.prototype.li)}};vn.prototype.a=function(a,b){return El("http://www.opengis.net/gml",Fn[b[b.length-1].node.nodeName])};var Fn={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Dn={"http://www.opengis.net/gml":{surfaceMember:J(vn.prototype.si),polygonMember:J(vn.prototype.si)}},En={"http://www.opengis.net/gml":{lowerCorner:J(jn),upperCorner:J(jn)}};v(Gn,Wm);var Hn=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Tn={rte:Nn,trk:Pn,wpt:Rn},Un=K(Hn,{rte:Ll(Nn),trk:Ll(Pn),wpt:Ll(Rn)}),Ln=K(Hn,{text:I(Q,"linkText"),type:I(Q,"linkType")}),On=K(Hn,{name:I(Q),cmt:I(Q),desc:I(Q),src:I(Q),link:Kn,number:I(fn),extensions:Mn,type:I(Q),rtept:function(a,b){var c=L({},Vn,a,b);c&&(b=b[b.length-1],In(b.flatCoordinates,b.layoutOptions,a,c))}}),Vn=K(Hn,{ele:I(dn),time:I(cn)}),Qn=K(Hn,{name:I(Q),cmt:I(Q),desc:I(Q),src:I(Q),link:Kn,number:I(fn),type:I(Q),extensions:Mn,trkseg:function(a,b){var c=b[b.length-1];Ul(Wn,a,b),c.ends.push(c.flatCoordinates.length)}}),Wn=K(Hn,{trkpt:function(a,b){var c=L({},Xn,a,b);c&&(b=b[b.length-1],In(b.flatCoordinates,b.layoutOptions,a,c))}}),Xn=K(Hn,{ele:I(dn),time:I(cn)}),Sn=K(Hn,{ele:I(dn),time:I(cn),magvar:I(dn),geoidheight:I(dn),name:I(Q),cmt:I(Q),desc:I(Q),src:I(Q),link:Kn,sym:I(Q),type:I(Q),fix:I(Q),sat:I(fn),hdop:I(dn),vdop:I(dn),pdop:I(dn),ageofdgpsdata:I(dn),dgpsid:I(fn),extensions:Mn});Gn.prototype.Fg=function(a,b){if(!ha(Hn,a.namespaceURI))return null;var c=Tn[a.localName];return c&&(a=c(a,[Zl(this,a,b)]))?(Yn(this,[a]),a):null},Gn.prototype.Ac=function(a,b){return ha(Hn,a.namespaceURI)&&"gpx"==a.localName&&(a=L([],Un,a,[Zl(this,a,b)]))?(Yn(this,a),a):[]};var ao=["text","type"],$n=K(Hn,{text:J(jn),type:J(jn)}),go=K(Hn,"name cmt desc src link number type rtept".split(" ")),ho=K(Hn,{name:J(jn),cmt:J(jn),desc:J(jn),src:J(jn),link:J(Zn),number:J(ln),type:J(jn),rtept:Pl(J(bo))}),co=K(Hn,["ele","time"]),io=K(Hn,"name cmt desc src link number type trkseg".split(" ")),lo=K(Hn,{name:J(jn),cmt:J(jn),desc:J(jn),src:J(jn),link:J(Zn),number:J(ln),type:J(jn),trkseg:Pl(J(function(a,b,c){Vl({node:a,geometryLayout:b.ja,properties:{}},jo,ko,b.V(),c)}))}),ko=Ql("trkpt"),jo=K(Hn,{trkpt:J(bo)}),eo=K(Hn,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),fo=K(Hn,{ele:J(kn),time:J(function(a,b){b=new Date(1e3*b),a.appendChild(Dl.createTextNode(b.getUTCFullYear()+"-"+$e(b.getUTCMonth()+1)+"-"+$e(b.getUTCDate())+"T"+$e(b.getUTCHours())+":"+$e(b.getUTCMinutes())+":"+$e(b.getUTCSeconds())+"Z"))}),magvar:J(kn),geoidheight:J(kn),name:J(jn),cmt:J(jn),desc:J(jn),src:J(jn),link:J(Zn),sym:J(jn),type:J(jn),fix:J(jn),sat:J(ln),hdop:J(kn),vdop:J(kn),pdop:J(kn),ageofdgpsdata:J(kn),dgpsid:J(ln)}),mo={Point:"wpt",LineString:"rte",MultiLineString:"trk"},oo=K(Hn,{rte:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e},(b=b.W())&&(b=am(b,!0,d),a.geometryLayout=b.ja,e.rtept=b.V()),e=Tl(e,d=go[c[c.length-1].node.namespaceURI]),Vl(a,ho,Sl,e,c,d)}),trk:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e},(b=b.W())&&(b=am(b,!0,d),e.trkseg=b.ld()),e=Tl(e,d=io[c[c.length-1].node.namespaceURI]),Vl(a,lo,Sl,e,c,d)}),wpt:J(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.N(),(b=b.W())&&(b=am(b,!0,d),e.geometryLayout=b.ja,bo(a,b.V(),c))})});Gn.prototype.Yb=function(a,b){b=$l(this,b);var c=El("http://www.topografix.com/GPX/1/1","gpx");return c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),c.setAttribute("version","1.1"),c.setAttribute("creator","OpenLayers"),Vl({node:c},oo,no,a,[b]),c},v(po,Yl),(k=po.prototype).T=function(){return"text"},k.Ub=function(a,b){return this.he(qo(a),$l(this,b))},k.Oa=function(a,b){return this.Hg(qo(a),$l(this,b))},k.Vc=function(a,b){return this.Cd(qo(a),$l(this,b))},k.ob=function(){return this.defaultDataProjection},k.Gd=function(a,b){return this.re(a,$l(this,b))},k.Xb=function(a,b){return this.ah(a,$l(this,b))},k.dd=function(a,b){return this.Hd(a,$l(this,b))},v(ro,po);var so=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,to=/^H.([A-Z]{3}).*?:(.*)/,uo=/^HFDTE(\d{2})(\d{2})(\d{2})/,vo=/\r\n|\r|\n/;(k=ro.prototype).he=function(a,b){var c=this.b,d=a.split(vo);a={};var m,e=[],f=2e3,g=0,h=1,l=-1,n=0;for(m=d.length;n<m;++n){var q,p=d[n];if("B"==p.charAt(0)){if(q=so.exec(p)){p=parseInt(q[1],10);var t=parseInt(q[2],10),u=parseInt(q[3],10),x=parseInt(q[4],10)+parseInt(q[5],10)/6e4;"S"==q[6]&&(x=-x);var B=parseInt(q[7],10)+parseInt(q[8],10)/6e4;"W"==q[9]&&(B=-B),e.push(B,x),"none"!=c&&e.push("gps"==c?parseInt(q[11],10):"barometric"==c?parseInt(q[12],10):0),(q=Date.UTC(f,g,h,p,t,u))<l&&(q=Date.UTC(f,g,h+1,p,t,u)),e.push(q/1e3),l=q}}else"H"==p.charAt(0)&&((q=uo.exec(p))?(h=parseInt(q[1],10),g=parseInt(q[2],10)-1,f=2e3+parseInt(q[3],10)):(q=to.exec(p))&&(a[q[1]]=q[2].trim()))}return e.length?((d=new M(null)).aa("none"==c?"XYM":"XYZM",e),(b=new Bl(am(d,!1,b))).H(a),b):null},k.Hg=function(a,b){return(a=this.he(a,b))?[a]:[]},k.re=function(){},k.ah=function(){},k.Hd=function(){},k.Cd=function(){},v(wo,Sc),wo.prototype.v=function(){this.f=3,this.i.forEach(Gc),this.i=null,this.b("change")},wo.prototype.u=function(){if(this.f=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(Gc),this.i=null,xo(this),!this.o&&null!==this.g){this.c.width=this.M.width,this.c.height=this.M.height;var a=this.c.getContext("2d");a.drawImage(this.M,0,0);for(var b=a.getImageData(0,0,this.M.width,this.M.height),c=b.data,d=this.g[0]/255,e=this.g[1]/255,f=this.g[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")},wo.prototype.Y=function(){return this.c?this.c:this.M},wo.prototype.load=function(){if(0==this.f){this.f=1,this.i=[Lc(this.M,"error",this.v,this),Lc(this.M,"load",this.u,this)];try{this.M.src=this.l}catch(a){this.v()}}},v(yo,ql),(k=yo.prototype).clone=function(){var a=this.Y(1);if(2===this.b.f)if("IMG"===a.tagName.toUpperCase())var b=a.cloneNode(!0);else{var c=(b=document.createElement("canvas")).getContext("2d");b.width=a.width,b.height=a.height,c.drawImage(a,0,0)}return new yo({anchor:this.l.slice(),anchorOrigin:this.f,anchorXUnits:this.B,anchorYUnits:this.C,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:b||void 0,imgSize:b?this.b.a.slice():void 0,src:b?void 0:this.b.l,offset:this.pa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.g,rotateWithView:this.o})},k.Jc=function(){if(this.u)return this.u;var a=this.l,b=this.ic();if("fraction"==this.B||"fraction"==this.C){if(!b)return null;a=this.l.slice(),"fraction"==this.B&&(a[0]*=b[0]),"fraction"==this.C&&(a[1]*=b[1])}if("top-left"!=this.f){if(!b)return null;a===this.l&&(a=this.l.slice()),"top-right"!=this.f&&"bottom-right"!=this.f||(a[0]=-a[0]+b[0]),"bottom-left"!=this.f&&"bottom-right"!=this.f||(a[1]=-a[1]+b[1])}return this.u=a},k.Yo=function(){return this.j},k.Y=function(a){return this.b.Y(a)},k.Ie=function(){return this.b.a},k.hf=function(){return this.b.f},k.yg=function(){var a=this.b;if(!a.j)if(a.o){var b=a.a[0],c=a.a[1],d=ld(b,c);d.fillRect(0,0,b,c),a.j=d.canvas}else a.j=a.M;return a.j},k.Rc=function(){if(this.R)return this.R;var a=this.pa;if("top-left"!=this.c){var b=this.ic(),c=this.b.a;if(!b||!c)return null;a=a.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(a[0]=c[0]-b[0]-a[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(a[1]=c[1]-b[1]-a[1])}return this.R=a},k.Zo=function(){return this.b.l},k.ic=function(){return this.D?this.D:this.b.a},k.Wh=function(a,b){return y(this.b,"change",a,b)},k.load=function(){this.b.load()},k.Lj=function(a,b){Mc(this.b,"change",a,b)},(k=zo.prototype).clone=function(){return new zo({font:this.a,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ja(),textAlign:this.g,textBaseline:this.j,fill:this.Da()?this.Da().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,offsetX:this.f,offsetY:this.c})},k.Zk=function(){return this.a},k.ol=function(){return this.f},k.pl=function(){return this.c},k.Da=function(){return this.Wa},k.ep=function(){return this.l},k.fp=function(){return this.i},k.gp=function(){return this.b},k.Ea=function(){return this.Ua},k.Ja=function(){return this.ua},k.zl=function(){return this.g},k.Al=function(){return this.j},k.xj=function(a){this.a=a},k.Cj=function(a){this.f=a},k.Dj=function(a){this.c=a},k.zf=function(a){this.Wa=a},k.hp=function(a){this.i=a},k.bj=function(a){this.b=a},k.Af=function(a){this.Ua=a},k.Dd=function(a){this.ua=a},k.Fj=function(a){this.g=a},k.vq=function(a){this.j=a};var Bo,Co,Do,Eo,Go,Fo,Ho,Io,Jo,Ko,Lo,Mo,No,Oo,Po;v(Ao,Wm);var Qo=["http://www.google.com/kml/ext/2.2"],Ro=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],So={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},tp=K(Ro,{displayName:I(Q),value:I(Q)}),qp=K(Ro,{Data:function(a,b){var c=a.getAttribute("name");Ul(tp,a,b),a=b[b.length-1],null!==c?a[c]=a.value:null!==a.displayName&&(a[a.displayName]=a.value),delete a.value},SchemaData:function(a,b){Ul(up,a,b)}}),sp=K(Ro,{LatLonAltBox:function(a,b){(a=L({},vp,a,b))&&(b=b[b.length-1],b.extent=[parseFloat(a.west),parseFloat(a.south),parseFloat(a.east),parseFloat(a.north)],b.altitudeMode=a.altitudeMode,b.minAltitude=parseFloat(a.minAltitude),b.maxAltitude=parseFloat(a.maxAltitude))},Lod:function(a,b){(a=L({},wp,a,b))&&(b=b[b.length-1],b.minLodPixels=parseFloat(a.minLodPixels),b.maxLodPixels=parseFloat(a.maxLodPixels),b.minFadeExtent=parseFloat(a.minFadeExtent),b.maxFadeExtent=parseFloat(a.maxFadeExtent))}}),vp=K(Ro,{altitudeMode:I(Q),minAltitude:I(dn),maxAltitude:I(dn),north:I(dn),south:I(dn),east:I(dn),west:I(dn)}),wp=K(Ro,{minLodPixels:I(dn),maxLodPixels:I(dn),minFadeExtent:I(dn),maxFadeExtent:I(dn)}),ep=K(Ro,{extrude:I(an),tessellate:I(an),altitudeMode:I(Q)}),ap=K(Ro,{coordinates:Nl(Xo)}),mp=K(Ro,{innerBoundaryIs:function(a,b){(a=L(void 0,xp,a,b))&&b[b.length-1].push(a)},outerBoundaryIs:function(a,b){(a=L(void 0,yp,a,b))&&(b[b.length-1][0]=a)}}),cp=K(Ro,{when:function(a,b){b=b[b.length-1].Oj,a=Fl(a,!1),a=Date.parse(a),b.push(isNaN(a)?0:a)}},K(Qo,{coord:function(a,b){b=b[b.length-1].A,a=Fl(a,!1),(a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a))?b.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),0):b.push(0,0,0,0)}})),fp=K(Ro,{coordinates:Nl(Xo)}),zp=K(Ro,{href:I(Yo)},K(Qo,{x:I(dn),y:I(dn),w:I(dn),h:I(dn)})),Ap=K(Ro,{Icon:I(function(a,b){return(a=L({},zp,a,b))?a:null}),heading:I(dn),hotSpot:I(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits"),d="insetPixels"!==b?"insetPixels"!==c?"bottom-left":"top-left":"insetPixels"!==c?"bottom-right":"top-right";return{x:parseFloat(a.getAttribute("x")),bh:So[b],y:parseFloat(a.getAttribute("y")),dh:So[c],origin:d}}),scale:I(Zo)}),xp=K(Ro,{LinearRing:Nl($o)}),Bp=K(Ro,{color:I(Wo),scale:I(Zo)}),Cp=K(Ro,{color:I(Wo),width:I(dn)}),ip=K(Ro,{LineString:Ll(dp),LinearRing:Ll(gp),MultiGeometry:Ll(hp),Point:Ll(kp),Polygon:Ll(lp)}),Dp=K(Qo,{Track:Ll(bp)}),Fp=K(Ro,{ExtendedData:pp,Region:rp,Link:function(a,b){Ul(Ep,a,b)},address:I(Q),description:I(Q),name:I(Q),open:I(an),phoneNumber:I(Q),visibility:I(an)}),Ep=K(Ro,{href:I(Yo)}),yp=K(Ro,{LinearRing:Nl($o)}),Gp=K(Ro,{Style:I(np),key:I(Q),styleUrl:I(Yo)}),Ip=K(Ro,{ExtendedData:pp,Region:rp,MultiGeometry:I(hp,"geometry"),LineString:I(dp,"geometry"),LinearRing:I(gp,"geometry"),Point:I(kp,"geometry"),Polygon:I(lp,"geometry"),Style:I(np),StyleMap:function(a,b){(a=L(void 0,Hp,a,b))&&(b=b[b.length-1],Array.isArray(a)?b.Style=a:"string"==typeof a?b.styleUrl=a:va(!1,38))},address:I(Q),description:I(Q),name:I(Q),open:I(an),phoneNumber:I(Q),styleUrl:I(Yo),visibility:I(an)},K(Qo,{MultiTrack:I(function(a,b){if(a=L([],Dp,a,b))return b=new N(null),gm(b,a),b},"geometry"),Track:I(bp,"geometry")})),Jp=K(Ro,{color:I(Wo),fill:I(an),outline:I(an)}),up=K(Ro,{SimpleData:function(a,b){var c=a.getAttribute("name");null!==c&&(a=Q(a),b[b.length-1][c]=a)}}),op=K(Ro,{IconStyle:function(a,b){if(a=L({},Ap,a,b)){b=b[b.length-1];var e,c="Icon"in a?a.Icon:{},d=!("Icon"in a)||0<Object.keys(c).length,f=c.href;f?e=f:d&&(e=Io),f="bottom-left";var g=a.hotSpot;if(g){var h=[g.x,g.y],l=g.bh,m=g.dh;f=g.origin}else e===Io?(h=Eo,l=Go,m=Fo):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(e)&&(h=[.5,0],m=l="fraction");var n;g=c.x;var p=c.y;void 0!==g&&void 0!==p&&(n=[g,p]);var q;g=c.w,c=c.h,void 0!==g&&void 0!==c&&(q=[g,c]);var t;void 0!==(c=a.heading)&&(t=Fa(c)),a=a.scale,d?(e==Io&&(q=Ho,void 0===a&&(a=Jo)),e=new yo({anchor:h,anchorOrigin:f,anchorXUnits:l,anchorYUnits:m,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:t,scale:a,size:q,src:e}),b.imageStyle=e):b.imageStyle=Lo}},LabelStyle:function(a,b){(a=L({},Bp,a,b))&&(b[b.length-1].textStyle=new zo({fill:new ul({color:"color"in a?a.color:Co}),scale:a.scale}))},LineStyle:function(a,b){(a=L({},Cp,a,b))&&(b[b.length-1].strokeStyle=new Ej({color:"color"in a?a.color:Co,width:"width"in a?a.width:1}))},PolyStyle:function(a,b){if(a=L({},Jp,a,b)){(b=b[b.length-1]).fillStyle=new ul({color:"color"in a?a.color:Co});var c=a.fill;void 0!==c&&(b.fill=c),void 0!==(a=a.outline)&&(b.outline=a)}}}),Hp=K(Ro,{Pair:function(a,b){if(a=L({},Gp,a,b)){var c=a.key;c&&"normal"==c&&((c=a.styleUrl)&&(b[b.length-1]=c),(a=a.Style)&&(b[b.length-1]=a))}}});(k=Ao.prototype).Dg=function(a,b){if(a=L([],K(Ro,{Document:Kl(this.Dg,this),Folder:Kl(this.Dg,this),Placemark:Ll(this.Lg,this),Style:this.Wp.bind(this),StyleMap:this.Vp.bind(this)}),a,b,this))return a},k.Lg=function(a,b){var c=L({geometry:null},Ip,a,b);if(c){var d=new Bl;return null!==(a=a.getAttribute("id"))&&d.kc(a),b=b[0],(a=c.geometry)&&am(a,!1,b),d.Ra(a),delete c.geometry,this.c&&d.pg(Uo(c.Style,c.styleUrl,this.a,this.b,this.g)),delete c.Style,d.H(c),d}},k.Wp=function(a,b){var c=a.getAttribute("id");null!==c&&(b=np(a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[a]=b)},k.Vp=function(a,b){var c=a.getAttribute("id");null!==c&&(b=L(void 0,Hp,a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[a]=b)},k.Fg=function(a,b){return ha(Ro,a.namespaceURI)&&(a=this.Lg(a,[Zl(this,a,b)]))?a:null},k.Ac=function(a,b){if(!ha(Ro,a.namespaceURI))return[];var c=a.localName;if("Document"==c||"Folder"==c)return(c=this.Dg(a,[Zl(this,a,b)]))?c:[];if("Placemark"==c)return(b=this.Lg(a,[Zl(this,a,b)]))?[b]:[];if("kml"==c){for(c=[],a=a.firstElementChild;a;a=a.nextElementSibling){var d=this.Ac(a,b);d&&ka(c,d)}return c}return[]},k.Pp=function(a){return Hl(a)?Kp(this,a):Il(a)?Lp(this,a):"string"==typeof a?(a=Jl(a),Kp(this,a)):void 0},k.Qp=function(a){var b=[];return Hl(a)?ka(b,Mp(this,a)):Il(a)?ka(b,Np(this,a)):"string"==typeof a&&(a=Jl(a),ka(b,Mp(this,a))),b},k.Tp=function(a){var b=[];return Hl(a)?ka(b,Op(this,a)):Il(a)?ka(b,this.wf(a)):"string"==typeof a&&(a=Jl(a),ka(b,Op(this,a))),b},k.wf=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ha(Ro,b.namespaceURI)&&"Region"==b.localName){var d=L({},sp,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!ha(Ro,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||ka(c,this.wf(b));return c};var kq=K(Ro,["Document","Placemark"]),nq=K(Ro,{Document:J(function(a,b,c){Vl({node:a},lq,mq,b,c,void 0,this)}),Placemark:J(Zp)}),lq=K(Ro,{Placemark:J(Zp)}),oq=K(Ro,{Data:J(function(a,b,c){a.setAttribute("name",b.name),a={node:a},"object"==typeof(b=b.value)?(null!==b&&b.displayName&&Vl(a,oq,Sl,[b.displayName],c,["displayName"]),null!==b&&b.value&&Vl(a,oq,Sl,[b.value],c,["value"])):Vl(a,oq,Sl,[b],c,["value"])}),value:J(function(a,b){jn(a,b)}),displayName:J(function(a,b){a.appendChild(Dl.createCDATASection(b))})}),pq={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},qq=K(Ro,["href"],K(Qo,["x","y","w","h"])),rq=K(Ro,{href:J(jn)},K(Qo,{x:J(kn),y:J(kn),w:J(kn),h:J(kn)})),sq=K(Ro,["scale","heading","Icon","hotSpot"]),uq=K(Ro,{Icon:J(function(a,b,c){a={node:a};var d=qq[c[c.length-1].node.namespaceURI],e=Tl(b,d);Vl(a,rq,Sl,e,c,d),e=Tl(b,d=qq[Qo[0]]),Vl(a,rq,tq,e,c,d)}),heading:J(kn),hotSpot:J(function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.bh),a.setAttribute("yunits",b.dh)}),scale:J(jq)}),vq=K(Ro,["color","scale"]),wq=K(Ro,{color:J(Pp),scale:J(jq)}),xq=K(Ro,["color","width"]),yq=K(Ro,{color:J(Pp),width:J(kn)}),Xp=K(Ro,{LinearRing:J(cq)}),Vp=K(Ro,{LineString:J(cq),Point:J(cq),Polygon:J(fq),GeometryCollection:J(Qp)}),bq=K(Ro,"name open visibility address phoneNumber description styleUrl Style".split(" ")),$p=K(Ro,{ExtendedData:J(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)Vl(a,oq,zq,[{name:d[f],value:b[f]}],c)}),MultiGeometry:J(Qp),LineString:J(cq),LinearRing:J(cq),Point:J(cq),Polygon:J(fq),Style:J(function(a,b,c){a={node:a};var d={},e=b.Da(),f=b.Ea(),g=b.Y();b=b.Ja(),g instanceof yo&&(d.IconStyle=g),b&&(d.LabelStyle=b),f&&(d.LineStyle=f),e&&(d.PolyStyle=e),d=Tl(d,b=Aq[c[c.length-1].node.namespaceURI]),Vl(a,Bq,Sl,d,c,b)}),address:J(jn),description:J(jn),name:J(jn),open:J(hn),phoneNumber:J(jn),styleUrl:J(jn),visibility:J(hn)}),dq=K(Ro,["extrude","tessellate","altitudeMode","coordinates"]),eq=K(Ro,{extrude:J(hn),tessellate:J(hn),altitudeMode:J(jn),coordinates:J(function(a,b,c){var d=(c=c[c.length-1]).layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:va(!1,34);var f,g=b.length,h="";if(0<g){for(h+=b[0],d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}jn(a,h)})}),gq=K(Ro,{outerBoundaryIs:J(Wp),innerBoundaryIs:J(Wp)}),Cq=K(Ro,{color:J(Pp)}),Aq=K(Ro,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Bq=K(Ro,{IconStyle:J(function(a,b,c){a={node:a};var d={},e=b.ic(),f=b.Ie(),g={href:b.b.l};if(e){g.w=e[0],g.h=e[1];var h=b.Jc(),l=b.Rc();l&&f&&l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1])),!h||h[0]===e[0]/2&&h[1]===e[1]/2||(d.hotSpot={x:h[0],bh:"pixels",y:e[1]-h[1],dh:"pixels"})}d.Icon=g,1!==(e=b.a)&&(d.scale=e),(b=b.g)&&(d.heading=b),d=Tl(d,b=sq[c[c.length-1].node.namespaceURI]),Vl(a,uq,Sl,d,c,b)}),LabelStyle:J(function(a,b,c){a={node:a};var d={},e=b.Da();e&&(d.color=e.b),(b=b.b)&&1!==b&&(d.scale=b),d=Tl(d,b=vq[c[c.length-1].node.namespaceURI]),Vl(a,wq,Sl,d,c,b)}),LineStyle:J(function(a,b,c){a={node:a};var d=xq[c[c.length-1].node.namespaceURI];b=Tl({color:b.b,width:b.c},d),Vl(a,yq,Sl,b,c,d)}),PolyStyle:J(function(a,b,c){Vl({node:a},Cq,Dq,[b.b],c)})}),Dq=Ql("color"),zq=Ql("Data"),aq=Ql("ExtendedData"),hq=Ql("innerBoundaryIs"),Sp=Ql("Point"),Tp=Ql("LineString"),Yp=Ql("LinearRing"),Up=Ql("Polygon"),iq=Ql("outerBoundaryIs");Ao.prototype.Yb=function(a,b){b=$l(this,b);var c=El(Ro[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Qo[0]),c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};return 1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]),a=kq[c.namespaceURI],e=Tl(e,a),Vl(d,nq,Sl,e,[b],a,this),c},Nj.Id=function(){},function(a){function b(a){this.nc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.type=this.fa=0,this.length=this.nc.length}function c(a,b,c){var e=c.nc,f=e[c.fa++],g=(112&f)>>4;if(128>f)return d(a,g,b);if(f=e[c.fa++],g|=(127&f)<<3,128>f)return d(a,g,b);if(f=e[c.fa++],g|=(127&f)<<10,128>f)return d(a,g,b);if(f=e[c.fa++],g|=(127&f)<<17,128>f)return d(a,g,b);if(f=e[c.fa++],g|=(127&f)<<24,128>f)return d(a,g,b);if(128>(f=e[c.fa++]))return d(a,g|(1&f)<<31,b);throw Error("Expected varint not more than 10 bytes")}function d(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}var e={read:function(a,b,c,d,e){var f=8*e-d-1,g=(1<<f)-1,h=g>>1,l=-7;e=c?e-1:0;var m=c?-1:1,x=a[b+e];for(e+=m,c=x&(1<<-l)-1,x>>=-l,l+=f;0<l;c=256*c+a[b+e],e+=m,l-=8);for(f=c&(1<<-l)-1,c>>=-l,l+=d;0<l;f=256*f+a[b+e],e+=m,l-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:1/0*(x?-1:1);f+=Math.pow(2,d),c-=h}return(x?-1:1)*f*Math.pow(2,c-d)},write:function(a,b,c,d,e,n){var f,g=8*n-e-1,h=(1<<g)-1,l=h>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;n=d?0:n-1;var B=d?1:-1,z=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(b=isNaN(b)?1:0,d=h):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(f=Math.pow(2,-d))&&(d--,f*=2),2<=(b=1<=d+l?b+m/f:b+m*Math.pow(2,1-l))*f&&(d++,f/=2),d+l>=h?(b=0,d=h):1<=d+l?(b=(b*f-1)*Math.pow(2,e),d+=l):(b=b*Math.pow(2,l-1)*Math.pow(2,e),d=0));8<=e;a[c+n]=255&b,n+=B,b/=256,e-=8);for(d=d<<e|b,g+=e;0<g;a[c+n]=255&d,n+=B,d/=256,g-=8);a[c+n-B]|=128*z}};b.c=0,b.f=1,b.b=2,b.a=5,b.prototype={Ig:function(a,b,c){for(c=c||this.length;this.fa<c;){var d=this.La(),e=d>>3,f=this.fa;this.type=7&d,a(e,b,this),this.fa===f&&this.Aq(d)}return b},Lp:function(){var a=e.read(this.nc,this.fa,!0,23,4);return this.fa+=4,a},Hp:function(){var a=e.read(this.nc,this.fa,!0,52,8);return this.fa+=8,a},La:function(a){var b=this.nc,d=b[this.fa++],e=127&d;return 128>d?e:(d=b[this.fa++],e|=(127&d)<<7,128>d?e:(d=b[this.fa++],e|=(127&d)<<14,128>d?e:(d=b[this.fa++],e|=(127&d)<<21,128>d?e:(d=b[this.fa],c(e|(15&d)<<28,a,this)))))},Xp:function(){return this.La(!0)},je:function(){var a=this.La();return 1==a%2?(a+1)/-2:a/2},Fp:function(){return!!this.La()},Og:function(){for(var a=this.La()+this.fa,b=this.nc,c="",d=this.fa;d<a;){var e=b[d],n=null,p=239<e?4:223<e?3:191<e?2:1;if(d+p>a)break;if(1===p)128>e&&(n=e);else if(2===p){var q=b[d+1];128==(192&q)&&127>=(n=(31&e)<<6|63&q)&&(n=null)}else if(3===p){q=b[d+1];var t=b[d+2];128==(192&q)&&128==(192&t)&&(2047>=(n=(15&e)<<12|(63&q)<<6|63&t)||55296<=n&&57343>=n)&&(n=null)}else if(4===p){q=b[d+1],t=b[d+2];var u=b[d+3];128==(192&q)&&128==(192&t)&&128==(192&u)&&(65535>=(n=(15&e)<<18|(63&q)<<12|(63&t)<<6|63&u)||1114112<=n)&&(n=null)}null===n?(n=65533,p=1):65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),c+=String.fromCharCode(n),d+=p}return this.fa=a,c},Aq:function(a){if((a&=7)===b.c)for(;127<this.nc[this.fa++];);else if(a===b.b)this.fa=this.La()+this.fa;else if(a===b.a)this.fa+=4;else{if(a!==b.f)throw Error("Unimplemented type: "+a);this.fa+=8}}},a.default=b}(Nj.Id=Nj.Id||{}),Nj.Id=Nj.Id.default,Nj.Gf={},Nj.Gf.Kf=function(){},function(a){function b(a,b){this.layers=a.Ig(l,{},b)}function c(a,b){this.x=a,this.y=b}function d(a,b,c,d,f){this.properties={},this.extent=c,this.type=0,this.Dc=a,this.Mf=-1,this.ye=d,this.Ae=f,a.Ig(e,this,b)}function e(a,b,c){if(1==a)b.id=c.La();else if(2==a)for(a=c.La()+c.fa;c.fa<a;){var d=b.ye[c.La()],e=b.Ae[c.La()];b.properties[d]=e}else 3==a?b.type=c.La():4==a&&(b.Mf=c.fa)}function f(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Dc=a,this.ye=[],this.Ae=[],this.xe=[],a.Ig(g,this,b),this.length=this.xe.length}function g(a,b,c){15===a?b.version=c.La():1===a?b.name=c.Og():5===a?b.extent=c.La():2===a?b.xe.push(c.fa):3===a?b.ye.push(c.Og()):4===a&&b.Ae.push(h(c))}function h(a){for(var b=null,c=a.La()+a.fa;a.fa<c;)b=a.La()>>3,b=1===b?a.Og():2===b?a.Lp():3===b?a.Hp():4===b?a.Xp():5===b?a.La():6===b?a.je():7===b?a.Fp():null;return b}function l(a,b,c){3===a&&(a=new m(c,c.La()+c.fa)).length&&(b[a.name]=a)}c.prototype={clone:function(){return new c(this.x,this.y)},add:function(a){return this.clone().hk(a)},rotate:function(a){return this.clone().sk(a)},round:function(){return this.clone().tk()},angle:function(){return Math.atan2(this.y,this.x)},hk:function(a){return this.x+=a.x,this.y+=a.y,this},sk:function(a){var b=Math.cos(a),c=(a=Math.sin(a))*this.x+b*this.y;return this.x=b*this.x-a*this.y,this.y=c,this},tk:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.Zq=function(a){return a instanceof c?a:Array.isArray(a)?new c(a[0],a[1]):a},d.b=["Unknown","Point","LineString","Polygon"],d.prototype.Xh=function(){var a=this.Dc;a.fa=this.Mf;for(var l,b=a.La()+a.fa,d=1,e=0,f=0,g=0,h=[];a.fa<b;)if(e||(e=a.La(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.je(),g+=a.je(),1===d&&(l&&h.push(l),l=[]),l.push(new c(f,g));else{if(7!==d)throw Error("unknown command "+d);l&&l.push(l[0].clone())}return l&&h.push(l),h},d.prototype.bbox=function(){var a=this.Dc;a.fa=this.Mf;for(var b=a.La()+a.fa,c=1,d=0,e=0,f=0,g=1/0,h=-1/0,l=1/0,m=-1/0;a.fa<b;)if(d||(d=a.La(),c=7&d,d>>=3),d--,1===c||2===c)e+=a.je(),f+=a.je(),e<g&&(g=e),e>h&&(h=e),f<l&&(l=f),f>m&&(m=f);else if(7!==c)throw Error("unknown command "+c);return[g,l,h,m]};var m=f;f.prototype.feature=function(a){if(0>a||a>=this.xe.length)throw Error("feature index out of bounds");return this.Dc.fa=this.xe[a],a=this.Dc.La()+this.Dc.fa,new d(this.Dc,a,this.extent,this.ye,this.Ae)};var n=m;a.default={Kf:b,fk:d,gk:n},a.Kf=b,a.fk=d,a.gk=n}(Nj.Gf=Nj.Gf||{}),(k=Eq.prototype).get=function(a){return this.c[a]},k.sb=function(){return this.i},k.G=function(){return this.a||(this.a="Point"===this.f?Xa(this.b):Za(this.b,0,this.b.length,2)),this.a},k.lo=function(){return this.g},k.Tb=function(){return this.b},k.ba=Eq.prototype.Tb,k.W=function(){return this},k.mo=function(){return this.c},k.ae=Eq.prototype.W,k.ma=function(){return 2},k.bb=ra,k.T=function(){return this.f},v(Fq,Yl),(k=Fq.prototype).eg=function(){return this.a},k.T=function(){return"arraybuffer"},k.Oa=function(a,b){var c=this.g;a=new Nj.Id(a),a=new Nj.Gf.Kf(a);var f,d=[],e=this.b;for(f in a.layers)if(!c||-1!=c.indexOf(f)){for(var h,g=a.layers[f],l=0,m=g.length;l<m;++l){if(h=g.feature(l),e===Eq){var n=void 0,p=f,q=h.Xh(),t=[],u=[];Gq(q,u,t);var x=h.type;1===x?n=1===q.length?"Point":"MultiPoint":2===x?n=1===q.length?"LineString":"MultiLineString":3===x&&(n="Polygon"),(q=h.properties)[this.c]=p,n=new this.b(n,u,t,q,h.id)}else{if(x=h,u=f,t=b,n=new this.b,h=x.id,p=x.properties,p[this.c]=u,this.f&&n.Wc(this.f),u=void 0,0===(q=x.type))u=null;else{var B=[],z=[];Gq(x=x.Xh(),z,B),1===q?u=1===x.length?new C(null):new O(null):2===q?u=1===x.length?new M(null):new N(null):3===q&&(u=new D(null)),u.aa("XY",z,B)}t=am(u,!1,$l(this,t)),n.Ra(t),n.kc(h),n.H(p)}d.push(n)}this.a=g?[0,0,g.extent,g.extent]:null}return d},k.ob=function(){return this.defaultDataProjection},k.Cn=function(a){this.g=a},k.Ub=function(){},k.Vc=function(){},k.Gd=function(){},k.dd=function(){},k.Xb=function(){},v(Hq,Wm);var Jq=[null],Kq=K(Jq,{nd:function(a,b){b[b.length-1].td.push(a.getAttribute("ref"))},tag:Iq}),Mq=K(Jq,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.ai[e]=f,ub((a=L({oe:{}},Lq,a,b)).oe)||(f=new C(f),am(f,!1,c),(c=new Bl(f)).kc(e),c.H(a.oe),d.features.push(c))},way:function(a,b){var c=b[0],d=a.getAttribute("id");a=L({td:[],oe:{}},Kq,a,b),b=b[b.length-1];for(var e=[],f=0,g=a.td.length;f<g;f++)ka(e,b.ai[a.td[f]]);a.td[0]==a.td[a.td.length-1]?(f=new D(null)).aa("XY",e,[e.length]):(f=new M(null)).aa("XY",e),am(f,!1,c),(c=new Bl(f)).kc(d),c.H(a.oe),b.features.push(c)}}),Lq=K(Jq,{tag:Iq});Hq.prototype.Ac=function(a,b){return b=Zl(this,a,b),"osm"==a.localName&&(a=L({ai:{},features:[]},Mq,a,[b])).features?a.features:[]},Hq.prototype.$g=function(){},Hq.prototype.Yb=function(){},Hq.prototype.te=function(){},Oq.prototype.read=function(a){return Hl(a)?this.a(a):Il(a)?this.b(a):"string"==typeof a?(a=Jl(a),this.a(a)):null},v(Pq,Oq),Pq.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Pq.prototype.b=function(a){return(a=L({},Qq,a,[]))?a:null};var Rq=[null,"http://www.opengis.net/ows/1.1"],Qq=K(Rq,{ServiceIdentification:I(function(a,b){return L({},Sq,a,b)}),ServiceProvider:I(function(a,b){return L({},Tq,a,b)}),OperationsMetadata:I(function(a,b){return L({},Uq,a,b)})}),Vq=K(Rq,{DeliveryPoint:I(Q),City:I(Q),AdministrativeArea:I(Q),PostalCode:I(Q),Country:I(Q),ElectronicMailAddress:I(Q)}),Wq=K(Rq,{Value:Ol(function(a){return Q(a)})}),Xq=K(Rq,{AllowedValues:I(function(a,b){return L({},Wq,a,b)})}),$q=K(Rq,{Phone:I(function(a,b){return L({},Yq,a,b)}),Address:I(function(a,b){return L({},Vq,a,b)})}),br=K(Rq,{HTTP:I(function(a,b){return L({},ar,a,b)})}),ar=K(Rq,{Get:Ol(function(a,b){var c=Nq(a);if(c)return L({href:c},cr,a,b)}),Post:void 0}),dr=K(Rq,{DCP:I(function(a,b){return L({},br,a,b)})}),Uq=K(Rq,{Operation:function(a,b){var c=a.getAttribute("name");(a=L({},dr,a,b))&&(b[b.length-1][c]=a)}}),Yq=K(Rq,{Voice:I(Q),Facsimile:I(Q)}),cr=K(Rq,{Constraint:Ol(function(a,b){var c=a.getAttribute("name");if(c)return L({name:c},Xq,a,b)})}),er=K(Rq,{IndividualName:I(Q),PositionName:I(Q),ContactInfo:I(function(a,b){return L({},$q,a,b)})}),Sq=K(Rq,{Title:I(Q),ServiceTypeVersion:I(Q),ServiceType:I(Q)}),Tq=K(Rq,{ProviderName:I(Q),ProviderSite:I(Nq),ServiceContact:I(function(a,b){return L({},er,a,b)})});v(gr,po),(k=gr.prototype).he=function(a,b){return a=this.Cd(a,b),new Bl(a)},k.Hg=function(a,b){return[this.he(a,b)]},k.Cd=function(a,b){var c=vf(this.a);return a=jr(a,c,this.b),fr(a,a.length,c,a),c=If(a,0,a.length,c),am(new M(c,this.a),!1,$l(this,b))},k.re=function(a,b){return(a=a.W())?this.Hd(a,b):(va(!1,40),"")},k.ah=function(a,b){return this.re(a[0],b)},k.Hd=function(a,b){return a=am(a,!0,$l(this,b)),b=a.ba(),a=a.ma(),fr(b,b.length,a,b),hr(b,a,this.b)},v(lr,bm),lr.prototype.Gg=function(a,b){if("Topology"==a.type){var c=null,d=null;if(a.transform){var e=a.transform;c=e.scale,d=e.translate}var f=a.arcs;if(e){e=c;var h,g=d,l=0;for(h=f.length;l<h;++l){var m,n=f[l],p=e,q=g,t=0,u=0,x=0;for(m=n.length;x<m;++x){var B=n[x];t+=B[0],u+=B[1],B[0]=t,B[1]=u,qr(B,p,q)}}}e=[],a=a.objects,g=this.a;for(var z in a)this.b&&-1==this.b.indexOf(z)||("GeometryCollection"===a[z].type?(l=a[z],e.push.apply(e,nr(l,f,c,d,g,z,b))):(l=a[z],e.push(or(l,f,c,d,g,z,b))));return e}return[]},lr.prototype.Ng=function(){return this.defaultDataProjection};var pr={Point:function(a,b,c){return a=a.coordinates,b&&c&&qr(a,b,c),new C(a)},LineString:function(a,b){return a=mr(a.arcs,b),new M(a)},Polygon:function(a,b){var d,c=[],e=0;for(d=a.arcs.length;e<d;++e)c[e]=mr(a.arcs[e],b);return new D(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d;if(b&&c){var e=0;for(d=a.length;e<d;++e)qr(a[e],b,c)}return new O(a)},MultiLineString:function(a,b){var d,c=[],e=0;for(d=a.arcs.length;e<d;++e)c[e]=mr(a.arcs[e],b);return new N(c)},MultiPolygon:function(a,b){var d,e,c=[],f=0;for(e=a.arcs.length;f<e;++f){var g=a.arcs[f],h=[],l=0;for(d=g.length;l<d;++l)h[l]=mr(g[l],b);c[f]=h}return new P(c)}};(k=lr.prototype).cd=function(){},k.se=function(){},k.ue=function(){},k.Kg=function(){},k.Uc=function(){},v(rr,Wm);var sr={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};rr.prototype.Ac=function(a,b){var c={featureType:this.c,featureNS:this.a};return rb(c,Zl(this,a,b||{})),b=[c],this.b.b["http://www.opengis.net/gml"].featureMember=Ll(Zm.prototype.ie),(a=L([],this.b.b,a,b,this.b))||(a=[]),a},rr.prototype.j=function(a){return Hl(a)?tr(a):Il(a)?L({},ur,a,[]):"string"==typeof a?(a=Jl(a),tr(a)):void 0},rr.prototype.g=function(a){return Hl(a)?vr(this,a):Il(a)?wr(this,a):"string"==typeof a?(a=Jl(a),vr(this,a)):void 0};var xr={"http://www.opengis.net/gml":{boundedBy:I(Zm.prototype.sf,"bounds")}},yr={"http://www.opengis.net/wfs":{totalInserted:I(fn),totalUpdated:I(fn),totalDeleted:I(fn)}},zr={"http://www.opengis.net/ogc":{FeatureId:Ll(function(a){return a.getAttribute("fid")})}},Ar={"http://www.opengis.net/wfs":{Feature:function(a,b){Ul(zr,a,b)}}},ur={"http://www.opengis.net/wfs":{TransactionSummary:I(function(a,b){return L({},yr,a,b)},"transactionSummary"),InsertResults:I(function(a,b){return L([],Ar,a,b)},"insertIds")}},Br={"http://www.opengis.net/wfs":{PropertyName:J(jn)}},Er={"http://www.opengis.net/wfs":{Insert:J(function(a,b,c){var d=c[c.length-1],e=d.gmlVersion;if(d=El(d.featureNS,d.featureType),a.appendChild(d),2===e){a=vn.prototype,(e=b.a)&&d.setAttribute("fid",e);var f=(e=c[c.length-1]).featureNS,g=b.c;e.pb||(e.pb={},e.pb[f]={});var h=b.N();b=[];var l=[];for(n in h){var m=h[n];null!==m&&(b.push(n),l.push(m),n==g||m instanceof rf?n in e.pb[f]||(e.pb[f][n]=J(a.ki,a)):n in e.pb[f]||(e.pb[f][n]=J(jn)))}var n=rb({},e);n.node=d,Vl(n,e.pb,Ql(void 0,f),l,c,b)}else mn.prototype.ti(d,b,c)}),Update:J(function(a,b,c){var d=c[c.length-1];va(void 0!==b.a,27);var e=d.featurePrefix,f=d.featureNS;if(a.setAttribute("typeName",Dr(e,d.featureType)),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),void 0!==(e=b.a)){for(var g=[],h=0,l=(f=b.O()).length;h<l;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}Vl({gmlVersion:d.gmlVersion,node:a,hasZ:d.hasZ,srsName:d.srsName},Er,Ql("Property"),g,c),Cr(a,e)}}),Delete:J(function(a,b,c){c=c[c.length-1],va(void 0!==b.a,26);var d=c.featurePrefix,e=c.featureNS;a.setAttribute("typeName",Dr(d,c.featureType)),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+d,e),void 0!==(b=b.a)&&Cr(a,b)}),Property:J(function(a,b,c){var d=El("http://www.opengis.net/wfs","Name"),e=c[c.length-1].gmlVersion;a.appendChild(d),jn(d,b.name),void 0!==b.value&&null!==b.value&&(d=El("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof rf?2===e?vn.prototype.ki(d,b.value,c):mn.prototype.ud(d,b.value,c):jn(d,b.value))}),Native:J(function(a,b){b.Jq&&a.setAttribute("vendorId",b.Jq),void 0!==b.iq&&a.setAttribute("safeToIgnore",b.iq),void 0!==b.value&&jn(a,b.value)})}},Gr={"http://www.opengis.net/wfs":{Query:J(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",e?Dr(e,b):b),h&&a.setAttribute("srsName",h),f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),(b=rb({},d)).node=a,Vl(b,Br,Ql("PropertyName"),g,c),(d=d.filter)&&(g=El("http://www.opengis.net/ogc","Filter"),a.appendChild(g),Vl({node:g},Gr,Ql(d.lc),[d],c))})},"http://www.opengis.net/ogc":{During:J(function(a,b){var c=El("http://www.opengis.net/fes","ValueReference");jn(c,b.b),a.appendChild(c),c=El("http://www.opengis.net/gml","TimePeriod"),a.appendChild(c),a=El("http://www.opengis.net/gml","begin"),c.appendChild(a),Lr(a,b.a),a=El("http://www.opengis.net/gml","end"),c.appendChild(a),Lr(a,b.f)}),And:J(Fr),Or:J(Fr),Not:J(function(a,b,c){b=b.condition,Vl({node:a},Gr,Ql(b.lc),[b],c)}),BBOX:J(function(a,b,c){c[c.length-1].srsName=b.srsName,Ir(a,b.geometryName),mn.prototype.ud(a,b.extent,c)}),Intersects:J(function(a,b,c){c[c.length-1].srsName=b.srsName,Ir(a,b.geometryName),mn.prototype.ud(a,b.geometry,c)}),Within:J(function(a,b,c){c[c.length-1].srsName=b.srsName,Ir(a,b.geometryName),mn.prototype.ud(a,b.geometry,c)}),PropertyIsEqualTo:J(Hr),PropertyIsNotEqualTo:J(Hr),PropertyIsLessThan:J(Hr),PropertyIsLessThanOrEqualTo:J(Hr),PropertyIsGreaterThan:J(Hr),PropertyIsGreaterThanOrEqualTo:J(Hr),PropertyIsNull:J(function(a,b){Ir(a,b.b)}),PropertyIsBetween:J(function(a,b){Ir(a,b.b);var c=El("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c),Jr(c,""+b.a),c=El("http://www.opengis.net/ogc","UpperBoundary"),a.appendChild(c),Jr(c,""+b.f)}),PropertyIsLike:J(function(a,b){a.setAttribute("wildCard",b.g),a.setAttribute("singleChar",b.i),a.setAttribute("escapeChar",b.f),void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Ir(a,b.b),Jr(a,""+b.c)})}};rr.prototype.o=function(a){var b=El("http://www.opengis.net/wfs","GetFeature");if(b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0"),a){a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count);var c=a.filter;if(a.bbox){va(a.geometryName,12);var d=Mm(a.geometryName,a.bbox,a.srsName);c=c?Lm(c,d):d}}return b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.a,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]},va(Array.isArray(a.featureTypes),11),a=a.featureTypes,c=[c],d=rb({},c[c.length-1]),d.node=b,Vl(d,Gr,Ql("Query"),a,c),b},rr.prototype.v=function(a,b,c,d){var e=[],f=El("http://www.opengis.net/wfs","Transaction"),g=d.version?d.version:"1.1.0",h="1.0.0"===g?2:3;if(f.setAttribute("service","WFS"),f.setAttribute("version",g),d){var l=d.gmlOptions?d.gmlOptions:{};d.handle&&f.setAttribute("handle",d.handle)}f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",sr[g]);var m=d.featurePrefix?d.featurePrefix:"feature";return a&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},rb(g,l),Vl(g,Er,Ql("Insert"),a,e)),b&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},rb(g,l),Vl(g,Er,Ql("Update"),b,e)),c&&Vl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},Er,Ql("Delete"),c,e),d.nativeElements&&Vl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},Er,Ql("Native"),d.nativeElements,e),f},rr.prototype.Mg=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.vf(a);return null},rr.prototype.vf=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];return this.b.sf(a,b),Wb(b.pop().srsName)}return null},v(Mr,po);var Rr={Point:Nr,LineString:Or,Polygon:Pr,MultiPoint:function(a){for(var b=[],c=0,d=(a=a.ee()).length;c<d;++c)b.push("("+Nr(a[c])+")");return b.join(",")},MultiLineString:function(a){for(var b=[],c=0,d=(a=a.ld()).length;c<d;++c)b.push("("+Or(a[c])+")");return b.join(",")},MultiPolygon:function(a){for(var b=[],c=0,d=(a=a.$d()).length;c<d;++c)b.push("("+Pr(a[c])+")");return b.join(",")},GeometryCollection:function(a){for(var b=[],c=0,d=(a=a.kd()).length;c<d;++c)b.push(Qr(a[c]));return b.join(",")}};(k=Mr.prototype).he=function(a,b){return(a=this.Cd(a,b))?((b=new Bl).Ra(a),b):null},k.Hg=function(a,b){var c=[];a=this.Cd(a,b),b=[];for(var d=0,e=(c=this.b&&"GeometryCollection"==a.T()?a.a:[a]).length;d<e;++d)(a=new Bl).Ra(c[d]),b.push(a);return b},k.Cd=function(a,b){return a=new Sr(new Tr(a)),Ur(a),(a=Vr(a))?am(a,!1,b):null},k.re=function(a,b){return(a=a.W())?this.Hd(a,b):""},k.ah=function(a,b){if(1==a.length)return this.re(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].W());return a=new Nm(c),this.Hd(a,b)},k.Hd=function(a,b){return Qr(am(a,!0,b))},(k=Sr.prototype).Bg=function(){if(Xr(this,2)){var a=bs(this);if(Xr(this,3))return a}else if(Yr(this))return null;throw Error(Zr(this))},k.Ag=function(){if(Xr(this,2)){var a=cs(this);if(Xr(this,3))return a}else if(Yr(this))return[];throw Error(Zr(this))},k.Cg=function(){if(Xr(this,2)){var a=ds(this);if(Xr(this,3))return a}else if(Yr(this))return[];throw Error(Zr(this))},k.sp=function(){if(Xr(this,2)){var a;if(2==this.b.type)for(a=[this.Bg()];Xr(this,5);)a.push(this.Bg());else a=cs(this);if(Xr(this,3))return a}else if(Yr(this))return[];throw Error(Zr(this))},k.rp=function(){if(Xr(this,2)){var a=ds(this);if(Xr(this,3))return a}else if(Yr(this))return[];throw Error(Zr(this))},k.tp=function(){if(Xr(this,2)){for(var a=[this.Cg()];Xr(this,5);)a.push(this.Cg());if(Xr(this,3))return a}else if(Yr(this))return[];throw Error(Zr(this))};var as={POINT:C,LINESTRING:M,POLYGON:D,MULTIPOINT:O,MULTILINESTRING:N,MULTIPOLYGON:P},$r={POINT:Sr.prototype.Bg,LINESTRING:Sr.prototype.Ag,POLYGON:Sr.prototype.Cg,MULTIPOINT:Sr.prototype.sp,MULTILINESTRING:Sr.prototype.rp,MULTIPOLYGON:Sr.prototype.tp};v(es,Oq),es.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},es.prototype.b=function(a){return this.version=a.getAttribute("version").trim(),(a=L({version:this.version},fs,a,[]))?a:null};var ns=[null,"http://www.opengis.net/wms"],fs=K(ns,{Service:I(function(a,b){return L({},os,a,b)}),Capability:I(function(a,b){return L({},ps,a,b)})}),ps=K(ns,{Request:I(function(a,b){return L({},qs,a,b)}),Exception:I(function(a,b){return L([],rs,a,b)}),Layer:I(function(a,b){return L({},ss,a,b)})}),os=K(ns,{Name:I(Q),Title:I(Q),Abstract:I(Q),KeywordList:I(ls),OnlineResource:I(Nq),ContactInformation:I(function(a,b){return L({},ts,a,b)}),Fees:I(Q),AccessConstraints:I(Q),LayerLimit:I(fn),MaxWidth:I(fn),MaxHeight:I(fn)}),ts=K(ns,{ContactPersonPrimary:I(function(a,b){return L({},us,a,b)}),ContactPosition:I(Q),ContactAddress:I(function(a,b){return L({},vs,a,b)}),ContactVoiceTelephone:I(Q),ContactFacsimileTelephone:I(Q),ContactElectronicMailAddress:I(Q)}),us=K(ns,{ContactPerson:I(Q),ContactOrganization:I(Q)}),vs=K(ns,{AddressType:I(Q),Address:I(Q),City:I(Q),StateOrProvince:I(Q),PostCode:I(Q),Country:I(Q)}),rs=K(ns,{Format:Ll(Q)}),ss=K(ns,{Name:I(Q),Title:I(Q),Abstract:I(Q),KeywordList:I(ls),CRS:Ol(Q),EX_GeographicBoundingBox:I(function(a,b){var c=L({},ws,a,b);if(c){a=c.westBoundLongitude,b=c.southBoundLatitude;var d=c.eastBoundLongitude;if(c=c.northBoundLatitude,void 0!==a&&void 0!==b&&void 0!==d&&void 0!==c)return[a,b,d,c]}}),BoundingBox:Ol(function(a){var b=[en(a.getAttribute("minx")),en(a.getAttribute("miny")),en(a.getAttribute("maxx")),en(a.getAttribute("maxy"))],c=[en(a.getAttribute("resx")),en(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:Ol(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),default:a.getAttribute("default"),multipleValues:bn(a.getAttribute("multipleValues")),nearestValue:bn(a.getAttribute("nearestValue")),current:bn(a.getAttribute("current")),values:Q(a)}}),Attribution:I(function(a,b){return L({},xs,a,b)}),AuthorityURL:Ol(function(a,b){if(b=gs(a,b))return b.name=a.getAttribute("name"),b}),Identifier:Ol(Q),MetadataURL:Ol(function(a,b){if(b=gs(a,b))return b.type=a.getAttribute("type"),b}),DataURL:Ol(gs),FeatureListURL:Ol(gs),Style:Ol(function(a,b){return L({},ys,a,b)}),MinScaleDenominator:I(dn),MaxScaleDenominator:I(dn),Layer:Ol(function(a,b){var c=b[b.length-1],d=L({},ss,a,b);if(d)return void 0===(b=bn(a.getAttribute("queryable")))&&(b=c.queryable),d.queryable=void 0!==b&&b,void 0===(b=gn(a.getAttribute("cascaded")))&&(b=c.cascaded),d.cascaded=b,void 0===(b=bn(a.getAttribute("opaque")))&&(b=c.opaque),d.opaque=void 0!==b&&b,void 0===(b=bn(a.getAttribute("noSubsets")))&&(b=c.noSubsets),d.noSubsets=void 0!==b&&b,(b=en(a.getAttribute("fixedWidth")))||(b=c.fixedWidth),d.fixedWidth=b,(a=en(a.getAttribute("fixedHeight")))||(a=c.fixedHeight),d.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d})}),xs=K(ns,{Title:I(Q),OnlineResource:I(Nq),LogoURL:I(ks)}),ws=K(ns,{westBoundLongitude:I(dn),eastBoundLongitude:I(dn),southBoundLatitude:I(dn),northBoundLatitude:I(dn)}),qs=K(ns,{GetCapabilities:I(is),GetMap:I(is),GetFeatureInfo:I(is)}),js=K(ns,{Format:Ol(Q),DCPType:Ol(function(a,b){return L({},zs,a,b)})}),zs=K(ns,{HTTP:I(function(a,b){return L({},As,a,b)})}),As=K(ns,{Get:I(gs),Post:I(gs)}),ys=K(ns,{Name:I(Q),Title:I(Q),Abstract:I(Q),LegendURL:Ol(ks),StyleSheetURL:I(gs),StyleURL:I(gs)}),hs=K(ns,{Format:I(Q),OnlineResource:I(Nq)}),ms=K(ns,{Keyword:Ll(Q)});v(Bs,Wm),Bs.prototype.Ac=function(a,b){var c={};b&&rb(c,Zl(this,a,b)),c=[c],a.setAttribute("namespaceURI",this.a);var d=a.localName;if(b=[],a.childNodes.length){if("msGMLOutput"==d)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=c[0],l=g.localName.replace("_layer","");if(!this.c||ha(this.c,l)){l+="_feature",h.featureType=l,h.featureNS=this.a;var m={};m[l]=Ll(this.b.Eg,this.b),h=K([h.featureNS,null],m),g.setAttribute("namespaceURI",this.a),(g=L([],h,g,c,this.b))&&ka(b,g)}}}"FeatureCollection"==d&&(a=L([],this.b.b,a,[{}],this.b))&&(b=a)}return b},Bs.prototype.$g=function(){},Bs.prototype.Yb=function(){},Bs.prototype.te=function(){},v(Cs,Oq),Cs.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Cs.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.f.b(a);return c?(c.version=b,(c=L(c,Ds,a,[]))?c:null):null};var Fs=[null,"http://www.opengis.net/wmts/1.0"],Gs=[null,"http://www.opengis.net/ows/1.1"],Ds=K(Fs,{Contents:I(function(a,b){return L({},Hs,a,b)})}),Hs=K(Fs,{Layer:Ol(function(a,b){return L({},Is,a,b)}),TileMatrixSet:Ol(function(a,b){return L({},Js,a,b)})}),Is=K(Fs,{Style:Ol(function(a,b){if(b=L({},Ks,a,b))return a="true"===a.getAttribute("isDefault"),b.isDefault=a,b}),Format:Ol(Q),TileMatrixSetLink:Ol(function(a,b){return L({},Ls,a,b)}),Dimension:Ol(function(a,b){return L({},Ms,a,b)}),ResourceURL:Ol(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};return b&&(d.format=b),c&&(d.template=c),a&&(d.resourceType=a),d})},K(Gs,{Title:I(Q),Abstract:I(Q),WGS84BoundingBox:I(function(a,b){if(2==(a=L([],Ns,a,b)).length)return La(a)}),Identifier:I(Q)})),Ks=K(Fs,{LegendURL:Ol(function(a){var b={};return b.format=a.getAttribute("format"),b.href=Nq(a),b})},K(Gs,{Title:I(Q),Identifier:I(Q)})),Ls=K(Fs,{TileMatrixSet:I(Q),TileMatrixSetLimits:I(function(a,b){return L([],Os,a,b)})}),Os=K(Fs,{TileMatrixLimits:Ll(function(a,b){return L({},Ps,a,b)})}),Ps=K(Fs,{TileMatrix:I(Q),MinTileRow:I(fn),MaxTileRow:I(fn),MinTileCol:I(fn),MaxTileCol:I(fn)}),Ms=K(Fs,{Default:I(Q),Value:Ol(Q)},K(Gs,{Identifier:I(Q)})),Ns=K(Gs,{LowerCorner:Ll(Es),UpperCorner:Ll(Es)}),Js=K(Fs,{WellKnownScaleSet:I(Q),TileMatrix:Ol(function(a,b){return L({},Qs,a,b)})},K(Gs,{SupportedCRS:I(Q),Identifier:I(Q)})),Qs=K(Fs,{TopLeftCorner:I(Es),ScaleDenominator:I(dn),TileWidth:I(fn),TileHeight:I(fn),MatrixWidth:I(fn),MatrixHeight:I(fn)},K(Gs,{Identifier:I(Q)}));v(Rs,Vc),(k=Rs.prototype).ka=function(){this.Ve(!1),Vc.prototype.ka.call(this)},k.Om=function(){var a=this.ci();a&&(this.i=Xb(Wb("EPSG:4326"),a),this.a&&this.set("position",this.i(this.a)))},k.Pm=function(){if(Yd){var a=this.di();a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Ap.bind(this),this.Bp.bind(this),this.Ph()):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},k.Ap=function(a){a=a.coords,this.set("accuracy",a.accuracy),this.set("altitude",null===a.altitude?void 0:a.altitude),this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy),this.set("heading",null===a.heading?void 0:Fa(a.heading)),this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.i(this.a);this.set("position",b),this.set("speed",null===a.speed?void 0:a.speed),(a=bg(this.g,this.a,a.accuracy)).Fc(this.i),this.set("accuracyGeometry",a),this.s()},k.Bp=function(a){a.type="error",this.Ve(!1),this.b(a)},k.Ok=function(){return this.get("accuracy")},k.Pk=function(){return this.get("accuracyGeometry")||null},k.Rk=function(){return this.get("altitude")},k.Sk=function(){return this.get("altitudeAccuracy")},k.Mm=function(){return this.get("heading")},k.Nm=function(){return this.get("position")},k.ci=function(){return this.get("projection")},k.xl=function(){return this.get("speed")},k.di=function(){return this.get("tracking")},k.Ph=function(){return this.get("trackingOptions")},k.ei=function(a){this.set("projection",Wb(a))},k.Ve=function(a){this.set("tracking",a)},k.Gj=function(a){this.set("trackingOptions",a)},v(Ss,uf),(k=Ss.prototype).clone=function(){var a=new Ss(null);return wf(a,this.ja,this.A.slice()),a.s(),a},k.Jb=function(a,b,c,d){var e=this.A;a-=e[0];var f=b-e[1];if((b=a*a+f*f)<d){if(b)for(d=this.vd()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];else for(d=0;d<this.a;++d)c[d]=e[d];return c.length=this.a,b}return d},k.Pc=function(a,b){var c=this.A;return a-=c[0],b-=c[1],a*a+b*b<=Ts(this)},k.xa=function(){return this.A.slice(0,this.a)},k.De=function(a){var b=this.A,c=b[this.a]-b[0];return Va(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},k.vd=function(){return Math.sqrt(Ts(this))},k.T=function(){return"Circle"},k.Ya=function(a){var b=this.G();return!!ob(a,b)&&(b=this.xa(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]||cb(a,this.wb,this))},k.rb=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.A[b]-this.A[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];wf(this,this.ja,c),this.s()},k.Vg=function(a,b,c){if(a){xf(this,c,a,0),this.A||(this.A=[]),a=Ff(c=this.A,a),c[a++]=c[0]+b;var d;for(b=1,d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else wf(this,"XY",null);this.s()},k.V=function(){},k.na=function(){},k.Xc=function(a){this.A[this.a]=this.A[0]+a,this.s()};var Ys=new Ej({color:"rgba(0,0,0,0.2)"}),Zs=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];(k=Xs.prototype).Qm=function(){return this.v},k.ml=function(){return this.f},k.tl=function(){return this.c},k.Th=function(a){var b=a.vectorContext,c=a.frameState;a=c.extent;var d=c.viewState,e=d.center,f=d.projection;if(d=d.resolution,c=c.pixelRatio,c=d*d/(4*c*c),!this.i||!ec(this.i,f)){var g=Wb("EPSG:4326"),h=f.G(),l=f.g,m=ic(l,g,f),n=l[2],p=l[1],q=l[0],t=m[3],u=m[2],x=m[1];m=m[0],this.g=l[3],this.j=n,this.l=p,this.o=q,this.pa=t,this.qa=u,this.I=x,this.S=m,this.u=fc(g,f),this.D=fc(f,g),this.R=this.D(lb(h)),this.i=f}for(f=this.R[0],g=this.R[1],h=-1,n=Math.pow(this.va*d,2),p=[],q=[],d=0,l=Zs.length;d<l&&(t=Zs[d]/2,p[0]=f-t,p[1]=g-t,q[0]=f+t,q[1]=g+t,this.u(p,p),this.u(q,q),!((t=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2))<=n));++d)h=Zs[d];if(-1==(d=h))this.f.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(e=(f=this.D(e))[0],f=f[1],g=this.jb,p=(l=ic(l=[Math.max(a[0],this.S),Math.max(a[1],this.I),Math.min(a[2],this.qa),Math.min(a[3],this.pa)],this.i,"EPSG:4326"))[3],h=l[2],q=l[1],t=l[0],n=$s(this,u=Aa(e=Math.floor(e/d)*d,this.o,this.j),q,p,c,a,0),l=0;u!=this.o&&l++<g;)u=Math.max(u-d,this.o),n=$s(this,u,q,p,c,a,n);for(u=Aa(e,this.o,this.j),l=0;u!=this.j&&l++<g;)u=Math.min(u+d,this.j),n=$s(this,u,q,p,c,a,n);for(this.f.length=n,this.b&&(this.b.length=n),n=at(this,e=Aa(f=Math.floor(f/d)*d,this.l,this.g),t,h,c,a,0),l=0;e!=this.l&&l++<g;)e=Math.max(e-d,this.l),n=at(this,e,t,h,c,a,n);for(e=Aa(f,this.l,this.g),l=0;e!=this.g&&l++<g;)e=Math.min(e+d,this.g),n=at(this,e,t,h,c,a,n);this.c.length=n,this.a&&(this.a.length=n)}for(b.Na(null,this.oa),a=0,c=this.f.length;a<c;++a)e=this.f[a],b.Cb(e);for(a=0,c=this.c.length;a<c;++a)e=this.c[a],b.Cb(e);if(this.b)for(a=0,c=this.b.length;a<c;++a)e=this.b[a],this.C.Dd(e.text),b.gb(this.C),b.Cb(e.Xd);if(this.a)for(a=0,c=this.a.length;a<c;++a)e=this.a[a],this.B.Dd(e.text),b.gb(this.B),b.Cb(e.Xd)},k.setMap=function(a){this.v&&(this.v.K("postcompose",this.Th,this),this.v.render()),a&&(a.J("postcompose",this.Th,this),a.render()),this.v=a},v(bt,Sc),bt.prototype.s=function(){this.b("change")},bt.prototype.G=function(){return this.extent},bt.prototype.getState=function(){return this.state},v(ct,bt),(k=ct.prototype).Y=function(a){if(void 0!==a){var b;return(a=w(a))in this.c?this.c[a]:(b=ub(this.c)?this.M:this.M.cloneNode(!1),this.c[a]=b)}return this.M},k.Tm=function(){this.state=3,this.f.forEach(Gc),this.f=null,this.s()},k.Um=function(){void 0===this.resolution&&(this.resolution=kb(this.extent)/this.M.height),this.state=2,this.f.forEach(Gc),this.f=null,this.s()},k.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.f=[Lc(this.M,"error",this.Tm,this),Lc(this.M,"load",this.Um,this)],this.g(this,this.j))},k.Wg=function(a){this.M=a},v(dt,bt),dt.prototype.g=function(a){this.state=a?3:2,this.s()},dt.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))},dt.prototype.Y=function(){return this.f},v(et,Sc),et.prototype.s=function(){this.b("change")},et.prototype.fb=function(){return this.key+"/"+this.sa},et.prototype.i=function(){return this.sa},et.prototype.getState=function(){return this.state},v(it,et),(k=it.prototype).ka=function(){1==this.state&&(jt(this),this.M.src=kt.toDataURL("image/png")),this.a&&Pc(this.a),this.state=5,this.s(),et.prototype.ka.call(this)},k.Y=function(){return this.M},k.fb=function(){return this.g},k.Rm=function(){this.state=3,jt(this),this.M=kt,this.s()},k.Sm=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,jt(this),this.s()},k.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[Lc(this.M,"error",this.Rm,this),Lc(this.M,"load",this.Sm,this)],this.j(this,this.g))};var kt,lt=ld(1,1);lt.fillStyle="rgba(0,0,0,0)",lt.fillRect(0,0,1,1),kt=lt.canvas,v(mt,sg),mt.prototype.l=function(a,b){b=b.target.result;var c=this.v,d=this.o;d||(d=c.$().v);var f,e=[],g=0;for(f=(c=this.j).length;g<f;++g){var h=new c[g],l={featureProjection:d};try{e=h.Oa(b,l)}catch(m){e=null}if(e&&0<e.length)break}this.g&&(this.g.clear(),this.g.Ec(e)),this.b(new pt(qt,a,e,d))},mt.prototype.Ia=function(a){sg.prototype.Ia.call(this,a),a?rt(this):st(this)},mt.prototype.setMap=function(a){st(this),sg.prototype.setMap.call(this,a),this.c()&&rt(this)};var qt="addfeatures";v(pt,Qc),v(tt,Jg),v(xt,ci),(k=xt.prototype).wh=function(a,b,c){At(this,b);var g,d=a.T(),e=a.ma(),f=this.coordinates.length;if("MultiPolygon"==d){d=mi(a);for(var h=[],l=a.c,m=g=0,n=l.length;m<n;++m){var p=[];g=zt(this,d,g,l[m],e,p),h.push(p)}this.a.push([4,f,h,a,c,Kf])}else"Polygon"==d||"MultiLineString"==d?(h=[],d="Polygon"==d?a.Tb():a.ba(),zt(this,d,0,a.sb(),e,h),this.a.push([4,f,h,a,c,Jf])):"LineString"==d||"MultiPoint"==d?(d=a.ba(),e=yt(this,d,0,d.length,e,!1,!1),this.a.push([4,f,e,a,c,If])):"Point"==d&&(d=a.ba(),this.coordinates.push(d[0],d[1]),e=this.coordinates.length,this.a.push([4,f,e,a,c]));Bt(this,b)},k.Wa=function(a,b){if(this.S){var c=Nh(this.U,this.S.slice());a.translate(c[0],c[1]),a.rotate(b)}a.fill(),this.S&&a.setTransform.apply(a,this.ta)},k.Ma=function(a,b,c,d,e){Ct(this,a,b,c,d,e,this.a,void 0,void 0)},k.df=ra,k.Zf=function(){return this.Va},v(Et,xt),Et.prototype.sc=function(a,b){if(this.M){At(this,b);var c=a.ba(),d=this.coordinates.length;a=yt(this,c,0,c.length,a.ma(),!1,!1),this.a.push([5,d,a,this.M,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),this.b.push([5,d,a,this.I,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),Bt(this,b)}},Et.prototype.qc=function(a,b){if(this.M){At(this,b);var c=a.ba(),d=this.coordinates.length;a=yt(this,c,0,c.length,a.ma(),!1,!1),this.a.push([5,d,a,this.M,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),this.b.push([5,d,a,this.I,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),Bt(this,b)}},Et.prototype.df=function(){Dt(this),this.i=this.f=void 0,this.M=this.I=null,this.R=this.u=this.o=this.l=this.B=this.D=this.j=this.v=this.g=void 0},Et.prototype.Vb=function(a){var b=a.Jc(),c=a.ic(),d=a.yg(1),e=a.Y(1),f=a.Rc();this.f=b[0],this.i=b[1],this.I=d,this.M=e,this.g=c[1],this.j=a.i,this.D=f[0],this.B=f[1],this.l=a.o,this.o=a.g,this.v=a.a,this.u=a.v,this.R=c[0]},v(Ft,xt),(k=Ft.prototype).Zf=function(){return this.i||(this.i=Pa(this.Va),0<this.c&&Oa(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.oc=function(a,b){var c=this.f,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(Ht(this),At(this,b),this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.ba(),Gt(this,c,0,c.length,a.ma()),this.b.push([13]),Bt(this,b))},k.pc=function(a,b){var c=this.f,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){Ht(this),At(this,b),this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.sb(),d=a.ba(),a=a.ma();var f,e=0,g=0;for(f=c.length;g<f;++g)e=Gt(this,d,e,c[g],a);this.b.push([13]),Bt(this,b)}},k.df=function(){var a=this.f;void 0!=a.sd&&a.sd!=this.coordinates.length&&this.a.push([13]),Dt(this),this.f=null},k.Na=function(a,b){a=b.b,this.f.strokeStyle=kd(a||ai),a=b.g,this.f.lineCap=void 0!==a?a:"round",a=b.f,this.f.lineDash=a||$h,a=b.i,this.f.lineDashOffset=a||0,a=b.j,this.f.lineJoin=void 0!==a?a:"round",a=b.c,this.f.lineWidth=void 0!==a?a:1,b=b.l,this.f.miterLimit=void 0!==b?b:10,this.f.lineWidth>this.c&&(this.c=this.f.lineWidth,this.i=null)},v(It,xt),(k=It.prototype).$b=function(a,b){var c=this.f,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Kt(this,a),At(this,b),this.b.push([10,id(Zh)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var e=a.ba();d=this.coordinates.length,yt(this,e,0,e.length,a.ma(),!1,!1),a=[1],d=[2,d],this.a.push(a,d),this.b.push(a,d),a=[8],this.b.push(a),void 0!==c.fillStyle&&this.a.push(a),void 0!==c.strokeStyle&&(c=[13],this.a.push(c),this.b.push(c)),Bt(this,b)}},k.tc=function(a,b){var c=this.f;Kt(this,a),At(this,b),this.b.push([10,id(Zh)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]),c=a.sb(),Jt(this,a.Tb(),0,c,a.ma()),Bt(this,b)},k.rc=function(a,b){var c=this.f,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Kt(this,a),At(this,b),this.b.push([10,id(Zh)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]),c=a.c,d=mi(a),a=a.ma();var f,e=0,g=0;for(f=c.length;g<f;++g)e=Jt(this,d,e,c[g],a);Bt(this,b)}},k.df=function(){Dt(this),this.f=null;var a=this.oa;if(a){var c,b=this.coordinates,d=0;for(c=b.length;d<c;++d)b[d]=a*Math.round(b[d]/a)}},k.Zf=function(){return this.i||(this.i=Pa(this.Va),0<this.c&&Oa(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.Na=function(a,b){var c=this.f;a?(a=a.b,c.fillStyle=kd(a||Zh)):c.fillStyle=void 0,b?(a=b.b,c.strokeStyle=kd(a||ai),a=b.g,c.lineCap=void 0!==a?a:"round",a=b.f,c.lineDash=a?a.slice():$h,a=b.i,c.lineDashOffset=a||0,a=b.j,c.lineJoin=void 0!==a?a:"round",a=b.c,c.lineWidth=void 0!==a?a:1,b=b.l,c.miterLimit=void 0!==b?b:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.i=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)},v(Lt,xt),Lt.prototype.Qb=function(a,b,c,d,e,f){if(""!==this.ua&&this.g&&(this.f||this.i)){if(this.f){e=this.f;var g=this.R;if(!g||g.fillStyle!=e.fillStyle){var h=[10,e.fillStyle];this.a.push(h),this.b.push(h),g?g.fillStyle=e.fillStyle:this.R={fillStyle:e.fillStyle}}}this.i&&(e=this.i,(g=this.D)&&g.lineCap==e.lineCap&&g.lineDash==e.lineDash&&g.lineDashOffset==e.lineDashOffset&&g.lineJoin==e.lineJoin&&g.lineWidth==e.lineWidth&&g.miterLimit==e.miterLimit&&g.strokeStyle==e.strokeStyle||(h=[11,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,!1,1],this.a.push(h),this.b.push(h),g?(g.lineCap=e.lineCap,g.lineDash=e.lineDash,g.lineDashOffset=e.lineDashOffset,g.lineJoin=e.lineJoin,g.lineWidth=e.lineWidth,g.miterLimit=e.miterLimit,g.strokeStyle=e.strokeStyle):this.D={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})),e=this.g,(g=this.B)&&g.font==e.font&&g.textAlign==e.textAlign&&g.textBaseline==e.textBaseline||(h=[12,e.font,e.textAlign,e.textBaseline],this.a.push(h),this.b.push(h),g?(g.font=e.font,g.textAlign=e.textAlign,g.textBaseline=e.textBaseline):this.B={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}),At(this,f),a=[6,e=this.coordinates.length,a=yt(this,a,b,c,d,!1,!1),this.ua,this.j,this.l,this.v,this.u,!!this.f,!!this.i,this.o],this.a.push(a),this.b.push(a),Bt(this,f)}},Lt.prototype.gb=function(a){if(a){var b=a.Da();b?(b=b.b,b=kd(b||Zh),this.f?this.f.fillStyle=b:this.f={fillStyle:b}):this.f=null;var c=a.Ea();if(c){b=c.b;var d=c.g,e=c.f,f=c.i,g=c.j,h=c.c;if(c=c.l,d=void 0!==d?d:"round",e=e?e.slice():$h,f=void 0!==f?f:0,g=void 0!==g?g:"round",h=void 0!==h?h:1,c=void 0!==c?c:10,b=kd(b||ai),this.i){var l=this.i;l.lineCap=d,l.lineDash=e,l.lineDashOffset=f,l.lineJoin=g,l.lineWidth=h,l.miterLimit=c,l.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineDashOffset:f,lineJoin:g,lineWidth:h,miterLimit:c,strokeStyle:b}}else this.i=null;var m=a.a;b=a.f,d=a.c,e=a.l,h=a.i,c=a.b,f=a.Ja(),g=a.g,l=a.j,a=void 0!==m?m:"10px sans-serif",g=void 0!==g?g:"center",l=void 0!==l?l:"middle",this.g?(m=this.g,m.font=a,m.textAlign=g,m.textBaseline=l):this.g={font:a,textAlign:g,textBaseline:l},this.ua=void 0!==f?f:"",this.j=void 0!==b?b:0,this.l=void 0!==d?d:0,this.o=void 0!==e&&e,this.v=void 0!==h?h:0,this.u=void 0!==c?c:1}else this.ua=""},v(Mt,ri);var Nt={0:[[!0]]};Mt.prototype.Ha=function(a,b,c,d,e,f){var g=2*(d=Math.round(d))+1,h=Rh(this.j,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.g;if(l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g),void 0!==this.i){var m=Ma();Na(m,a),Oa(m,b*(this.i+d),m)}var n=Pt(d);return Rt(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(n[c][d]&&0<b[4*(d*g+c)+3])return(a=f(a))?a:void l.clearRect(0,0,g,g)},m)},Mt.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";return void 0===(a=this.a[c])&&(a={},this.a[c]=a),void 0===(c=a[b])&&(c=new Tt[b](this.v,this.f,this.o,this.l),a[b]=c),c},Mt.prototype.c=function(){return ub(this.a)},Mt.prototype.Ma=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(fa);var h=St(this,c);a.save(),a.beginPath(),a.moveTo(h[0],h[1]),a.lineTo(h[2],h[3]),a.lineTo(h[4],h[5]),a.lineTo(h[6],h[7]),a.clip(),f=f||qi;var l,m;for(h=0,l=g.length;h<l;++h){var n=this.a[g[h].toString()],p=0;for(m=f.length;p<m;++p){var q=n[f[p]];void 0!==q&&q.Ma(a,b,c,d,e)}}a.restore()};var Tt={Circle:It,Default:xt,Image:Et,LineString:Ft,Polygon:It,Text:Lt};v(Ut,Uc),Ut.prototype.Ha=ra,Ut.prototype.ef=qf,Ut.prototype.Uf=function(a,b,c){return function(d,e){return Vt(a,b,d,e,function(a){c[d]||(c[d]={}),c[d][a.sa.toString()]=a})}},Ut.prototype.ta=function(a){2===a.target.getState()&&Wt(this)},v(cu,Ut),cu.prototype.v=function(a,b,c,d){if(this.Ha(a,b,0,pf,this))return c.call(d,this.a,null)},cu.prototype.qf=function(a,b,c,d){eu(this,"postcompose",a,b,d)};var ku={Point:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.hf())return;var f=a.b(c.za(),"Image");f.Vb(e),f.sc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),a.Qb(b.ba(),0,2,2,b,d))},LineString:function(a,b,c,d){var e=c.Ea();if(e){var f=a.b(c.za(),"LineString");f.Na(null,e),f.oc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),a.Qb(ki(b),0,2,2,b,d))},Polygon:function(a,b,c,d){var e=c.Da(),f=c.Ea();if(e||f){var g=a.b(c.za(),"Polygon");g.Na(e,f),g.tc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),a.Qb(ag(b),0,2,2,b,d))},MultiPoint:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.hf())return;var f=a.b(c.za(),"Image");f.Vb(e),f.qc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),c=b.ba(),a.Qb(c,0,c.length,b.ma(),b,d))},MultiLineString:function(a,b,c,d){var e=c.Ea();if(e){var f=a.b(c.za(),"LineString");f.Na(null,e),f.pc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),c=li(b),a.Qb(c,0,c.length,2,b,d))},MultiPolygon:function(a,b,c,d){var e=c.Da(),f=c.Ea();if(f||e){var g=a.b(c.za(),"Polygon");g.Na(e,f),g.rc(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),c=ni(b),a.Qb(c,0,c.length,2,b,d))},GeometryCollection:function(a,b,c,d){var e,f=0;for(e=(b=b.a).length;f<e;++f)(0,ku[b[f].T()])(a,b[f],c,d)},Circle:function(a,b,c,d){var e=c.Da(),f=c.Ea();if(e||f){var g=a.b(c.za(),"Circle");g.Na(e,f),g.$b(b,d)}(e=c.Ja())&&((a=a.b(c.za(),"Text")).gb(e),a.Qb(b.xa(),0,2,2,b,d))}};v(lu,cu),lu.prototype.u=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Ue?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,l=g.rotation,m=h.G(),n=this.a.ia(),p=fu(this,a,0);eu(this,"precompose",c,a,p);var q=b.extent;(g=void 0!==q)&&du(c,a,q);var t=this.i;if(t&&!t.c()){var u=q=0,x=1!==b.opacity,B=Tc(this.a,"render");if(x||B){var z=c.canvas.width,G=c.canvas.height;if(l){var E=Math.round(Math.sqrt(z*z+G*G));q=(E-z)/2,u=(E-G)/2,z=G=E}this.g.canvas.width=z,this.g.canvas.height=G,z=this.g}else z=c;G=z.globalAlpha,x||(z.globalAlpha=b.opacity),z!=c&&z.translate(q,u),E=a.size[0]*e;var ia=a.size[1]*e;if(bi(z,-l,E/2,ia/2),t.Ma(z,e,p,l,f),n.u&&h.f&&!Ta(m,d)){h=d[0],n=jb(m);for(var T=0;h<m[0];)--T,p=n*T,p=fu(this,a,p),t.Ma(z,e,p,l,f),h+=n;for(T=0,h=d[2];h>m[2];)++T,p=n*T,p=fu(this,a,p),t.Ma(z,e,p,l,f),h-=n;p=fu(this,a,0)}bi(z,l,E/2,ia/2),z!=c&&(B&&eu(this,"render",z,a,p),x?(d=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(z.canvas,-q,-u),c.globalAlpha=d):c.drawImage(z.canvas,-q,-u),z.translate(-q,-u)),x||(z.globalAlpha=G)}g&&c.restore(),this.qf(c,a,b,p)},lu.prototype.Ha=function(a,b,c,d,e){if(this.i){var f=this.a,g={};return this.i.Ha(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}},lu.prototype.D=function(){Wt(this)},lu.prototype.yd=function(a){var b=this.a,c=b.ia();Zt(a.attributions,c.j),$t(a,c);var d=a.viewHints[0],e=a.viewHints[1],f=b.S,g=b.U;if(!this.c&&!f&&d||!g&&e)return!0;f=a.extent;var h=a.viewState;g=h.projection;var l=h.resolution,m=a.pixelRatio;d=b.f;var n=b.c;if(void 0===(e=b.get(mu))&&(e=gu),f=Oa(f,n*l),n=h.projection.G(),c.u&&h.projection.f&&!Ta(n,a.extent)&&(a=Math.max(jb(f)/2,jb(n)),f[0]=n[0]-a,f[2]=n[2]+a),!this.c&&this.o==l&&this.R==d&&this.l==e&&Ta(this.j,f))return!0;this.i=null,this.c=!1;var p=new Mt(.5*l/m,f,l,c.U,b.c);if(c.de(f,l,g),a=function(a){var c=a.bb();if(c)var d=c.call(a,l);else(c=b.bb())&&(d=c(a,l));if(d){if(d){if(c=!1,Array.isArray(d))for(var e=0,f=d.length;e<f;++e)c=iu(p,a,d[e],hu(l,m),this.D,this)||c;else c=iu(p,a,d,hu(l,m),this.D,this)||c;a=c}else a=!1;this.c=this.c||a}}.bind(this),e){var q=[];for(c.ac(f,function(a){q.push(a)},this),q.sort(e),c=0,g=q.length;c<g;++c)a(q[c])}else c.ac(f,a,this);return Qt(p),this.o=l,this.R=d,this.l=e,this.j=f,this.i=p,!0},v(nu,ti);var ou=new nu;v(pu,ui);var qu=new pu;v(su,Ut),su.prototype.Qi=function(a,b,c){uu(this,"precompose",c,a),Di(c,34962,this.U);var d=c.b,e=Oi(c,ou,qu);if(this.u)var f=this.u;else this.u=f=new ru(d,e);c.Tc(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.i,0)),d.uniformMatrix4fv(f.g,!1,Bi(this.B,this.v)),d.uniformMatrix4fv(f.c,!1,Bi(this.B,this.R)),d.uniform1f(f.f,b.opacity),d.bindTexture(3553,this.Hb),d.drawArrays(5,0,4),uu(this,"postcompose",c,a)},su.prototype.ug=function(){this.g=this.Hb=null,this.j=void 0},v(vu,su),(k=vu.prototype).Qi=function(a,b,c){this.l=b;var d=a.viewState,e=this.i,f=a.size,g=a.pixelRatio,h=this.c.f;e&&!e.c()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.Ma(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.Ue?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))},k.ka=function(){var a=this.i;a&&(wk(a,this.c.i)(),this.i=null),su.prototype.ka.call(this)},k.Ha=function(a,b,c,d,e){if(this.i&&this.l){c=b.viewState;var f=this.a,g={};return this.i.Ha(a,this.c.i,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.l.opacity,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}},k.ef=function(a,b){if(this.i&&this.l){var c=b.viewState;return Bk(this.i,a,this.c.i,c.resolution,c.rotation,b.pixelRatio,this.l.opacity,b.skippedFeatureUids)}return!1},k.tg=function(a,b,c,d){if(a=Nh(b.pixelToCoordinateTransform,a.slice()),this.ef(a,b))return c.call(d,this.a,null)},k.Ri=function(){Wt(this)},k.vg=function(a,b,c){function d(a){var b=a.bb();if(b)var c=b.call(a,m);else(b=e.bb())&&(c=b(a,m));if(c){if(c){if(b=!1,Array.isArray(c))for(var d=c.length-1;0<=d;--d)b=iu(q,a,c[d],hu(m,n),this.Ri,this)||b;else b=iu(q,a,c,hu(m,n),this.Ri,this)||b;a=b}else a=!1;this.o=this.o||a}}var e=this.a;b=e.ia(),Zt(a.attributions,b.j),$t(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.S,l=e.U;if(!this.o&&!h&&f||!l&&g)return!0;g=a.extent,f=(h=a.viewState).projection;var m=h.resolution,n=a.pixelRatio;h=e.f;var p=e.c;if(void 0===(l=e.get(mu))&&(l=gu),g=Oa(g,p*m),!this.o&&this.I==m&&this.S==h&&this.C==l&&Ta(this.D,g))return!0;this.i&&a.postRenderFunctions.push(wk(this.i,c)),this.o=!1;var q=new vk(.5*m/n,g,e.c);if(b.de(g,m,f),l){var t=[];b.ac(g,function(a){t.push(a)},this),t.sort(l),t.forEach(d,this)}else b.ac(g,d,this);return xk(q,c),this.I=m,this.S=h,this.C=l,this.D=g,this.i=q,!0},v(S,Dh),S.prototype.Ld=function(a){var b=null,c=a.T();return"canvas"===c?b=new lu(this):"webgl"===c&&(b=new vu(a,this)),b},S.prototype.u=function(){return this.v},S.prototype.bb=function(){return this.C},S.prototype.i=function(a){this.v=void 0!==a?a:zl,this.C=null===a?void 0:xl(this.v),this.s()};var mu="renderOrder";v(xu,Vc),(k=xu.prototype).Ha=ra,k.Aa=function(){return this.j},k.ya=function(){return this.D},k.Ba=function(){return this.c},k.getState=function(){return this.ta},k.ra=function(){this.s()},k.wa=function(a){this.j=yu(a),this.s()},v(V,xu),(k=V.prototype).Bb=function(a){var b=w(a).toString();if(Cu(this,b,a)){Du(this,b,a);var c=a.W();c?(b=c.G(),this.a&&this.a.Ga(b,a)):this.g[b]=a,this.b(new Eu("addfeature",a))}this.s()},k.Ec=function(a){Au(this,a),this.s()},k.clear=function(a){if(a){for(var b in this.v)this.v[b].forEach(Gc);this.i||(this.v={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.Qg,this);for(var c in this.g)this.Qg(this.g[c])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.S.clear(),this.g={},this.b(new Eu("clear")),this.s()},k.Ah=function(a,b){return this.a?this.a.forEach(a,b):this.i?this.i.forEach(a,b):void 0},k.ac=function(a,b,c){return this.a?Tj(this.a,a,b,c):this.i?this.i.forEach(b,c):void 0},k.Bh=function(a,b,c){return this.ac(a,function(d){if(d.W().Ya(a)&&(d=b.call(c,d)))return d})},k.Ih=function(){return this.i},k.fe=function(){if(this.i)var a=this.i.a;else this.a&&(a=Qj(this.a),ub(this.g)||ka(a,tb(this.g)));return a},k.Hh=function(a){var b=[];return Fu(this,a,function(a){b.push(a)}),b},k.ag=function(a){return Rj(this.a,a)},k.Dh=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=1/0,h=[-1/0,-1/0,1/0,1/0],l=b||pf;return Tj(this.a,h,function(a){if(l(a)){var b=a.W(),m=g;(g=b.Jb(c,d,f,g))<m&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}}),e},k.G=function(a){return this.a.G(a)},k.Gh=function(a){return void 0!==(a=this.l[a.toString()])?a:null},k.Wi=function(){return this.B},k.Xi=function(){return this.I},k.Yi=function(a){var b=w(a=a.target).toString(),c=a.W();c?(c=c.G(),b in this.g?(delete this.g[b],this.a&&this.a.Ga(c,a)):this.a&&Pj(this.a,c,a)):b in this.g||(this.a&&this.a.remove(a),this.g[b]=a),void 0!==(c=a.a)?(c=c.toString(),b in this.o?(delete this.o[b],this.l[c]=a):this.l[c]!==a&&(Gu(this,a),this.l[c]=a)):b in this.o||(Gu(this,a),this.o[b]=a),this.s(),this.b(new Eu("changefeature",a))},k.de=function(a,b,c){var e,d=this.S,f=0;for(e=(a=this.ga(a,b)).length;f<e;++f){var g=a[f];Tj(d,g,function(a){return Ta(a.extent,g)})||(this.C.call(this,g,b,c),d.Ga(g,{extent:g.slice()}))}},k.Fb=function(a){var b=w(a).toString();b in this.g?delete this.g[b]:this.a&&this.a.remove(a),this.Qg(a),this.s()},k.Qg=function(a){var b=w(a).toString();this.v[b].forEach(Gc),delete this.v[b];var c=a.a;void 0!==c?delete this.l[c.toString()]:delete this.o[b],this.b(new Eu("removefeature",a))},v(Eu,Qc),v(Hu,Jg),(k=Hu.prototype).setMap=function(a){Jg.prototype.setMap.call(this,a),this.Bi()},k.aq=function(){if(this.j){var a=this.j.W();if(this.g===Ou){var b=this.a;b.splice(-2,1),this.$a(b,a),2<=b.length&&(this.o=b[b.length-2].slice())}else this.g===Mu&&((b=this.a[0]).splice(-2,1),this.B.W().na(b),this.$a(this.a,a));0===b.length&&(this.o=null),Wu(this)}},k.Vd=function(){var a=Vu(this),b=this.a,c=a.W();this.g===Ou?(b.pop(),this.$a(b,c)):this.g===Mu&&(b[0].pop(),this.$a(b,c),b=c.V()),"MultiPoint"===this.S?a.Ra(new O([b])):"MultiLineString"===this.S?a.Ra(new N([b])):"MultiPolygon"===this.S&&a.Ra(new P([b])),this.b(new Xu("drawend",a)),this.Za&&this.Za.push(a),this.Zb&&this.Zb.Bb(a)},k.Jn=function(a){var b=a.W();this.j=a,this.a=b.V(),a=this.a[this.a.length-1],this.o=a.slice(),this.a.push(a.slice()),Wu(this),this.b(new Xu("drawstart",this.j))},k.$c=qf,k.Bi=function(){var a=this.v,b=this.c();a&&b||Vu(this),this.oa.setMap(b?a:null)};var Nu="Point",Ou="LineString",Mu="Polygon",Tu="Circle";v(Xu,Qc),v(Yu,Jg),Yu.prototype.setMap=function(a){this.u.setMap(a),this.I.setMap(a),Jg.prototype.setMap.call(this,a)},Yu.prototype.G=function(){return this.j},Yu.prototype.g=function(a){this.j=a||null;var b=this.o;b?a?b.Ra(cg(a)):b.Ra(void 0):(this.o=b=new Bl(a?cg(a):{}),this.u.ia().Bb(b)),this.b(new iv(this.j))},v(iv,Qc),v(jv,Jg),(k=jv.prototype).sg=function(a){var b=a.W();b&&b.T()in this.ga&&this.ga[b.T()].call(this,a,b),(b=this.v)&&b.c&&this.c()&&pv(this,this.Sa,b),y(a,"change",this.Ci,this)},k.Ia=function(a){this.g&&!a&&(this.C.ia().Fb(this.g),this.g=null),Jg.prototype.Ia.call(this,a)},k.setMap=function(a){this.C.setMap(a),Jg.prototype.setMap.call(this,a)},k.fm=function(a){a.feature&&this.u.push(a.feature)},k.hm=function(a){a.feature&&this.u.remove(a.feature)},k.Kn=function(a){this.sg(a.element)},k.Ci=function(a){this.o||(a=a.target,sv(this,a),this.sg(a))},k.Ln=function(a){sv(this,a.element)},k.Rn=function(a,b){var c=b.V();a={feature:a,geometry:b,la:[c,c]},this.a.Ga(b.G(),a)},k.Pn=function(a,b){var d,c=b.V(),e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,geometry:b,depth:[e],index:e,la:[f,f]},this.a.Ga(b.G(),f)}},k.Di=function(a,b){var d,c=b.V(),e=0;for(d=c.length-1;e<d;++e){var f=c.slice(e,e+2),g={feature:a,geometry:b,index:e,la:f};this.a.Ga(La(f),g)}},k.On=function(a,b){var d,e,c=b.V(),f=0;for(e=c.length;f<e;++f){var g=c[f],h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2),m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ga(La(l),m)}}},k.Sn=function(a,b){var d,e,c=b.V(),f=0;for(e=c.length;f<e;++f){var g=c[f],h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2),m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ga(La(l),m)}}},k.Qn=function(a,b){var d,e,f,c=b.V(),g=0;for(f=c.length;g<f;++g){var h=c[g],l=0;for(e=h.length;l<e;++l){var m=h[l],n=0;for(d=m.length-1;n<d;++n){var p=m.slice(n,n+2),q={feature:a,geometry:b,depth:[l,g],index:n,la:p};this.a.Ga(La(p),q)}}}},k.Mn=function(a,b){var c=b.xa(),d={feature:a,geometry:b,index:0,la:[c,c]};a={feature:a,geometry:b,index:1,la:[c,c]},d.Wf=a.Wf=[d,a],this.a.Ga(Xa(c),d),this.a.Ga(b.G(),a)},k.Nn=function(a,b){var c=b.a;for(b=0;b<c.length;++b)this.ga[c[b].T()].call(this,a,c[b])},k.pm=function(a,b){for(var h,c=a.la,d=a.feature,e=a.geometry,f=a.depth,g=a.index;b.length<e.ma();)b.push(0);switch(e.T()){case"MultiLineString":case"Polygon":(h=e.V())[f[0]].splice(g+1,0,b);break;case"MultiPolygon":(h=e.V())[f[1]][f[0]].splice(g+1,0,b);break;case"LineString":(h=e.V()).splice(g+1,0,b);break;default:return}this.o=!0,e.na(h),this.o=!1,(h=this.a).remove(a),yv(this,e,g,f,1),a={la:[c[0],b],feature:d,geometry:e,depth:f,index:g},h.Ga(La(a.la),a),this.j.push([a,1]),b={la:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1},h.Ga(La(b.la),b),this.j.push([b,0]),this.I=!0},k.rj=function(){if(this.S&&"pointerdrag"!=this.S.type){var a=this.S;qv(this,a);var d,e,b=this.j,c={};for(e=b.length-1;0<=e;--e){var f=b[e],g=f[0],h=w(g.feature);g.depth&&(h+="-"+g.depth.join("-")),h in c||(c[h]={}),0===f[1]?(c[h].right=g,c[h].index=g.index):1==f[1]&&(c[h].left=g,c[h].index=g.index+1)}for(h in c){var l=c[h].right,m=c[h].left,n=(e=c[h].index)-1;g=void 0!==m?m:l,0>n&&(n=0);var p=d=(f=g.geometry).V(),q=!1;switch(f.T()){case"MultiLineString":2<d[g.depth[0]].length&&(d[g.depth[0]].splice(e,1),q=!0);break;case"LineString":2<d.length&&(d.splice(e,1),q=!0);break;case"MultiPolygon":p=p[g.depth[1]];case"Polygon":4<(p=p[g.depth[0]]).length&&(e==p.length-1&&(e=0),p.splice(e,1),q=!0,0===e&&(p.pop(),p.push(p[0]),n=p.length-1))}q&&(q=f,this.o=!0,q.na(d),this.o=!1,d=[],void 0!==m&&(this.a.remove(m),d.push(m.la[0])),void 0!==l&&(this.a.remove(l),d.push(l.la[1])),void 0!==m&&void 0!==l&&(m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:n,la:d},this.a.Ga(La(m.la),m)),yv(this,f,e,g.depth,-1),this.g&&(this.C.ia().Fb(this.g),this.g=null),b.length=0)}return this.b(new rv("modifyend",this.u,a)),this.B=!1,!0}return!1},v(rv,Qc),v(zv,sg),(k=zv.prototype).Un=function(){return this.g.ia().i},k.Vn=function(){return this.j},k.Wn=function(a){return a=w(a),this.a[a]},k.Yn=function(a){this.j=a},k.setMap=function(a){var b=this.v,c=this.g.ia().i;b&&c.forEach(b.Mj,b),sg.prototype.setMap.call(this,a),this.g.setMap(a),a&&c.forEach(a.Hj,a)},k.Tn=function(a){var b=this.v;b&&b.Hj(a.element)},k.Xn=function(a){var b=this.v;b&&b.Mj(a.element)},v(Cv,Qc);var Dv="select";v(Ev,Jg),(k=Ev.prototype).Bb=function(a,b){b=void 0===b||b;var c=w(a),d=a.W();if(d){var e=this.ga[d.T()];e&&(this.U[c]=d.G(Ma()),e.call(this,a,d))}b&&(this.C[c]=y(a,"change",this.Zn,this))},k.Lk=function(a){this.Bb(a)},k.Mk=function(a){this.Fb(a)},k.Ei=function(a){if(a instanceof Eu)var b=a.feature;else a instanceof dd&&(b=a.element);this.Bb(b)},k.Fi=function(a){if(a instanceof Eu)var b=a.feature;else a instanceof dd&&(b=a.element);this.Fb(b)},k.Zn=function(a){if(a=a.target,this.D){var b=w(a);b in this.u||(this.u[b]=a)}else this.Nj(a)},k.Fb=function(a,b){b=void 0===b||b;var c=w(a),d=this.U[c];if(d){var e=this.a,f=[];for(Tj(e,d,function(b){a===b.feature&&f.push(b)}),d=f.length-1;0<=d;--d)e.remove(f[d])}b&&(Gc(this.C[c]),delete this.C[c])},k.setMap=function(a){var d,b=this.v,c=this.oa;this.j?d=this.j:this.o&&(d=this.o.fe()),b&&(c.forEach(Gc),c.length=0,d.forEach(this.Mk,this)),Jg.prototype.setMap.call(this,a),a&&(this.j?c.push(y(this.j,"add",this.Ei,this),y(this.j,"remove",this.Fi,this)):this.o&&c.push(y(this.o,"addfeature",this.Ei,this),y(this.o,"removefeature",this.Fi,this)),d.forEach(this.Lk,this))},k.$c=qf,k.Nj=function(a){this.Fb(a,!1),this.Bb(a,!1)},k.$n=function(a,b){var c,d=0;for(c=(b=dg(b).V()[0]).length-1;d<c;++d){var e=b.slice(d,d+2),f={feature:a,la:e};this.a.Ga(La(e),f)}},k.ao=function(a,b){var c=b.a;for(b=0;b<c.length;++b){var d=this.ga[c[b].T()];d&&d.call(this,a,c[b])}},k.Gi=function(a,b){var c,d=0;for(c=(b=b.V()).length-1;d<c;++d){var e=b.slice(d,d+2),f={feature:a,la:e};this.a.Ga(La(e),f)}},k.bo=function(a,b){var c,d,e=0;for(d=(b=b.V()).length;e<d;++e){var f=b[e],g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2),l={feature:a,la:h};this.a.Ga(La(h),l)}}},k.co=function(a,b){var d,c=b.V(),e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,la:[f,f]},this.a.Ga(b.G(),f)}},k.eo=function(a,b){var c,d,e,f=0;for(e=(b=b.V()).length;f<e;++f){var g=b[f],h=0;for(d=g.length;h<d;++h){var l=g[h],m=0;for(c=l.length-1;m<c;++m){var n=l.slice(m,m+2),p={feature:a,la:n};this.a.Ga(La(n),p)}}}},k.fo=function(a,b){var c=b.V();a={feature:a,la:[c,c]},this.a.Ga(b.G(),a)},k.ho=function(a,b){var c,d,e=0;for(d=(b=b.V()).length;e<d;++e){var f=b[e],g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2),l={feature:a,la:h};this.a.Ga(La(h),l)}}},v(Jv,Jg),Jv.prototype.C=function(){return this.o},Jv.prototype.I=function(a){this.o=a},Jv.prototype.setMap=function(a){var b=this.v;Jg.prototype.setMap.call(this,a),Qv(this,b)},Jv.prototype.u=function(){Qv(this,null)},v(Pv,Qc),v(W,S);var Sv=["#00f","#0ff","#0f0","#ff0","#f00"];(k=W.prototype).Ch=function(){return this.get(Tv)},k.Jh=function(){return this.get(Rv)},k.Ii=function(){return this.get(Uv)},k.Nl=function(){for(var a=this.Jh(),b=ld(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c,b.fillRect(0,0,1,256),this.g=b.getImageData(0,0,1,256).data},k.lg=function(){var a=this.Ii(),b=this.Ch(),c=a+b+1,d=2*c;(d=ld(d,d)).shadowOffsetX=d.shadowOffsetY=this.I,d.shadowBlur=b,d.shadowColor="#000",d.beginPath(),b=c-this.I,d.arc(b,b,a,0,2*Math.PI,!0),d.fill(),this.B=d.canvas.toDataURL(),this.D=Array(256),this.s()},k.dm=function(a){var d,e,b=(a=a.context).canvas,c=(b=a.getImageData(0,0,b.width,b.height)).data,f=0;for(d=c.length;f<d;f+=4)(e=4*c[f+3])&&(c[f]=this.g[e],c[f+1]=this.g[e+1],c[f+2]=this.g[e+2]);a.putImageData(b,0,0)},k.tj=function(a){this.set(Tv,a)},k.zj=function(a){this.set(Rv,a)},k.Xc=function(a){this.set(Uv,a)};var Tv="blur",Rv="gradient",Uv="radius";v(Vv,cu),Vv.prototype.u=function(a,b,c){eu(this,"precompose",c,a,void 0);var d=this.Y();if(d){var e=b.extent,f=void 0!==e&&!Ta(e,a.extent)&&ob(e,a.extent);f&&du(c,a,e),e=this.D();var g=c.globalAlpha;c.globalAlpha=b.opacity,c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3])),c.globalAlpha=g,f&&c.restore()}this.qf(c,a,b)},Vv.prototype.Ha=function(a,b,c,d,e){var f=this.a;return f.ia().Ha(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},Vv.prototype.v=function(a,b,c,d){if(this.Y()){if(this.a.ia().Ha!==ra)return cu.prototype.v.apply(this,arguments);var e=Nh(this.o,a.slice());if(jf(e,b.viewState.resolution/this.c),this.g||(this.g=ld(1,1)),this.g.clearRect(0,0,1,1),this.g.drawImage(this.Y(),e[0],e[1],1,1,0,0,1,1),0<(e=this.g.getImageData(0,0,1,1).data)[3])return c.call(d,this.a,e)}},v(Wv,Vv),Wv.prototype.Y=function(){return this.M?this.M.Y():null},Wv.prototype.D=function(){return this.i},Wv.prototype.yd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.ia(),l=a.viewHints,m=a.extent;if(void 0!==b.extent&&(m=nb(m,b.extent)),l[0]||l[1]||ib(m)||(b=h.Y(m,g,c,e.projection))&&Xt(this,b)&&(this.M=b),this.M){l=(b=this.M).G();var n=c*(m=b.resolution)/(g*(e=b.a));l=Rh(this.i,c*d[0]/2,c*d[1]/2,n,n,0,e*(l[0]-f[0])/m,e*(f[1]-l[3])/m),Rh(this.o,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]),Zt(a.attributions,b.i),$t(a,h),this.c=g*c/e}return!!this.M},v(cw,bt),cw.prototype.ka=function(){1==this.state&&(Gc(this.me),this.me=null),bt.prototype.ka.call(this)},cw.prototype.Y=function(){return this.g},cw.prototype.ke=function(){var a=this.Gb.getState();2==a&&(this.g=Zv(jb(this.f)/this.c,kb(this.f)/this.c,this.l,this.Gb.resolution,0,this.c,this.f,this.j,[{extent:this.Gb.G(),image:this.Gb.Y()}],0)),this.state=a,this.s()},cw.prototype.load=function(){if(0==this.state){this.state=1,this.s();var a=this.Gb.getState();2==a||3==a?this.ke():(this.me=y(this.Gb,"change",function(){var a=this.Gb.getState();2!=a&&3!=a||(Gc(this.me),this.me=null,this.ke())},this),this.Gb.load())}},v(dw,xu),dw.prototype.Y=function(a,b,c,d){var e=this.c;if(e&&d&&!ec(e,d)){if(this.i){if(this.ga==this.f&&ec(this.i.v,d)&&this.i.resolution==b&&ab(this.i.G(),a))return this.i;Pc(this.i),this.i=null}return this.i=new cw(e,d,a,b,c,function(a,b,c){return this.Lc(a,b,c,e)}.bind(this)),this.ga=this.f,this.i}return e&&(d=e),this.Lc(a,b,c,d)},dw.prototype.l=function(a){switch((a=a.target).getState()){case 1:this.b(new fw(gw,a));break;case 2:this.b(new fw(hw,a));break;case 3:this.b(new fw(iw,a))}},v(fw,Qc);var gw="imageloadstart",hw="imageloadend",iw="imageloaderror";v(kw,dw),kw.prototype.Lc=function(a,b,c,d){b=ew(this,b);var e=this.S;return e&&this.U==this.f&&e.resolution==b&&e.a==c&&Ta(e.G(),a)?e:(a=a.slice(),pb(a,this.va),(d=this.oa(a,b,c,[jb(a)/b*c,kb(a)/b*c],d))&&(e=new dt(a,b,c,this.j,d)),this.S=e,this.U=this.f,e)},v(lw,kw),(k=lw.prototype).Ek=function(a,b,c,d,e){var f=new Mt(.5*b/c,a,b,this.a.U,this.Sa);this.a.de(a,b,e);var g=!1;return this.a.ac(a,function(a){var d;if(!(d=g)){var e;if((d=a.bb())?e=d.call(a,b):this.v&&(e=this.v(a,b)),e){var h,p=!1;for(Array.isArray(e)||(e=[e]),d=0,h=e.length;d<h;++d)p=iu(f,a,e[d],hu(b,c),this.Do,this)||p;d=p}else d=!1}g=d},this),Qt(f),g?null:(this.o[0]!=d[0]||this.o[1]!=d[1]?(this.g.canvas.width=d[0],this.g.canvas.height=d[1],this.o[0]=d[0],this.o[1]=d[1]):this.g.clearRect(0,0,d[0],d[1]),a=mw(this,lb(a),b,c,d),f.Ma(this.g,c,a,0,{}),this.C=f,this.g.canvas)},k.Ha=function(a,b,c,d,e,f){if(this.C){var g={};return this.C.Ha(a,b,0,d,e,function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,f(a)})}},k.Bo=function(){return this.a},k.Co=function(){return this.I},k.bb=function(){return this.v},k.Do=function(){this.s()},k.Eo=function(){zu(this,this.a.getState())},k.Si=function(a){this.I=void 0!==a?a:zl,this.v=a?xl(this.I):void 0,this.s()},v(nw,su),nw.prototype.Ha=function(a,b,c,d,e){var f=this.a;return f.ia().Ha(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},nw.prototype.vg=function(a,b){var c=this.c.f,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.M,m=this.Hb,n=this.a.ia(),p=a.viewHints,q=a.extent;return void 0!==b.extent&&(q=nb(q,b.extent)),p[0]||p[1]||ib(q)||(b=n.Y(q,g,d,e.projection))&&Xt(this,b)&&(l=b,m=ow(this,b),this.Hb&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.Hb))),l&&(c=this.c.i.j,pw(this,c.width,c.height,d,f,g,h,l.G()),this.l=null,d=this.v,Jh(d),Ph(d,1,-1),Qh(d,0,-1),this.M=l,this.Hb=m,Zt(a.attributions,l.i),$t(a,n)),!!l},nw.prototype.ef=function(a,b){return void 0!==this.Ha(a,b,0,pf,this)},nw.prototype.tg=function(a,b,c,d){if(this.M&&this.M.Y())if(this.a.ia()instanceof lw){var e=Nh(b.pixelToCoordinateTransform,a.slice());if(this.Ha(e,b,0,pf,this))return c.call(d,this.a,null)}else{if(e=[this.M.Y().width,this.M.Y().height],!this.l){var f=b.size;Qh(b=Ih(),-1,-1),Ph(b,2/f[0],2/f[1]),Qh(b,0,f[1]),Ph(b,1,-1),f=Sh(this.R.slice());var g=Ih();Qh(g,0,e[1]),Ph(g,1,-1),Ph(g,e[0]/2,e[1]/2),Qh(g,1,1),Lh(g,f),Lh(g,b),this.l=g}if(!(0>(a=Nh(this.l,a.slice()))[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.i||(this.i=ld(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),a[0],a[1],1,1,0,0,1,1),0<(e=this.i.getImageData(0,0,1,1).data)[3]))return c.call(d,this.a,e)}},v(qw,Dh),qw.prototype.Ld=function(a){var b=null,c=a.T();return"canvas"===c?b=new Wv(this):"webgl"===c&&(b=new nw(a,this)),b},v(rw,Vv),rw.prototype.yd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution;e=e.center;var h=this.a,l=h.ia(),m=l.f,n=l.Ta(f),p=n.uc(g,this.S),q=n.Ca(p),t=Math.round(g/q)||1,u=a.extent;if(void 0!==b.extent&&(u=nb(u,b.extent)),ib(u))return!1;var x=sc(n,u,q),B=n.Sc(p),z=n.Ca(p),G=Ka(n.eb(p),n.j);B=Va(B[0]+x.ca*G[0]*z,B[1]+x.ea*G[1]*z,B[0]+(x.da+1)*G[0]*z,B[1]+(x.ha+1)*G[1]*z,void 0),z=l.Oc(c),(G={})[p]={};var U,ta,E=this.Uf(l,f,G),ia=this.l,T=this.oa,R=!1;for(U=x.ca;U<=x.da;++U)for(ta=x.ea;ta<=x.ha;++ta){var A=l.Qc(p,U,ta,c,f);3==A.getState()&&(h.qd()?0<h.md()&&(R=!0):ht(A,2)),sw(this,A)||(A=ft(A)),sw(this,A)?2==A.getState()&&(G[p][A.sa.toString()]=A,R||-1!=this.i.indexOf(A)||(R=!0)):qc(n,A.sa,E,T,ia)||(A=rc(n,A.sa,T,ia))&&E(p+1,A)}if(U=a.viewHints,U=U[0]||U[1],!(this.c&&16<Date.now()-a.time&&U||!R&&this.j&&Ta(this.j,u)&&this.xf==m&&t==this.I&&(U||q*c/z*t==this.c))){(U=this.context)&&(ta=l.ce(p,c,f),A=Math.round((x.da-x.ca+1)*ta[0]/t),ta=Math.round((x.ha-x.ea+1)*ta[1]/t),(R=U.canvas).width!=A||R.height!=ta?(this.I=t,R.width=A,R.height=ta):(U.clearRect(0,0,A,ta),t=this.I)),this.i.length=0,(R=Object.keys(G).map(Number)).sort(fa);var ea;for(T=0,ea=R.length;T<ea;++T){U=R[T],E=l.ce(U,c,f);var Ya=(A=n.Ca(U))/q,da=z*l.bg(f),Vb=G[U];for(var Ac in Vb){A=Vb[Ac],U=((ta=n.Fa(A.sa,ia))[0]-B[0])/q*z/t,ta=(B[3]-ta[3])/q*z/t;var ge=E[0]*Ya/t,he=E[1]*Ya/t;this.Vf(A,a,b,U,ta,ge,he,da),this.i.push(A)}}this.xf=m,this.c=q*c/z*t,this.j=B}return b=this.c/g,b=Rh(this.B,c*d[0]/2,c*d[1]/2,b,b,0,(this.j[0]-e[0])/this.c*c,(e[1]-this.j[3])/this.c*c),Rh(this.o,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]),au(a.usedTiles,l,p,x),bu(a,l,n,c,f,u,p,h.md()),Yt(a,l),$t(a,l),0<this.i.length},rw.prototype.Vf=function(a,b,c,d,e,f,g,h){this.a.ia().gg(b.viewState.projection)||this.context.clearRect(d,e,f,g),(a=a.Y(this.a))&&this.context.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)},rw.prototype.Y=function(){var a=this.context;return a?a.canvas:null},rw.prototype.D=function(){return this.B},v(tw,ti);var uw=new tw;v(vw,ui);var ww=new vw;v(yw,su),(k=yw.prototype).ka=function(){Ni(this.c.i,this.C),su.prototype.ka.call(this)},k.Uf=function(a,b,c){var d=this.c;return function(e,f){return Vt(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.fb());return b&&(c[e]||(c[e]={}),c[e][a.sa.toString()]=a),b})}},k.ug=function(){su.prototype.ug.call(this),this.i=null},k.vg=function(a,b,c){var d=this.c,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ia(),m=l.Ta(g),n=m.uc(f.resolution),p=m.Ca(n),q=l.ce(n,a.pixelRatio,g),t=q[0]/Ka(m.eb(n),this.S)[0],u=p/t,x=l.Oc(t)*l.bg(g),B=f.center,z=a.extent,G=sc(m,z,p);if(this.l&&ya(this.l,G)&&this.o==l.f)u=this.D;else{var E=[G.da-G.ca+1,G.ha-G.ea+1],ia=Ca(Math.max(E[0]*q[0],E[1]*q[1]));E=u*ia;var T=m.Sc(n),R=T[0]+G.ca*q[0]*u;u=[R,u=T[1]+G.ea*q[1]*u,R+E,u+E],tu(this,a,ia),e.viewport(0,0,ia,ia),e.clearColor(0,0,0,0),e.clear(16384),e.disable(3042),ia=Oi(c,this.I,this.ga),c.Tc(ia),this.i||(this.i=new xw(e,ia)),Di(c,34962,this.C),e.enableVertexAttribArray(this.i.b),e.vertexAttribPointer(this.i.b,2,5126,!1,16,0),e.enableVertexAttribArray(this.i.a),e.vertexAttribPointer(this.i.a,2,5126,!1,16,8),e.uniform1i(this.i.f,0),(c={})[n]={};var U=this.Uf(l,g,c),ta=h.qd();ia=!0,R=Ma();var ea,Ya,A=new wa(0,0,0,0);for(ea=G.ca;ea<=G.da;++ea)for(Ya=G.ea;Ya<=G.ha;++Ya){if(T=l.Qc(n,ea,Ya,t,g),void 0!==b.extent){var da=m.Fa(T.sa,R);if(!ob(da,b.extent))continue}if(da=T.getState(),(da=2==da||4==da||3==da&&!ta)||(T=ft(T)),2==(da=T.getState())){if(d.a.b.hasOwnProperty(T.fb())){c[n][T.sa.toString()]=T;continue}}else if(4==da||3==da&&!ta)continue;ia=!1,(da=qc(m,T.sa,U,A,R))||(T=rc(m,T.sa,A,R))&&U(n+1,T)}(b=Object.keys(c).map(Number)).sort(fa),U=new Float32Array(4);var Vb;for(ta=0,A=b.length;ta<A;++ta)for(Vb in ea=c[b[ta]])T=ea[Vb],da=m.Fa(T.sa,R),U[0]=2*(da[2]-da[0])/E,U[1]=2*(da[3]-da[1])/E,U[2]=2*(da[0]-u[0])/E-1,U[3]=2*(da[1]-u[1])/E-1,e.uniform4fv(this.i.c,U),Gk(d,T,q,x*t),e.drawArrays(5,0,4);ia?(this.l=G,this.D=u,this.o=l.f):(this.D=this.l=null,this.o=-1,a.animate=!0)}au(a.usedTiles,l,n,G);var Ac=d.j;return bu(a,l,m,t,g,z,n,h.md(),function(a){2!=a.getState()||d.a.b.hasOwnProperty(a.fb())||a.fb()in Ac.a||Ac.i([a,uc(m,a.sa),m.Ca(a.sa[0]),q,x*t])},this),Yt(a,l),$t(a,l),e=this.v,Jh(e),Qh(e,(Math.round(B[0]/p)*p-u[0])/(u[2]-u[0]),(Math.round(B[1]/p)*p-u[1])/(u[3]-u[1])),f.rotation&&Oh(e,f.rotation),Ph(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1])),Qh(e,-.5,-.5),!0},k.tg=function(a,b,c,d){if(this.g){a=[(a=Nh(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice()))[0]*this.j,a[1]*this.j],(b=this.c.i.b).bindFramebuffer(b.FRAMEBUFFER,this.g);var e=new Uint8Array(4);if(b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e),0<e[3])return c.call(d,this.a,e)}},v(zw,Dh),(k=zw.prototype).Ld=function(a){var b=null,c=a.T();return"canvas"===c?b=new rw(this):"webgl"===c&&(b=new yw(a,this)),b},k.md=function(){return this.get("preload")},k.Ji=function(a){this.set("preload",a)},k.qd=function(){return this.get("useInterimTilesOnError")},k.Ki=function(a){this.set("useInterimTilesOnError",a)},v(Aw,rw);var Bw={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},Cw={image:["Default"],hybrid:["Image","Text","Default"],vector:qi};(k=Aw.prototype).yd=function(a,b){var c=this.a,d=c.f;return this.ga!=d&&(this.i.length=0,c=c.g,this.context||"vector"==c||(this.context=ld()),this.context&&"vector"==c&&(this.context=null)),this.ga=d,rw.prototype.yd.apply(this,arguments)},k.Vf=function(a,b){var c=a,d=this.a,e=b.pixelRatio,f=b.viewState.projection,g=d.f,h=d.get(mu)||null,l=Dw(c,d);if(l.Td||l.xf!=g||l.Sg!=h){var m=d.ia(),n=m.tileGrid,p=m.Ta(f),q=p.Ca(c.sa[0]);p=p.Fa(c.v);for(var t=0,u=c.f.length;t<u;++t){var x=c.c[c.f[t]];l.Td=!1;var ia,B=x.f,z=n.Ca(x.sa[0]),G=n.Fa(x.sa),E=nb(p,G);if("tile-pixels"==B.b){var T=ia=Ew(m,x);E=Nh(z=Rh(this.R,0,0,1/z*T,-1/z*T,0,-G[0],-G[3]),[E[0],E[3]]).concat(Nh(z,[E[2],E[1]]))}else if(ia=q,!ec(f,B)){var R=!0;x.qg(f)}for(l.Td=!1,E=new Mt(0,E,ia,m.o,d.c),ia=hu(ia,e),z=x.c,h&&h!==l.Sg&&z.sort(h),G=0,T=z.length;G<T;++G){var U=z[G];R&&U.W().mb(B,f);var ta=void 0,A=U.bb();if(A?ta=A.call(U,q):(A=d.bb())&&(ta=A(U,q)),ta){Array.isArray(ta)||(ta=[ta]),A=ia;var ea=E;if(ta){var Ya=!1;if(Array.isArray(ta))for(var da=0,Vb=ta.length;da<Vb;++da)Ya=iu(ea,U,ta[da],A,this.Pi,this)||Ya;else Ya=iu(ea,U,ta,A,this.Pi,this)||Ya;U=Ya}else U=!1;this.C=this.C||U,l.Td=l.Td||U}}Qt(E),B=c.sa.toString(),x.j[w(d)+","+B]=E}l.xf=g,l.Sg=h}if(this.context){if(n=b,d=this.a,f=Dw(c,d),g=d.f,(e=Bw[d.g])&&f.Tg!==g)for(f.Tg=g,q=c.v,p=q[0],f=n.pixelRatio,g=d.ia(),h=g.tileGrid,R=g.Ta(n.viewState.projection),l=R.Ca(p),m=Fw(c,d),n=g.ce(p,f,n.viewState.projection),m.canvas.width=n[0],m.canvas.height=n[1],n=R.Fa(q),q=0,R=c.f.length;q<R;++q)p=c.c[c.f[q]],t=Ew(g,p),B=p.sa,x=f/l,u=Jh(this.R),"tile-pixels"==p.f.b?(x=h.Fa(B,this.l),B=h.Ca(B[0]),E=f/t*B/l,Ph(u,E,E),Qh(u,Math.round((x[0]-n[0])/B*t),Math.round((n[3]-x[3])/B*t))):(Ph(u,x,-x),Qh(u,-n[0],-n[3])),Gw(p,d,c.sa.toString()).Ma(m,f,u,0,{},e,!0);rw.prototype.Vf.apply(this,arguments)}},k.Ha=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.a,l={},m=this.i,n=h.ia();b=n.Ta(b.viewState.projection);var q,p=n.tileGrid,t=0;for(q=m.length;t<q;++t){var u=m[t],x=u.sa,B=b.Fa(x,this.l),z=Oa(B,c*f,z);if(Ra(z,a)){B=0;for(var G=u.f.length;B<G;++B){var E=u.c[u.f[B]];if("tile-pixels"===E.f.b){var ia=E.sa,T=gb(f=p.Fa(ia,this.l));f=Ew(n,E);var R=(ia=p.Ca(ia[0]))/f;T=[(a[0]-T[0])/R,(T[1]-a[1])/R],f*=b.Ca(x[0])/ia}else T=a;E=Gw(E,h,u.sa.toString());var U=U||E.Ha(T,f,g,c,{},function(a){var b=w(a).toString();if(!(b in l))return l[b]=!0,d.call(e,a,h)})}}}return U},k.Pi=function(){Wt(this)},k.qf=function(a,b,c){var d=this.a,e=d.ia(),f=d.g,g=Cw[f],h=b.pixelRatio,l=b.viewState.rotation,m=b.size,n=Math.round(h*m[0]/2);m=Math.round(h*m[1]/2);for(var p=this.i,q=e.tileGrid,t=e.Ta(b.viewState.projection),u=[],x=[],B=p.length-1;0<=B;--B){var z=p[B];if(5!=z.getState())for(var G=z.sa,E=t.Fa(G)[0]-t.Fa(z.v)[0],ia=0,T=z.f.length;ia<T;++ia){var A,R=z.c[z.f[ia]],U=Ew(e,R),ta=Gw(R,d,G.toString());if(!(A="vector"==f))a:{A=void 0;for(A in ta.a)for(var ea=ta.a[A],Ya=0,da=g.length;Ya<da;++Ya)if(g[Ya]in ea){A=!0;break a}A=!1}if(A){if(A=R.sa[0],ea=q.Ca(A),Ya=R,R=b,"tile-pixels"==Ya.f.b){var Vb=(da=this.a.ia()).tileGrid,Ac=Ya.sa;Ya=Vb.Ca(Ac[0])/Ew(da,Ya),da=R.viewState;var ge=R.pixelRatio,he=da.resolution/ge;Ac=Vb.Fa(Ac,this.l),Vb=da.center,Ac=gb(Ac),R=R.size,R=Rh(this.R,Math.round(ge*R[0]/2),Math.round(ge*R[1]/2),Ya/he,Ya/he,da.rotation,(Ac[0]-Vb[0])/Ya,(Vb[1]-Ac[1])/Ya)}else R=fu(this,R,0);for(Qh(R,E*U/ea,0),U=St(ta,R),a.save(),a.globalAlpha=c.opacity,bi(a,-l,n,m),ea=0,Ya=u.length;ea<Ya;++ea)da=u[ea],A<x[ea]&&(a.beginPath(),a.moveTo(U[0],U[1]),a.lineTo(U[2],U[3]),a.lineTo(U[4],U[5]),a.lineTo(U[6],U[7]),a.moveTo(da[6],da[7]),a.lineTo(da[4],da[5]),a.lineTo(da[2],da[3]),a.lineTo(da[0],da[1]),a.clip());ta.Ma(a,h,R,l,{},g),a.restore(),u.push(U),x.push(A)}}}rw.prototype.qf.apply(this,arguments)},v(Hw,S),(k=Hw.prototype).Ld=function(a){var b=null;return"canvas"===a.T()&&(b=new Aw(this)),b},k.md=function(){return this.get("preload")},k.qd=function(){return this.get("useInterimTilesOnError")},k.Li=function(a){this.set("preload",a)},k.Mi=function(a){this.set("useInterimTilesOnError",a)},v(Jw,et),Jw.prototype.ka=function(){1==this.state&&(this.Ed.forEach(Gc),this.Ed=null),et.prototype.ka.call(this)},Jw.prototype.Y=function(){return this.v},Jw.prototype.ke=function(){var a=[];if(this.f.forEach(function(b){b&&2==b.getState()&&a.push({extent:this.c.Fa(b.sa),image:b.Y()})},this),this.f.length=0,a.length){var b=this.l[0],c=this.j.eb(b),d="number"==typeof c?c:c[0];c="number"==typeof c?c:c[1],b=this.j.Ca(b);var e=this.c.Ca(this.g),f=this.j.Fa(this.l);this.v=Zv(d,c,this.R,e,this.c.G(),b,f,this.o,a,this.u,this.D),this.state=2}else this.state=3;this.s()},Jw.prototype.load=function(){if(0==this.state){this.state=1,this.s();var a=0;this.Ed=[],this.f.forEach(function(b){var c=b.getState();if(0==c||1==c){a++;var d=y(b,"change",function(){var c=b.getState();2!=c&&3!=c&&4!=c||(Gc(d),--a||(this.Ed.forEach(Gc),this.Ed=null,this.ke()))},this);this.Ed.push(d)}},this),this.f.forEach(function(a){0==a.getState()&&a.load()}),a||setTimeout(this.ke.bind(this),0)}},v(Pw,Ek),Pw.prototype.jd=function(a){for(var b,c;Qw(this);){var d;if((d=(c=(b=this.a.bd).sa[0].toString())in a)&&(b=b.sa,d=xa(a[c],b[1],b[2])),d)break;Pc(this.pop())}},v(Rw,xu),(k=Rw.prototype).Ui=function(){return Qw(this.a)},k.jd=function(a,b){(a=this.be(a))&&a.jd(b)},k.bg=function(){return 0},k.Rb=function(a,b,c){return a+"/"+b+"/"+c},k.gg=function(){return this.va},k.cb=function(){return this.tileGrid},k.Ta=function(a){return this.tileGrid?this.tileGrid:vc(a)},k.be=function(a){var b=this.c;return b&&!ec(b,a)?null:this.a},k.Oc=function(){return this.Za},k.ce=function(a,b,c){return c=this.Ta(c),b=this.Oc(b),a=Ka(c.eb(a),this.l),1==b?a:Ja(a,b,this.l)},k.ra=function(){this.a.clear(),this.s()},k.Zg=ra,v(Uw,Qc),v(Vw,Rw),(k=Vw.prototype).tb=function(){return this.tileLoadFunction},k.ub=function(){return this.tileUrlFunction},k.vb=function(){return this.urls},k.Vi=function(a){switch((a=a.target).getState()){case 1:this.b(new Uw("tileloadstart",a));break;case 2:this.b(new Uw("tileloadend",a));break;case 3:this.b(new Uw("tileloaderror",a))}},k.zb=function(a){this.a.clear(),this.tileLoadFunction=a,this.s()},k.hb=function(a,b){this.tileUrlFunction=a,void 0!==b?Sw(this,b):this.s()},k.nb=function(a){var b=this.urls=Ow(a);this.hb(this.Hc?this.Hc.bind(this):Lw(b,this.tileGrid),a)},k.ib=function(a){this.urls=a;var b=a.join("\n");this.hb(this.Hc?this.Hc.bind(this):Lw(a,this.tileGrid),b)},k.Zg=function(a,b,c){a=this.Rb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(X,Vw),(k=X.prototype).Ui=function(){if(Qw(this.a))return!0;for(var a in this.g)if(Qw(this.g[a]))return!0;return!1},k.jd=function(a,b){a=this.be(a),this.a.jd(this.a==a?b:{});for(var c in this.g){var d=this.g[c];d.jd(d==a?b:{})}},k.bg=function(a){return this.c&&a&&!ec(this.c,a)?0:this.cg()},k.cg=function(){return 0},k.gg=function(a){return!(this.c&&a&&!ec(this.c,a))&&Vw.prototype.gg.call(this,a)},k.Ta=function(a){var b=this.c;return!this.tileGrid||b&&!ec(b,a)?((b=w(a).toString())in this.v||(this.v[b]=vc(a)),this.v[b]):this.tileGrid},k.be=function(a){var b=this.c;return!b||ec(b,a)?this.a:((a=w(a).toString())in this.g||(this.g[a]=new Pw(this.a.highWaterMark)),this.g[a])},k.Qc=function(a,b,c,d,e){if(this.c&&e&&!ec(this.c,e)){var f=this.be(e);c=[a,b,c];var g;if(a=this.Rb.apply(this,c),f.b.hasOwnProperty(a)&&(g=f.get(a)),b=this.vc,g&&g.key==b)return g;var h=this.c,l=this.Ta(h),m=this.Ta(e),n=Tw(this,c,e);return d=new Jw(h,l,e,m,c,n,this.Oc(d),this.cg(),function(a,b,c,d){return Yw(this,a,b,c,d,h)}.bind(this),this.Sa,this.I),d.key=b,g?(d.a=g,gt(d),f.replace(a,d)):f.set(a,d),d}return Yw(this,a,b,c,d,e)},k.Nb=function(a){if(this.I!=a){this.I=a;for(var b in this.g)this.g[b].clear();this.s()}},k.Ob=function(a,b){(a=Wb(a))&&((a=w(a).toString())in this.v||(this.v[a]=b))},v(Zw,X);var $w=new Cc({html:'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});Zw.prototype.U=function(){return this.o},Zw.prototype.ga=function(){return this.B},Zw.prototype.oa=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)zu(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.C?c.zoomMax:this.C,e=xc({extent:a=zc(this.c),minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/(this.i?2:1)});this.tileGrid=e;var f=this.S,g=this.i;if(this.tileUrlFunction=Mw(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return kc(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",lc(b))}})),c.imageryProviders){var h=Xb(Wb("EPSG:4326"),this.c);(a=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=qb([(a=a.bbox)[1],a[0],a[3],a[2]],h);var g;for(g=b;g<=f;++g){var l=g.toString();b=pc(e,a,g),l in c?c[l].push(b):c[l]=[b]}}),new Cc({html:b,tileRanges:c})})).push($w),this.wa(a)}this.D=b,zu(this,"ready")}},v(ax,X),v(bx,ax),(k=bx.prototype).Vk=function(){return this.i},k.Hq=function(a){rb(this.i,a),cx(this)},k.kq=function(a){this.i=a||{},cx(this)},k.Pl=function(a,b){if(!(b=b.target).status||200<=b.status&&300>b.status){try{var c=JSON.parse(b.responseText)}catch(d){return void zu(this,"error")}dx(this,c),this.o[a]=c,zu(this,"ready")}else zu(this,"error")},k.Ol=function(){zu(this,"error")},v(Y,V),(k=Y.prototype).po=function(){return this.distance},k.qo=function(){return this.source},k.de=function(a,b,c){this.source.de(a,b,c),b!==this.resolution&&(this.clear(),this.resolution=b,ex(this),this.Ec(this.features))},k.lq=function(a){this.distance=a,this.ra()},k.ra=function(){this.clear(),ex(this),this.Ec(this.features),V.prototype.ra.call(this)},v(hx,dw),(k=hx.prototype).so=function(){return this.v},k.Lc=function(a,b,c,d){if(void 0===this.a)return null;b=ew(this,b),c=this.U?c:1;var e=this.M;if(e&&this.I==this.f&&e.resolution==b&&e.a==c&&Ta(e.G(),a))return e;rb(e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.v);var f=((a=a.slice())[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.C){var h=this.C*jb(a)/2,l=this.C*kb(a)/2;a[0]=f-h,a[1]=g-l,a[2]=f+h,a[3]=g+l}h=b/c,l=Math.ceil(jb(a)/h);var m=Math.ceil(kb(a)/h);return a[0]=f-h*l/2,a[2]=f+h*l/2,a[1]=g-h*m/2,a[3]=g+h*m/2,this.o[0]=l,this.o[1]=m,f=a,g=this.o,h=c,d=d.qb.split(":").pop(),e.SIZE=g[0]+","+g[1],e.BBOX=f.join(","),e.BBOXSR=d,e.IMAGESR=d,e.DPI=Math.round(90*h),d=this.a,(f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==d&&va(!1,50),e=gx(f,e),this.M=new ct(a,b,c,this.j,e,this.S,this.g),this.I=this.f,y(this.M,"change",this.l,this),this.M},k.ro=function(){return this.g},k.to=function(){return this.a},k.uo=function(a){this.M=null,this.g=a,this.s()},k.vo=function(a){a!=this.a&&(this.a=a,this.M=null,this.s())},k.wo=function(a){rb(this.v,a),this.M=null,this.s()},v(ix,dw),(k=ix.prototype).yo=function(){return this.g},k.Lc=function(a,b,c){b=ew(this,b),c=this.U?c:1;var d=this.M;if(d&&this.C==this.f&&d.resolution==b&&d.a==c&&Ta(d.G(),a))return d;1!=this.v&&(a=a.slice(),pb(a,this.v));var e=[jb(a)/b*c,kb(a)/b*c];if(void 0!==this.I){d=this.I;var f=lb(a),g=this.oa,h=jb(a),l=kb(a),m=e[0],n=e[1],p=.0254/this.o;e={OPERATION:this.va?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]},rb(e,this.g),d=gx(d,e),y(d=new ct(a,b,c,this.j,d,this.S,this.a),"change",this.l,this)}else d=null;return this.M=d,this.C=this.f,d},k.xo=function(){return this.a},k.Ao=function(a){rb(this.g,a),this.s()},k.zo=function(a){this.M=null,this.a=a,this.s()},v(jx,dw),jx.prototype.Lc=function(a){return ob(a,this.M.G())?this.M:null},jx.prototype.l=function(a){if(2==this.M.getState()){var b=this.M.G(),c=this.M.Y();if(this.a)var d=this.a[0],e=this.a[1];else d=c.width,e=c.height;if((b=Math.ceil(jb(b)/(kb(b)/e)))!=d){var f=(b=ld(b,e)).canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height),this.M.Wg(f)}}dw.prototype.l.call(this,a)},v(kx,dw);var mx=[101,101];(k=kx.prototype).Fo=function(a,b,c,d){if(void 0!==this.g){var e=mb(a,b,0,mx),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return rb(f,this.a,d),d=Math.floor((e[3]-a[1])/b),f[this.o?"I":"X"]=Math.floor((a[0]-e[0])/b),f[this.o?"J":"Y"]=d,nx(this,e,mx,1,Wb(c),f)}},k.Ho=function(){return this.a},k.Lc=function(a,b,c,d){if(void 0===this.g)return null;b=ew(this,b),1==c||this.va&&void 0!==this.U||(c=1);var e=b/c,f=lb(a),g=mb(f,e,0,[Math.ceil(jb(a)/e),Math.ceil(kb(a)/e)]);return a=mb(f,e,0,[Math.ceil(this.I*jb(a)/e),Math.ceil(this.I*kb(a)/e)]),(f=this.M)&&this.S==this.f&&f.resolution==b&&f.a==c&&Ta(f.G(),g)?f:(g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},rb(g,this.a),this.C[0]=Math.round(jb(a)/e),this.C[1]=Math.round(kb(a)/e),d=nx(this,a,this.C,c,d,g),this.M=new ct(a,b,c,this.j,d,this.oa,this.v),this.S=this.f,y(this.M,"change",this.l,this),this.M)},k.Go=function(){return this.v},k.Io=function(){return this.g},k.Jo=function(a){this.M=null,this.v=a,this.s()},k.Ko=function(a){a!=this.g&&(this.g=a,this.M=null,this.s())},k.Lo=function(a){rb(this.a,a),lx(this),this.M=null,this.s()},v(ox,ax);var px=new Cc({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});Nj.pf={},Nj.pf.Jf=function(){},function(a){function b(a,b,c){return g?new ImageData(a,b,c):((b=h.createImageData(b,c)).data.set(a),b)}function c(a){var b=!0;try{new ImageData(10,10)}catch(n){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,l=d[0].byteLength;if(c.imageOps){for(l=Array(h),c=0;c<h;++c){var m=c,n=new Uint8ClampedArray(d[c]),E=f,ia=g;n=b?new ImageData(n,E,ia):{data:n,width:E,height:ia},l[m]=n}f=a(l,e).data}else{for(f=new Uint8ClampedArray(l),g=Array(h),m=Array(h),c=0;c<h;++c)g[c]=new Uint8ClampedArray(d[c]),m[c]=[0,0,0,0];for(d=0;d<l;d+=4){for(c=0;c<h;++c)n=g[c],m[c][0]=n[d],m[c][1]=n[d+1],m[c][2]=n[d+2],m[c][3]=n[d+3];c=a(m,e),f[d]=c[0],f[d+1]=c[1],f[d+2]=c[2],f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),(d=new Worker(d)).addEventListener("message",b),d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Nf=!!a.nm;var b,c=[];if(b=0===a.threads?0:this.Nf?1:a.threads||1)for(var f=0;f<b;++f)c[f]=d(a,this.lh.bind(this,f));else c[0]=e(a,this.lh.bind(this,0));this.Be=c,this.Kd=[],this.qk=a.Ep||1/0,this.ze=0,this.fd={},this.Of=null}var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.prototype.Cp=function(a,b,c){this.nk({inputs:a,Zh:b,callback:c}),this.ih()},f.prototype.nk=function(a){for(this.Kd.push(a);this.Kd.length>this.qk;)this.Kd.shift().callback(null,null)},f.prototype.ih=function(){if(0===this.ze&&0<this.Kd.length){var a=this.Of=this.Kd.shift(),b=a.inputs[0].width,c=a.inputs[0].height,d=a.inputs.map(function(a){return a.data.buffer}),e=this.Be.length;if(this.ze=e,1===e)this.Be[0].postMessage({buffers:d,meta:a.Zh,imageOps:this.Nf,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,B=[],z=0,G=d.length;z<G;++z)B.push(d[g].slice(h,h+f));this.Be[g].postMessage({buffers:B,meta:a.Zh,imageOps:this.Nf,width:b,height:c},B)}}},f.prototype.lh=function(a,b){this.Xq||(this.fd[a]=b.data,0===--this.ze&&this.rk())},f.prototype.rk=function(){var a=this.Of,c=this.Be.length;if(1===c)var d=new Uint8ClampedArray(this.fd[0].buffer),e=this.fd[0].meta;else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f),e=Array(f),f=4*Math.ceil(f/4/c);for(var g=0;g<c;++g){var h=g*f;d.set(new Uint8ClampedArray(this.fd[g].buffer),h),e[g]=this.fd[g].meta}}this.Of=null,this.fd={},a.callback(null,b(d,a.inputs[0].width,a.inputs[0].height),e),this.ih()},a.default={Jf:f},a.Jf=f}(Nj.pf=Nj.pf||{}),v(qx,dw),qx.prototype.v=function(a,b){this.C=new Nj.pf.Jf({operation:a,nm:"image"===this.va,Ep:1,lib:b,threads:this.Sa}),this.s()},qx.prototype.Y=function(a,b,c,d){c=!0;for(var e,f=0,g=this.g.length;f<g;++f)if("ready"!==(e=this.g[f].a.ia()).getState()){c=!1;break}if(!c)return null;if(c=rb({},this.I),c.viewState=rb({},c.viewState),e=lb(a),c.extent=a.slice(),c.focus=e,c.size[0]=Math.round(jb(a)/b),c.size[1]=Math.round(kb(a)/b),f=c.viewState,f.center=e,f.projection=d,f.resolution=b,this.o=c,this.a&&(d=this.a.resolution,e=this.a.G(),b===d&&ab(a,e)||(this.a=null)),!this.a||this.f!==this.S)a:{for(a=this.o,d=this.g.length,b=Array(d),e=0;e<d;++e){f=this.g[e],g=a;var h=a.layerStatesArray[e];if(f.yd(g,h)){var l=g.size[0],m=g.size[1];if(tx){var n=tx.canvas;n.width!==l||n.height!==m?tx=ld(l,m):tx.clearRect(0,0,l,m)}else tx=ld(l,m);f.u(g,h,tx),f=tx.getImageData(0,0,l,m)}else f=null;if(!f)break a;b[e]=f}d={},this.b(new ux(vx,a,d)),this.C.Cp(b,d,this.oa.bind(this,a))}return Te(c.tileQueue,16,16),this.a},qx.prototype.oa=function(a,b,c,d){if(!b&&c){b=a.extent;var e=a.viewState.resolution;if(e===this.o.viewState.resolution&&ab(b,this.o.extent)){if(this.a)var f=this.a.Y().getContext("2d");else f=ld(Math.round(jb(b)/e),Math.round(kb(b)/e)),this.a=new dt(b,e,1,this.j,f.canvas);f.putImageData(c,0,0),this.s(),this.S=this.f,this.b(new ux(wx,a,d))}}};var tx=null;v(ux,Qc),qx.prototype.Lc=function(){return null};var vx="beforeoperations",wx="afteroperations";v(xx,ax);var Ax=[new Cc({html:'Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),px],zx={terrain:{Kb:"jpg",opaque:!0},"terrain-background":{Kb:"jpg",opaque:!0},"terrain-labels":{Kb:"png",opaque:!1},"terrain-lines":{Kb:"png",opaque:!1},"toner-background":{Kb:"png",opaque:!0},toner:{Kb:"png",opaque:!0},"toner-hybrid":{Kb:"png",opaque:!1},"toner-labels":{Kb:"png",opaque:!1},"toner-lines":{Kb:"png",opaque:!1},"toner-lite":{Kb:"png",opaque:!0},watercolor:{Kb:"jpg",opaque:!0}},yx={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};v(Bx,X),Bx.prototype.B=function(){return this.i},Bx.prototype.Oc=function(a){return a},Bx.prototype.Hc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Ta(c)),!(d.b.length<=a[0])){var e=d.Fa(a,this.o),f=Ka(d.eb(a[0]),this.l);1!=b&&(f=Ja(f,b,this.l)),rb(d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var g=this.urls;return g?(c=c.qb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[Ga((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),a=gx(a,d)):a=void 0,a}},Bx.prototype.C=function(a){rb(this.i,a),Sw(this,Cx(this))},v(Dx,Rw),Dx.prototype.Qc=function(a,b,c){var d=this.Rb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=Ka(this.tileGrid.eb(a));return a=[a,b,c],b=(b=Tw(this,a))?Tw(this,b).toString():"",e=new Ex(a,e,b),this.a.set(d,e),e},v(Ex,et),Ex.prototype.Y=function(){if(this.f)return this.f;var a=this.c,b=ld(a[0],a[1]);return b.strokeStyle="black",b.strokeRect(.5,.5,a[0]+.5,a[1]+.5),b.fillStyle="black",b.textAlign="center",b.textBaseline="middle",b.font="24px sans-serif",b.fillText(this.ua,a[0]/2,a[1]/2),this.f=b.canvas},Ex.prototype.load=function(){},v(Fx,X),(k=Fx.prototype).No=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.ff()}this.wg(b)}else this.ff()},k.Mo=function(){this.ff()},k.Bl=function(){return this.i},k.wg=function(a){var b=Wb("EPSG:4326"),c=this.c;if(a.bounds)var d=Xb(b,c),e=qb(a.bounds,d);var f=a.minzoom||0;if(d=a.maxzoom||22,this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f}),this.tileUrlFunction=Lw(a.tiles,c),void 0!==a.attribution&&!this.j){b=void 0!==e?e:b.G(),e={};for(var g;f<=d;++f)g=f.toString(),e[g]=[pc(c,b,f)];this.wa([new Cc({html:a.attribution,tileRanges:e})])}this.i=a,zu(this,"ready")},k.ff=function(){zu(this,"error")},v(Gx,Rw),(k=Gx.prototype).Ro=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.gf()}this.xg(b)}else this.gf()},k.Qo=function(){this.gf()},k.yl=function(){return this.g},k.Kk=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Me(a,b),Hx(this.Qc(b[0],b[1],b[2],1,this.c),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)},k.gf=function(){zu(this,"error")},k.xg=function(a){var b=Wb("EPSG:4326"),c=this.c;if(a.bounds)var d=Xb(b,c),e=qb(a.bounds,d);var f=a.minzoom||0;d=a.maxzoom||22,this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f}),this.g=a.template;var g=a.grids;if(g){if(this.o=Lw(g,c),void 0!==a.attribution){for(b=void 0!==e?e:b.G(),e={};f<=d;++f)g=f.toString(),e[g]=[pc(c,b,f)];this.wa([new Cc({html:a.attribution,tileRanges:e})])}zu(this,"ready")}else zu(this,"error")},k.Qc=function(a,b,c,d,e){var f=this.Rb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],b=Tw(this,a,e),d=this.o(b,d,e),d=new Ix(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Fa(a),this.v,this.i),this.a.set(f,d),d)},k.Zg=function(a,b,c){a=this.Rb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(Ix,et),(k=Ix.prototype).Y=function(){return null},k.getData=function(a){if(!this.g||!this.j)return null;var b=this.g[Math.floor((1-(a[1]-this.f[1])/(this.f[3]-this.f[1]))*this.g.length)];return"string"!=typeof b?null:(93<=(b=b.charCodeAt(Math.floor((a[0]-this.f[0])/(this.f[2]-this.f[0])*b.length)))&&b--,35<=b&&b--,b-=32,a=null,b in this.j&&(b=this.j[b],a=this.c&&b in this.c?this.c[b]:b),a)},k.fb=function(){return this.l},k.Oe=function(){this.state=3,this.s()},k.Ti=function(a){this.g=a.grid,this.j=a.keys,this.c=a.data,this.state=4,this.s()},k.Po=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.Oe()}this.Ti(b)}else this.Oe()},k.Oo=function(){this.Oe()},k.load=function(){this.v&&Jx(this)},v(Kx,X),(k=Kx.prototype).So=function(a,b,c,d){c=Wb(c);var e=this.tileGrid;if(e||(e=this.Ta(c)),b=e.Me(a,b),!(e.b.length<=b[0])){var f=e.Ca(b[0]),g=e.Fa(b,this.ga);e=Ka(e.eb(b[0]),this.l);var h=this.B;return h&&(e=Ia(e,h,this.l),g=Oa(g,f*h,g)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},rb(h,this.i,d),d=Math.floor((g[3]-a[1])/f),h[this.o?"I":"X"]=Math.floor((a[0]-g[0])/f),h[this.o?"J":"Y"]=d,Ox(this,b,e,g,1,c,h)}},k.cg=function(){return this.B},k.Rb=function(a,b,c){return this.S+X.prototype.Rb.call(this,a,b,c)},k.To=function(){return this.i},k.Oc=function(a){return this.U&&void 0!==this.C?a:1},k.Hc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Ta(c)),!(d.b.length<=a[0])){1==b||this.U&&void 0!==this.C||(b=1);var e=d.Ca(a[0]),f=d.Fa(a,this.ga);d=Ka(d.eb(a[0]),this.l);var g=this.B;return g&&(d=Ia(d,g,this.l),f=Oa(f,e*g,f)),1!=b&&(d=Ja(d,b,this.l)),e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},rb(e,this.i),Ox(this,a,d,f,b,c,e)}},k.ib=function(a){X.prototype.ib.call(this,a),Lx(this)},k.Uo=function(a){rb(this.i,a),Lx(this),Mx(this),Sw(this,Nx(this))},v(Px,et),(k=Px.prototype).ka=function(){for(var a=0,b=this.f.length;a<b;++a){var c=this.f[a],d=this.c[c];d.g--,d.g||(delete this.c[c],Pc(d))}this.f.length=0,this.c=null,1==this.state&&(this.g.forEach(Gc),this.g.length=0),this.a&&Pc(this.a),this.state=5,this.s(),this.o.forEach(Gc),this.o.length=0,et.prototype.ka.call(this)},k.Y=function(a){return-1==Dw(this,a).Tg?null:Fw(this,a).canvas},k.fb=function(){return this.f.join("/")+"/"+this.u},k.load=function(){var a=0;0==this.state&&ht(this,1),1==this.state&&this.f.forEach(function(b){var c=this.c[b];if(0==c.state&&(c.Xg(this.R),c.load()),1==c.state){var d=y(c,"change",function(){var b=c.getState();if(2==b||3==b){--a,Gc(d);var f=(b=this.g).indexOf(d);-1<f&&b.splice(f,1),a||this.zh()}}.bind(this));this.g.push(d),++a}}.bind(this)),a||setTimeout(this.zh.bind(this),0)},k.zh=function(){for(var c,a=!1,b=this.f.length,d=b-1;0<=d;--d)2!=(c=this.c[this.f[d]].getState())&&(3==c&&(a=!0),--b);ht(this,0<b?2:a?3:4)},v(Rx,et),(k=Rx.prototype).ka=function(){this.c=null,this.j={},this.state=5,this.s(),et.prototype.ka.call(this)},k.G=function(){return this.l||Sx},k.Zm=function(){return this.o},k.Ym=function(){return this.c},k.fb=function(){return this.v},k.$m=function(){return this.f},k.load=function(){0==this.state&&(ht(this,1),this.R(this,this.v),this.u(null,NaN,null))},k.np=function(a,b,c){this.qg(b),this.wj(a),this.hi(c)},k.mp=function(){ht(this,3)},k.hi=function(a){this.l=a},k.wj=function(a){this.c=a,ht(this,2)},k.qg=function(a){this.f=a},k.Xg=function(a){this.u=a};var Sx=[0,0,4096,4096];v(Tx,Vw),Tx.prototype.Qc=function(a,b,c,d,e){var f=this.Rb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],c=(b=Tw(this,a,e))?this.tileUrlFunction(b,d,e):void 0,d=new Px(a,void 0!==c?0:4,void 0!==c?c:"",this.g,this.tileLoadFunction,b,this.tileUrlFunction,this.tileGrid,this.Ta(e),this.v,d,e,this.tileClass,this.Vi.bind(this)),this.a.set(f,d),d)},Tx.prototype.Ta=function(a){var b=a.qb,c=this.i[b];return c||(c=this.tileGrid,c=this.i[b]=wc(a,void 0,c?c.eb(c.minZoom):void 0)),c},Tx.prototype.Oc=function(a){return a},Tx.prototype.ce=function(a,b,c){return a=Ka(this.Ta(c).eb(a)),[Math.round(a[0]*b),Math.round(a[1]*b)]},v(Ux,mc),Ux.prototype.o=function(){return this.l},v(Z,X),(k=Z.prototype).Xk=function(){return this.i},k.Vo=function(){return this.B},k.Wo=function(){return this.C},k.ll=function(){return this.o},k.wl=function(){return this.U},k.Xo=function(){return this.S},k.Dl=function(){return this.ga},k.Iq=function(a){rb(this.i,a),Sw(this,Wx(this))},v(Xx,X),v($x,it),$x.prototype.Y=function(){if(this.f)return this.f;var a=it.prototype.Y.call(this);if(2==this.state){if(256==a.width&&256==a.height)return this.f=a;var b=ld(256,256);return b.drawImage(a,0,0),this.f=b.canvas}return a};var Yx="default",Zx="truncated";return ua.prototype.code=ua.prototype.code,r("ol.Attribution",Cc),Cc.prototype.getHTML=Cc.prototype.f,r("ol.Collection",$c),$c.prototype.clear=$c.prototype.clear,$c.prototype.extend=$c.prototype.ng,$c.prototype.forEach=$c.prototype.forEach,$c.prototype.getArray=$c.prototype.Hm,$c.prototype.item=$c.prototype.item,$c.prototype.getLength=$c.prototype.ec,$c.prototype.insertAt=$c.prototype.Se,$c.prototype.pop=$c.prototype.pop,$c.prototype.push=$c.prototype.push,$c.prototype.remove=$c.prototype.remove,$c.prototype.removeAt=$c.prototype.Pg,$c.prototype.setAt=$c.prototype.jq,dd.prototype.element=dd.prototype.element,r("ol.color.asArray",gd),r("ol.color.asString",id),r("ol.colorlike.asColorLike",kd),r("ol.control.defaults",zd),r("ol.coordinate.add",bf),r("ol.coordinate.createStringXY",function(a){return function(b){return nf(b,a)}}),r("ol.coordinate.format",ff),r("ol.coordinate.rotate",hf),r("ol.coordinate.toStringHDMS",function(a,b){return a?ef("NS",a[1],b)+" "+ef("EW",a[0],b):""}),r("ol.coordinate.toStringXY",nf),r("ol.DeviceOrientation",jl),jl.prototype.getAlpha=jl.prototype.Qk,jl.prototype.getBeta=jl.prototype.Tk,jl.prototype.getGamma=jl.prototype.$k,jl.prototype.getHeading=jl.prototype.Im,jl.prototype.getTracking=jl.prototype.bi,jl.prototype.setTracking=jl.prototype.og,r("ol.easing.easeIn",sd),r("ol.easing.easeOut",td),r("ol.easing.inAndOut",ud),r("ol.easing.linear",vd),r("ol.easing.upAndDown",function(a){return.5>a?ud(2*a):1-ud(2*(a-.5))}),r("ol.extent.boundingExtent",La),r("ol.extent.buffer",Oa),r("ol.extent.containsCoordinate",Ra),r("ol.extent.containsExtent",Ta),r("ol.extent.containsXY",Sa),r("ol.extent.createEmpty",Ma),r("ol.extent.equals",ab),r("ol.extent.extend",bb),r("ol.extent.getArea",hb),r("ol.extent.getBottomLeft",db),r("ol.extent.getBottomRight",eb),r("ol.extent.getCenter",lb),r("ol.extent.getHeight",kb),r("ol.extent.getIntersection",nb),r("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]}),r("ol.extent.getTopLeft",gb),r("ol.extent.getTopRight",fb),r("ol.extent.getWidth",jb),r("ol.extent.intersects",ob),r("ol.extent.isEmpty",ib),r("ol.extent.applyTransform",qb),r("ol.Feature",Bl),Bl.prototype.clone=Bl.prototype.clone,Bl.prototype.getGeometry=Bl.prototype.W,Bl.prototype.getId=Bl.prototype.Km,Bl.prototype.getGeometryName=Bl.prototype.bl,Bl.prototype.getStyle=Bl.prototype.Lm,Bl.prototype.getStyleFunction=Bl.prototype.bb,Bl.prototype.setGeometry=Bl.prototype.Ra,Bl.prototype.setStyle=Bl.prototype.pg,Bl.prototype.setId=Bl.prototype.kc,Bl.prototype.setGeometryName=Bl.prototype.Wc,r("ol.featureloader.xhr",Xl),r("ol.Geolocation",Rs),Rs.prototype.getAccuracy=Rs.prototype.Ok,Rs.prototype.getAccuracyGeometry=Rs.prototype.Pk,Rs.prototype.getAltitude=Rs.prototype.Rk,Rs.prototype.getAltitudeAccuracy=Rs.prototype.Sk,Rs.prototype.getHeading=Rs.prototype.Mm,Rs.prototype.getPosition=Rs.prototype.Nm,Rs.prototype.getProjection=Rs.prototype.ci,Rs.prototype.getSpeed=Rs.prototype.xl,Rs.prototype.getTracking=Rs.prototype.di,Rs.prototype.getTrackingOptions=Rs.prototype.Ph,Rs.prototype.setProjection=Rs.prototype.ei,Rs.prototype.setTracking=Rs.prototype.Ve,Rs.prototype.setTrackingOptions=Rs.prototype.Gj,r("ol.Graticule",Xs),Xs.prototype.getMap=Xs.prototype.Qm,Xs.prototype.getMeridians=Xs.prototype.ml,Xs.prototype.getParallels=Xs.prototype.tl,Xs.prototype.setMap=Xs.prototype.setMap,r("ol.has.DEVICE_PIXEL_RATIO",Ud),r("ol.has.CANVAS",Wd),r("ol.has.DEVICE_ORIENTATION",Xd),r("ol.has.GEOLOCATION",Yd),r("ol.has.TOUCH",Zd),r("ol.has.WEBGL",Od),ct.prototype.getImage=ct.prototype.Y,ct.prototype.load=ct.prototype.load,it.prototype.getImage=it.prototype.Y,r("ol.inherits",v),r("ol.interaction.defaults",wh),r("ol.Kinetic",pg),r("ol.loadingstrategy.all",wu),r("ol.loadingstrategy.bbox",function(a){return[a]}),r("ol.loadingstrategy.tile",function(a){return function(b,c){c=a.uc(c),b=pc(a,b,c);var d=[];for((c=[c,0,0])[1]=b.ca;c[1]<=b.da;++c[1])for(c[2]=b.ea;c[2]<=b.ha;++c[2])d.push(a.Fa(c));return d}}),r("ol.Map",H),H.prototype.addControl=H.prototype.vk,H.prototype.addInteraction=H.prototype.wk,H.prototype.addLayer=H.prototype.nh,H.prototype.addOverlay=H.prototype.oh,H.prototype.forEachFeatureAtPixel=H.prototype.Wd,H.prototype.getFeaturesAtPixel=H.prototype.Yk,H.prototype.forEachLayerAtPixel=H.prototype.Wm,H.prototype.hasFeatureAtPixel=H.prototype.lm,H.prototype.getEventCoordinate=H.prototype.$f,H.prototype.getEventPixel=H.prototype.He,H.prototype.getTarget=H.prototype.ig,H.prototype.getTargetElement=H.prototype.pd,H.prototype.getCoordinateFromPixel=H.prototype.Xa,H.prototype.getControls=H.prototype.Wk,H.prototype.getOverlays=H.prototype.rl,H.prototype.getOverlayById=H.prototype.ql,H.prototype.getInteractions=H.prototype.dl,H.prototype.getLayerGroup=H.prototype.Mc,H.prototype.getLayers=H.prototype.fi,H.prototype.getPixelFromCoordinate=H.prototype.Ka,H.prototype.getSize=H.prototype.Mb,H.prototype.getView=H.prototype.$,H.prototype.getViewport=H.prototype.El,H.prototype.renderSync=H.prototype.gq,H.prototype.render=H.prototype.render,H.prototype.removeControl=H.prototype.Zp,H.prototype.removeInteraction=H.prototype.$p,H.prototype.removeLayer=H.prototype.bq,H.prototype.removeOverlay=H.prototype.cq,H.prototype.setLayerGroup=H.prototype.Aj,H.prototype.setSize=H.prototype.Yg,H.prototype.setTarget=H.prototype.We,H.prototype.setView=H.prototype.wq,H.prototype.updateSize=H.prototype.Fd,Ld.prototype.originalEvent=Ld.prototype.originalEvent,Ld.prototype.pixel=Ld.prototype.pixel,Ld.prototype.coordinate=Ld.prototype.coordinate,Ld.prototype.dragging=Ld.prototype.dragging,Kd.prototype.map=Kd.prototype.map,Kd.prototype.frameState=Kd.prototype.frameState,r("ol.Object",Vc),Vc.prototype.get=Vc.prototype.get,Vc.prototype.getKeys=Vc.prototype.O,Vc.prototype.getProperties=Vc.prototype.N,Vc.prototype.set=Vc.prototype.set,Vc.prototype.setProperties=Vc.prototype.H,Vc.prototype.unset=Vc.prototype.P,Zc.prototype.key=Zc.prototype.key,Zc.prototype.oldValue=Zc.prototype.oldValue,r("ol.Observable",Uc),r("ol.Observable.unByKey",function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)Gc(a[b]);else Gc(a)}),Uc.prototype.changed=Uc.prototype.s,Uc.prototype.dispatchEvent=Uc.prototype.b,Uc.prototype.getRevision=Uc.prototype.L,Uc.prototype.on=Uc.prototype.J,Uc.prototype.once=Uc.prototype.once,Uc.prototype.un=Uc.prototype.K,r("ol.Overlay",Lk),Lk.prototype.getElement=Lk.prototype.Yd,Lk.prototype.getId=Lk.prototype.Xm,Lk.prototype.getMap=Lk.prototype.Xe,Lk.prototype.getOffset=Lk.prototype.Lh,Lk.prototype.getPosition=Lk.prototype.gi,Lk.prototype.getPositioning=Lk.prototype.Mh,Lk.prototype.setElement=Lk.prototype.vj,Lk.prototype.setMap=Lk.prototype.setMap,Lk.prototype.setOffset=Lk.prototype.Bj,Lk.prototype.setPosition=Lk.prototype.Ye,Lk.prototype.setPositioning=Lk.prototype.Ej,r("ol.proj.METERS_PER_UNIT",Bb),r("ol.proj.setProj4",function(a){Cb=a}),r("ol.proj.getPointResolution",Ub),r("ol.proj.addEquivalentProjections",Yb),r("ol.proj.addProjection",Zb),r("ol.proj.addCoordinateTransforms",cc),r("ol.proj.fromLonLat",function(a,b){return hc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")}),r("ol.proj.toLonLat",function(a,b){return hc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")}),r("ol.proj.get",Wb),r("ol.proj.equivalent",ec),r("ol.proj.getTransform",fc),r("ol.proj.transform",hc),r("ol.proj.transformExtent",ic),r("ol.render.toContext",function(a,b){var c=a.canvas,d=b||{};return b=d.pixelRatio||Ud,(d=d.size)&&(c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px"),c=[0,0,c.width,c.height],d=Ph(Ih(),b,b),new di(a,b,c,d,0)}),r("ol.size.toSize",Ka),r("ol.Sphere",vb),vb.prototype.geodesicArea=vb.prototype.a,vb.prototype.haversineDistance=vb.prototype.b,r("ol.Sphere.getLength",yb),r("ol.Sphere.getArea",Ab),et.prototype.getTileCoord=et.prototype.i,et.prototype.load=et.prototype.load,r("ol.tilegrid.createXYZ",xc),Rx.prototype.getFormat=Rx.prototype.Zm,Rx.prototype.getFeatures=Rx.prototype.Ym,Rx.prototype.getProjection=Rx.prototype.$m,Rx.prototype.setExtent=Rx.prototype.hi,Rx.prototype.setFeatures=Rx.prototype.wj,Rx.prototype.setProjection=Rx.prototype.qg,Rx.prototype.setLoader=Rx.prototype.Xg,r("ol.View",F),F.prototype.animate=F.prototype.animate,F.prototype.getAnimating=F.prototype.Kc,F.prototype.getInteracting=F.prototype.cl,F.prototype.cancelAnimations=F.prototype.hd,F.prototype.constrainCenter=F.prototype.Gc,F.prototype.constrainResolution=F.prototype.constrainResolution,F.prototype.constrainRotation=F.prototype.constrainRotation,F.prototype.getCenter=F.prototype.xa,F.prototype.calculateExtent=F.prototype.gd,F.prototype.getMaxResolution=F.prototype.an,F.prototype.getMinResolution=F.prototype.cn,F.prototype.getMaxZoom=F.prototype.bn,F.prototype.setMaxZoom=F.prototype.rq,F.prototype.getMinZoom=F.prototype.dn,F.prototype.setMinZoom=F.prototype.sq,F.prototype.getProjection=F.prototype.en,F.prototype.getResolution=F.prototype.Pa,F.prototype.getResolutions=F.prototype.fn,F.prototype.getResolutionForExtent=F.prototype.Ke,F.prototype.getRotation=F.prototype.Qa,F.prototype.getZoom=F.prototype.Qh,F.prototype.getZoomForResolution=F.prototype.Ne,F.prototype.getResolutionForZoom=F.prototype.Oh,F.prototype.fit=F.prototype.Xf,F.prototype.centerOn=F.prototype.Fk,F.prototype.rotate=F.prototype.rotate,F.prototype.setCenter=F.prototype.rb,F.prototype.setResolution=F.prototype.Yc,F.prototype.setRotation=F.prototype.Ze,F.prototype.setZoom=F.prototype.zq,r("ol.xml.getAllTextContent",Fl),r("ol.xml.parse",Jl),Vi.prototype.getGL=Vi.prototype.jp,Vi.prototype.useProgram=Vi.prototype.Tc,r("ol.tilegrid.TileGrid",mc),mc.prototype.forEachTileCoord=mc.prototype.Yf,mc.prototype.getMaxZoom=mc.prototype.cj,mc.prototype.getMinZoom=mc.prototype.dj,mc.prototype.getOrigin=mc.prototype.Sc,mc.prototype.getResolution=mc.prototype.Ca,mc.prototype.getResolutions=mc.prototype.ej,mc.prototype.getTileCoordExtent=mc.prototype.Fa,mc.prototype.getTileCoordForCoordAndResolution=mc.prototype.Me,mc.prototype.getTileCoordForCoordAndZ=mc.prototype.kg,mc.prototype.getTileSize=mc.prototype.eb,mc.prototype.getZForResolution=mc.prototype.uc,r("ol.tilegrid.WMTS",Ux),Ux.prototype.getMatrixIds=Ux.prototype.o,r("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Vx),r("ol.style.AtlasManager",nk),r("ol.style.Circle",tl),tl.prototype.setRadius=tl.prototype.Xc,r("ol.style.Fill",ul),ul.prototype.clone=ul.prototype.clone,ul.prototype.getColor=ul.prototype.f,ul.prototype.setColor=ul.prototype.c,r("ol.style.Icon",yo),yo.prototype.clone=yo.prototype.clone,yo.prototype.getAnchor=yo.prototype.Jc,yo.prototype.getColor=yo.prototype.Yo,yo.prototype.getImage=yo.prototype.Y,yo.prototype.getOrigin=yo.prototype.Rc,yo.prototype.getSrc=yo.prototype.Zo,yo.prototype.getSize=yo.prototype.ic,yo.prototype.load=yo.prototype.load,r("ol.style.Image",ql),ql.prototype.getOpacity=ql.prototype.jf,ql.prototype.getRotateWithView=ql.prototype.kf,ql.prototype.getRotation=ql.prototype.lf,ql.prototype.getScale=ql.prototype.mf,ql.prototype.getSnapToPixel=ql.prototype.Le,ql.prototype.setOpacity=ql.prototype.zd,ql.prototype.setRotation=ql.prototype.nf,ql.prototype.setScale=ql.prototype.Ad,r("ol.style.RegularShape",rl),rl.prototype.clone=rl.prototype.clone,rl.prototype.getAnchor=rl.prototype.Jc,rl.prototype.getAngle=rl.prototype.Zi,rl.prototype.getFill=rl.prototype.Da,rl.prototype.getImage=rl.prototype.Y,rl.prototype.getOrigin=rl.prototype.Rc,rl.prototype.getPoints=rl.prototype.$i,rl.prototype.getRadius=rl.prototype.aj,rl.prototype.getRadius2=rl.prototype.Nh,rl.prototype.getSize=rl.prototype.ic,rl.prototype.getStroke=rl.prototype.Ea,r("ol.style.Stroke",Ej),Ej.prototype.clone=Ej.prototype.clone,Ej.prototype.getColor=Ej.prototype.$o,Ej.prototype.getLineCap=Ej.prototype.gl,Ej.prototype.getLineDash=Ej.prototype.ap,Ej.prototype.getLineDashOffset=Ej.prototype.hl,Ej.prototype.getLineJoin=Ej.prototype.il,Ej.prototype.getMiterLimit=Ej.prototype.nl,Ej.prototype.getWidth=Ej.prototype.bp,Ej.prototype.setColor=Ej.prototype.cp,Ej.prototype.setLineCap=Ej.prototype.oq,Ej.prototype.setLineDash=Ej.prototype.setLineDash,Ej.prototype.setLineDashOffset=Ej.prototype.pq,Ej.prototype.setLineJoin=Ej.prototype.qq,Ej.prototype.setMiterLimit=Ej.prototype.tq,Ej.prototype.setWidth=Ej.prototype.xq,r("ol.style.Style",vl),vl.prototype.clone=vl.prototype.clone,vl.prototype.getRenderer=vl.prototype.Je,vl.prototype.setRenderer=vl.prototype.uq,vl.prototype.getGeometry=vl.prototype.W,vl.prototype.getGeometryFunction=vl.prototype.al,vl.prototype.getFill=vl.prototype.Da,vl.prototype.setFill=vl.prototype.zf,vl.prototype.getImage=vl.prototype.Y,vl.prototype.setImage=vl.prototype.Wg,vl.prototype.getStroke=vl.prototype.Ea,vl.prototype.setStroke=vl.prototype.Af,vl.prototype.getText=vl.prototype.Ja,vl.prototype.setText=vl.prototype.Dd,vl.prototype.getZIndex=vl.prototype.za,vl.prototype.setGeometry=vl.prototype.Ra,vl.prototype.setZIndex=vl.prototype.Wb,r("ol.style.Text",zo),zo.prototype.clone=zo.prototype.clone,zo.prototype.getFont=zo.prototype.Zk,zo.prototype.getOffsetX=zo.prototype.ol,zo.prototype.getOffsetY=zo.prototype.pl,zo.prototype.getFill=zo.prototype.Da,zo.prototype.getRotateWithView=zo.prototype.ep,zo.prototype.getRotation=zo.prototype.fp,zo.prototype.getScale=zo.prototype.gp,zo.prototype.getStroke=zo.prototype.Ea,zo.prototype.getText=zo.prototype.Ja,zo.prototype.getTextAlign=zo.prototype.zl,zo.prototype.getTextBaseline=zo.prototype.Al,zo.prototype.setFont=zo.prototype.xj,zo.prototype.setOffsetX=zo.prototype.Cj,zo.prototype.setOffsetY=zo.prototype.Dj,zo.prototype.setFill=zo.prototype.zf,zo.prototype.setRotation=zo.prototype.hp,zo.prototype.setScale=zo.prototype.bj,zo.prototype.setStroke=zo.prototype.Af,zo.prototype.setText=zo.prototype.Dd,zo.prototype.setTextAlign=zo.prototype.Fj,zo.prototype.setTextBaseline=zo.prototype.vq,r("ol.source.BingMaps",Zw),r("ol.source.BingMaps.TOS_ATTRIBUTION",$w),Zw.prototype.getApiKey=Zw.prototype.U,Zw.prototype.getImagerySet=Zw.prototype.ga,r("ol.source.CartoDB",bx),bx.prototype.getConfig=bx.prototype.Vk,bx.prototype.updateConfig=bx.prototype.Hq,bx.prototype.setConfig=bx.prototype.kq,r("ol.source.Cluster",Y),Y.prototype.getDistance=Y.prototype.po,Y.prototype.getSource=Y.prototype.qo,Y.prototype.setDistance=Y.prototype.lq,r("ol.source.Image",dw),fw.prototype.image=fw.prototype.image,r("ol.source.ImageArcGISRest",hx),hx.prototype.getParams=hx.prototype.so,hx.prototype.getImageLoadFunction=hx.prototype.ro,hx.prototype.getUrl=hx.prototype.to,hx.prototype.setImageLoadFunction=hx.prototype.uo,hx.prototype.setUrl=hx.prototype.vo,hx.prototype.updateParams=hx.prototype.wo,r("ol.source.ImageCanvas",kw),r("ol.source.ImageMapGuide",ix),ix.prototype.getParams=ix.prototype.yo,ix.prototype.getImageLoadFunction=ix.prototype.xo,ix.prototype.updateParams=ix.prototype.Ao,ix.prototype.setImageLoadFunction=ix.prototype.zo,r("ol.source.ImageStatic",jx),r("ol.source.ImageVector",lw),lw.prototype.getSource=lw.prototype.Bo,lw.prototype.getStyle=lw.prototype.Co,lw.prototype.getStyleFunction=lw.prototype.bb,lw.prototype.setStyle=lw.prototype.Si,r("ol.source.ImageWMS",kx),kx.prototype.getGetFeatureInfoUrl=kx.prototype.Fo,kx.prototype.getParams=kx.prototype.Ho,kx.prototype.getImageLoadFunction=kx.prototype.Go,kx.prototype.getUrl=kx.prototype.Io,kx.prototype.setImageLoadFunction=kx.prototype.Jo,kx.prototype.setUrl=kx.prototype.Ko,kx.prototype.updateParams=kx.prototype.Lo,r("ol.source.OSM",ox),r("ol.source.OSM.ATTRIBUTION",px),r("ol.source.Raster",qx),qx.prototype.setOperation=qx.prototype.v,ux.prototype.extent=ux.prototype.extent,ux.prototype.resolution=ux.prototype.resolution,ux.prototype.data=ux.prototype.data,r("ol.source.Source",xu),xu.prototype.getAttributions=xu.prototype.Aa,xu.prototype.getLogo=xu.prototype.ya,xu.prototype.getProjection=xu.prototype.Ba,xu.prototype.getState=xu.prototype.getState,xu.prototype.refresh=xu.prototype.ra,xu.prototype.setAttributions=xu.prototype.wa,r("ol.source.Stamen",xx),r("ol.source.Tile",Rw),Rw.prototype.getTileGrid=Rw.prototype.cb,Uw.prototype.tile=Uw.prototype.tile,r("ol.source.TileArcGISRest",Bx),Bx.prototype.getParams=Bx.prototype.B,Bx.prototype.updateParams=Bx.prototype.C,r("ol.source.TileDebug",Dx),r("ol.source.TileImage",X),X.prototype.setRenderReprojectionEdges=X.prototype.Nb,X.prototype.setTileGridForProjection=X.prototype.Ob,r("ol.source.TileJSON",Fx),Fx.prototype.getTileJSON=Fx.prototype.Bl,r("ol.source.TileUTFGrid",Gx),Gx.prototype.getTemplate=Gx.prototype.yl,Gx.prototype.forDataAtCoordinateAndResolution=Gx.prototype.Kk,r("ol.source.TileWMS",Kx),Kx.prototype.getGetFeatureInfoUrl=Kx.prototype.So,Kx.prototype.getParams=Kx.prototype.To,Kx.prototype.updateParams=Kx.prototype.Uo,Vw.prototype.getTileLoadFunction=Vw.prototype.tb,Vw.prototype.getTileUrlFunction=Vw.prototype.ub,Vw.prototype.getUrls=Vw.prototype.vb,Vw.prototype.setTileLoadFunction=Vw.prototype.zb,Vw.prototype.setTileUrlFunction=Vw.prototype.hb,Vw.prototype.setUrl=Vw.prototype.nb,Vw.prototype.setUrls=Vw.prototype.ib,r("ol.source.Vector",V),V.prototype.addFeature=V.prototype.Bb,V.prototype.addFeatures=V.prototype.Ec,V.prototype.clear=V.prototype.clear,V.prototype.forEachFeature=V.prototype.Ah,V.prototype.forEachFeatureInExtent=V.prototype.ac,V.prototype.forEachFeatureIntersectingExtent=V.prototype.Bh,V.prototype.getFeaturesCollection=V.prototype.Ih,V.prototype.getFeatures=V.prototype.fe,V.prototype.getFeaturesAtCoordinate=V.prototype.Hh,V.prototype.getFeaturesInExtent=V.prototype.ag,V.prototype.getClosestFeatureToCoordinate=V.prototype.Dh,V.prototype.getExtent=V.prototype.G,V.prototype.getFeatureById=V.prototype.Gh,V.prototype.getFormat=V.prototype.Wi,V.prototype.getUrl=V.prototype.Xi,V.prototype.removeFeature=V.prototype.Fb,Eu.prototype.feature=Eu.prototype.feature,r("ol.source.VectorTile",Tx),r("ol.source.WMTS",Z),Z.prototype.getDimensions=Z.prototype.Xk,Z.prototype.getFormat=Z.prototype.Vo,Z.prototype.getLayer=Z.prototype.Wo,Z.prototype.getMatrixSet=Z.prototype.ll,Z.prototype.getRequestEncoding=Z.prototype.wl,Z.prototype.getStyle=Z.prototype.Xo,Z.prototype.getVersion=Z.prototype.Dl,Z.prototype.updateDimensions=Z.prototype.Iq,r("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=la(a.Contents.Layer,function(a){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet,e=1<c.TileMatrixSetLink.length?"projection"in b?pa(c.TileMatrixSetLink,function(a){var c=la(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=Wb(c),f=Wb(b.projection);return e&&f?ec(e,f):c==b.projection}):pa(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet,g=c.TileMatrixSetLink[e].TileMatrixSetLimits,h=c.Format[0];"format"in b&&(h=b.format),0>(e=pa(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault}))&&(e=0),e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]),l[b]=c});var m=la(a.Contents.TileMatrixSet,function(a){return a.Identifier==f}),n=Wb("projection"in b?b.projection:m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),p=c.WGS84BoundingBox;if(void 0!==p){var q=Wb("EPSG:4326").G();q=p[0]==q[0]&&p[2]==q[2];var t=ic(p,"EPSG:4326",n);(p=n.G())&&(Ta(p,t)||(t=void 0))}g=Vx(m,t,g);var u=[];if(m=b.requestEncoding,m=void 0!==m?m:"","OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,t=0,p=a.length;t<p;++t){var x=la(a[t].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;if(""===m&&(m=x[0]),"KVP"!==m)break;ha(x,"KVP")&&u.push(a[t].href)}return u.length||(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))})),{urls:u,layer:b.layer,matrixSet:f,format:h,projection:n,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:q,crossOrigin:b.crossOrigin}}),r("ol.source.XYZ",ax),r("ol.source.Zoomify",Xx),Yh.prototype.vectorContext=Yh.prototype.vectorContext,Yh.prototype.frameState=Yh.prototype.frameState,Yh.prototype.context=Yh.prototype.context,Yh.prototype.glContext=Yh.prototype.glContext,Eq.prototype.get=Eq.prototype.get,Eq.prototype.getExtent=Eq.prototype.G,Eq.prototype.getId=Eq.prototype.lo,Eq.prototype.getGeometry=Eq.prototype.W,Eq.prototype.getProperties=Eq.prototype.mo,Eq.prototype.getType=Eq.prototype.T,r("ol.render.VectorContext",ci),Ck.prototype.setStyle=Ck.prototype.xd,Ck.prototype.drawGeometry=Ck.prototype.Cb,Ck.prototype.drawFeature=Ck.prototype.Ee,di.prototype.drawCircle=di.prototype.$b,di.prototype.setStyle=di.prototype.xd,di.prototype.drawGeometry=di.prototype.Cb,di.prototype.drawFeature=di.prototype.Ee,r("ol.proj.common.add",jc),r("ol.proj.Projection",Db),Db.prototype.getCode=Db.prototype.Uk,Db.prototype.getExtent=Db.prototype.G,Db.prototype.getUnits=Db.prototype.jo,Db.prototype.getMetersPerUnit=Db.prototype.Nc,Db.prototype.getWorldExtent=Db.prototype.Fl,Db.prototype.isGlobal=Db.prototype.rm,Db.prototype.setGlobal=Db.prototype.nq,Db.prototype.setExtent=Db.prototype.ko,Db.prototype.setWorldExtent=Db.prototype.yq,Db.prototype.setGetPointResolution=Db.prototype.mq,r("ol.proj.Units.METERS_PER_UNIT",Bb),r("ol.layer.Base",xh),xh.prototype.getExtent=xh.prototype.G,xh.prototype.getMaxResolution=xh.prototype.fc,xh.prototype.getMinResolution=xh.prototype.gc,xh.prototype.getOpacity=xh.prototype.hc,xh.prototype.getVisible=xh.prototype.Sb,xh.prototype.getZIndex=xh.prototype.za,xh.prototype.setExtent=xh.prototype.xc,xh.prototype.setMaxResolution=xh.prototype.Bc,xh.prototype.setMinResolution=xh.prototype.Cc,xh.prototype.setOpacity=xh.prototype.yc,xh.prototype.setVisible=xh.prototype.zc,xh.prototype.setZIndex=xh.prototype.Wb,r("ol.layer.Group",zh),zh.prototype.getLayers=zh.prototype.wd,zh.prototype.setLayers=zh.prototype.Hi,r("ol.layer.Heatmap",W),W.prototype.getBlur=W.prototype.Ch,W.prototype.getGradient=W.prototype.Jh,W.prototype.getRadius=W.prototype.Ii,W.prototype.setBlur=W.prototype.tj,W.prototype.setGradient=W.prototype.zj,W.prototype.setRadius=W.prototype.Xc,r("ol.layer.Image",qw),qw.prototype.getSource=qw.prototype.ia,r("ol.layer.Layer",Dh),Dh.prototype.getSource=Dh.prototype.ia,Dh.prototype.setMap=Dh.prototype.setMap,Dh.prototype.setSource=Dh.prototype.Zc,r("ol.layer.Tile",zw),zw.prototype.getPreload=zw.prototype.md,zw.prototype.getSource=zw.prototype.ia,zw.prototype.setPreload=zw.prototype.Ji,zw.prototype.getUseInterimTilesOnError=zw.prototype.qd,zw.prototype.setUseInterimTilesOnError=zw.prototype.Ki,r("ol.layer.Vector",S),S.prototype.getSource=S.prototype.ia,S.prototype.getStyle=S.prototype.u,S.prototype.getStyleFunction=S.prototype.bb,S.prototype.setStyle=S.prototype.i,r("ol.layer.VectorTile",Hw),Hw.prototype.getPreload=Hw.prototype.md,Hw.prototype.getUseInterimTilesOnError=Hw.prototype.qd,Hw.prototype.setPreload=Hw.prototype.Li,Hw.prototype.setUseInterimTilesOnError=Hw.prototype.Mi,Hw.prototype.getSource=Hw.prototype.ia,r("ol.interaction.DoubleClickZoom",wg),r("ol.interaction.DoubleClickZoom.handleEvent",xg),r("ol.interaction.DragAndDrop",mt),r("ol.interaction.DragAndDrop.handleEvent",pf),pt.prototype.features=pt.prototype.features,pt.prototype.file=pt.prototype.file,pt.prototype.projection=pt.prototype.projection,r("ol.interaction.DragBox",Xg),Xg.prototype.getGeometry=Xg.prototype.W,bh.prototype.coordinate=bh.prototype.coordinate,bh.prototype.mapBrowserEvent=bh.prototype.mapBrowserEvent,r("ol.interaction.DragPan",Mg),r("ol.interaction.DragRotate",Qg),r("ol.interaction.DragRotateAndZoom",tt),r("ol.interaction.DragZoom",fh),r("ol.interaction.Draw",Hu),r("ol.interaction.Draw.handleEvent",Ju),Hu.prototype.removeLastPoint=Hu.prototype.aq,Hu.prototype.finishDrawing=Hu.prototype.Vd,Hu.prototype.extend=Hu.prototype.Jn,r("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0];c=c[1];var f=Math.sqrt(kf(e,c));return d=d||dg(new Ss(e),a),eg(d,e,f,b||Math.atan((c[1]-e[1])/(c[0]-e[0]))),d}}),r("ol.interaction.Draw.createBox",function(){return function(a,b){return a=La(a),(b=b||new D(null)).na([[db(a),eb(a),fb(a),gb(a),db(a)]]),b}}),Xu.prototype.feature=Xu.prototype.feature,r("ol.interaction.Extent",Yu),Yu.prototype.getExtent=Yu.prototype.G,Yu.prototype.setExtent=Yu.prototype.g,iv.prototype.extent=iv.prototype.extent,r("ol.interaction.Interaction",sg),sg.prototype.getActive=sg.prototype.c,sg.prototype.getMap=sg.prototype.i,sg.prototype.setActive=sg.prototype.Ia,r("ol.interaction.KeyboardPan",gh),r("ol.interaction.KeyboardPan.handleEvent",hh),r("ol.interaction.KeyboardZoom",ih),r("ol.interaction.KeyboardZoom.handleEvent",jh),r("ol.interaction.Modify",jv),r("ol.interaction.Modify.handleEvent",mv),jv.prototype.removePoint=jv.prototype.rj,rv.prototype.features=rv.prototype.features,rv.prototype.mapBrowserEvent=rv.prototype.mapBrowserEvent,r("ol.interaction.MouseWheelZoom",kh),r("ol.interaction.MouseWheelZoom.handleEvent",lh),kh.prototype.setMouseAnchor=kh.prototype.U,r("ol.interaction.PinchRotate",oh),r("ol.interaction.PinchZoom",sh),r("ol.interaction.Pointer",Jg),r("ol.interaction.Pointer.handleEvent",Kg),r("ol.interaction.Select",zv),zv.prototype.getFeatures=zv.prototype.Un,zv.prototype.getHitTolerance=zv.prototype.Vn,zv.prototype.getLayer=zv.prototype.Wn,r("ol.interaction.Select.handleEvent",Av),zv.prototype.setHitTolerance=zv.prototype.Yn,zv.prototype.setMap=zv.prototype.setMap,Cv.prototype.selected=Cv.prototype.selected,Cv.prototype.deselected=Cv.prototype.deselected,Cv.prototype.mapBrowserEvent=Cv.prototype.mapBrowserEvent,r("ol.interaction.Snap",Ev),Ev.prototype.addFeature=Ev.prototype.Bb,Ev.prototype.removeFeature=Ev.prototype.Fb,r("ol.interaction.Translate",Jv),Jv.prototype.getHitTolerance=Jv.prototype.C,Jv.prototype.setHitTolerance=Jv.prototype.I,Pv.prototype.features=Pv.prototype.features,Pv.prototype.coordinate=Pv.prototype.coordinate,r("ol.geom.Circle",Ss),Ss.prototype.clone=Ss.prototype.clone,Ss.prototype.getCenter=Ss.prototype.xa,Ss.prototype.getRadius=Ss.prototype.vd,Ss.prototype.getType=Ss.prototype.T,Ss.prototype.intersectsExtent=Ss.prototype.Ya,Ss.prototype.setCenter=Ss.prototype.rb,Ss.prototype.setCenterAndRadius=Ss.prototype.Vg,Ss.prototype.setRadius=Ss.prototype.Xc,Ss.prototype.transform=Ss.prototype.mb,r("ol.geom.Geometry",rf),rf.prototype.getClosestPoint=rf.prototype.Db,rf.prototype.intersectsCoordinate=rf.prototype.wb,rf.prototype.getExtent=rf.prototype.G,rf.prototype.rotate=rf.prototype.rotate,rf.prototype.scale=rf.prototype.scale,rf.prototype.simplify=rf.prototype.Pb,rf.prototype.transform=rf.prototype.mb,r("ol.geom.GeometryCollection",Nm),Nm.prototype.clone=Nm.prototype.clone,Nm.prototype.getGeometries=Nm.prototype.kd,Nm.prototype.getType=Nm.prototype.T,Nm.prototype.intersectsExtent=Nm.prototype.Ya,Nm.prototype.setGeometries=Nm.prototype.yj,Nm.prototype.applyTransform=Nm.prototype.Fc,Nm.prototype.translate=Nm.prototype.translate,r("ol.geom.LinearRing",Of),Of.prototype.clone=Of.prototype.clone,Of.prototype.getArea=Of.prototype.Fn,Of.prototype.getCoordinates=Of.prototype.V,Of.prototype.getType=Of.prototype.T,Of.prototype.setCoordinates=Of.prototype.na,r("ol.geom.LineString",M),M.prototype.appendCoordinate=M.prototype.xk,M.prototype.clone=M.prototype.clone,M.prototype.forEachSegment=M.prototype.Nk,M.prototype.getCoordinateAtM=M.prototype.Dn,M.prototype.getCoordinates=M.prototype.V,M.prototype.getCoordinateAt=M.prototype.Eh,M.prototype.getLength=M.prototype.En,M.prototype.getType=M.prototype.T,M.prototype.intersectsExtent=M.prototype.Ya,M.prototype.setCoordinates=M.prototype.na,r("ol.geom.MultiLineString",N),N.prototype.appendLineString=N.prototype.yk,N.prototype.clone=N.prototype.clone,N.prototype.getCoordinateAtM=N.prototype.Gn,N.prototype.getCoordinates=N.prototype.V,N.prototype.getLineString=N.prototype.jl,N.prototype.getLineStrings=N.prototype.ld,N.prototype.getType=N.prototype.T,N.prototype.intersectsExtent=N.prototype.Ya,N.prototype.setCoordinates=N.prototype.na,r("ol.geom.MultiPoint",O),O.prototype.appendPoint=O.prototype.Ak,O.prototype.clone=O.prototype.clone,O.prototype.getCoordinates=O.prototype.V,O.prototype.getPoint=O.prototype.ul,O.prototype.getPoints=O.prototype.ee,O.prototype.getType=O.prototype.T,O.prototype.intersectsExtent=O.prototype.Ya,O.prototype.setCoordinates=O.prototype.na,r("ol.geom.MultiPolygon",P),P.prototype.appendPolygon=P.prototype.Bk,P.prototype.clone=P.prototype.clone,P.prototype.getArea=P.prototype.Hn,P.prototype.getCoordinates=P.prototype.V,P.prototype.getInteriorPoints=P.prototype.fl,P.prototype.getPolygon=P.prototype.vl,P.prototype.getPolygons=P.prototype.$d,P.prototype.getType=P.prototype.T,P.prototype.intersectsExtent=P.prototype.Ya,P.prototype.setCoordinates=P.prototype.na,r("ol.geom.Point",C),C.prototype.clone=C.prototype.clone,C.prototype.getCoordinates=C.prototype.V,C.prototype.getType=C.prototype.T,C.prototype.intersectsExtent=C.prototype.Ya,C.prototype.setCoordinates=C.prototype.na,r("ol.geom.Polygon",D),D.prototype.appendLinearRing=D.prototype.zk,D.prototype.clone=D.prototype.clone,D.prototype.getArea=D.prototype.In,D.prototype.getCoordinates=D.prototype.V,D.prototype.getInteriorPoint=D.prototype.el,D.prototype.getLinearRingCount=D.prototype.kl,D.prototype.getLinearRing=D.prototype.Kh,D.prototype.getLinearRings=D.prototype.Zd,D.prototype.getType=D.prototype.T,D.prototype.intersectsExtent=D.prototype.Ya,D.prototype.setCoordinates=D.prototype.na,r("ol.geom.Polygon.circular",bg),r("ol.geom.Polygon.fromExtent",cg),r("ol.geom.Polygon.fromCircle",dg),r("ol.geom.SimpleGeometry",uf),uf.prototype.getFirstCoordinate=uf.prototype.bc,uf.prototype.getLastCoordinate=uf.prototype.cc,uf.prototype.getLayout=uf.prototype.dc,uf.prototype.applyTransform=uf.prototype.Fc,uf.prototype.translate=uf.prototype.translate,r("ol.format.EsriJSON",jm),jm.prototype.readFeature=jm.prototype.Ub,jm.prototype.readFeatures=jm.prototype.Oa,jm.prototype.readGeometry=jm.prototype.Vc,jm.prototype.readProjection=jm.prototype.ob,jm.prototype.writeGeometry=jm.prototype.dd,jm.prototype.writeGeometryObject=jm.prototype.ue,jm.prototype.writeFeature=jm.prototype.Gd,jm.prototype.writeFeatureObject=jm.prototype.cd,jm.prototype.writeFeatures=jm.prototype.Xb,jm.prototype.writeFeaturesObject=jm.prototype.se,r("ol.format.Feature",Yl),r("ol.format.filter.and",Lm),r("ol.format.filter.or",function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Jm,b))}),r("ol.format.filter.not",function(a){return new Hm(a)}),r("ol.format.filter.bbox",Mm),r("ol.format.filter.intersects",function(a,b,c){return new Bm(a,b,c)}),r("ol.format.filter.within",function(a,b,c){return new Km(a,b,c)}),r("ol.format.filter.equalTo",function(a,b,c){return new xm(a,b,c)}),r("ol.format.filter.notEqualTo",function(a,b,c){return new Im(a,b,c)}),r("ol.format.filter.lessThan",function(a,b){return new Fm(a,b)}),r("ol.format.filter.lessThanOrEqualTo",function(a,b){return new Gm(a,b)}),r("ol.format.filter.greaterThan",function(a,b){return new ym(a,b)}),r("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new zm(a,b)}),r("ol.format.filter.isNull",function(a){return new Em(a)}),r("ol.format.filter.between",function(a,b,c){return new Cm(a,b,c)}),r("ol.format.filter.like",function(a,b,c,d,e,f){return new Dm(a,b,c,d,e,f)}),r("ol.format.filter.during",function(a,b,c){return new vm(a,b,c)}),r("ol.format.GeoJSON",Rm),Rm.prototype.readFeature=Rm.prototype.Ub,Rm.prototype.readFeatures=Rm.prototype.Oa,Rm.prototype.readGeometry=Rm.prototype.Vc,Rm.prototype.readProjection=Rm.prototype.ob,Rm.prototype.writeFeature=Rm.prototype.Gd,Rm.prototype.writeFeatureObject=Rm.prototype.cd,Rm.prototype.writeFeatures=Rm.prototype.Xb,Rm.prototype.writeFeaturesObject=Rm.prototype.se,Rm.prototype.writeGeometry=Rm.prototype.dd,Rm.prototype.writeGeometryObject=Rm.prototype.ue,r("ol.format.GML",mn),mn.prototype.writeFeatures=mn.prototype.Xb,mn.prototype.writeFeaturesNode=mn.prototype.Yb,r("ol.format.GML2",vn),r("ol.format.GML3",mn),mn.prototype.writeGeometryNode=mn.prototype.te,mn.prototype.writeFeatures=mn.prototype.Xb,mn.prototype.writeFeaturesNode=mn.prototype.Yb,Zm.prototype.readFeatures=Zm.prototype.Oa,r("ol.format.GPX",Gn),Gn.prototype.readFeature=Gn.prototype.Ub,Gn.prototype.readFeatures=Gn.prototype.Oa,Gn.prototype.readProjection=Gn.prototype.ob,Gn.prototype.writeFeatures=Gn.prototype.Xb,Gn.prototype.writeFeaturesNode=Gn.prototype.Yb,r("ol.format.IGC",ro),ro.prototype.readFeature=ro.prototype.Ub,ro.prototype.readFeatures=ro.prototype.Oa,ro.prototype.readProjection=ro.prototype.ob,r("ol.format.KML",Ao),Ao.prototype.readFeature=Ao.prototype.Ub,Ao.prototype.readFeatures=Ao.prototype.Oa,Ao.prototype.readName=Ao.prototype.Pp,Ao.prototype.readNetworkLinks=Ao.prototype.Qp,Ao.prototype.readRegion=Ao.prototype.Tp,Ao.prototype.readRegionFromNode=Ao.prototype.wf,Ao.prototype.readProjection=Ao.prototype.ob,Ao.prototype.writeFeatures=Ao.prototype.Xb,Ao.prototype.writeFeaturesNode=Ao.prototype.Yb,r("ol.format.MVT",Fq),Fq.prototype.getLastExtent=Fq.prototype.eg,Fq.prototype.readFeatures=Fq.prototype.Oa,Fq.prototype.readProjection=Fq.prototype.ob,Fq.prototype.setLayers=Fq.prototype.Cn,r("ol.format.OSMXML",Hq),Hq.prototype.readFeatures=Hq.prototype.Oa,Hq.prototype.readProjection=Hq.prototype.ob,r("ol.format.Polyline",gr),r("ol.format.Polyline.encodeDeltas",hr),r("ol.format.Polyline.decodeDeltas",jr),r("ol.format.Polyline.encodeFloats",ir),r("ol.format.Polyline.decodeFloats",kr),gr.prototype.readFeature=gr.prototype.Ub,gr.prototype.readFeatures=gr.prototype.Oa,gr.prototype.readGeometry=gr.prototype.Vc,gr.prototype.readProjection=gr.prototype.ob,gr.prototype.writeGeometry=gr.prototype.dd,r("ol.format.TopoJSON",lr),lr.prototype.readFeatures=lr.prototype.Oa,lr.prototype.readProjection=lr.prototype.ob,r("ol.format.WFS",rr),rr.prototype.readFeatures=rr.prototype.Oa,rr.prototype.readTransactionResponse=rr.prototype.j,rr.prototype.readFeatureCollectionMetadata=rr.prototype.g,r("ol.format.WFS.writeFilter",function(a){var b=El("http://www.opengis.net/ogc","Filter");return Vl({node:b},Gr,Ql(a.lc),[a],[]),b}),rr.prototype.writeGetFeature=rr.prototype.o,rr.prototype.writeTransaction=rr.prototype.v,rr.prototype.readProjection=rr.prototype.ob,r("ol.format.WKT",Mr),Mr.prototype.readFeature=Mr.prototype.Ub,Mr.prototype.readFeatures=Mr.prototype.Oa,Mr.prototype.readGeometry=Mr.prototype.Vc,Mr.prototype.writeFeature=Mr.prototype.Gd,Mr.prototype.writeFeatures=Mr.prototype.Xb,Mr.prototype.writeGeometry=Mr.prototype.dd,r("ol.format.WMSCapabilities",es),es.prototype.read=es.prototype.read,r("ol.format.WMSGetFeatureInfo",Bs),Bs.prototype.readFeatures=Bs.prototype.Oa,r("ol.format.WMTSCapabilities",Cs),Cs.prototype.read=Cs.prototype.read,r("ol.format.filter.And",sm),r("ol.format.filter.Bbox",tm),r("ol.format.filter.Comparison",um),r("ol.format.filter.ComparisonBinary",wm),r("ol.format.filter.During",vm),r("ol.format.filter.EqualTo",xm),r("ol.format.filter.Filter",qm),r("ol.format.filter.GreaterThan",ym),r("ol.format.filter.GreaterThanOrEqualTo",zm),r("ol.format.filter.Intersects",Bm),r("ol.format.filter.IsBetween",Cm),r("ol.format.filter.IsLike",Dm),r("ol.format.filter.IsNull",Em),r("ol.format.filter.LessThan",Fm),r("ol.format.filter.LessThanOrEqualTo",Gm),r("ol.format.filter.Not",Hm),r("ol.format.filter.NotEqualTo",Im),r("ol.format.filter.Or",Jm),r("ol.format.filter.Spatial",Am),r("ol.format.filter.Within",Km),r("ol.events.condition.altKeyOnly",yg),r("ol.events.condition.altShiftKeysOnly",zg),r("ol.events.condition.always",pf),r("ol.events.condition.click",function(a){return"click"==a.type}),r("ol.events.condition.never",qf),r("ol.events.condition.pointerMove",Bg),r("ol.events.condition.singleClick",Cg),r("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type}),r("ol.events.condition.noModifierKeys",Dg),r("ol.events.condition.platformModifierKeyOnly",function(a){return!(a=a.originalEvent).altKey&&(Td?a.metaKey:a.ctrlKey)&&!a.shiftKey}),r("ol.events.condition.shiftKeyOnly",Eg),r("ol.events.condition.targetNotEditable",Fg),r("ol.events.condition.mouseOnly",Gg),r("ol.events.condition.primaryAction",Hg),Qc.prototype.type=Qc.prototype.type,Qc.prototype.target=Qc.prototype.target,Qc.prototype.preventDefault=Qc.prototype.preventDefault,Qc.prototype.stopPropagation=Qc.prototype.stopPropagation,r("ol.control.Attribution",pd),r("ol.control.Attribution.render",qd),pd.prototype.getCollapsible=pd.prototype.hn,pd.prototype.setCollapsible=pd.prototype.ln,pd.prototype.setCollapsed=pd.prototype.kn,pd.prototype.getCollapsed=pd.prototype.gn,r("ol.control.Control",od),od.prototype.getMap=od.prototype.g,od.prototype.setMap=od.prototype.setMap,od.prototype.setTarget=od.prototype.i,r("ol.control.FullScreen",Ad),r("ol.control.MousePosition",Fd),r("ol.control.MousePosition.render",Gd),Fd.prototype.getCoordinateFormat=Fd.prototype.Fh,Fd.prototype.getProjection=Fd.prototype.ii,Fd.prototype.setCoordinateFormat=Fd.prototype.uj,Fd.prototype.setProjection=Fd.prototype.ji,r("ol.control.OverviewMap",Uk),r("ol.control.OverviewMap.render",Vk),Uk.prototype.getCollapsible=Uk.prototype.pn,Uk.prototype.setCollapsible=Uk.prototype.sn,Uk.prototype.setCollapsed=Uk.prototype.rn,Uk.prototype.getCollapsed=Uk.prototype.nn,Uk.prototype.getOverviewMap=Uk.prototype.sl,r("ol.control.Rotate",wd),r("ol.control.Rotate.render",xd),r("ol.control.ScaleLine",Zk),Zk.prototype.getUnits=Zk.prototype.B,r("ol.control.ScaleLine.render",$k),Zk.prototype.setUnits=Zk.prototype.I,r("ol.control.Zoom",yd),r("ol.control.ZoomSlider",dl),r("ol.control.ZoomSlider.render",fl),r("ol.control.ZoomToExtent",il),Vc.prototype.changed=Vc.prototype.s,Vc.prototype.dispatchEvent=Vc.prototype.b,Vc.prototype.getRevision=Vc.prototype.L,Vc.prototype.on=Vc.prototype.J,Vc.prototype.once=Vc.prototype.once,Vc.prototype.un=Vc.prototype.K,$c.prototype.get=$c.prototype.get,$c.prototype.getKeys=$c.prototype.O,$c.prototype.getProperties=$c.prototype.N,$c.prototype.set=$c.prototype.set,$c.prototype.setProperties=$c.prototype.H,$c.prototype.unset=$c.prototype.P,$c.prototype.changed=$c.prototype.s,$c.prototype.dispatchEvent=$c.prototype.b,$c.prototype.getRevision=$c.prototype.L,$c.prototype.on=$c.prototype.J,$c.prototype.once=$c.prototype.once,$c.prototype.un=$c.prototype.K,dd.prototype.type=dd.prototype.type,dd.prototype.target=dd.prototype.target,dd.prototype.preventDefault=dd.prototype.preventDefault,dd.prototype.stopPropagation=dd.prototype.stopPropagation,jl.prototype.get=jl.prototype.get,jl.prototype.getKeys=jl.prototype.O,jl.prototype.getProperties=jl.prototype.N,jl.prototype.set=jl.prototype.set,jl.prototype.setProperties=jl.prototype.H,jl.prototype.unset=jl.prototype.P,jl.prototype.changed=jl.prototype.s,jl.prototype.dispatchEvent=jl.prototype.b,jl.prototype.getRevision=jl.prototype.L,jl.prototype.on=jl.prototype.J,jl.prototype.once=jl.prototype.once,jl.prototype.un=jl.prototype.K,Bl.prototype.get=Bl.prototype.get,Bl.prototype.getKeys=Bl.prototype.O,Bl.prototype.getProperties=Bl.prototype.N,Bl.prototype.set=Bl.prototype.set,Bl.prototype.setProperties=Bl.prototype.H,Bl.prototype.unset=Bl.prototype.P,Bl.prototype.changed=Bl.prototype.s,Bl.prototype.dispatchEvent=Bl.prototype.b,Bl.prototype.getRevision=Bl.prototype.L,Bl.prototype.on=Bl.prototype.J,Bl.prototype.once=Bl.prototype.once,Bl.prototype.un=Bl.prototype.K,Rs.prototype.get=Rs.prototype.get,Rs.prototype.getKeys=Rs.prototype.O,Rs.prototype.getProperties=Rs.prototype.N,Rs.prototype.set=Rs.prototype.set,Rs.prototype.setProperties=Rs.prototype.H,Rs.prototype.unset=Rs.prototype.P,Rs.prototype.changed=Rs.prototype.s,Rs.prototype.dispatchEvent=Rs.prototype.b,Rs.prototype.getRevision=Rs.prototype.L,Rs.prototype.on=Rs.prototype.J,Rs.prototype.once=Rs.prototype.once,Rs.prototype.un=Rs.prototype.K,it.prototype.getTileCoord=it.prototype.i,it.prototype.load=it.prototype.load,H.prototype.get=H.prototype.get,H.prototype.getKeys=H.prototype.O,H.prototype.getProperties=H.prototype.N,H.prototype.set=H.prototype.set,H.prototype.setProperties=H.prototype.H,H.prototype.unset=H.prototype.P,H.prototype.changed=H.prototype.s,H.prototype.dispatchEvent=H.prototype.b,H.prototype.getRevision=H.prototype.L,H.prototype.on=H.prototype.J,H.prototype.once=H.prototype.once,H.prototype.un=H.prototype.K,Kd.prototype.type=Kd.prototype.type,Kd.prototype.target=Kd.prototype.target,Kd.prototype.preventDefault=Kd.prototype.preventDefault,Kd.prototype.stopPropagation=Kd.prototype.stopPropagation,Ld.prototype.map=Ld.prototype.map,Ld.prototype.frameState=Ld.prototype.frameState,Ld.prototype.type=Ld.prototype.type,Ld.prototype.target=Ld.prototype.target,Ld.prototype.preventDefault=Ld.prototype.preventDefault,Ld.prototype.stopPropagation=Ld.prototype.stopPropagation,ie.prototype.originalEvent=ie.prototype.originalEvent,ie.prototype.pixel=ie.prototype.pixel,ie.prototype.coordinate=ie.prototype.coordinate,ie.prototype.dragging=ie.prototype.dragging,ie.prototype.preventDefault=ie.prototype.preventDefault,ie.prototype.stopPropagation=ie.prototype.stopPropagation,ie.prototype.map=ie.prototype.map,ie.prototype.frameState=ie.prototype.frameState,ie.prototype.type=ie.prototype.type,ie.prototype.target=ie.prototype.target,Zc.prototype.type=Zc.prototype.type,Zc.prototype.target=Zc.prototype.target,Zc.prototype.preventDefault=Zc.prototype.preventDefault,Zc.prototype.stopPropagation=Zc.prototype.stopPropagation,Lk.prototype.get=Lk.prototype.get,Lk.prototype.getKeys=Lk.prototype.O,Lk.prototype.getProperties=Lk.prototype.N,Lk.prototype.set=Lk.prototype.set,Lk.prototype.setProperties=Lk.prototype.H,Lk.prototype.unset=Lk.prototype.P,Lk.prototype.changed=Lk.prototype.s,Lk.prototype.dispatchEvent=Lk.prototype.b,Lk.prototype.getRevision=Lk.prototype.L,Lk.prototype.on=Lk.prototype.J,Lk.prototype.once=Lk.prototype.once,Lk.prototype.un=Lk.prototype.K,Px.prototype.getTileCoord=Px.prototype.i,Px.prototype.load=Px.prototype.load,Rx.prototype.getTileCoord=Rx.prototype.i,Rx.prototype.load=Rx.prototype.load,F.prototype.get=F.prototype.get,F.prototype.getKeys=F.prototype.O,F.prototype.getProperties=F.prototype.N,F.prototype.set=F.prototype.set,F.prototype.setProperties=F.prototype.H,F.prototype.unset=F.prototype.P,F.prototype.changed=F.prototype.s,F.prototype.dispatchEvent=F.prototype.b,F.prototype.getRevision=F.prototype.L,F.prototype.on=F.prototype.J,F.prototype.once=F.prototype.once,F.prototype.un=F.prototype.K,Ux.prototype.forEachTileCoord=Ux.prototype.Yf,Ux.prototype.getMaxZoom=Ux.prototype.cj,Ux.prototype.getMinZoom=Ux.prototype.dj,Ux.prototype.getOrigin=Ux.prototype.Sc,Ux.prototype.getResolution=Ux.prototype.Ca,Ux.prototype.getResolutions=Ux.prototype.ej,Ux.prototype.getTileCoordExtent=Ux.prototype.Fa,Ux.prototype.getTileCoordForCoordAndResolution=Ux.prototype.Me,Ux.prototype.getTileCoordForCoordAndZ=Ux.prototype.kg,Ux.prototype.getTileSize=Ux.prototype.eb,Ux.prototype.getZForResolution=Ux.prototype.uc,rl.prototype.getOpacity=rl.prototype.jf,rl.prototype.getRotateWithView=rl.prototype.kf,rl.prototype.getRotation=rl.prototype.lf,rl.prototype.getScale=rl.prototype.mf,rl.prototype.getSnapToPixel=rl.prototype.Le,rl.prototype.setOpacity=rl.prototype.zd,rl.prototype.setRotation=rl.prototype.nf,rl.prototype.setScale=rl.prototype.Ad,tl.prototype.clone=tl.prototype.clone,tl.prototype.getAngle=tl.prototype.Zi,tl.prototype.getFill=tl.prototype.Da,tl.prototype.getPoints=tl.prototype.$i,tl.prototype.getRadius=tl.prototype.aj,tl.prototype.getRadius2=tl.prototype.Nh,tl.prototype.getStroke=tl.prototype.Ea,tl.prototype.getOpacity=tl.prototype.jf,tl.prototype.getRotateWithView=tl.prototype.kf,tl.prototype.getRotation=tl.prototype.lf,tl.prototype.getScale=tl.prototype.mf,tl.prototype.getSnapToPixel=tl.prototype.Le,tl.prototype.setOpacity=tl.prototype.zd,tl.prototype.setRotation=tl.prototype.nf,tl.prototype.setScale=tl.prototype.Ad,yo.prototype.getOpacity=yo.prototype.jf,yo.prototype.getRotateWithView=yo.prototype.kf,yo.prototype.getRotation=yo.prototype.lf,yo.prototype.getScale=yo.prototype.mf,yo.prototype.getSnapToPixel=yo.prototype.Le,yo.prototype.setOpacity=yo.prototype.zd,yo.prototype.setRotation=yo.prototype.nf,yo.prototype.setScale=yo.prototype.Ad,xu.prototype.get=xu.prototype.get,xu.prototype.getKeys=xu.prototype.O,xu.prototype.getProperties=xu.prototype.N,xu.prototype.set=xu.prototype.set,xu.prototype.setProperties=xu.prototype.H,xu.prototype.unset=xu.prototype.P,xu.prototype.changed=xu.prototype.s,xu.prototype.dispatchEvent=xu.prototype.b,xu.prototype.getRevision=xu.prototype.L,xu.prototype.on=xu.prototype.J,xu.prototype.once=xu.prototype.once,xu.prototype.un=xu.prototype.K,Rw.prototype.getAttributions=Rw.prototype.Aa,Rw.prototype.getLogo=Rw.prototype.ya,Rw.prototype.getProjection=Rw.prototype.Ba,Rw.prototype.getState=Rw.prototype.getState,Rw.prototype.refresh=Rw.prototype.ra,Rw.prototype.setAttributions=Rw.prototype.wa,Rw.prototype.get=Rw.prototype.get,Rw.prototype.getKeys=Rw.prototype.O,Rw.prototype.getProperties=Rw.prototype.N,Rw.prototype.set=Rw.prototype.set,Rw.prototype.setProperties=Rw.prototype.H,Rw.prototype.unset=Rw.prototype.P,Rw.prototype.changed=Rw.prototype.s,Rw.prototype.dispatchEvent=Rw.prototype.b,Rw.prototype.getRevision=Rw.prototype.L,Rw.prototype.on=Rw.prototype.J,Rw.prototype.once=Rw.prototype.once,Rw.prototype.un=Rw.prototype.K,Vw.prototype.getTileGrid=Vw.prototype.cb,Vw.prototype.refresh=Vw.prototype.ra,Vw.prototype.getAttributions=Vw.prototype.Aa,Vw.prototype.getLogo=Vw.prototype.ya,Vw.prototype.getProjection=Vw.prototype.Ba,Vw.prototype.getState=Vw.prototype.getState,Vw.prototype.setAttributions=Vw.prototype.wa,Vw.prototype.get=Vw.prototype.get,Vw.prototype.getKeys=Vw.prototype.O,Vw.prototype.getProperties=Vw.prototype.N,Vw.prototype.set=Vw.prototype.set,Vw.prototype.setProperties=Vw.prototype.H,Vw.prototype.unset=Vw.prototype.P,Vw.prototype.changed=Vw.prototype.s,Vw.prototype.dispatchEvent=Vw.prototype.b,Vw.prototype.getRevision=Vw.prototype.L,Vw.prototype.on=Vw.prototype.J,Vw.prototype.once=Vw.prototype.once,Vw.prototype.un=Vw.prototype.K,X.prototype.getTileLoadFunction=X.prototype.tb,X.prototype.getTileUrlFunction=X.prototype.ub,X.prototype.getUrls=X.prototype.vb,X.prototype.setTileLoadFunction=X.prototype.zb,X.prototype.setTileUrlFunction=X.prototype.hb,X.prototype.setUrl=X.prototype.nb,X.prototype.setUrls=X.prototype.ib,X.prototype.getTileGrid=X.prototype.cb,X.prototype.refresh=X.prototype.ra,X.prototype.getAttributions=X.prototype.Aa,X.prototype.getLogo=X.prototype.ya,X.prototype.getProjection=X.prototype.Ba,X.prototype.getState=X.prototype.getState,X.prototype.setAttributions=X.prototype.wa,X.prototype.get=X.prototype.get,X.prototype.getKeys=X.prototype.O,X.prototype.getProperties=X.prototype.N,X.prototype.set=X.prototype.set,X.prototype.setProperties=X.prototype.H,X.prototype.unset=X.prototype.P,X.prototype.changed=X.prototype.s,X.prototype.dispatchEvent=X.prototype.b,X.prototype.getRevision=X.prototype.L,X.prototype.on=X.prototype.J,X.prototype.once=X.prototype.once,X.prototype.un=X.prototype.K,Zw.prototype.setRenderReprojectionEdges=Zw.prototype.Nb,Zw.prototype.setTileGridForProjection=Zw.prototype.Ob,Zw.prototype.getTileLoadFunction=Zw.prototype.tb,Zw.prototype.getTileUrlFunction=Zw.prototype.ub,Zw.prototype.getUrls=Zw.prototype.vb,Zw.prototype.setTileLoadFunction=Zw.prototype.zb,Zw.prototype.setTileUrlFunction=Zw.prototype.hb,Zw.prototype.setUrl=Zw.prototype.nb,Zw.prototype.setUrls=Zw.prototype.ib,Zw.prototype.getTileGrid=Zw.prototype.cb,Zw.prototype.refresh=Zw.prototype.ra,Zw.prototype.getAttributions=Zw.prototype.Aa,Zw.prototype.getLogo=Zw.prototype.ya,Zw.prototype.getProjection=Zw.prototype.Ba,Zw.prototype.getState=Zw.prototype.getState,Zw.prototype.setAttributions=Zw.prototype.wa,Zw.prototype.get=Zw.prototype.get,Zw.prototype.getKeys=Zw.prototype.O,Zw.prototype.getProperties=Zw.prototype.N,Zw.prototype.set=Zw.prototype.set,Zw.prototype.setProperties=Zw.prototype.H,Zw.prototype.unset=Zw.prototype.P,Zw.prototype.changed=Zw.prototype.s,Zw.prototype.dispatchEvent=Zw.prototype.b,Zw.prototype.getRevision=Zw.prototype.L,Zw.prototype.on=Zw.prototype.J,Zw.prototype.once=Zw.prototype.once,Zw.prototype.un=Zw.prototype.K,ax.prototype.setRenderReprojectionEdges=ax.prototype.Nb,ax.prototype.setTileGridForProjection=ax.prototype.Ob,ax.prototype.getTileLoadFunction=ax.prototype.tb,ax.prototype.getTileUrlFunction=ax.prototype.ub,ax.prototype.getUrls=ax.prototype.vb,ax.prototype.setTileLoadFunction=ax.prototype.zb,ax.prototype.setTileUrlFunction=ax.prototype.hb,ax.prototype.setUrl=ax.prototype.nb,ax.prototype.setUrls=ax.prototype.ib,ax.prototype.getTileGrid=ax.prototype.cb,ax.prototype.refresh=ax.prototype.ra,ax.prototype.getAttributions=ax.prototype.Aa,ax.prototype.getLogo=ax.prototype.ya,ax.prototype.getProjection=ax.prototype.Ba,ax.prototype.getState=ax.prototype.getState,ax.prototype.setAttributions=ax.prototype.wa,ax.prototype.get=ax.prototype.get,ax.prototype.getKeys=ax.prototype.O,ax.prototype.getProperties=ax.prototype.N,ax.prototype.set=ax.prototype.set,ax.prototype.setProperties=ax.prototype.H,ax.prototype.unset=ax.prototype.P,ax.prototype.changed=ax.prototype.s,ax.prototype.dispatchEvent=ax.prototype.b,ax.prototype.getRevision=ax.prototype.L,ax.prototype.on=ax.prototype.J,ax.prototype.once=ax.prototype.once,ax.prototype.un=ax.prototype.K,bx.prototype.setRenderReprojectionEdges=bx.prototype.Nb,bx.prototype.setTileGridForProjection=bx.prototype.Ob,bx.prototype.getTileLoadFunction=bx.prototype.tb,bx.prototype.getTileUrlFunction=bx.prototype.ub,bx.prototype.getUrls=bx.prototype.vb,bx.prototype.setTileLoadFunction=bx.prototype.zb,bx.prototype.setTileUrlFunction=bx.prototype.hb,bx.prototype.setUrl=bx.prototype.nb,bx.prototype.setUrls=bx.prototype.ib,bx.prototype.getTileGrid=bx.prototype.cb,bx.prototype.refresh=bx.prototype.ra,bx.prototype.getAttributions=bx.prototype.Aa,bx.prototype.getLogo=bx.prototype.ya,bx.prototype.getProjection=bx.prototype.Ba,bx.prototype.getState=bx.prototype.getState,bx.prototype.setAttributions=bx.prototype.wa,bx.prototype.get=bx.prototype.get,bx.prototype.getKeys=bx.prototype.O,bx.prototype.getProperties=bx.prototype.N,bx.prototype.set=bx.prototype.set,bx.prototype.setProperties=bx.prototype.H,bx.prototype.unset=bx.prototype.P,bx.prototype.changed=bx.prototype.s,bx.prototype.dispatchEvent=bx.prototype.b,bx.prototype.getRevision=bx.prototype.L,bx.prototype.on=bx.prototype.J,bx.prototype.once=bx.prototype.once,bx.prototype.un=bx.prototype.K,V.prototype.getAttributions=V.prototype.Aa,V.prototype.getLogo=V.prototype.ya,V.prototype.getProjection=V.prototype.Ba,V.prototype.getState=V.prototype.getState,V.prototype.refresh=V.prototype.ra,V.prototype.setAttributions=V.prototype.wa,V.prototype.get=V.prototype.get,V.prototype.getKeys=V.prototype.O,V.prototype.getProperties=V.prototype.N,V.prototype.set=V.prototype.set,V.prototype.setProperties=V.prototype.H,V.prototype.unset=V.prototype.P,V.prototype.changed=V.prototype.s,V.prototype.dispatchEvent=V.prototype.b,V.prototype.getRevision=V.prototype.L,V.prototype.on=V.prototype.J,V.prototype.once=V.prototype.once,V.prototype.un=V.prototype.K,Y.prototype.addFeature=Y.prototype.Bb,Y.prototype.addFeatures=Y.prototype.Ec,Y.prototype.clear=Y.prototype.clear,Y.prototype.forEachFeature=Y.prototype.Ah,Y.prototype.forEachFeatureInExtent=Y.prototype.ac,Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.Bh,Y.prototype.getFeaturesCollection=Y.prototype.Ih,Y.prototype.getFeatures=Y.prototype.fe,Y.prototype.getFeaturesAtCoordinate=Y.prototype.Hh,Y.prototype.getFeaturesInExtent=Y.prototype.ag,Y.prototype.getClosestFeatureToCoordinate=Y.prototype.Dh,Y.prototype.getExtent=Y.prototype.G,Y.prototype.getFeatureById=Y.prototype.Gh,Y.prototype.getFormat=Y.prototype.Wi,Y.prototype.getUrl=Y.prototype.Xi,Y.prototype.removeFeature=Y.prototype.Fb,Y.prototype.getAttributions=Y.prototype.Aa,Y.prototype.getLogo=Y.prototype.ya,Y.prototype.getProjection=Y.prototype.Ba,Y.prototype.getState=Y.prototype.getState,Y.prototype.refresh=Y.prototype.ra,Y.prototype.setAttributions=Y.prototype.wa,Y.prototype.get=Y.prototype.get,Y.prototype.getKeys=Y.prototype.O,Y.prototype.getProperties=Y.prototype.N,Y.prototype.set=Y.prototype.set,Y.prototype.setProperties=Y.prototype.H,Y.prototype.unset=Y.prototype.P,Y.prototype.changed=Y.prototype.s,Y.prototype.dispatchEvent=Y.prototype.b,Y.prototype.getRevision=Y.prototype.L,Y.prototype.on=Y.prototype.J,Y.prototype.once=Y.prototype.once,Y.prototype.un=Y.prototype.K,dw.prototype.getAttributions=dw.prototype.Aa,dw.prototype.getLogo=dw.prototype.ya,dw.prototype.getProjection=dw.prototype.Ba,dw.prototype.getState=dw.prototype.getState,dw.prototype.refresh=dw.prototype.ra,dw.prototype.setAttributions=dw.prototype.wa,dw.prototype.get=dw.prototype.get,dw.prototype.getKeys=dw.prototype.O,dw.prototype.getProperties=dw.prototype.N,dw.prototype.set=dw.prototype.set,dw.prototype.setProperties=dw.prototype.H,dw.prototype.unset=dw.prototype.P,dw.prototype.changed=dw.prototype.s,dw.prototype.dispatchEvent=dw.prototype.b,dw.prototype.getRevision=dw.prototype.L,dw.prototype.on=dw.prototype.J,dw.prototype.once=dw.prototype.once,dw.prototype.un=dw.prototype.K,fw.prototype.type=fw.prototype.type,fw.prototype.target=fw.prototype.target,fw.prototype.preventDefault=fw.prototype.preventDefault,fw.prototype.stopPropagation=fw.prototype.stopPropagation,hx.prototype.getAttributions=hx.prototype.Aa,hx.prototype.getLogo=hx.prototype.ya,hx.prototype.getProjection=hx.prototype.Ba,hx.prototype.getState=hx.prototype.getState,hx.prototype.refresh=hx.prototype.ra,hx.prototype.setAttributions=hx.prototype.wa,hx.prototype.get=hx.prototype.get,hx.prototype.getKeys=hx.prototype.O,hx.prototype.getProperties=hx.prototype.N,hx.prototype.set=hx.prototype.set,hx.prototype.setProperties=hx.prototype.H,hx.prototype.unset=hx.prototype.P,hx.prototype.changed=hx.prototype.s,hx.prototype.dispatchEvent=hx.prototype.b,hx.prototype.getRevision=hx.prototype.L,hx.prototype.on=hx.prototype.J,hx.prototype.once=hx.prototype.once,hx.prototype.un=hx.prototype.K,kw.prototype.getAttributions=kw.prototype.Aa,kw.prototype.getLogo=kw.prototype.ya,kw.prototype.getProjection=kw.prototype.Ba,kw.prototype.getState=kw.prototype.getState,kw.prototype.refresh=kw.prototype.ra,kw.prototype.setAttributions=kw.prototype.wa,kw.prototype.get=kw.prototype.get,kw.prototype.getKeys=kw.prototype.O,kw.prototype.getProperties=kw.prototype.N,kw.prototype.set=kw.prototype.set,kw.prototype.setProperties=kw.prototype.H,kw.prototype.unset=kw.prototype.P,kw.prototype.changed=kw.prototype.s,kw.prototype.dispatchEvent=kw.prototype.b,kw.prototype.getRevision=kw.prototype.L,kw.prototype.on=kw.prototype.J,kw.prototype.once=kw.prototype.once,kw.prototype.un=kw.prototype.K,ix.prototype.getAttributions=ix.prototype.Aa,ix.prototype.getLogo=ix.prototype.ya,ix.prototype.getProjection=ix.prototype.Ba,ix.prototype.getState=ix.prototype.getState,ix.prototype.refresh=ix.prototype.ra,ix.prototype.setAttributions=ix.prototype.wa,ix.prototype.get=ix.prototype.get,ix.prototype.getKeys=ix.prototype.O,ix.prototype.getProperties=ix.prototype.N,ix.prototype.set=ix.prototype.set,ix.prototype.setProperties=ix.prototype.H,ix.prototype.unset=ix.prototype.P,ix.prototype.changed=ix.prototype.s,ix.prototype.dispatchEvent=ix.prototype.b,ix.prototype.getRevision=ix.prototype.L,ix.prototype.on=ix.prototype.J,ix.prototype.once=ix.prototype.once,ix.prototype.un=ix.prototype.K,jx.prototype.getAttributions=jx.prototype.Aa,jx.prototype.getLogo=jx.prototype.ya,jx.prototype.getProjection=jx.prototype.Ba,jx.prototype.getState=jx.prototype.getState,jx.prototype.refresh=jx.prototype.ra,jx.prototype.setAttributions=jx.prototype.wa,jx.prototype.get=jx.prototype.get,jx.prototype.getKeys=jx.prototype.O,jx.prototype.getProperties=jx.prototype.N,jx.prototype.set=jx.prototype.set,jx.prototype.setProperties=jx.prototype.H,jx.prototype.unset=jx.prototype.P,jx.prototype.changed=jx.prototype.s,jx.prototype.dispatchEvent=jx.prototype.b,jx.prototype.getRevision=jx.prototype.L,jx.prototype.on=jx.prototype.J,jx.prototype.once=jx.prototype.once,jx.prototype.un=jx.prototype.K,lw.prototype.getAttributions=lw.prototype.Aa,lw.prototype.getLogo=lw.prototype.ya,lw.prototype.getProjection=lw.prototype.Ba,lw.prototype.getState=lw.prototype.getState,lw.prototype.refresh=lw.prototype.ra,lw.prototype.setAttributions=lw.prototype.wa,lw.prototype.get=lw.prototype.get,lw.prototype.getKeys=lw.prototype.O,lw.prototype.getProperties=lw.prototype.N,lw.prototype.set=lw.prototype.set,lw.prototype.setProperties=lw.prototype.H,lw.prototype.unset=lw.prototype.P,lw.prototype.changed=lw.prototype.s,lw.prototype.dispatchEvent=lw.prototype.b,lw.prototype.getRevision=lw.prototype.L,lw.prototype.on=lw.prototype.J,lw.prototype.once=lw.prototype.once,lw.prototype.un=lw.prototype.K,kx.prototype.getAttributions=kx.prototype.Aa,kx.prototype.getLogo=kx.prototype.ya,kx.prototype.getProjection=kx.prototype.Ba,kx.prototype.getState=kx.prototype.getState,kx.prototype.refresh=kx.prototype.ra,kx.prototype.setAttributions=kx.prototype.wa,kx.prototype.get=kx.prototype.get,kx.prototype.getKeys=kx.prototype.O,kx.prototype.getProperties=kx.prototype.N,kx.prototype.set=kx.prototype.set,kx.prototype.setProperties=kx.prototype.H,kx.prototype.unset=kx.prototype.P,kx.prototype.changed=kx.prototype.s,kx.prototype.dispatchEvent=kx.prototype.b,kx.prototype.getRevision=kx.prototype.L,kx.prototype.on=kx.prototype.J,kx.prototype.once=kx.prototype.once,kx.prototype.un=kx.prototype.K,ox.prototype.setRenderReprojectionEdges=ox.prototype.Nb,ox.prototype.setTileGridForProjection=ox.prototype.Ob,ox.prototype.getTileLoadFunction=ox.prototype.tb,ox.prototype.getTileUrlFunction=ox.prototype.ub,ox.prototype.getUrls=ox.prototype.vb,ox.prototype.setTileLoadFunction=ox.prototype.zb,ox.prototype.setTileUrlFunction=ox.prototype.hb,ox.prototype.setUrl=ox.prototype.nb,ox.prototype.setUrls=ox.prototype.ib,ox.prototype.getTileGrid=ox.prototype.cb,ox.prototype.refresh=ox.prototype.ra,ox.prototype.getAttributions=ox.prototype.Aa,ox.prototype.getLogo=ox.prototype.ya,ox.prototype.getProjection=ox.prototype.Ba,ox.prototype.getState=ox.prototype.getState,ox.prototype.setAttributions=ox.prototype.wa,ox.prototype.get=ox.prototype.get,ox.prototype.getKeys=ox.prototype.O,ox.prototype.getProperties=ox.prototype.N,ox.prototype.set=ox.prototype.set,ox.prototype.setProperties=ox.prototype.H,ox.prototype.unset=ox.prototype.P,ox.prototype.changed=ox.prototype.s,ox.prototype.dispatchEvent=ox.prototype.b,ox.prototype.getRevision=ox.prototype.L,ox.prototype.on=ox.prototype.J,ox.prototype.once=ox.prototype.once,ox.prototype.un=ox.prototype.K,qx.prototype.getAttributions=qx.prototype.Aa,qx.prototype.getLogo=qx.prototype.ya,qx.prototype.getProjection=qx.prototype.Ba,qx.prototype.getState=qx.prototype.getState,qx.prototype.refresh=qx.prototype.ra,qx.prototype.setAttributions=qx.prototype.wa,qx.prototype.get=qx.prototype.get,qx.prototype.getKeys=qx.prototype.O,qx.prototype.getProperties=qx.prototype.N,qx.prototype.set=qx.prototype.set,qx.prototype.setProperties=qx.prototype.H,qx.prototype.unset=qx.prototype.P,qx.prototype.changed=qx.prototype.s,qx.prototype.dispatchEvent=qx.prototype.b,qx.prototype.getRevision=qx.prototype.L,qx.prototype.on=qx.prototype.J,qx.prototype.once=qx.prototype.once,qx.prototype.un=qx.prototype.K,ux.prototype.type=ux.prototype.type,ux.prototype.target=ux.prototype.target,ux.prototype.preventDefault=ux.prototype.preventDefault,ux.prototype.stopPropagation=ux.prototype.stopPropagation,xx.prototype.setRenderReprojectionEdges=xx.prototype.Nb,xx.prototype.setTileGridForProjection=xx.prototype.Ob,xx.prototype.getTileLoadFunction=xx.prototype.tb,xx.prototype.getTileUrlFunction=xx.prototype.ub,xx.prototype.getUrls=xx.prototype.vb,xx.prototype.setTileLoadFunction=xx.prototype.zb,xx.prototype.setTileUrlFunction=xx.prototype.hb,xx.prototype.setUrl=xx.prototype.nb,xx.prototype.setUrls=xx.prototype.ib,xx.prototype.getTileGrid=xx.prototype.cb,xx.prototype.refresh=xx.prototype.ra,xx.prototype.getAttributions=xx.prototype.Aa,xx.prototype.getLogo=xx.prototype.ya,xx.prototype.getProjection=xx.prototype.Ba,xx.prototype.getState=xx.prototype.getState,xx.prototype.setAttributions=xx.prototype.wa,xx.prototype.get=xx.prototype.get,xx.prototype.getKeys=xx.prototype.O,xx.prototype.getProperties=xx.prototype.N,xx.prototype.set=xx.prototype.set,xx.prototype.setProperties=xx.prototype.H,xx.prototype.unset=xx.prototype.P,xx.prototype.changed=xx.prototype.s,xx.prototype.dispatchEvent=xx.prototype.b,xx.prototype.getRevision=xx.prototype.L,xx.prototype.on=xx.prototype.J,xx.prototype.once=xx.prototype.once,xx.prototype.un=xx.prototype.K,Uw.prototype.type=Uw.prototype.type,Uw.prototype.target=Uw.prototype.target,Uw.prototype.preventDefault=Uw.prototype.preventDefault,Uw.prototype.stopPropagation=Uw.prototype.stopPropagation,Bx.prototype.setRenderReprojectionEdges=Bx.prototype.Nb,Bx.prototype.setTileGridForProjection=Bx.prototype.Ob,Bx.prototype.getTileLoadFunction=Bx.prototype.tb,Bx.prototype.getTileUrlFunction=Bx.prototype.ub,Bx.prototype.getUrls=Bx.prototype.vb,Bx.prototype.setTileLoadFunction=Bx.prototype.zb,Bx.prototype.setTileUrlFunction=Bx.prototype.hb,Bx.prototype.setUrl=Bx.prototype.nb,Bx.prototype.setUrls=Bx.prototype.ib,Bx.prototype.getTileGrid=Bx.prototype.cb,Bx.prototype.refresh=Bx.prototype.ra,Bx.prototype.getAttributions=Bx.prototype.Aa,Bx.prototype.getLogo=Bx.prototype.ya,Bx.prototype.getProjection=Bx.prototype.Ba,Bx.prototype.getState=Bx.prototype.getState,Bx.prototype.setAttributions=Bx.prototype.wa,Bx.prototype.get=Bx.prototype.get,Bx.prototype.getKeys=Bx.prototype.O,Bx.prototype.getProperties=Bx.prototype.N,Bx.prototype.set=Bx.prototype.set,Bx.prototype.setProperties=Bx.prototype.H,Bx.prototype.unset=Bx.prototype.P,Bx.prototype.changed=Bx.prototype.s,Bx.prototype.dispatchEvent=Bx.prototype.b,Bx.prototype.getRevision=Bx.prototype.L,Bx.prototype.on=Bx.prototype.J,Bx.prototype.once=Bx.prototype.once,Bx.prototype.un=Bx.prototype.K,Dx.prototype.getTileGrid=Dx.prototype.cb,Dx.prototype.refresh=Dx.prototype.ra,Dx.prototype.getAttributions=Dx.prototype.Aa,Dx.prototype.getLogo=Dx.prototype.ya,Dx.prototype.getProjection=Dx.prototype.Ba,Dx.prototype.getState=Dx.prototype.getState,Dx.prototype.setAttributions=Dx.prototype.wa,Dx.prototype.get=Dx.prototype.get,Dx.prototype.getKeys=Dx.prototype.O,Dx.prototype.getProperties=Dx.prototype.N,Dx.prototype.set=Dx.prototype.set,Dx.prototype.setProperties=Dx.prototype.H,Dx.prototype.unset=Dx.prototype.P,Dx.prototype.changed=Dx.prototype.s,Dx.prototype.dispatchEvent=Dx.prototype.b,Dx.prototype.getRevision=Dx.prototype.L,Dx.prototype.on=Dx.prototype.J,Dx.prototype.once=Dx.prototype.once,Dx.prototype.un=Dx.prototype.K,Fx.prototype.setRenderReprojectionEdges=Fx.prototype.Nb,Fx.prototype.setTileGridForProjection=Fx.prototype.Ob,Fx.prototype.getTileLoadFunction=Fx.prototype.tb,Fx.prototype.getTileUrlFunction=Fx.prototype.ub,Fx.prototype.getUrls=Fx.prototype.vb,Fx.prototype.setTileLoadFunction=Fx.prototype.zb,Fx.prototype.setTileUrlFunction=Fx.prototype.hb,Fx.prototype.setUrl=Fx.prototype.nb,Fx.prototype.setUrls=Fx.prototype.ib,Fx.prototype.getTileGrid=Fx.prototype.cb,Fx.prototype.refresh=Fx.prototype.ra,Fx.prototype.getAttributions=Fx.prototype.Aa,Fx.prototype.getLogo=Fx.prototype.ya,Fx.prototype.getProjection=Fx.prototype.Ba,Fx.prototype.getState=Fx.prototype.getState,Fx.prototype.setAttributions=Fx.prototype.wa,Fx.prototype.get=Fx.prototype.get,Fx.prototype.getKeys=Fx.prototype.O,Fx.prototype.getProperties=Fx.prototype.N,Fx.prototype.set=Fx.prototype.set,Fx.prototype.setProperties=Fx.prototype.H,Fx.prototype.unset=Fx.prototype.P,Fx.prototype.changed=Fx.prototype.s,Fx.prototype.dispatchEvent=Fx.prototype.b,Fx.prototype.getRevision=Fx.prototype.L,Fx.prototype.on=Fx.prototype.J,Fx.prototype.once=Fx.prototype.once,Fx.prototype.un=Fx.prototype.K,Gx.prototype.getTileGrid=Gx.prototype.cb,Gx.prototype.refresh=Gx.prototype.ra,Gx.prototype.getAttributions=Gx.prototype.Aa,Gx.prototype.getLogo=Gx.prototype.ya,Gx.prototype.getProjection=Gx.prototype.Ba,Gx.prototype.getState=Gx.prototype.getState,Gx.prototype.setAttributions=Gx.prototype.wa,Gx.prototype.get=Gx.prototype.get,Gx.prototype.getKeys=Gx.prototype.O,Gx.prototype.getProperties=Gx.prototype.N,Gx.prototype.set=Gx.prototype.set,Gx.prototype.setProperties=Gx.prototype.H,Gx.prototype.unset=Gx.prototype.P,Gx.prototype.changed=Gx.prototype.s,Gx.prototype.dispatchEvent=Gx.prototype.b,Gx.prototype.getRevision=Gx.prototype.L,Gx.prototype.on=Gx.prototype.J,Gx.prototype.once=Gx.prototype.once,Gx.prototype.un=Gx.prototype.K,Kx.prototype.setRenderReprojectionEdges=Kx.prototype.Nb,Kx.prototype.setTileGridForProjection=Kx.prototype.Ob,Kx.prototype.getTileLoadFunction=Kx.prototype.tb,Kx.prototype.getTileUrlFunction=Kx.prototype.ub,Kx.prototype.getUrls=Kx.prototype.vb,Kx.prototype.setTileLoadFunction=Kx.prototype.zb,Kx.prototype.setTileUrlFunction=Kx.prototype.hb,Kx.prototype.setUrl=Kx.prototype.nb,Kx.prototype.setUrls=Kx.prototype.ib,Kx.prototype.getTileGrid=Kx.prototype.cb,Kx.prototype.refresh=Kx.prototype.ra,Kx.prototype.getAttributions=Kx.prototype.Aa,Kx.prototype.getLogo=Kx.prototype.ya,Kx.prototype.getProjection=Kx.prototype.Ba,Kx.prototype.getState=Kx.prototype.getState,Kx.prototype.setAttributions=Kx.prototype.wa,Kx.prototype.get=Kx.prototype.get,Kx.prototype.getKeys=Kx.prototype.O,Kx.prototype.getProperties=Kx.prototype.N,Kx.prototype.set=Kx.prototype.set,Kx.prototype.setProperties=Kx.prototype.H,Kx.prototype.unset=Kx.prototype.P,Kx.prototype.changed=Kx.prototype.s,Kx.prototype.dispatchEvent=Kx.prototype.b,Kx.prototype.getRevision=Kx.prototype.L,Kx.prototype.on=Kx.prototype.J,Kx.prototype.once=Kx.prototype.once,Kx.prototype.un=Kx.prototype.K,Eu.prototype.type=Eu.prototype.type,Eu.prototype.target=Eu.prototype.target,Eu.prototype.preventDefault=Eu.prototype.preventDefault,Eu.prototype.stopPropagation=Eu.prototype.stopPropagation,Tx.prototype.getTileLoadFunction=Tx.prototype.tb,Tx.prototype.getTileUrlFunction=Tx.prototype.ub,Tx.prototype.getUrls=Tx.prototype.vb,Tx.prototype.setTileLoadFunction=Tx.prototype.zb,Tx.prototype.setTileUrlFunction=Tx.prototype.hb,Tx.prototype.setUrl=Tx.prototype.nb,Tx.prototype.setUrls=Tx.prototype.ib,Tx.prototype.getTileGrid=Tx.prototype.cb,Tx.prototype.refresh=Tx.prototype.ra,Tx.prototype.getAttributions=Tx.prototype.Aa,Tx.prototype.getLogo=Tx.prototype.ya,Tx.prototype.getProjection=Tx.prototype.Ba,Tx.prototype.getState=Tx.prototype.getState,Tx.prototype.setAttributions=Tx.prototype.wa,Tx.prototype.get=Tx.prototype.get,Tx.prototype.getKeys=Tx.prototype.O,Tx.prototype.getProperties=Tx.prototype.N,Tx.prototype.set=Tx.prototype.set,Tx.prototype.setProperties=Tx.prototype.H,Tx.prototype.unset=Tx.prototype.P,Tx.prototype.changed=Tx.prototype.s,Tx.prototype.dispatchEvent=Tx.prototype.b,Tx.prototype.getRevision=Tx.prototype.L,Tx.prototype.on=Tx.prototype.J,Tx.prototype.once=Tx.prototype.once,Tx.prototype.un=Tx.prototype.K,Z.prototype.setRenderReprojectionEdges=Z.prototype.Nb,Z.prototype.setTileGridForProjection=Z.prototype.Ob,Z.prototype.getTileLoadFunction=Z.prototype.tb,Z.prototype.getTileUrlFunction=Z.prototype.ub,Z.prototype.getUrls=Z.prototype.vb,Z.prototype.setTileLoadFunction=Z.prototype.zb,Z.prototype.setTileUrlFunction=Z.prototype.hb,Z.prototype.setUrl=Z.prototype.nb,Z.prototype.setUrls=Z.prototype.ib,Z.prototype.getTileGrid=Z.prototype.cb,Z.prototype.refresh=Z.prototype.ra,Z.prototype.getAttributions=Z.prototype.Aa,Z.prototype.getLogo=Z.prototype.ya,Z.prototype.getProjection=Z.prototype.Ba,Z.prototype.getState=Z.prototype.getState,Z.prototype.setAttributions=Z.prototype.wa,Z.prototype.get=Z.prototype.get,Z.prototype.getKeys=Z.prototype.O,Z.prototype.getProperties=Z.prototype.N,Z.prototype.set=Z.prototype.set,Z.prototype.setProperties=Z.prototype.H,Z.prototype.unset=Z.prototype.P,Z.prototype.changed=Z.prototype.s,Z.prototype.dispatchEvent=Z.prototype.b,Z.prototype.getRevision=Z.prototype.L,Z.prototype.on=Z.prototype.J,Z.prototype.once=Z.prototype.once,Z.prototype.un=Z.prototype.K,Xx.prototype.setRenderReprojectionEdges=Xx.prototype.Nb,Xx.prototype.setTileGridForProjection=Xx.prototype.Ob,Xx.prototype.getTileLoadFunction=Xx.prototype.tb,Xx.prototype.getTileUrlFunction=Xx.prototype.ub,Xx.prototype.getUrls=Xx.prototype.vb,Xx.prototype.setTileLoadFunction=Xx.prototype.zb,Xx.prototype.setTileUrlFunction=Xx.prototype.hb,Xx.prototype.setUrl=Xx.prototype.nb,Xx.prototype.setUrls=Xx.prototype.ib,Xx.prototype.getTileGrid=Xx.prototype.cb,Xx.prototype.refresh=Xx.prototype.ra,Xx.prototype.getAttributions=Xx.prototype.Aa,Xx.prototype.getLogo=Xx.prototype.ya,Xx.prototype.getProjection=Xx.prototype.Ba,Xx.prototype.getState=Xx.prototype.getState,Xx.prototype.setAttributions=Xx.prototype.wa,Xx.prototype.get=Xx.prototype.get,Xx.prototype.getKeys=Xx.prototype.O,Xx.prototype.getProperties=Xx.prototype.N,Xx.prototype.set=Xx.prototype.set,Xx.prototype.setProperties=Xx.prototype.H,Xx.prototype.unset=Xx.prototype.P,Xx.prototype.changed=Xx.prototype.s,Xx.prototype.dispatchEvent=Xx.prototype.b,Xx.prototype.getRevision=Xx.prototype.L,Xx.prototype.on=Xx.prototype.J,Xx.prototype.once=Xx.prototype.once,Xx.prototype.un=Xx.prototype.K,Jw.prototype.getTileCoord=Jw.prototype.i,Jw.prototype.load=Jw.prototype.load,Ut.prototype.changed=Ut.prototype.s,Ut.prototype.dispatchEvent=Ut.prototype.b,Ut.prototype.getRevision=Ut.prototype.L,Ut.prototype.on=Ut.prototype.J,Ut.prototype.once=Ut.prototype.once,Ut.prototype.un=Ut.prototype.K,su.prototype.changed=su.prototype.s,su.prototype.dispatchEvent=su.prototype.b,su.prototype.getRevision=su.prototype.L,su.prototype.on=su.prototype.J,su.prototype.once=su.prototype.once,su.prototype.un=su.prototype.K,nw.prototype.changed=nw.prototype.s,nw.prototype.dispatchEvent=nw.prototype.b,nw.prototype.getRevision=nw.prototype.L,nw.prototype.on=nw.prototype.J,nw.prototype.once=nw.prototype.once,nw.prototype.un=nw.prototype.K,yw.prototype.changed=yw.prototype.s,yw.prototype.dispatchEvent=yw.prototype.b,yw.prototype.getRevision=yw.prototype.L,yw.prototype.on=yw.prototype.J,yw.prototype.once=yw.prototype.once,yw.prototype.un=yw.prototype.K,vu.prototype.changed=vu.prototype.s,vu.prototype.dispatchEvent=vu.prototype.b,vu.prototype.getRevision=vu.prototype.L,vu.prototype.on=vu.prototype.J,vu.prototype.once=vu.prototype.once,vu.prototype.un=vu.prototype.K,cu.prototype.changed=cu.prototype.s,cu.prototype.dispatchEvent=cu.prototype.b,cu.prototype.getRevision=cu.prototype.L,cu.prototype.on=cu.prototype.J,cu.prototype.once=cu.prototype.once,cu.prototype.un=cu.prototype.K,Vv.prototype.changed=Vv.prototype.s,Vv.prototype.dispatchEvent=Vv.prototype.b,Vv.prototype.getRevision=Vv.prototype.L,Vv.prototype.on=Vv.prototype.J,Vv.prototype.once=Vv.prototype.once,Vv.prototype.un=Vv.prototype.K,Wv.prototype.changed=Wv.prototype.s,Wv.prototype.dispatchEvent=Wv.prototype.b,Wv.prototype.getRevision=Wv.prototype.L,Wv.prototype.on=Wv.prototype.J,Wv.prototype.once=Wv.prototype.once,Wv.prototype.un=Wv.prototype.K,rw.prototype.changed=rw.prototype.s,rw.prototype.dispatchEvent=rw.prototype.b,rw.prototype.getRevision=rw.prototype.L,rw.prototype.on=rw.prototype.J,rw.prototype.once=rw.prototype.once,rw.prototype.un=rw.prototype.K,lu.prototype.changed=lu.prototype.s,lu.prototype.dispatchEvent=lu.prototype.b,lu.prototype.getRevision=lu.prototype.L,lu.prototype.on=lu.prototype.J,lu.prototype.once=lu.prototype.once,lu.prototype.un=lu.prototype.K,Aw.prototype.changed=Aw.prototype.s,Aw.prototype.dispatchEvent=Aw.prototype.b,Aw.prototype.getRevision=Aw.prototype.L,Aw.prototype.on=Aw.prototype.J,Aw.prototype.once=Aw.prototype.once,Aw.prototype.un=Aw.prototype.K,Yh.prototype.type=Yh.prototype.type,Yh.prototype.target=Yh.prototype.target,Yh.prototype.preventDefault=Yh.prototype.preventDefault,Yh.prototype.stopPropagation=Yh.prototype.stopPropagation,te.prototype.type=te.prototype.type,te.prototype.target=te.prototype.target,te.prototype.preventDefault=te.prototype.preventDefault,te.prototype.stopPropagation=te.prototype.stopPropagation,xh.prototype.get=xh.prototype.get,xh.prototype.getKeys=xh.prototype.O,xh.prototype.getProperties=xh.prototype.N,xh.prototype.set=xh.prototype.set,xh.prototype.setProperties=xh.prototype.H,xh.prototype.unset=xh.prototype.P,xh.prototype.changed=xh.prototype.s,xh.prototype.dispatchEvent=xh.prototype.b,xh.prototype.getRevision=xh.prototype.L,xh.prototype.on=xh.prototype.J,xh.prototype.once=xh.prototype.once,xh.prototype.un=xh.prototype.K,zh.prototype.getExtent=zh.prototype.G,zh.prototype.getMaxResolution=zh.prototype.fc,zh.prototype.getMinResolution=zh.prototype.gc,zh.prototype.getOpacity=zh.prototype.hc,zh.prototype.getVisible=zh.prototype.Sb,zh.prototype.getZIndex=zh.prototype.za,zh.prototype.setExtent=zh.prototype.xc,zh.prototype.setMaxResolution=zh.prototype.Bc,zh.prototype.setMinResolution=zh.prototype.Cc,zh.prototype.setOpacity=zh.prototype.yc,zh.prototype.setVisible=zh.prototype.zc,zh.prototype.setZIndex=zh.prototype.Wb,zh.prototype.get=zh.prototype.get,zh.prototype.getKeys=zh.prototype.O,zh.prototype.getProperties=zh.prototype.N,zh.prototype.set=zh.prototype.set,zh.prototype.setProperties=zh.prototype.H,zh.prototype.unset=zh.prototype.P,zh.prototype.changed=zh.prototype.s,zh.prototype.dispatchEvent=zh.prototype.b,zh.prototype.getRevision=zh.prototype.L,zh.prototype.on=zh.prototype.J,zh.prototype.once=zh.prototype.once,zh.prototype.un=zh.prototype.K,Dh.prototype.getExtent=Dh.prototype.G,Dh.prototype.getMaxResolution=Dh.prototype.fc,Dh.prototype.getMinResolution=Dh.prototype.gc,Dh.prototype.getOpacity=Dh.prototype.hc,Dh.prototype.getVisible=Dh.prototype.Sb,Dh.prototype.getZIndex=Dh.prototype.za,Dh.prototype.setExtent=Dh.prototype.xc,Dh.prototype.setMaxResolution=Dh.prototype.Bc,Dh.prototype.setMinResolution=Dh.prototype.Cc,Dh.prototype.setOpacity=Dh.prototype.yc,Dh.prototype.setVisible=Dh.prototype.zc,Dh.prototype.setZIndex=Dh.prototype.Wb,Dh.prototype.get=Dh.prototype.get,Dh.prototype.getKeys=Dh.prototype.O,Dh.prototype.getProperties=Dh.prototype.N,Dh.prototype.set=Dh.prototype.set,Dh.prototype.setProperties=Dh.prototype.H,Dh.prototype.unset=Dh.prototype.P,Dh.prototype.changed=Dh.prototype.s,Dh.prototype.dispatchEvent=Dh.prototype.b,Dh.prototype.getRevision=Dh.prototype.L,Dh.prototype.on=Dh.prototype.J,Dh.prototype.once=Dh.prototype.once,Dh.prototype.un=Dh.prototype.K,S.prototype.setMap=S.prototype.setMap,S.prototype.setSource=S.prototype.Zc,S.prototype.getExtent=S.prototype.G,S.prototype.getMaxResolution=S.prototype.fc,S.prototype.getMinResolution=S.prototype.gc,S.prototype.getOpacity=S.prototype.hc,S.prototype.getVisible=S.prototype.Sb,S.prototype.getZIndex=S.prototype.za,S.prototype.setExtent=S.prototype.xc,S.prototype.setMaxResolution=S.prototype.Bc,S.prototype.setMinResolution=S.prototype.Cc,S.prototype.setOpacity=S.prototype.yc,S.prototype.setVisible=S.prototype.zc,S.prototype.setZIndex=S.prototype.Wb,S.prototype.get=S.prototype.get,S.prototype.getKeys=S.prototype.O,S.prototype.getProperties=S.prototype.N,S.prototype.set=S.prototype.set,S.prototype.setProperties=S.prototype.H,S.prototype.unset=S.prototype.P,S.prototype.changed=S.prototype.s,S.prototype.dispatchEvent=S.prototype.b,S.prototype.getRevision=S.prototype.L,S.prototype.on=S.prototype.J,S.prototype.once=S.prototype.once,S.prototype.un=S.prototype.K,W.prototype.getSource=W.prototype.ia,W.prototype.getStyle=W.prototype.u,W.prototype.getStyleFunction=W.prototype.bb,W.prototype.setStyle=W.prototype.i,W.prototype.setMap=W.prototype.setMap,W.prototype.setSource=W.prototype.Zc,W.prototype.getExtent=W.prototype.G,W.prototype.getMaxResolution=W.prototype.fc,W.prototype.getMinResolution=W.prototype.gc,W.prototype.getOpacity=W.prototype.hc,W.prototype.getVisible=W.prototype.Sb,W.prototype.getZIndex=W.prototype.za,W.prototype.setExtent=W.prototype.xc,W.prototype.setMaxResolution=W.prototype.Bc,W.prototype.setMinResolution=W.prototype.Cc,W.prototype.setOpacity=W.prototype.yc,W.prototype.setVisible=W.prototype.zc,W.prototype.setZIndex=W.prototype.Wb,W.prototype.get=W.prototype.get,W.prototype.getKeys=W.prototype.O,W.prototype.getProperties=W.prototype.N,W.prototype.set=W.prototype.set,W.prototype.setProperties=W.prototype.H,W.prototype.unset=W.prototype.P,W.prototype.changed=W.prototype.s,W.prototype.dispatchEvent=W.prototype.b,W.prototype.getRevision=W.prototype.L,W.prototype.on=W.prototype.J,W.prototype.once=W.prototype.once,W.prototype.un=W.prototype.K,qw.prototype.setMap=qw.prototype.setMap,qw.prototype.setSource=qw.prototype.Zc,qw.prototype.getExtent=qw.prototype.G,qw.prototype.getMaxResolution=qw.prototype.fc,qw.prototype.getMinResolution=qw.prototype.gc,qw.prototype.getOpacity=qw.prototype.hc,qw.prototype.getVisible=qw.prototype.Sb,qw.prototype.getZIndex=qw.prototype.za,qw.prototype.setExtent=qw.prototype.xc,qw.prototype.setMaxResolution=qw.prototype.Bc,qw.prototype.setMinResolution=qw.prototype.Cc,qw.prototype.setOpacity=qw.prototype.yc,qw.prototype.setVisible=qw.prototype.zc,qw.prototype.setZIndex=qw.prototype.Wb,qw.prototype.get=qw.prototype.get,qw.prototype.getKeys=qw.prototype.O,qw.prototype.getProperties=qw.prototype.N,qw.prototype.set=qw.prototype.set,qw.prototype.setProperties=qw.prototype.H,qw.prototype.unset=qw.prototype.P,qw.prototype.changed=qw.prototype.s,qw.prototype.dispatchEvent=qw.prototype.b,qw.prototype.getRevision=qw.prototype.L,qw.prototype.on=qw.prototype.J,qw.prototype.once=qw.prototype.once,qw.prototype.un=qw.prototype.K,zw.prototype.setMap=zw.prototype.setMap,zw.prototype.setSource=zw.prototype.Zc,zw.prototype.getExtent=zw.prototype.G,zw.prototype.getMaxResolution=zw.prototype.fc,zw.prototype.getMinResolution=zw.prototype.gc,zw.prototype.getOpacity=zw.prototype.hc,zw.prototype.getVisible=zw.prototype.Sb,zw.prototype.getZIndex=zw.prototype.za,zw.prototype.setExtent=zw.prototype.xc,zw.prototype.setMaxResolution=zw.prototype.Bc,zw.prototype.setMinResolution=zw.prototype.Cc,zw.prototype.setOpacity=zw.prototype.yc,zw.prototype.setVisible=zw.prototype.zc,zw.prototype.setZIndex=zw.prototype.Wb,zw.prototype.get=zw.prototype.get,zw.prototype.getKeys=zw.prototype.O,zw.prototype.getProperties=zw.prototype.N,zw.prototype.set=zw.prototype.set,zw.prototype.setProperties=zw.prototype.H,zw.prototype.unset=zw.prototype.P,zw.prototype.changed=zw.prototype.s,zw.prototype.dispatchEvent=zw.prototype.b,zw.prototype.getRevision=zw.prototype.L,zw.prototype.on=zw.prototype.J,zw.prototype.once=zw.prototype.once,zw.prototype.un=zw.prototype.K,Hw.prototype.getStyle=Hw.prototype.u,Hw.prototype.getStyleFunction=Hw.prototype.bb,Hw.prototype.setStyle=Hw.prototype.i,Hw.prototype.setMap=Hw.prototype.setMap,Hw.prototype.setSource=Hw.prototype.Zc,Hw.prototype.getExtent=Hw.prototype.G,Hw.prototype.getMaxResolution=Hw.prototype.fc,Hw.prototype.getMinResolution=Hw.prototype.gc,Hw.prototype.getOpacity=Hw.prototype.hc,Hw.prototype.getVisible=Hw.prototype.Sb,Hw.prototype.getZIndex=Hw.prototype.za,Hw.prototype.setExtent=Hw.prototype.xc,Hw.prototype.setMaxResolution=Hw.prototype.Bc,Hw.prototype.setMinResolution=Hw.prototype.Cc,Hw.prototype.setOpacity=Hw.prototype.yc,Hw.prototype.setVisible=Hw.prototype.zc,Hw.prototype.setZIndex=Hw.prototype.Wb,Hw.prototype.get=Hw.prototype.get,Hw.prototype.getKeys=Hw.prototype.O,Hw.prototype.getProperties=Hw.prototype.N,Hw.prototype.set=Hw.prototype.set,Hw.prototype.setProperties=Hw.prototype.H,Hw.prototype.unset=Hw.prototype.P,Hw.prototype.changed=Hw.prototype.s,Hw.prototype.dispatchEvent=Hw.prototype.b,Hw.prototype.getRevision=Hw.prototype.L,Hw.prototype.on=Hw.prototype.J,Hw.prototype.once=Hw.prototype.once,Hw.prototype.un=Hw.prototype.K,sg.prototype.get=sg.prototype.get,sg.prototype.getKeys=sg.prototype.O,sg.prototype.getProperties=sg.prototype.N,sg.prototype.set=sg.prototype.set,sg.prototype.setProperties=sg.prototype.H,sg.prototype.unset=sg.prototype.P,sg.prototype.changed=sg.prototype.s,sg.prototype.dispatchEvent=sg.prototype.b,sg.prototype.getRevision=sg.prototype.L,sg.prototype.on=sg.prototype.J,sg.prototype.once=sg.prototype.once,sg.prototype.un=sg.prototype.K,wg.prototype.getActive=wg.prototype.c,wg.prototype.getMap=wg.prototype.i,wg.prototype.setActive=wg.prototype.Ia,wg.prototype.get=wg.prototype.get,wg.prototype.getKeys=wg.prototype.O,wg.prototype.getProperties=wg.prototype.N,wg.prototype.set=wg.prototype.set,wg.prototype.setProperties=wg.prototype.H,wg.prototype.unset=wg.prototype.P,wg.prototype.changed=wg.prototype.s,wg.prototype.dispatchEvent=wg.prototype.b,wg.prototype.getRevision=wg.prototype.L,wg.prototype.on=wg.prototype.J,wg.prototype.once=wg.prototype.once,wg.prototype.un=wg.prototype.K,mt.prototype.getActive=mt.prototype.c,mt.prototype.getMap=mt.prototype.i,mt.prototype.setActive=mt.prototype.Ia,mt.prototype.get=mt.prototype.get,mt.prototype.getKeys=mt.prototype.O,mt.prototype.getProperties=mt.prototype.N,mt.prototype.set=mt.prototype.set,mt.prototype.setProperties=mt.prototype.H,mt.prototype.unset=mt.prototype.P,mt.prototype.changed=mt.prototype.s,mt.prototype.dispatchEvent=mt.prototype.b,mt.prototype.getRevision=mt.prototype.L,mt.prototype.on=mt.prototype.J,mt.prototype.once=mt.prototype.once,mt.prototype.un=mt.prototype.K,pt.prototype.type=pt.prototype.type,pt.prototype.target=pt.prototype.target,pt.prototype.preventDefault=pt.prototype.preventDefault,pt.prototype.stopPropagation=pt.prototype.stopPropagation,Jg.prototype.getActive=Jg.prototype.c,Jg.prototype.getMap=Jg.prototype.i,Jg.prototype.setActive=Jg.prototype.Ia,Jg.prototype.get=Jg.prototype.get,Jg.prototype.getKeys=Jg.prototype.O,Jg.prototype.getProperties=Jg.prototype.N,Jg.prototype.set=Jg.prototype.set,Jg.prototype.setProperties=Jg.prototype.H,Jg.prototype.unset=Jg.prototype.P,Jg.prototype.changed=Jg.prototype.s,Jg.prototype.dispatchEvent=Jg.prototype.b,Jg.prototype.getRevision=Jg.prototype.L,Jg.prototype.on=Jg.prototype.J,Jg.prototype.once=Jg.prototype.once,Jg.prototype.un=Jg.prototype.K,Xg.prototype.getActive=Xg.prototype.c,Xg.prototype.getMap=Xg.prototype.i,Xg.prototype.setActive=Xg.prototype.Ia,Xg.prototype.get=Xg.prototype.get,Xg.prototype.getKeys=Xg.prototype.O,Xg.prototype.getProperties=Xg.prototype.N,Xg.prototype.set=Xg.prototype.set,Xg.prototype.setProperties=Xg.prototype.H,Xg.prototype.unset=Xg.prototype.P,Xg.prototype.changed=Xg.prototype.s,Xg.prototype.dispatchEvent=Xg.prototype.b,Xg.prototype.getRevision=Xg.prototype.L,Xg.prototype.on=Xg.prototype.J,Xg.prototype.once=Xg.prototype.once,Xg.prototype.un=Xg.prototype.K,bh.prototype.type=bh.prototype.type,bh.prototype.target=bh.prototype.target,bh.prototype.preventDefault=bh.prototype.preventDefault,bh.prototype.stopPropagation=bh.prototype.stopPropagation,Mg.prototype.getActive=Mg.prototype.c,Mg.prototype.getMap=Mg.prototype.i,Mg.prototype.setActive=Mg.prototype.Ia,Mg.prototype.get=Mg.prototype.get,Mg.prototype.getKeys=Mg.prototype.O,Mg.prototype.getProperties=Mg.prototype.N,Mg.prototype.set=Mg.prototype.set,Mg.prototype.setProperties=Mg.prototype.H,Mg.prototype.unset=Mg.prototype.P,Mg.prototype.changed=Mg.prototype.s,Mg.prototype.dispatchEvent=Mg.prototype.b,Mg.prototype.getRevision=Mg.prototype.L,Mg.prototype.on=Mg.prototype.J,Mg.prototype.once=Mg.prototype.once,Mg.prototype.un=Mg.prototype.K,Qg.prototype.getActive=Qg.prototype.c,Qg.prototype.getMap=Qg.prototype.i,Qg.prototype.setActive=Qg.prototype.Ia,Qg.prototype.get=Qg.prototype.get,Qg.prototype.getKeys=Qg.prototype.O,Qg.prototype.getProperties=Qg.prototype.N,Qg.prototype.set=Qg.prototype.set,Qg.prototype.setProperties=Qg.prototype.H,Qg.prototype.unset=Qg.prototype.P,Qg.prototype.changed=Qg.prototype.s,Qg.prototype.dispatchEvent=Qg.prototype.b,Qg.prototype.getRevision=Qg.prototype.L,Qg.prototype.on=Qg.prototype.J,Qg.prototype.once=Qg.prototype.once,Qg.prototype.un=Qg.prototype.K,tt.prototype.getActive=tt.prototype.c,tt.prototype.getMap=tt.prototype.i,tt.prototype.setActive=tt.prototype.Ia,tt.prototype.get=tt.prototype.get,tt.prototype.getKeys=tt.prototype.O,tt.prototype.getProperties=tt.prototype.N,tt.prototype.set=tt.prototype.set,tt.prototype.setProperties=tt.prototype.H,tt.prototype.unset=tt.prototype.P,tt.prototype.changed=tt.prototype.s,tt.prototype.dispatchEvent=tt.prototype.b,tt.prototype.getRevision=tt.prototype.L,tt.prototype.on=tt.prototype.J,tt.prototype.once=tt.prototype.once,tt.prototype.un=tt.prototype.K,fh.prototype.getGeometry=fh.prototype.W,fh.prototype.getActive=fh.prototype.c,fh.prototype.getMap=fh.prototype.i,fh.prototype.setActive=fh.prototype.Ia,fh.prototype.get=fh.prototype.get,fh.prototype.getKeys=fh.prototype.O,fh.prototype.getProperties=fh.prototype.N,fh.prototype.set=fh.prototype.set,fh.prototype.setProperties=fh.prototype.H,fh.prototype.unset=fh.prototype.P,fh.prototype.changed=fh.prototype.s,fh.prototype.dispatchEvent=fh.prototype.b,fh.prototype.getRevision=fh.prototype.L,fh.prototype.on=fh.prototype.J,fh.prototype.once=fh.prototype.once,fh.prototype.un=fh.prototype.K,Hu.prototype.getActive=Hu.prototype.c,Hu.prototype.getMap=Hu.prototype.i,Hu.prototype.setActive=Hu.prototype.Ia,Hu.prototype.get=Hu.prototype.get,Hu.prototype.getKeys=Hu.prototype.O,Hu.prototype.getProperties=Hu.prototype.N,Hu.prototype.set=Hu.prototype.set,Hu.prototype.setProperties=Hu.prototype.H,Hu.prototype.unset=Hu.prototype.P,Hu.prototype.changed=Hu.prototype.s,Hu.prototype.dispatchEvent=Hu.prototype.b,Hu.prototype.getRevision=Hu.prototype.L,Hu.prototype.on=Hu.prototype.J,Hu.prototype.once=Hu.prototype.once,Hu.prototype.un=Hu.prototype.K,Xu.prototype.type=Xu.prototype.type,Xu.prototype.target=Xu.prototype.target,Xu.prototype.preventDefault=Xu.prototype.preventDefault,Xu.prototype.stopPropagation=Xu.prototype.stopPropagation,Yu.prototype.getActive=Yu.prototype.c,Yu.prototype.getMap=Yu.prototype.i,Yu.prototype.setActive=Yu.prototype.Ia,Yu.prototype.get=Yu.prototype.get,Yu.prototype.getKeys=Yu.prototype.O,Yu.prototype.getProperties=Yu.prototype.N,Yu.prototype.set=Yu.prototype.set,Yu.prototype.setProperties=Yu.prototype.H,Yu.prototype.unset=Yu.prototype.P,Yu.prototype.changed=Yu.prototype.s,Yu.prototype.dispatchEvent=Yu.prototype.b,Yu.prototype.getRevision=Yu.prototype.L,Yu.prototype.on=Yu.prototype.J,Yu.prototype.once=Yu.prototype.once,Yu.prototype.un=Yu.prototype.K,iv.prototype.type=iv.prototype.type,iv.prototype.target=iv.prototype.target,iv.prototype.preventDefault=iv.prototype.preventDefault,iv.prototype.stopPropagation=iv.prototype.stopPropagation,gh.prototype.getActive=gh.prototype.c,gh.prototype.getMap=gh.prototype.i,gh.prototype.setActive=gh.prototype.Ia,gh.prototype.get=gh.prototype.get,gh.prototype.getKeys=gh.prototype.O,gh.prototype.getProperties=gh.prototype.N,gh.prototype.set=gh.prototype.set,gh.prototype.setProperties=gh.prototype.H,gh.prototype.unset=gh.prototype.P,gh.prototype.changed=gh.prototype.s,gh.prototype.dispatchEvent=gh.prototype.b,gh.prototype.getRevision=gh.prototype.L,gh.prototype.on=gh.prototype.J,gh.prototype.once=gh.prototype.once,gh.prototype.un=gh.prototype.K,ih.prototype.getActive=ih.prototype.c,ih.prototype.getMap=ih.prototype.i,ih.prototype.setActive=ih.prototype.Ia,ih.prototype.get=ih.prototype.get,ih.prototype.getKeys=ih.prototype.O,ih.prototype.getProperties=ih.prototype.N,ih.prototype.set=ih.prototype.set,ih.prototype.setProperties=ih.prototype.H,ih.prototype.unset=ih.prototype.P,ih.prototype.changed=ih.prototype.s,ih.prototype.dispatchEvent=ih.prototype.b,ih.prototype.getRevision=ih.prototype.L,ih.prototype.on=ih.prototype.J,ih.prototype.once=ih.prototype.once,ih.prototype.un=ih.prototype.K,jv.prototype.getActive=jv.prototype.c,jv.prototype.getMap=jv.prototype.i,jv.prototype.setActive=jv.prototype.Ia,jv.prototype.get=jv.prototype.get,jv.prototype.getKeys=jv.prototype.O,jv.prototype.getProperties=jv.prototype.N,jv.prototype.set=jv.prototype.set,jv.prototype.setProperties=jv.prototype.H,jv.prototype.unset=jv.prototype.P,jv.prototype.changed=jv.prototype.s,jv.prototype.dispatchEvent=jv.prototype.b,jv.prototype.getRevision=jv.prototype.L,jv.prototype.on=jv.prototype.J,jv.prototype.once=jv.prototype.once,jv.prototype.un=jv.prototype.K,rv.prototype.type=rv.prototype.type,rv.prototype.target=rv.prototype.target,rv.prototype.preventDefault=rv.prototype.preventDefault,rv.prototype.stopPropagation=rv.prototype.stopPropagation,kh.prototype.getActive=kh.prototype.c,kh.prototype.getMap=kh.prototype.i,kh.prototype.setActive=kh.prototype.Ia,kh.prototype.get=kh.prototype.get,kh.prototype.getKeys=kh.prototype.O,kh.prototype.getProperties=kh.prototype.N,kh.prototype.set=kh.prototype.set,kh.prototype.setProperties=kh.prototype.H,kh.prototype.unset=kh.prototype.P,kh.prototype.changed=kh.prototype.s,kh.prototype.dispatchEvent=kh.prototype.b,kh.prototype.getRevision=kh.prototype.L,kh.prototype.on=kh.prototype.J,kh.prototype.once=kh.prototype.once,kh.prototype.un=kh.prototype.K,oh.prototype.getActive=oh.prototype.c,oh.prototype.getMap=oh.prototype.i,oh.prototype.setActive=oh.prototype.Ia,oh.prototype.get=oh.prototype.get,oh.prototype.getKeys=oh.prototype.O,oh.prototype.getProperties=oh.prototype.N,oh.prototype.set=oh.prototype.set,oh.prototype.setProperties=oh.prototype.H,oh.prototype.unset=oh.prototype.P,oh.prototype.changed=oh.prototype.s,oh.prototype.dispatchEvent=oh.prototype.b,oh.prototype.getRevision=oh.prototype.L,oh.prototype.on=oh.prototype.J,oh.prototype.once=oh.prototype.once,oh.prototype.un=oh.prototype.K,sh.prototype.getActive=sh.prototype.c,sh.prototype.getMap=sh.prototype.i,sh.prototype.setActive=sh.prototype.Ia,sh.prototype.get=sh.prototype.get,sh.prototype.getKeys=sh.prototype.O,sh.prototype.getProperties=sh.prototype.N,sh.prototype.set=sh.prototype.set,sh.prototype.setProperties=sh.prototype.H,sh.prototype.unset=sh.prototype.P,sh.prototype.changed=sh.prototype.s,sh.prototype.dispatchEvent=sh.prototype.b,sh.prototype.getRevision=sh.prototype.L,sh.prototype.on=sh.prototype.J,sh.prototype.once=sh.prototype.once,sh.prototype.un=sh.prototype.K,zv.prototype.getActive=zv.prototype.c,zv.prototype.getMap=zv.prototype.i,zv.prototype.setActive=zv.prototype.Ia,zv.prototype.get=zv.prototype.get,zv.prototype.getKeys=zv.prototype.O,zv.prototype.getProperties=zv.prototype.N,zv.prototype.set=zv.prototype.set,zv.prototype.setProperties=zv.prototype.H,zv.prototype.unset=zv.prototype.P,zv.prototype.changed=zv.prototype.s,zv.prototype.dispatchEvent=zv.prototype.b,zv.prototype.getRevision=zv.prototype.L,zv.prototype.on=zv.prototype.J,zv.prototype.once=zv.prototype.once,zv.prototype.un=zv.prototype.K,Cv.prototype.type=Cv.prototype.type,Cv.prototype.target=Cv.prototype.target,Cv.prototype.preventDefault=Cv.prototype.preventDefault,Cv.prototype.stopPropagation=Cv.prototype.stopPropagation,Ev.prototype.getActive=Ev.prototype.c,Ev.prototype.getMap=Ev.prototype.i,Ev.prototype.setActive=Ev.prototype.Ia,Ev.prototype.get=Ev.prototype.get,Ev.prototype.getKeys=Ev.prototype.O,Ev.prototype.getProperties=Ev.prototype.N,Ev.prototype.set=Ev.prototype.set,Ev.prototype.setProperties=Ev.prototype.H,Ev.prototype.unset=Ev.prototype.P,Ev.prototype.changed=Ev.prototype.s,Ev.prototype.dispatchEvent=Ev.prototype.b,Ev.prototype.getRevision=Ev.prototype.L,Ev.prototype.on=Ev.prototype.J,Ev.prototype.once=Ev.prototype.once,Ev.prototype.un=Ev.prototype.K,Jv.prototype.getActive=Jv.prototype.c,Jv.prototype.getMap=Jv.prototype.i,Jv.prototype.setActive=Jv.prototype.Ia,Jv.prototype.get=Jv.prototype.get,Jv.prototype.getKeys=Jv.prototype.O,Jv.prototype.getProperties=Jv.prototype.N,Jv.prototype.set=Jv.prototype.set,Jv.prototype.setProperties=Jv.prototype.H,Jv.prototype.unset=Jv.prototype.P,Jv.prototype.changed=Jv.prototype.s,Jv.prototype.dispatchEvent=Jv.prototype.b,Jv.prototype.getRevision=Jv.prototype.L,Jv.prototype.on=Jv.prototype.J,Jv.prototype.once=Jv.prototype.once,Jv.prototype.un=Jv.prototype.K,Pv.prototype.type=Pv.prototype.type,Pv.prototype.target=Pv.prototype.target,Pv.prototype.preventDefault=Pv.prototype.preventDefault,Pv.prototype.stopPropagation=Pv.prototype.stopPropagation,rf.prototype.get=rf.prototype.get,rf.prototype.getKeys=rf.prototype.O,rf.prototype.getProperties=rf.prototype.N,rf.prototype.set=rf.prototype.set,rf.prototype.setProperties=rf.prototype.H,rf.prototype.unset=rf.prototype.P,rf.prototype.changed=rf.prototype.s,rf.prototype.dispatchEvent=rf.prototype.b,rf.prototype.getRevision=rf.prototype.L,rf.prototype.on=rf.prototype.J,rf.prototype.once=rf.prototype.once,rf.prototype.un=rf.prototype.K,uf.prototype.getClosestPoint=uf.prototype.Db,uf.prototype.intersectsCoordinate=uf.prototype.wb,uf.prototype.getExtent=uf.prototype.G,uf.prototype.rotate=uf.prototype.rotate,uf.prototype.scale=uf.prototype.scale,uf.prototype.simplify=uf.prototype.Pb,uf.prototype.transform=uf.prototype.mb,uf.prototype.get=uf.prototype.get,uf.prototype.getKeys=uf.prototype.O,uf.prototype.getProperties=uf.prototype.N,uf.prototype.set=uf.prototype.set,uf.prototype.setProperties=uf.prototype.H,uf.prototype.unset=uf.prototype.P,uf.prototype.changed=uf.prototype.s,uf.prototype.dispatchEvent=uf.prototype.b,uf.prototype.getRevision=uf.prototype.L,uf.prototype.on=uf.prototype.J,uf.prototype.once=uf.prototype.once,uf.prototype.un=uf.prototype.K,Ss.prototype.getFirstCoordinate=Ss.prototype.bc,Ss.prototype.getLastCoordinate=Ss.prototype.cc,Ss.prototype.getLayout=Ss.prototype.dc,Ss.prototype.rotate=Ss.prototype.rotate,Ss.prototype.scale=Ss.prototype.scale,Ss.prototype.getClosestPoint=Ss.prototype.Db,Ss.prototype.intersectsCoordinate=Ss.prototype.wb,Ss.prototype.getExtent=Ss.prototype.G,Ss.prototype.simplify=Ss.prototype.Pb,Ss.prototype.get=Ss.prototype.get,Ss.prototype.getKeys=Ss.prototype.O,Ss.prototype.getProperties=Ss.prototype.N,Ss.prototype.set=Ss.prototype.set,Ss.prototype.setProperties=Ss.prototype.H,Ss.prototype.unset=Ss.prototype.P,Ss.prototype.changed=Ss.prototype.s,Ss.prototype.dispatchEvent=Ss.prototype.b,Ss.prototype.getRevision=Ss.prototype.L,Ss.prototype.on=Ss.prototype.J,Ss.prototype.once=Ss.prototype.once,Ss.prototype.un=Ss.prototype.K,Nm.prototype.getClosestPoint=Nm.prototype.Db,Nm.prototype.intersectsCoordinate=Nm.prototype.wb,Nm.prototype.getExtent=Nm.prototype.G,Nm.prototype.rotate=Nm.prototype.rotate,Nm.prototype.scale=Nm.prototype.scale,Nm.prototype.simplify=Nm.prototype.Pb,Nm.prototype.transform=Nm.prototype.mb,Nm.prototype.get=Nm.prototype.get,Nm.prototype.getKeys=Nm.prototype.O,Nm.prototype.getProperties=Nm.prototype.N,Nm.prototype.set=Nm.prototype.set,Nm.prototype.setProperties=Nm.prototype.H,Nm.prototype.unset=Nm.prototype.P,Nm.prototype.changed=Nm.prototype.s,Nm.prototype.dispatchEvent=Nm.prototype.b,Nm.prototype.getRevision=Nm.prototype.L,Nm.prototype.on=Nm.prototype.J,Nm.prototype.once=Nm.prototype.once,Nm.prototype.un=Nm.prototype.K,Of.prototype.getFirstCoordinate=Of.prototype.bc,Of.prototype.getLastCoordinate=Of.prototype.cc,Of.prototype.getLayout=Of.prototype.dc,Of.prototype.rotate=Of.prototype.rotate,Of.prototype.scale=Of.prototype.scale,Of.prototype.getClosestPoint=Of.prototype.Db,Of.prototype.intersectsCoordinate=Of.prototype.wb,Of.prototype.getExtent=Of.prototype.G,Of.prototype.simplify=Of.prototype.Pb,Of.prototype.transform=Of.prototype.mb,Of.prototype.get=Of.prototype.get,Of.prototype.getKeys=Of.prototype.O,Of.prototype.getProperties=Of.prototype.N,Of.prototype.set=Of.prototype.set,Of.prototype.setProperties=Of.prototype.H,Of.prototype.unset=Of.prototype.P,Of.prototype.changed=Of.prototype.s,Of.prototype.dispatchEvent=Of.prototype.b,Of.prototype.getRevision=Of.prototype.L,Of.prototype.on=Of.prototype.J,Of.prototype.once=Of.prototype.once,Of.prototype.un=Of.prototype.K,M.prototype.getFirstCoordinate=M.prototype.bc,M.prototype.getLastCoordinate=M.prototype.cc,M.prototype.getLayout=M.prototype.dc,M.prototype.rotate=M.prototype.rotate,M.prototype.scale=M.prototype.scale,M.prototype.getClosestPoint=M.prototype.Db,M.prototype.intersectsCoordinate=M.prototype.wb,M.prototype.getExtent=M.prototype.G,M.prototype.simplify=M.prototype.Pb,M.prototype.transform=M.prototype.mb,M.prototype.get=M.prototype.get,M.prototype.getKeys=M.prototype.O,M.prototype.getProperties=M.prototype.N,M.prototype.set=M.prototype.set,M.prototype.setProperties=M.prototype.H,M.prototype.unset=M.prototype.P,M.prototype.changed=M.prototype.s,M.prototype.dispatchEvent=M.prototype.b,M.prototype.getRevision=M.prototype.L,M.prototype.on=M.prototype.J,M.prototype.once=M.prototype.once,M.prototype.un=M.prototype.K,N.prototype.getFirstCoordinate=N.prototype.bc,N.prototype.getLastCoordinate=N.prototype.cc,N.prototype.getLayout=N.prototype.dc,N.prototype.rotate=N.prototype.rotate,N.prototype.scale=N.prototype.scale,N.prototype.getClosestPoint=N.prototype.Db,N.prototype.intersectsCoordinate=N.prototype.wb,N.prototype.getExtent=N.prototype.G,N.prototype.simplify=N.prototype.Pb,N.prototype.transform=N.prototype.mb,N.prototype.get=N.prototype.get,N.prototype.getKeys=N.prototype.O,N.prototype.getProperties=N.prototype.N,N.prototype.set=N.prototype.set,N.prototype.setProperties=N.prototype.H,N.prototype.unset=N.prototype.P,N.prototype.changed=N.prototype.s,N.prototype.dispatchEvent=N.prototype.b,N.prototype.getRevision=N.prototype.L,N.prototype.on=N.prototype.J,N.prototype.once=N.prototype.once,N.prototype.un=N.prototype.K,O.prototype.getFirstCoordinate=O.prototype.bc,O.prototype.getLastCoordinate=O.prototype.cc,O.prototype.getLayout=O.prototype.dc,O.prototype.rotate=O.prototype.rotate,O.prototype.scale=O.prototype.scale,O.prototype.getClosestPoint=O.prototype.Db,O.prototype.intersectsCoordinate=O.prototype.wb,O.prototype.getExtent=O.prototype.G,O.prototype.simplify=O.prototype.Pb,O.prototype.transform=O.prototype.mb,O.prototype.get=O.prototype.get,O.prototype.getKeys=O.prototype.O,O.prototype.getProperties=O.prototype.N,O.prototype.set=O.prototype.set,O.prototype.setProperties=O.prototype.H,O.prototype.unset=O.prototype.P,O.prototype.changed=O.prototype.s,O.prototype.dispatchEvent=O.prototype.b,O.prototype.getRevision=O.prototype.L,O.prototype.on=O.prototype.J,O.prototype.once=O.prototype.once,O.prototype.un=O.prototype.K,P.prototype.getFirstCoordinate=P.prototype.bc,P.prototype.getLastCoordinate=P.prototype.cc,P.prototype.getLayout=P.prototype.dc,P.prototype.rotate=P.prototype.rotate,P.prototype.scale=P.prototype.scale,P.prototype.getClosestPoint=P.prototype.Db,P.prototype.intersectsCoordinate=P.prototype.wb,P.prototype.getExtent=P.prototype.G,P.prototype.simplify=P.prototype.Pb,P.prototype.transform=P.prototype.mb,P.prototype.get=P.prototype.get,P.prototype.getKeys=P.prototype.O,P.prototype.getProperties=P.prototype.N,P.prototype.set=P.prototype.set,P.prototype.setProperties=P.prototype.H,P.prototype.unset=P.prototype.P,P.prototype.changed=P.prototype.s,P.prototype.dispatchEvent=P.prototype.b,P.prototype.getRevision=P.prototype.L,P.prototype.on=P.prototype.J,P.prototype.once=P.prototype.once,P.prototype.un=P.prototype.K,C.prototype.getFirstCoordinate=C.prototype.bc,C.prototype.getLastCoordinate=C.prototype.cc,C.prototype.getLayout=C.prototype.dc,C.prototype.rotate=C.prototype.rotate,C.prototype.scale=C.prototype.scale,C.prototype.getClosestPoint=C.prototype.Db,C.prototype.intersectsCoordinate=C.prototype.wb,C.prototype.getExtent=C.prototype.G,C.prototype.simplify=C.prototype.Pb,C.prototype.transform=C.prototype.mb,C.prototype.get=C.prototype.get,C.prototype.getKeys=C.prototype.O,C.prototype.getProperties=C.prototype.N,C.prototype.set=C.prototype.set,C.prototype.setProperties=C.prototype.H,C.prototype.unset=C.prototype.P,C.prototype.changed=C.prototype.s,C.prototype.dispatchEvent=C.prototype.b,C.prototype.getRevision=C.prototype.L,C.prototype.on=C.prototype.J,C.prototype.once=C.prototype.once,C.prototype.un=C.prototype.K,D.prototype.getFirstCoordinate=D.prototype.bc,D.prototype.getLastCoordinate=D.prototype.cc,D.prototype.getLayout=D.prototype.dc,D.prototype.rotate=D.prototype.rotate,D.prototype.scale=D.prototype.scale,D.prototype.getClosestPoint=D.prototype.Db,D.prototype.intersectsCoordinate=D.prototype.wb,D.prototype.getExtent=D.prototype.G,D.prototype.simplify=D.prototype.Pb,D.prototype.transform=D.prototype.mb,D.prototype.get=D.prototype.get,D.prototype.getKeys=D.prototype.O,D.prototype.getProperties=D.prototype.N,D.prototype.set=D.prototype.set,D.prototype.setProperties=D.prototype.H,D.prototype.unset=D.prototype.P,D.prototype.changed=D.prototype.s,D.prototype.dispatchEvent=D.prototype.b,D.prototype.getRevision=D.prototype.L,D.prototype.on=D.prototype.J,D.prototype.once=D.prototype.once,D.prototype.un=D.prototype.K,mn.prototype.readFeatures=mn.prototype.Oa,vn.prototype.readFeatures=vn.prototype.Oa,mn.prototype.readFeatures=mn.prototype.Oa,od.prototype.get=od.prototype.get,od.prototype.getKeys=od.prototype.O,od.prototype.getProperties=od.prototype.N,od.prototype.set=od.prototype.set,od.prototype.setProperties=od.prototype.H,od.prototype.unset=od.prototype.P,od.prototype.changed=od.prototype.s,od.prototype.dispatchEvent=od.prototype.b,od.prototype.getRevision=od.prototype.L,od.prototype.on=od.prototype.J,od.prototype.once=od.prototype.once,od.prototype.un=od.prototype.K,pd.prototype.getMap=pd.prototype.g,pd.prototype.setMap=pd.prototype.setMap,pd.prototype.setTarget=pd.prototype.i,pd.prototype.get=pd.prototype.get,pd.prototype.getKeys=pd.prototype.O,pd.prototype.getProperties=pd.prototype.N,pd.prototype.set=pd.prototype.set,pd.prototype.setProperties=pd.prototype.H,pd.prototype.unset=pd.prototype.P,pd.prototype.changed=pd.prototype.s,pd.prototype.dispatchEvent=pd.prototype.b,pd.prototype.getRevision=pd.prototype.L,pd.prototype.on=pd.prototype.J,pd.prototype.once=pd.prototype.once,pd.prototype.un=pd.prototype.K,Ad.prototype.getMap=Ad.prototype.g,Ad.prototype.setMap=Ad.prototype.setMap,Ad.prototype.setTarget=Ad.prototype.i,Ad.prototype.get=Ad.prototype.get,Ad.prototype.getKeys=Ad.prototype.O,Ad.prototype.getProperties=Ad.prototype.N,Ad.prototype.set=Ad.prototype.set,Ad.prototype.setProperties=Ad.prototype.H,Ad.prototype.unset=Ad.prototype.P,Ad.prototype.changed=Ad.prototype.s,Ad.prototype.dispatchEvent=Ad.prototype.b,Ad.prototype.getRevision=Ad.prototype.L,Ad.prototype.on=Ad.prototype.J,Ad.prototype.once=Ad.prototype.once,Ad.prototype.un=Ad.prototype.K,Fd.prototype.getMap=Fd.prototype.g,Fd.prototype.setMap=Fd.prototype.setMap,Fd.prototype.setTarget=Fd.prototype.i,Fd.prototype.get=Fd.prototype.get,Fd.prototype.getKeys=Fd.prototype.O,Fd.prototype.getProperties=Fd.prototype.N,Fd.prototype.set=Fd.prototype.set,Fd.prototype.setProperties=Fd.prototype.H,Fd.prototype.unset=Fd.prototype.P,Fd.prototype.changed=Fd.prototype.s,Fd.prototype.dispatchEvent=Fd.prototype.b,Fd.prototype.getRevision=Fd.prototype.L,Fd.prototype.on=Fd.prototype.J,Fd.prototype.once=Fd.prototype.once,Fd.prototype.un=Fd.prototype.K,Uk.prototype.getMap=Uk.prototype.g,Uk.prototype.setMap=Uk.prototype.setMap,Uk.prototype.setTarget=Uk.prototype.i,Uk.prototype.get=Uk.prototype.get,Uk.prototype.getKeys=Uk.prototype.O,Uk.prototype.getProperties=Uk.prototype.N,Uk.prototype.set=Uk.prototype.set,Uk.prototype.setProperties=Uk.prototype.H,Uk.prototype.unset=Uk.prototype.P,Uk.prototype.changed=Uk.prototype.s,Uk.prototype.dispatchEvent=Uk.prototype.b,Uk.prototype.getRevision=Uk.prototype.L,Uk.prototype.on=Uk.prototype.J,Uk.prototype.once=Uk.prototype.once,Uk.prototype.un=Uk.prototype.K,wd.prototype.getMap=wd.prototype.g,wd.prototype.setMap=wd.prototype.setMap,wd.prototype.setTarget=wd.prototype.i,wd.prototype.get=wd.prototype.get,wd.prototype.getKeys=wd.prototype.O,wd.prototype.getProperties=wd.prototype.N,wd.prototype.set=wd.prototype.set,wd.prototype.setProperties=wd.prototype.H,wd.prototype.unset=wd.prototype.P,wd.prototype.changed=wd.prototype.s,wd.prototype.dispatchEvent=wd.prototype.b,wd.prototype.getRevision=wd.prototype.L,wd.prototype.on=wd.prototype.J,wd.prototype.once=wd.prototype.once,wd.prototype.un=wd.prototype.K,Zk.prototype.getMap=Zk.prototype.g,Zk.prototype.setMap=Zk.prototype.setMap,Zk.prototype.setTarget=Zk.prototype.i,Zk.prototype.get=Zk.prototype.get,Zk.prototype.getKeys=Zk.prototype.O,Zk.prototype.getProperties=Zk.prototype.N,Zk.prototype.set=Zk.prototype.set,Zk.prototype.setProperties=Zk.prototype.H,Zk.prototype.unset=Zk.prototype.P,Zk.prototype.changed=Zk.prototype.s,Zk.prototype.dispatchEvent=Zk.prototype.b,Zk.prototype.getRevision=Zk.prototype.L,Zk.prototype.on=Zk.prototype.J,Zk.prototype.once=Zk.prototype.once,Zk.prototype.un=Zk.prototype.K,yd.prototype.getMap=yd.prototype.g,yd.prototype.setMap=yd.prototype.setMap,yd.prototype.setTarget=yd.prototype.i,yd.prototype.get=yd.prototype.get,yd.prototype.getKeys=yd.prototype.O,yd.prototype.getProperties=yd.prototype.N,yd.prototype.set=yd.prototype.set,yd.prototype.setProperties=yd.prototype.H,yd.prototype.unset=yd.prototype.P,yd.prototype.changed=yd.prototype.s,yd.prototype.dispatchEvent=yd.prototype.b,yd.prototype.getRevision=yd.prototype.L,yd.prototype.on=yd.prototype.J,yd.prototype.once=yd.prototype.once,yd.prototype.un=yd.prototype.K,dl.prototype.getMap=dl.prototype.g,dl.prototype.setMap=dl.prototype.setMap,dl.prototype.setTarget=dl.prototype.i,dl.prototype.get=dl.prototype.get,dl.prototype.getKeys=dl.prototype.O,dl.prototype.getProperties=dl.prototype.N,dl.prototype.set=dl.prototype.set,dl.prototype.setProperties=dl.prototype.H,dl.prototype.unset=dl.prototype.P,dl.prototype.changed=dl.prototype.s,dl.prototype.dispatchEvent=dl.prototype.b,dl.prototype.getRevision=dl.prototype.L,dl.prototype.on=dl.prototype.J,dl.prototype.once=dl.prototype.once,dl.prototype.un=dl.prototype.K,il.prototype.getMap=il.prototype.g,il.prototype.setMap=il.prototype.setMap,il.prototype.setTarget=il.prototype.i,il.prototype.get=il.prototype.get,il.prototype.getKeys=il.prototype.O,il.prototype.getProperties=il.prototype.N,il.prototype.set=il.prototype.set,il.prototype.setProperties=il.prototype.H,il.prototype.unset=il.prototype.P,il.prototype.changed=il.prototype.s,il.prototype.dispatchEvent=il.prototype.b,il.prototype.getRevision=il.prototype.L,il.prototype.on=il.prototype.J,il.prototype.once=il.prototype.once,il.prototype.un=il.prototype.K,OPENLAYERS.ol}),function(){"use strict";function da(){da=function(){},ca.Symbol||(ca.Symbol=ea)}function ha(){da();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("iterator")),"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(this)}}),ha=function(){}}function ja(a){var b=0;return ka(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ka(a){return ha(),a={next:a},a[ca.Symbol.iterator]=function(){return this},a}function la(a){if(!(a instanceof Array)){ha();var b=a[Symbol.iterator];a=b?b.call(a):ja(a);for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function ma(a,b){if(b){var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={}),c=c[e]}(b=b(d=c[a=a[a.length-1]]))!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}function r(a,b){a=a.split(".");var c=na;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function oa(a,b){function c(){}c.prototype=b.prototype,a.bs=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Xr=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}}function pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a,b){b.unshift(a),pa.call(this,qa.apply(null,b)),b.shift()}function sa(a,b){throw new ra("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function v(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function va(){}function w(a){return a.Sp||(a.Sp=++wa)}function ya(a){for(var b in a)delete a[b]}function za(a){var c,b=[];for(c in a)b.push(a[c]);return b}function Ba(a){for(var b in a)return!1;return!b}function Ca(a){return a.Hh=function(b){var c=a.listener,e=a.Gh||a.target;return a.Ih&&Da(a),c.call(e,b)}}function Ea(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if((e=a[f]).listener===b&&e.Gh===c)return d&&(e.deleteIndex=f),e}function Fa(a,b){return(a=a.Wa)?a[b]:void 0}function Ga(a){var b=a.Wa;return b||(b=a.Wa={}),b}function Ha(a,b){var c=Fa(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].Hh),ya(c[d]);c.length=0,(c=a.Wa)&&(delete c[b],0===Object.keys(c).length&&delete a.Wa)}}function y(a,b,c,d,e){var f=Ga(a),g=f[b];return g||(g=f[b]=[]),(f=Ea(g,c,d,!1))?e||(f.Ih=!1):(f={Gh:d,Ih:!!e,listener:c,target:a,type:b},a.addEventListener(b,Ca(f)),g.push(f)),f}function Ia(a,b,c,d){return y(a,b,c,d,!0)}function Ja(a,b,c,d){(a=Fa(a,b))&&(c=Ea(a,c,d,!0))&&Da(c)}function Da(a){if(a&&a.target){a.target.removeEventListener(a.type,a.Hh);var b=Fa(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),0===b.length&&Ha(a.target,a.type)}ya(a)}}function Ka(a){var c,b=Ga(a);for(c in b)Ha(a,c)}function La(){}function Ma(a){a.Cb||(a.Cb=!0,a.oa())}function Na(a){this.type=a,this.target=null}function Oa(a){a.stopPropagation()}function Pa(){this.Aa={},this.ma={},this.fa={}}function Qa(a,b){return b?b in a.fa:0<Object.keys(a.fa).length}function Ra(){Pa.call(this),this.f=0}function Sa(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)Da(a[b]);else Da(a)}function Ta(a){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+a+" for details.",this.code=a,this.name="AssertionError"}function Ua(a){Ra.call(this),w(this),this.H={},void 0!==a&&this.J(a)}function Wa(a){return Va.hasOwnProperty(a)?Va[a]:Va[a]="change:"+a}function Xa(a,b,c){var d=Wa(b);a.b(new Ya(d,b,c)),a.b(new Ya("propertychange",b,c))}function Ya(a,b,c){Na.call(this,a),this.key=b,this.oldValue=c}function $a(a,b){if(Ua.call(this),this.c=!!(b||{}).unique,this.a=a||[],this.c)for(a=0,b=this.a.length;a<b;++a)ab(this,this.a[a],a);bb(this)}function bb(a){a.set(cb,a.a.length)}function ab(a,b,c){for(var d=0,e=a.a.length;d<e;++d)if(a.a[d]===b&&d!==c)throw new Ta(58)}function db(a,b){Na.call(this,a),this.element=b}function eb(a,b){if(!a)throw new Ta(b)}function fb(a){for(var b=gb(),c=0,d=a.length;c<d;++c)hb(b,a[c]);return b}function ib(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function jb(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function kb(a,b,c){return b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,b*b+a*a}function lb(a,b){return mb(a,b[0],b[1])}function nb(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function mb(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function ob(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=0;return f<a[0]?g|=16:f>d&&(g|=4),b<c?g|=8:b>e&&(g|=2),0===g&&(g=1),g}function gb(){return[1/0,1/0,-1/0,-1/0]}function pb(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function qb(a){return pb(1/0,1/0,-1/0,-1/0,a)}function sb(a,b){var c=a[0];return a=a[1],pb(c,a,c,a,b)}function tb(a,b,c,d,e){return e=qb(e),ub(e,a,b,c,d)}function vb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function wb(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a}function hb(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])}function ub(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g),f[1]=Math.min(f[1],h),f[2]=Math.max(f[2],g),f[3]=Math.max(f[3],h)}return a}function xb(a,b,c){var d;return(d=b.call(c,yb(a)))||(d=b.call(c,zb(a)))||(d=b.call(c,Ab(a)))?d:!!(d=b.call(c,Bb(a)))&&d}function Cb(a){var b=0;return Db(a)||(b=Eb(a)*Fb(a)),b}function yb(a){return[a[0],a[1]]}function zb(a){return[a[2],a[1]]}function Gb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Hb(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2,b=Math.cos(c);var g=Math.sin(c);c=f*b,f*=g,b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h,d=l-c-h,g=l+c-h,c=l+c+h,h=m-f-b,l=m-f+b;var n=m+f+b;return f=m+f-b,pb(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function Fb(a){return a[3]-a[1]}function Ib(a,b,c){return c=c||gb(),Jb(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]),c}function Bb(a){return[a[0],a[3]]}function Ab(a){return[a[2],a[3]]}function Eb(a){return a[2]-a[0]}function Jb(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Db(a){return a[2]<a[0]||a[3]<a[1]}function Kb(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1),a[0]-=c,a[2]+=c,a[1]-=b,a[3]+=b}function Lb(a,b,c){b(a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]],a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];return b=Math.min.apply(null,d),a=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e),pb(b,a,d,e,c)}function Mb(a,b,c){return Math.min(Math.max(a,b),c)}function Ob(a){return eb(0<a,29),Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Pb(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return Qb(a,b,c,d)}function Qb(a,b,c,d){return a=c-a,b=d-b,a*a+b*b}function Rb(a){return a*Math.PI/180}function Sb(a,b){return 0>(a%=b)*b?a+b:a}function Tb(a,b,c){return a+c*(b-a)}function Vb(a){Ua.call(this);var b=xa({},a);b.opacity=void 0!==a.opacity?a.opacity:1,b.visible=void 0===a.visible||a.visible,b.zIndex=void 0!==a.zIndex?a.zIndex:0,b.maxResolution=void 0!==a.maxResolution?a.maxResolution:1/0,b.minResolution=void 0!==a.minResolution?a.minResolution:0,this.J(b),this.a={layer:this,Ze:!0}}function Wb(a){return a.a.opacity=Mb(a.Xb(),0,1),a.a.gk=a.qg(),a.a.visible=a.sb(),a.a.extent=a.G(),a.a.zIndex=a.Ca(),a.a.maxResolution=a.lc(),a.a.minResolution=Math.max(a.mc(),0),a.a}function Xb(a){var b=a||{};delete(a=xa({},b)).layers,b=b.layers,Vb.call(this,a),this.i=[],this.c={},y(this,Wa(Yb),this.xm,this),b?Array.isArray(b)?b=new $a(b.slice(),{unique:!0}):eb(b instanceof $a,43):b=new $a(void 0,{unique:!0}),this.cj(b)}function Zb(a,b){this.map=a,this.view=a.$(),this.scene=b,a.Mb().Pb(),this.c=a.Mb(),this.Tc={},this.a={},this.f={}}function $b(a,b){for(var c=[b];0<c.length;){var d=w(b=c.splice(0,1)[0]).toString();a.a[d]=[];var e=null;b instanceof Xb?(ac(a,b),(e=a.cg(b))||b.Pb().forEach(function(a){a&&c.push(a)})):e=a.cg(b),e&&(a.Tc[d]=e,a.a[d].push(y(b,"change:zIndex",a.Kg,a)),e.forEach(function(a){this.Bh(a)},a))}a.Kg()}function bc(a,b){b=w(b).toString();var c=a.Tc[b];return c&&(c.forEach(function(a){this.Qj(a,!1),this.Mh(a)},a),a.a[b].forEach(Sa),delete a.a[b]),delete a.Tc[b],!!c}function cc(a,b){b!==a.c&&(b=w(b).toString(),a.f[b].forEach(function(a){Sa(a)}),delete a.f[b],delete a.Tc[b])}function dc(a,b){if(b)for(var c=[b];0<c.length;){var d=bc(a,b=c.splice(0,1)[0]);b instanceof Xb&&(cc(a,b),d||b.Pb().forEach(function(a){c.push(a)}))}}function ac(a,b){var c=w(b).toString(),d=[];a.f[c]=d;var e=[],f=function(){var a=b.Pb();a&&(e=[a.I("add",function(a){$b(this,a.element)},this),a.I("remove",function(a){dc(this,a.element)},this)],d.push.apply(d,[].concat(la(e))))}.bind(a);f(),d.push(b.I("change:layers",function(){e.forEach(function(a){var b=d.indexOf(a);0<=b&&d.splice(b,1),Sa(a)}),f()}))}function ec(a,b){this.i=a,this.f=a.b,this.j=b,this.a=this.b.bind(this),this.o=new Cesium.Matrix4,this.c=0,this.g=!1,this.f.postRender.addEventListener(this.O.bind(this)),this.l="",this.l="onwheel"in this.f.canvas?"wheel":document.onmousewheel?"mousewheel":"DOMMouseScroll",this.ma=Cesium.loadWithXhr.load,this.D=Cesium.TaskProcessor.prototype.a,this.fa=Cesium.Camera.prototype.setView,this.B=Cesium.Camera.prototype.move,this.C=Cesium.Camera.prototype.rotate,this.A=Cesium.Camera.prototype.lookAt,this.H=Cesium.Camera.prototype.flyTo,fc(this)}function gc(a,b){a.f.canvas.addEventListener(b,a.a,!1)}function fc(a){gc(a,"mousemove"),gc(a,"mousedown"),gc(a,"mouseup"),gc(a,"touchstart"),gc(a,"touchend"),gc(a,"touchmove"),window.PointerEvent&&(gc(a,"pointerdown"),gc(a,"pointerup"),gc(a,"pointermove")),gc(a,a.l),window.addEventListener("resize",a.a,!1),Cesium.loadWithXhr.load=function(b,c,d,e,f,g,h,l,m){g.promise.always(a.a),a.ma(b,c,d,e,f,g,h,l,m)},Cesium.TaskProcessor.prototype.a=function(b,c){b=a.D.call(this,b,c);var d=this;return d.b||(c=d._worker,d.b=c.onmessage,c.onmessage=function(b){d.b(b),a.b()}),b},Cesium.Camera.prototype.setView=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a.fa.apply(this,c),a.b()},Cesium.Camera.prototype.move=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a.B.apply(this,c),a.b()},Cesium.Camera.prototype.rotate=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a.C.apply(this,c),a.b()},Cesium.Camera.prototype.lookAt=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a.A.apply(this,c),a.b()},Cesium.Camera.prototype.flyTo=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a.H.apply(this,c),a.b()},a.i.P.Mb().I("change",a.a)}function hc(a){this.radius=a}function kc(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";var e=(a=a.clone().transform(c,"EPSG:4326")).T();c=0;var f;switch(e){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":c=lc(b=a.V(),d);break;case"MultiLineString":case"Polygon":for(b=a.V(),a=0,e=b.length;a<e;++a)c+=lc(b[a],d);break;case"MultiPolygon":for(b=a.V(),a=0,e=b.length;a<e;++a){var g=b[a],h=0;for(f=g.length;h<f;++h)c+=lc(g[h],d)}break;case"GeometryCollection":for(d=a.Pc(),a=0,e=d.length;a<e;++a)c+=kc(d[a],b);break;default:throw Error("Unsupported geometry type: "+e)}return c}function lc(a,b){for(var c=0,d=0,e=a.length;d<e-1;++d)c+=jc(a[d],a[d+1],b);return c}function jc(a,b,c){var d=Rb(a[1]),e=Rb(b[1]),f=(e-d)/2;return a=Rb(b[0]-a[0])/2,d=Math.sin(f)*Math.sin(f)+Math.sin(a)*Math.sin(a)*Math.cos(d)*Math.cos(e),2*c*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}function nc(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";var e=(a=a.clone().transform(c,"EPSG:4326")).T();c=0;var f;switch(e){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(b=a.V(),c=Math.abs(ic(b[0],d)),a=1,e=b.length;a<e;++a)c-=Math.abs(ic(b[a],d));break;case"MultiPolygon":for(b=a.V(),a=0,e=b.length;a<e;++a){var g=b[a];c+=Math.abs(ic(g[0],d));var h=1;for(f=g.length;h<f;++h)c-=Math.abs(ic(g[h],d))}break;case"GeometryCollection":for(d=a.Pc(),a=0,e=d.length;a<e;++a)c+=nc(d[a],b);break;default:throw Error("Unsupported geometry type: "+e)}return c}function ic(a,b){for(var c=0,d=a.length,e=a[d-1][0],f=a[d-1][1],g=0;g<d;g++){var h=a[g][0],l=a[g][1];c+=Rb(h-e)*(2+Math.sin(Rb(f))+Math.sin(Rb(l))),e=h,f=l}return c*b*b/2}function qc(a){this.rb=a.code,this.b=a.units,this.i=void 0!==a.extent?a.extent:null,this.g=void 0!==a.worldExtent?a.worldExtent:null,this.a=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.c=void 0!==a.global&&a.global,this.f=!(!this.c||!this.i),this.l=a.getPointResolution,this.j=null,this.o=a.metersPerUnit;var b=a.code,c=pc||window.proj4;"function"==typeof c&&void 0!==(b=c.defs(b))&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.a=b.axis),void 0===a.metersPerUnit&&(this.o=b.to_meter),void 0===a.units&&(this.b=b.units))}function rc(a){qc.call(this,{code:a,units:"m",extent:sc,global:!0,worldExtent:tc,getPointResolution:function(a,c){return a/Nb(c[1]/6378137)}})}function wc(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c){b[e]=uc*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>uc?f=uc:f<-uc&&(f=-uc),b[e+1]=f}return b}function xc(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/uc,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b}function yc(a,b){qc.call(this,{code:a,units:"degrees",extent:zc,axisOrientation:b,global:!0,metersPerUnit:Ac,worldExtent:zc})}function Ec(a,b,c){a=a.rb,b=b.rb,a in Dc||(Dc[a]={}),Dc[a][b]=c}function Fc(a,b){var c;return a in Dc&&b in Dc[a]&&(c=Dc[a][b]),c}function Hc(a,b,c,d){var e=(a=Ic(a)).l;return e?b=e(b,c):"degrees"==a.b&&!d||"degrees"==d||(e=Jc(a,Ic("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=e(b,b,2),b=(Gc.b(b.slice(0,2),b.slice(2,4))+Gc.b(b.slice(4,6),b.slice(6,8)))/2,void 0!==(a=d?oc[d]:a.jc())&&(b/=a)),b}function Kc(a){a.forEach(Lc),a.forEach(function(b){a.forEach(function(a){b!==a&&Ec(b,a,Nc)})})}function Oc(){Bc.forEach(function(a){vc.forEach(function(b){Ec(a,b,wc),Ec(b,a,xc)})})}function Lc(a){Cc[a.rb]=a,Ec(a,a,Nc)}function Pc(a){return a?"string"==typeof a?Ic(a):a:Ic("EPSG:3857")}function Qc(a,b,c,d){Ec(a=Ic(a),b=Ic(b),Rc(c)),Ec(b,a,Rc(d))}function Rc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2,c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);for(c[f]=g[0],c[f+1]=g[1],g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}}function Ic(a){var b=null;if(a instanceof qc)b=a;else if("string"==typeof a&&!(b=Cc[a]||null)){var c=pc||window.proj4;"function"==typeof c&&void 0!==c.defs(a)&&(b=new qc({code:a}),Lc(b))}return b}function Sc(a,b){if(a===b)return!0;var c=a.b===b.b;return a.rb===b.rb?c:Jc(a,b)===Nc&&c}function Tc(a,b){return a=Ic(a),b=Ic(b),Jc(a,b)}function Jc(a,b){var c=a.rb,d=b.rb,e=Fc(c,d);if(!e){var f=pc||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Kc([b,a]):(e=f(d,c),Qc(b,a,e.forward,e.inverse)),e=Fc(c,d))}}return e||(e=Uc),e}function Uc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Nc(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}function Vc(a,b,c){return Tc(b,c)(a,void 0,a.length)}function Wc(a,b,c){return b=Tc(b,c),Lb(a,b)}function Xc(){Kc(vc),Kc(Bc),Oc()}function Yc(a){var b=xa({},a);delete b.source,Vb.call(this,b),this.o=this.l=this.j=null,a.map&&this.setMap(a.map),y(this,Wa("source"),this.Lm,this),this.ed(a.source?a.source:null)}function Zc(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}function $c(a,b,c,d){this.ea=a,this.ga=b,this.ha=c,this.ka=d}function ad(a,b,c){return a.ea<=b&&b<=a.ga&&a.ha<=c&&c<=a.ka}function bd(a,b){return a.ea==b.ea&&a.ha==b.ha&&a.ga==b.ga&&a.ka==b.ka}function cd(a,b){return a.ea<=b.ga&&a.ga>=b.ea&&a.ha<=b.ka&&a.ka>=b.ha}function dd(a,b){return a>b?1:a<b?-1:0}function ed(a,b){return 0<=a.indexOf(b)}function fd(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c){for(c=1;c<d;++c)if(a[c]<b)return c-1}else if(0>c){for(c=1;c<d;++c)if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function gd(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]}function hd(a,b){for(var d,c=a.length>>>0,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function id(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function jd(a,b){var e,c=a.length,d=Array(a.length);for(e=0;e<c;e++)d[e]={index:e,value:a[e]};for(d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index}),e=0;e<a.length;e++)a[e]=d[e].value}function kd(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c}function ld(a,b){var c=b||dd;return a.every(function(b,e){return 0===e||!(0<(b=c(a[e-1],b))||0===b)})}function md(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")}function nd(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function od(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function pd(a,b){return a=void 0!==b?a.toFixed(b):""+a,b=a.indexOf("."),2<(b=-1===b?a.length:b)?a:Array(3-b).join("0")+a}function qd(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0}function rd(a,b){return a[0]+=b[0],a[1]+=b[1],a}function sd(a,b){var c=b.Vc(),d=b.ta();b=d[0],d=d[1];var e=a[0]-b;a=a[1]-d,0===e&&0===a&&(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]}function td(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0],d=d[1];var f=e[0],g=f-b,h=(e=e[1])-d;return 0>=(c=0===g&&0===h?0:(g*(c-b)+h*(a-d))/(g*g+h*h||0))?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h),[a,c]}function ud(a,b,c){b=Sb(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60);return 60<=(d=Math.ceil((d-3600*f-60*g)*e)/e)&&(d=0,g+=1),60<=g&&(g=0,f+=1),f+"° "+pd(g)+"′ "+pd(d,c)+"″"+(0==b?"":" "+a.charAt(0>b?1:0))}function vd(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function wd(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}function xd(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;return a[0]=a[0]*c-a[1]*b,a[1]=d,a}function zd(a,b){a[0]*=b,a[1]*=b}function Ad(a,b){var c=a[0]-b[0];return a=a[1]-b[1],c*c+a*a}function Bd(a,b){return Math.sqrt(Ad(a,b))}function Cd(a,b){return Ad(a,td(a,b))}function Dd(a,b){return vd(a,"{x}, {y}",b)}function Ed(){return!0}function Fd(){return!1}function Gd(a,b,c,d,e){Na.call(this,a),this.vectorContext=b,this.frameState=c,this.context=d,this.glContext=e}function Kd(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}function Nd(a){return Array.isArray(a)?a:Od(a)}function Pd(a){if("string"!=typeof a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];d!=(0|d)&&(d=d+.5|0),a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}function Rd(a){var b=[];return b[0]=Mb(a[0]+.5|0,0,255),b[1]=Mb(a[1]+.5|0,0,255),b[2]=Mb(a[2]+.5|0,0,255),b[3]=Mb(a[3],0,1),b}function Sd(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Pd(a)}function Td(){Ua.call(this),this.o=gb(),this.s=-1,this.i={},this.l=this.g=0}function Ud(a,b,c,d,e,f){for(var g=f||[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4],g[h++]=e[1]*l+e[3]*m+e[5]}return f&&g.length!=h&&(g.length=h),g}function Vd(a,b,c,d,e,f,g){for(var m,h=g||[],l=0;b<c;b+=d)for(h[l++]=a[b]+e,h[l++]=a[b+1]+f,m=b+2;m<b+d;++m)h[l++]=a[m];return g&&h.length!=l&&(h.length=l),h}function C(){Td.call(this),this.la="XY",this.a=2,this.v=null}function Wd(a){var b;return"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4),b}function Xd(a,b,c){a.a=Wd(b),a.la=b,a.v=c}function Yd(a,b,c,d){if(b)c=Wd(b);else{for(b=0;b<d;++b){if(0===c.length)return a.la="XY",void(a.a=2);c=c[0]}var e;2==(c=c.length)?e="XY":3==c?e="XYZ":4==c&&(e="XYZM"),b=e}a.la=b,a.a=c}function $d(a,b){var c,d,e=Zd.length;for(d=0;d<e;++d)try{if(c=a.getContext(Zd[d],b))return c}catch(f){}return null}function se(){}function ue(){return[1,0,0,1,0,0]}function ve(a){return we(a,1,0,0,1,0,0)}function xe(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],n=b[2],p=b[3],q=b[4];return b=b[5],a[0]=c*l+e*m,a[1]=d*l+f*m,a[2]=c*n+e*p,a[3]=d*n+f*p,a[4]=c*q+e*b+g,a[5]=d*q+f*b+h,a}function we(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a}function ye(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function ze(a,b){var c=b[0],d=b[1];return b[0]=a[0]*c+a[2]*d+a[4],b[1]=a[1]*c+a[3]*d+a[5],b}function Ae(a,b){var c=Math.cos(b);b=Math.sin(b),xe(a,we(te,c,b,-b,c,0,0))}function Be(a,b,c){return xe(a,we(te,b,0,0,c,0,0))}function Ce(a,b,c){xe(a,we(te,1,0,0,1,b,c))}function De(a,b,c,d,e,f,g,h){var l=Math.sin(f);return f=Math.cos(f),a[0]=d*f,a[1]=e*l,a[2]=-d*l,a[3]=e*f,a[4]=g*d*f-h*d*l+b,a[5]=g*e*l+h*e*f+c,a}function Ee(a){var b=a[0]*a[3]-a[1]*a[2];eb(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];return a[0]=f/b,a[1]=-d/b,a[2]=-e/b,a[3]=c/b,a[4]=(e*h-f*g)/b,a[5]=-(c*h-d*g)/b,a}function Fe(a,b,c,d,e){this.f=a,this.g=b,this.c=c,this.A=d,this.dc=e,this.N=this.b=this.a=this.U=this.Aa=this.O=null,this.qa=this.Y=this.s=this.fa=this.C=this.B=0,this.Wa=!1,this.i=this.ja=0,this.na=!1,this.ma=0,this.ya="",this.Da=this.Cb=0,this.Sa=!1,this.l=this.gb=0,this.D=this.o=this.j=null,this.H=[],this.Jb=ue()}function Ge(a,b,c){if(a.N){b=Ud(b,0,c,2,a.A,a.H),c=a.f;var d=a.Jb,e=c.globalAlpha;1!=a.s&&(c.globalAlpha=e*a.s);var f=a.ja;a.Wa&&(f+=a.dc);var g,h=0;for(g=b.length;h<g;h+=2){var l=b[h]-a.B,m=b[h+1]-a.C;if(a.na&&(l=Math.round(l),m=Math.round(m)),0!==f||1!=a.i){var n=l+a.B,p=m+a.C;De(d,n,p,a.i,a.i,f,-n,-p),c.setTransform.apply(c,d)}c.drawImage(a.N,a.Y,a.qa,a.ma,a.fa,l,m,a.ma,a.fa)}0===f&&1==a.i||c.setTransform(1,0,0,1,0,0),1!=a.s&&(c.globalAlpha=e)}}function He(a,b,c,d){var e=0;if(a.D&&""!==a.ya){a.j&&Ie(a,a.j),a.o&&Je(a,a.o);var f=a.D,g=a.f,h=a.U;for(h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.U={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),b=Ud(b,e,c,d,a.A,a.H),f=a.f,g=a.gb,a.Sa&&(g+=a.dc);e<c;e+=d){h=b[e]+a.Cb;var l=b[e+1]+a.Da;if(0!==g||1!=a.l){var m=De(a.Jb,h,l,a.l,a.l,g,-h,-l);f.setTransform.apply(f,m)}a.o&&f.strokeText(a.ya,h,l),a.j&&f.fillText(a.ya,h,l)}0===g&&1==a.l||f.setTransform(1,0,0,1,0,0)}}function Ke(a,b,c,d,e,f){var g=a.f;for(a=Ud(b,c,d,e,a.A,a.H),g.moveTo(a[0],a[1]),b=a.length,f&&(b-=2),c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);return f&&g.closePath(),d}function Le(a,b,c,d,e){var f,g=0;for(f=d.length;g<f;++g)c=Ke(a,b,c,d[g],e,!0);return c}function Ie(a,b){var c=a.f,d=a.O;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.O={fillStyle:b.fillStyle})}function Je(a,b){var c=a.f,d=a.Aa;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),he&&(id(d.lineDash,b.lineDash)||c.setLineDash(d.lineDash=b.lineDash),d.lineDashOffset!=b.lineDashOffset&&(d.lineDashOffset=c.lineDashOffset=b.lineDashOffset)),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,he&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Aa={lineCap:b.lineCap,lineDash:b.lineDash,lineDashOffset:b.lineDashOffset,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}function Re(a){Ra.call(this),this.a=a}function Ue(a,b){var c=b.getState();return 2!=c&&3!=c&&y(b,"change",a.qa,a),0==c&&(b.load(),c=b.getState()),2==c}function Te(a){var b=a.a;b.sb()&&"ready"==b.qg()&&a.u()}function Ve(a,b){b.pj()&&a.postRenderFunctions.push(function(a,b,e){(b=w(a).toString())in e.usedTiles&&a.qd(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function We(a,b){if(b){var c,d=0;for(c=b.length;d<c;++d){var e=b[d];a[w(e).toString()]=e}}}function Xe(a,b){void 0!==(b=b.A)&&("string"==typeof b?a.logos[b]="":b&&(eb("string"==typeof b.href,44),eb("string"==typeof b.src,45),a.logos[b.src]=b.href))}function Ye(a,b,c,d){b=w(b).toString(),c=c.toString(),b in a?c in a[b]?(a=a[b][c],d.ea<a.ea&&(a.ea=d.ea),d.ga>a.ga&&(a.ga=d.ga),d.ha<a.ha&&(a.ha=d.ha),d.ka>a.ka&&(a.ka=d.ka)):a[b][c]=d:(a[b]={},a[b][c]=d)}function Ze(a,b,c,d,e,f,g,h,l,m){var n=w(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var t,u,x,q=c.minZoom;for(x=g;x>=q;--x){var B=$e(c,f,x,B),A=c.Ha(x);for(t=B.ea;t<=B.ga;++t)for(u=B.ha;u<=B.ka;++u)if(g-x<=h){var E=b.Xc(x,t,u,d,e);0==E.getState()&&(p[E.ib()]=!0,E.ib()in a.a||a.i([E,n,af(c,E.xa),A])),l&&l.call(m,E)}else b.nh(x,t,u,e)}}function bf(a){Re.call(this,a),this.Y=ue()}function cf(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=Bb(c),l=Ab(c),m=zb(c);c=yb(c),ze(b.coordinateToPixelTransform,h),ze(b.coordinateToPixelTransform,l),ze(b.coordinateToPixelTransform,m),ze(b.coordinateToPixelTransform,c),a.save(),Kd(a,-g,e/2,f/2),a.beginPath(),a.moveTo(h[0]*d,h[1]*d),a.lineTo(l[0]*d,l[1]*d),a.lineTo(m[0]*d,m[1]*d),a.lineTo(c[0]*d,c[1]*d),a.clip(),Kd(a,g,e/2,f/2)}function df(a,b,c,d,e){var f=a.a;if(Qa(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;Kd(c,-l,g/2,h/2),a=e||ef(a,d,0),f.b(new Gd(b,new Fe(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null)),Kd(c,l,g/2,h/2)}}function ef(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return De(a.Y,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])}function ff(a){bf.call(this,a),this.o=ue(),this.g=null}function gf(a){ff.call(this,a),this.context=null===this.context?null:md(),this.j=null,this.i=[],this.l=gb(),this.na=new $c(0,0,0,0),this.C=ue(),this.U=0}function hf(a,b){return b=b.getState(),a=a.a.wd(),2==b||4==b||3==b&&!a}function rf(){}function sf(a){this.b=a}function tf(a){this.b=a}function uf(a){this.b=a}function vf(){this.b="precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n"}function xf(){this.b="varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n"}function zf(a,b){this.C=a.getUniformLocation(b,"u_fillColor"),this.ma=a.getUniformLocation(b,"u_lineWidth"),this.c=a.getUniformLocation(b,"u_offsetRotateMatrix"),this.i=a.getUniformLocation(b,"u_offsetScaleMatrix"),this.a=a.getUniformLocation(b,"u_opacity"),this.D=a.getUniformLocation(b,"u_pixelRatio"),this.f=a.getUniformLocation(b,"u_projectionMatrix"),this.O=a.getUniformLocation(b,"u_size"),this.Aa=a.getUniformLocation(b,"u_strokeColor"),this.j=a.getAttribLocation(b,"a_instruction"),this.b=a.getAttribLocation(b,"a_position"),this.A=a.getAttribLocation(b,"a_radius")}function Af(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Bf(a,b){return a[0]=b[0],a[1]=b[1],a[4]=b[2],a[5]=b[3],a[12]=b[4],a[13]=b[5],a}function Cf(a,b){this.origin=Gb(b),this.Jb=ue(),this.Sa=ue(),this.gb=ue(),this.Y=Af(),this.b=[],this.j=null,this.f=[],this.i=[],this.a=[],this.o=null,this.g=void 0}function Ef(a,b,c,d){a.drawElements(4,d-c,b.g?5125:5123,c*(b.g?4:2))}function If(a,b,c,d,e,f){return(a=(c-a)*(f-b)-(e-a)*(d-b))<=Jf&&a>=-Jf?void 0:0<a}function Kf(a){this.b=void 0!==a?a:[],this.a=Lf}function Mf(a,b){Cf.call(this,0,b),this.s=null,this.l=[],this.H=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}function Pf(a,b,c,d){b.uniform4fv(a.s.Aa,c),b.uniform1f(a.s.ma,d)}function Qf(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function Sf(){this.b="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n"}function Vf(a,b){this.c=a.getUniformLocation(b,"u_offsetRotateMatrix"),this.i=a.getUniformLocation(b,"u_offsetScaleMatrix"),this.a=a.getUniformLocation(b,"u_opacity"),this.f=a.getUniformLocation(b,"u_projectionMatrix"),this.s=a.getAttribLocation(b,"a_offsets"),this.H=a.getAttribLocation(b,"a_opacity"),this.b=a.getAttribLocation(b,"a_position"),this.B=a.getAttribLocation(b,"a_rotateWithView"),this.fa=a.getAttribLocation(b,"a_texCoord")}function Wf(a,b){this.j=a,this.b=b,this.a={},this.c={},this.f={},this.o=this.s=this.i=this.l=null,(this.g=ed(ua,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint"),y(this.j,"webglcontextlost",this.Up,this),y(this.j,"webglcontextrestored",this.Vp,this)}function Df(a,b,c){var d=a.b,e=c.b,f=String(w(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.g?new Uint32Array(e):new Uint16Array(e)),d.bufferData(b,h,c.a),a.a[f]={ec:c,buffer:g}}}function Nf(a,b){var c=a.b;b=String(w(b));var d=a.a[b];c.isContextLost()||c.deleteBuffer(d.buffer),delete a.a[b]}function Xf(a){if(!a.i){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Yf(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e),b.bindTexture(b.TEXTURE_2D,null),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),a.i=c,a.s=d,a.o=e}return a.i}function Zf(a,b){var c=String(w(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.T());return d.shaderSource(e,b.b),d.compileShader(e),a.c[c]=e}function Of(a,b,c){var d=w(b)+"/"+w(c);if(d in a.f)return a.f[d];var e=a.b,f=e.createProgram();return e.attachShader(f,Zf(a,b)),e.attachShader(f,Zf(a,c)),e.linkProgram(f),a.f[d]=f}function $f(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(3553,10242,b),void 0!==c&&a.texParameteri(3553,10243,c),d}function Yf(a,b,c){var d=$f(a,void 0,void 0);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),d}function ag(a,b){var c=$f(a,33071,33071);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),c}function bg(a,b){Cf.call(this,0,b),this.C=this.B=void 0,this.s=[],this.H=[],this.D=this.ma=this.height=void 0,this.U=null,this.width=this.scale=this.rotation=this.rotateWithView=this.Aa=this.O=this.opacity=void 0}function cg(a,b,c,d,e){var f=a.B,g=a.C,h=a.height,l=a.ma,m=a.D,n=a.opacity,p=a.O,q=a.Aa,t=a.rotateWithView?1:0,u=-a.rotation,x=a.scale,B=a.width,A=Math.cos(u);u=Math.sin(u);for(var ia,N,O,fa,Aa,E=a.b.length,F=a.a.length;c<d;c+=e)fa=b[c]-a.origin[0],Aa=b[c+1]-a.origin[1],ia=F/8,N=-x*f,O=-x*(h-g),a.a[F++]=fa,a.a[F++]=Aa,a.a[F++]=N*A-O*u,a.a[F++]=N*u+O*A,a.a[F++]=p/m,a.a[F++]=(q+h)/l,a.a[F++]=n,a.a[F++]=t,N=x*(B-f),O=-x*(h-g),a.a[F++]=fa,a.a[F++]=Aa,a.a[F++]=N*A-O*u,a.a[F++]=N*u+O*A,a.a[F++]=(p+B)/m,a.a[F++]=(q+h)/l,a.a[F++]=n,a.a[F++]=t,N=x*(B-f),O=x*g,a.a[F++]=fa,a.a[F++]=Aa,a.a[F++]=N*A-O*u,a.a[F++]=N*u+O*A,a.a[F++]=(p+B)/m,a.a[F++]=q/l,a.a[F++]=n,a.a[F++]=t,N=-x*f,O=x*g,a.a[F++]=fa,a.a[F++]=Aa,a.a[F++]=N*A-O*u,a.a[F++]=N*u+O*A,a.a[F++]=p/m,a.a[F++]=q/l,a.a[F++]=n,a.a[F++]=t,a.b[E++]=ia,a.b[E++]=ia+1,a.b[E++]=ia+2,a.b[E++]=ia,a.b[E++]=ia+2,a.b[E++]=ia+3}function dg(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e],h=w(g).toString();h in c?g=c[h]:(g=ag(d,g),c[h]=g),a[e]=g}}function eg(a,b){bg.call(this,0,b),this.l=[],this.c=[],this.fa=[],this.A=[]}function fg(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=(h-f)*(l+g),f=h,g=l}return 0<e}function gg(a,b,c,d){var e=0;d=void 0!==d&&d;var f,g=0;for(f=b.length;g<f;++g){var h=b[g];if(e=fg(a,e,h,c),0===g){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}function hg(a,b,c,d,e){e=void 0!==e&&e;var f,g=0;for(f=c.length;g<f;++g){var h=c[g],l=fg(a,b,h,d);if(0===g?e&&l||!e&&!l:e&&!l||!e&&l){l=a;for(var m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p],l[m-n+p]=q}b+=n,m-=n}}b=h}return b}function ig(a,b,c,d){var f,e=0,g=0;for(f=b.length;g<f;++g)e=hg(a,e,b[g],c,d);return e}function jg(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=g*h-f*l,f=h,g=l}return e/2}function kg(a,b,c,d){var f,e=0,g=0;for(f=c.length;g<f;++g){var h=c[g];e+=jg(a,b,h,d),b=h}return e}function lg(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c&&!!jg(a,0,b,c)}function mg(){this.b="precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function og(){this.b="varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n"}function qg(a,b){this.C=a.getUniformLocation(b,"u_color"),this.ma=a.getUniformLocation(b,"u_lineWidth"),this.Aa=a.getUniformLocation(b,"u_miterLimit"),this.c=a.getUniformLocation(b,"u_offsetRotateMatrix"),this.i=a.getUniformLocation(b,"u_offsetScaleMatrix"),this.a=a.getUniformLocation(b,"u_opacity"),this.D=a.getUniformLocation(b,"u_pixelRatio"),this.f=a.getUniformLocation(b,"u_projectionMatrix"),this.O=a.getUniformLocation(b,"u_size"),this.g=a.getAttribLocation(b,"a_direction"),this.l=a.getAttribLocation(b,"a_lastPos"),this.o=a.getAttribLocation(b,"a_nextPos"),this.b=a.getAttribLocation(b,"a_position")}function rg(a,b){Cf.call(this,0,b),this.s=null,this.H=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}function sg(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=lg(b,c,d),n=g,p=1;for(e=0;e<c;e+=d){var q=f/7,t=u,u=x||[b[e],b[e+1]];if(0===e){var x=[b[e+d],b[e+d+1]];if(c-0==2*d&&id(u,x))break;if(!m){l&&(f=tg(a,[0,0],u,x,p*ug*l,f),f=tg(a,[0,0],u,x,-p*ug*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2),f=tg(a,[0,0],u,x,p*vg*(l||1),f),n=(f=tg(a,[0,0],u,x,-p*vg*(l||1),f))/7-1;continue}t=[b[c-2*d],b[c-2*d+1]];var B=x}else{if(e===c-d){m?x=B:(t=t||[0,0],f=tg(a,t,u,[0,0],p*wg*(l||1),f),f=tg(a,t,u,[0,0],-p*wg*(l||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,l&&(f=tg(a,t,u,[0,0],p*xg*l,f),f=tg(a,t,u,[0,0],-p*xg*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2));break}x=[b[e+d],b[e+d+1]]}var A=If(t[0],t[1],u[0],u[1],x[0],x[1])?-1:1;f=tg(a,t,u,x,A*yg*(h||1),f),f=tg(a,t,u,x,A*zg*(h||1),f),f=tg(a,t,u,x,-A*Ag*(h||1),f),0<e&&(a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<p*A?n:n-1),a.b[g++]=q,a.b[g++]=q+2,a.b[g++]=q+1,n=q+2,p=A,h&&(f=tg(a,t,u,x,A*Bg*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,A=fg([t[0],t[1],u[0],u[1],x[0],x[1]],0,6,2)?1:-1,f=tg(a,t,u,x,A*yg*(h||1),f),tg(a,t,u,x,-A*Ag*(h||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<p*A?n:n-1)}function tg(a,b,c,d,e,f){return a.a[f++]=b[0],a.a[f++]=b[1],a.a[f++]=c[0],a.a[f++]=c[1],a.a[f++]=d[0],a.a[f++]=d[1],a.a[f++]=e,f}function Dg(a,b,c,d){return!((c-=b)<2*d||c===2*d&&id([a[b],a[b+1]],[a[b+d],a[b+d+1]]))}function Eg(a,b,c,d){if(lg(b,b.length,d)||(b.push(b[0]),b.push(b[1])),sg(a,b,b.length,d),c.length){var e;for(b=0,e=c.length;b<e;++b)lg(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),sg(a,c[b],c[b].length,d)}}function Fg(a,b,c){c=void 0===c?a.b.length:c,a.f.push(c),a.i.push(b),a.c.u&&(a.l.push(c),a.c.u=!1)}function Gg(a,b,c,d,e){b.uniform4fv(a.s.C,c),b.uniform1f(a.s.ma,d),b.uniform1f(a.s.Aa,e)}function Hg(a,b,c,d,e){return!xb(e,function(e){return!Ig(a,b,c,d,e[0],e[1])})}function Ig(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l<=f?n>f&&0<(m-h)*(f-l)-(e-h)*(n-l)&&g++:n<=f&&0>(m-h)*(f-l)-(e-h)*(n-l)&&g--,h=m,l=n}return 0!==g}function Jg(a,b,c,d,e,f){if(0===c.length||!Ig(a,b,c[0],d,e,f))return!1;var g;for(b=1,g=c.length;b<g;++b)if(Ig(a,c[b-1],c[b],d,e,f))return!1;return!0}function Kg(){this.b="precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function Mg(){this.b="\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n"}function Og(a,b){this.C=a.getUniformLocation(b,"u_color"),this.c=a.getUniformLocation(b,"u_offsetRotateMatrix"),this.i=a.getUniformLocation(b,"u_offsetScaleMatrix"),this.a=a.getUniformLocation(b,"u_opacity"),this.f=a.getUniformLocation(b,"u_projectionMatrix"),this.b=a.getAttribLocation(b,"a_position")}function Pg(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.g=a.lineCap,this.a=void 0!==a.lineDash?a.lineDash:null,this.i=a.lineDashOffset,this.j=a.lineJoin,this.l=a.miterLimit,this.c=a.width,this.f=void 0}function Qg(a){this.b=this.a=this.f=void 0,this.i=void 0===a||a,this.c=0}function Rg(a){var b=a.b;if(b){var c=b.next,d=b.zb;c&&(c.zb=d),d&&(d.next=c),a.b=c||d,a.f===a.a?(a.b=void 0,a.f=void 0,a.a=void 0):a.f===b?a.f=a.b:a.a===b&&(a.a=d?a.b.zb:a.b),a.c--}}function Sg(a){if(a.b=a.f,a.b)return a.b.data}function Tg(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function Ug(a){if(a.b&&a.b.next)return a.b.next.data}function Vg(a){if(a.b&&a.b.zb)return a.b=a.b.zb,a.b.data}function Wg(a){if(a.b&&a.b.zb)return a.b.zb.data}function Xg(a){if(a.b)return a.b.data}function Zg(a){this.a=Yg.ke(a),this.b={}}function $g(a,b,c){var d=a.b[w(c)];vb([d.ea,d.ha,d.ga,d.ka],b)||(a.remove(c),a.Ja(b,c))}function ah(a){return a.a.all().map(function(a){return a.value})}function bh(a,b){return a.a.search({ea:b[0],ha:b[1],ga:b[2],ka:b[3]}).map(function(a){return a.value})}function dh(a,b,c,d){return ch(bh(a,b),c,d)}function ch(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}function eh(a,b){Cf.call(this,0,b),this.g=new rg(0,b),this.s=null,this.H=[],this.c=[],this.l={fillColor:null,u:!1}}function fh(a,b,c,d){var e=new Qg,f=new Zg;if(gh(a,b,d,e,f,!0),b=hh(e),c.length){var g,h=[],l=0;for(g=c.length;l<g;++l){var m={list:new Qg,Bc:void 0,gh:new Zg};h.push(m),gh(a,c[l],d,m.list,m.gh,!1),ih(m.list,m.gh,!0),m.Bc=hh(m.list)}for(h.sort(function(a,b){return b.Bc[0]===a.Bc[0]?a.Bc[1]-b.Bc[1]:b.Bc[0]-a.Bc[0]}),l=0;l<h.length;++l){g=d=Sg(c=h[l].list);do{if(jh(g,f).length){var n=!0;break}g=Tg(c)}while(d!==g);!n&&kh(c,h[l].Bc[0],e,b[0],f)&&(f.concat(h[l].gh),ih(e,f,!1))}}else ih(e,f,!1);lh(a,e,f)}function gh(a,b,c,d,e,f){var g,h=a.a.length/2,l=[],m=[];if(f===fg(b,0,b.length,c)){var n=f=mh(a,b[0],b[1],h++),p=c;for(g=b.length;p<g;p+=c){var q=mh(a,b[p],b[p+1],h++);m.push(nh(n,q,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),n=q}}else for(p=b.length-c,n=f=mh(a,b[p],b[p+1],h++),p-=c,g=0;p>=g;p-=c)q=mh(a,b[p],b[p+1],h++),m.push(nh(n,q,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),n=q;m.push(nh(q,f,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),e.load(l,m)}function hh(a){var b=Sg(a),c=b,d=[c.aa.x,c.aa.y];do{(c=Tg(a)).aa.x>d[0]&&(d=[c.aa.x,c.aa.y])}while(c!==b);return d}function ih(a,b,c){var d=Sg(a),e=d,f=Tg(a),g=!1;do{var h=c?If(f.X.x,f.X.y,e.X.x,e.X.y,e.aa.x,e.aa.y):If(e.aa.x,e.aa.y,e.X.x,e.X.y,f.X.x,f.X.y);void 0===h?(oh(e,f,a,b),g=!0,f===d&&(d=Ug(a)),f=e,Vg(a)):e.X.Gb!==h&&(e.X.Gb=h,g=!0),e=f,f=Tg(a)}while(e!==d);return g}function kh(a,b,c,d,e){for(var f=Sg(a);f.X.x!==b;)f=Tg(a);var h,g=1/0,l=jh({aa:b=f.X,X:d={x:d,y:b.y,mb:-1}},e,!0),m=0;for(h=l.length;m<h;++m){var n=l[m],p=ph(b,d,n.aa,n.X,!0),q=Math.abs(b.x-p[0]);if(q<g&&void 0!==If(b.x,b.y,n.aa.x,n.aa.y,n.X.x,n.X.y)){g=q;var t={x:p[0],y:p[1],mb:-1};f=n}}if(1/0===g)return!1;if(l=f.X,0<g&&(f=qh(b,t,f.X,e)).length)for(t=1/0,m=0,h=f.length;m<h;++m)g=f[m],((n=Math.atan2(b.y-g.y,d.x-g.x))<t||n===t&&g.x<l.x)&&(t=n,l=g);for(f=Sg(c);f.X.x!==l.x||f.X.y!==l.y;)f=Tg(c);return d={x:b.x,y:b.y,mb:b.mb,Gb:void 0},m={x:f.X.x,y:f.X.y,mb:f.X.mb,Gb:void 0},Ug(a).aa=d,nh(b,f.X,a,e),nh(m,d,a,e),f.X=m,a.i&&a.b&&(a.f=a.b,a.a=a.b.zb),c.concat(a),!0}function lh(a,b,c){for(var d=!1,e=rh(b,c);3<b.c;)if(e){if(!sh(a,b,c,e,d)&&!ih(b,c,d)&&!th(a,b,c,!0))break}else if(!sh(a,b,c,e,d)&&!ih(b,c,d)&&!th(a,b,c)){if(!(e=rh(b,c))){e=a,f=g=Sg(d=b);do{if((h=jh(f,c)).length){for(g=h[0],h=mh(e,(h=ph(f.aa,f.X,g.aa,g.X))[0],h[1],e.a.length/2),l=new Qg,m=new Zg,nh(h,f.X,l,m),f.X=h,$g(c,[Math.min(f.aa.x,h.x),Math.min(f.aa.y,h.y),Math.max(f.aa.x,h.x),Math.max(f.aa.y,h.y)],f),f=Tg(d);f!==g;)nh(f.aa,f.X,l,m),c.remove(f),Rg(d),f=Xg(d);nh(g.aa,h,l,m),g.aa=h,$g(c,[Math.min(g.X.x,h.x),Math.min(g.X.y,h.y),Math.max(g.X.x,h.x),Math.max(g.X.y,h.y)],g),ih(d,c,!1),lh(e,d,c),ih(l,m,!1),lh(e,l,m);break}f=Tg(d)}while(f!==g);break}var f=2*(d=b).c,g=Array(f),h=Sg(d),l=h,m=0;do{g[m++]=l.aa.x,g[m++]=l.aa.y,l=Tg(d)}while(l!==h);ih(b,c,d=!fg(g,0,f,2))}3===b.c&&(e=a.b.length,a.b[e++]=Wg(b).aa.mb,a.b[e++]=Xg(b).aa.mb,a.b[e++]=Ug(b).aa.mb)}function sh(a,b,c,d,e){var f=a.b.length,g=Sg(b),h=Wg(b),l=g,m=Tg(b),n=Ug(b),p=!1;do{var q=l.aa,t=l.X,u=m.X;if(!1===t.Gb){var x=d?0===qh(q,t,u,c,!0).length:e?uh(n.X,u,t,q,h.aa):uh(h.aa,q,t,u,n.X);!d&&0!==jh({aa:q,X:u},c).length||!x||!d&&!1!==q.Gb&&!1!==u.Gb&&fg([h.aa.x,h.aa.y,q.x,q.y,t.x,t.y,u.x,u.y,n.X.x,n.X.y],0,10,2)!==!e||(a.b[f++]=q.mb,a.b[f++]=t.mb,a.b[f++]=u.mb,oh(l,m,b,c),m===g&&(g=n),p=!0)}h=Wg(b),l=Xg(b),m=Tg(b),n=Ug(b)}while(l!==g&&3<b.c);return p}function th(a,b,c,d){var e=Sg(b);Tg(b);var f=e,g=Tg(b),h=!1;do{var l=ph(f.aa,f.X,g.aa,g.X,d);if(l){h=a.b.length;var m=a.a.length/2,n=Vg(b);Rg(b),c.remove(n);var p=n===e;if(d?(l[0]===f.aa.x&&l[1]===f.aa.y?(Vg(b),l=f.aa,g.aa=l,c.remove(f),p=p||f===e):(l=g.X,f.X=l,c.remove(g),p=p||g===e),Rg(b)):(l=mh(a,l[0],l[1],m),f.X=l,g.aa=l,$g(c,[Math.min(f.aa.x,f.X.x),Math.min(f.aa.y,f.X.y),Math.max(f.aa.x,f.X.x),Math.max(f.aa.y,f.X.y)],f),$g(c,[Math.min(g.aa.x,g.X.x),Math.min(g.aa.y,g.X.y),Math.max(g.aa.x,g.X.x),Math.max(g.aa.y,g.X.y)],g)),a.b[h++]=n.aa.mb,a.b[h++]=n.X.mb,a.b[h++]=l.mb,h=!0,p)break}f=Wg(b),g=Tg(b)}while(f!==e);return h}function rh(a,b){var c=Sg(a),d=c;do{if(jh(d,b).length)return!1;d=Tg(a)}while(d!==c);return!0}function mh(a,b,c,d){var e=a.a.length;return a.a[e++]=b,a.a[e++]=c,{x:b,y:c,mb:d,Gb:void 0}}function nh(a,b,c,d){var e={aa:a,X:b},f={zb:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.zb=g,f.next=h,g.next=f,h&&(h.zb=f),g===c.a&&(c.a=f)}else c.f=f,c.a=f,c.i&&(f.next=f,f.zb=f);return c.b=f,c.c++,d&&d.Ja([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e),e}function oh(a,b,c,d){Xg(c)===b&&(Rg(c),a.X=b.X,d.remove(b),$g(d,[Math.min(a.aa.x,a.X.x),Math.min(a.aa.y,a.X.y),Math.max(a.aa.x,a.X.x),Math.max(a.aa.y,a.X.y)],a))}function qh(a,b,c,d,e){var f,g,h=[],l=bh(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);for(d=0,f=l.length;d<f;++d)for(g in l[d]){var m=l[d][g];"object"!=typeof m||e&&!m.Gb||m.x===a.x&&m.y===a.y||m.x===b.x&&m.y===b.y||m.x===c.x&&m.y===c.y||-1!==h.indexOf(m)||!Ig([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,m.x,m.y)||h.push(m)}return h}function jh(a,b,c){var g,d=a.aa,e=a.X,f=[],h=0;for(g=(b=bh(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)])).length;h<g;++h){var l=b[h];a!==l&&(c||l.aa!==e||l.X!==d)&&ph(d,e,l.aa,l.X,c)&&f.push(l)}return f}function ph(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!==f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Jf&&d<1-Jf&&c>Jf&&c<1-Jf||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}function uh(a,b,c,d,e){if(void 0===b.Gb||void 0===d.Gb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);return e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x),a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x),c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x),b=b.Gb?c||a:c&&a,(d.Gb?e||f:e&&f)&&b}function vh(a,b){this.b=b,this.a=[{x:0,y:0,width:a,height:a}],this.c={},this.f=md(a,a),this.i=this.f.canvas}function wh(a,b,c,d){b=[b,1],0<c.width&&0<c.height&&b.push(c),0<d.width&&0<d.height&&b.push(d),a.a.splice.apply(a.a,b)}function xh(a){a=a||{},this.a=void 0!==a.initialSize?a.initialSize:256,this.f=void 0!==a.maxSize?a.maxSize:void 0!==ta?ta:2048,this.b=void 0!==a.space?a.space:1,this.g=[new vh(this.a,this.b)],this.c=this.a,this.i=[new vh(this.c,this.b)]}function zh(a,b){var c,d=0;for(c=a.length;d<c;++d){var e=a[d];if(e=e.get(b))return e}return null}function Ah(a,b){return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,Sm:b.image}}function Bh(a,b,c,d,e,f,g){var l,h=b?a.i:a.g,m=0;for(l=h.length;m<l;++m){var n=h[m];if(n=n.add(c,d,e,f,g))return n;n||m!==l-1||(b?(n=Math.min(2*a.c,a.f),a.c=n):(n=Math.min(2*a.a,a.f),a.a=n),n=new vh(n,a.b),h.push(n),++l)}return null}function Ch(a,b){bg.call(this,0,b),this.c=[],this.Cb=[],this.Da=md(0,0).canvas,this.A={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ya="",this.Wa=this.qa=this.na=this.ja=void 0,this.fa={},this.l=void 0,this.opacity=this.scale=1}function Dh(a,b){var c=a.l,d=b.length*c.height;return[b.map(function(b){var e,d=0,h=0;for(e=b.length;h<e;++h){var l=b[h];c.width[l]||Eh(a,l),d+=c.width[l]?c.width[l]:0}return d}).reduce(function(a,b){return Math.max(a,b)}),d]}function Eh(a,b){if(1===b.length){var c=a.l,d=a.A;(a=a.Da.getContext("2d")).font=d.font,a=Math.ceil(a.measureText(b).width*d.scale),c.Fh.add(b,a,c.height,function(a,c,g){a.font=d.font,a.fillStyle=d.fillColor,a.strokeStyle=d.strokeColor,a.lineWidth=d.lineWidth,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.miterLimit=d.miterLimit,a.textAlign="left",a.textBaseline="top",he&&d.lineDash&&(a.setLineDash(d.lineDash),a.lineDashOffset=d.lineDashOffset),1!==d.scale&&a.setTransform(d.scale,0,0,d.scale,0,0),d.strokeColor&&a.strokeText(b,c,g),d.fillColor&&a.fillText(b,c,g)})&&(c.width[b]=a)}}function Gh(a,b,c){this.g=b,this.j=a,this.i=c,this.f={}}function Hh(a,b){var d,c=[];for(d in a.f){var f,e=a.f[d];for(f in e)c.push(e[f].yb(b))}return function(){for(var b,a=c.length,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function Ih(a,b){for(var c in a.f){var e,d=a.f[c];for(e in d)d[e].fb(b)}}function Kh(a,b,c,d,e,f,g,h,l,m,n){var p=Lh,q=Object.keys(a.f).map(Number);q.sort(function(a,b){return b-a});var t,u,x=0;for(t=q.length;x<t;++x){var B=a.f[q[x].toString()];for(u=qf.length-1;0<=u;--u){var A=B[qf[u]];if(void 0!==A&&(A=A.Qa(b,c,d,e,p,f,g,h,l,m,n)))return A}}}function Mh(a,b,c,d,e,f,g,h){var l=c.b;return l.bindFramebuffer(l.FRAMEBUFFER,Xf(c)),void 0!==Kh(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a),0<a[3]},!1)}function Nh(a,b,c,d,e,f,g){this.b=a,this.f=b,this.c=f,this.i=g,this.l=e,this.j=d,this.g=c,this.a=this.o=this.s=this.H=null}function Oh(a,b,c,d,e){var f=a.b;(b=b.b(0,"Text")).jb(a.a),b.Tb(c,0,d,e,null,null),b.fb(f),b.Qa(a.b,a.f,a.g,a.j,a.l,a.i,1,{},void 0,!1),b.yb(f)()}function Ph(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"}function Rh(){this.b="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"}function Th(a,b){this.f=a.getUniformLocation(b,"u_opacity"),this.c=a.getUniformLocation(b,"u_projectionMatrix"),this.g=a.getUniformLocation(b,"u_texCoordMatrix"),this.i=a.getUniformLocation(b,"u_texture"),this.b=a.getAttribLocation(b,"a_position"),this.a=a.getAttribLocation(b,"a_texCoord")}function Uh(a,b){Re.call(this,b),this.c=a,this.Y=new Kf([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.g=this.texture=null,this.j=void 0,this.s=ue(),this.A=ue(),this.C=Af(),this.H=null}function Vh(a,b,c){var d=a.c.f;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.g,a.texture)),b=Yf(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e),d.framebufferTexture2D(36160,36064,3553,b,0),a.texture=b,a.g=e,a.j=c}else d.bindFramebuffer(36160,a.g)}function Wh(a,b,c,d){if(a=a.a,Qa(a,b)){var e=d.viewState;a.b(new Gd(b,new Nh(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}function Xh(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n"}function Zh(){this.b="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n"}function ai(a,b){this.f=a.getUniformLocation(b,"u_texture"),this.c=a.getUniformLocation(b,"u_tileOffset"),this.b=a.getAttribLocation(b,"a_position"),this.a=a.getAttribLocation(b,"a_texCoord")}function bi(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c}function ci(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c}function kf(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:b[0]=b[1]=a,b)}function di(a,b){Uh.call(this,a,b),this.O=Yh,this.ja=$h,this.i=null,this.D=new Kf([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.B=this.l=null,this.o=-1,this.U=[0,0]}function fi(a){var b=xa({},a=a||{});delete b.preload,delete b.useInterimTilesOnError,Yc.call(this,b),this.ej(void 0!==a.preload?a.preload:0),this.fj(void 0===a.useInterimTilesOnError||a.useInterimTilesOnError)}function gi(a,b){Pa.call(this),this.xa=a,this.state=b,this.a=null,this.key=""}function mf(a){if(!a.a)return a;var b=a.a;do{if(2==b.getState())return b;b=b.a}while(b);return a}function hi(a){if(a.a){var b=a.a;do{if(2==b.getState()){b.a=null;break}1==b.getState()?a=b:0==b.getState()?a.a=b.a:a=b,b=a.a}while(b)}}function lf(a,b){a.state=b,a.u()}function ii(a,b,c,d,e){gi.call(this,a,b),this.g=c,this.N=new Image,null!==d&&(this.N.crossOrigin=d),this.c=null,this.j=e}function ji(a){a.c.forEach(Da),a.c=null}function mi(){this.c=0,this.b={},this.f=this.a=null}function ni(a){mi.call(this),this.highWaterMark=void 0!==a?a:2048}function oi(a){return a.c>a.highWaterMark}function pi(a,b,c,d){var e=Vc(c,b,a);return c=Hc(b,d,c),void 0!==(b=b.jc())&&(c*=b),void 0!==(b=a.jc())&&(c/=b),(b=a.G())&&!lb(b,e)||(a=Hc(a,c,e)/c,isFinite(a)&&0<a&&(c/=a)),c}function qi(a,b,c,d){a=c-a,b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}function ri(a,b,c,d,e,f,g,h,l,m,n){var p=md(Math.round(c*a),Math.round(c*b));if(0===l.length)return p.canvas;p.scale(c,c);var q=gb();l.forEach(function(a){wb(q,a.extent)});var t=md(Math.round(c*Eb(q)/d),Math.round(c*Fb(q)/d)),u=c/d;l.forEach(function(a){t.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,Eb(a.extent)*u,Fb(a.extent)*u)});var x=Bb(g);return h.c.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-x[0])/f;var n=-(e[0][1]-x[1])/f,u=(e[1][0]-x[0])/f,B=-(e[1][1]-x[1])/f,Z=(e[2][0]-x[0])/f,Za=-(e[2][1]-x[1])/f;a:{for(h=(g=[[g-=e=b[0][0],h-=b=b[0][1],0,0,u-a],[l-=e,m-=b,0,0,Z-a],[0,0,g,h,B-n],[0,0,l,m,Za-n]]).length,l=0;l<h;l++){m=l;for(var aa=Math.abs(g[l][l]),rb=l+1;rb<h;rb++){var Ub=Math.abs(g[rb][l]);Ub>aa&&(aa=Ub,m=rb)}if(0===aa){g=null;break a}for(aa=g[m],g[m]=g[l],g[l]=aa,m=l+1;m<h;m++)for(aa=-g[m][l]/g[l][l],rb=l;rb<h+1;rb++)g[m][rb]=l==rb?0:g[m][rb]+aa*g[l][rb]}for(l=Array(h),m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],aa=m-1;0<=aa;aa--)g[aa][h]-=g[aa][m]*l[m];g=l}g&&(p.save(),p.beginPath(),l=(a+u+Z)/3,m=(n+B+Za)/3,h=qi(l,m,a,n),u=qi(l,m,u,B),Z=qi(l,m,Z,Za),p.moveTo(u[0],u[1]),p.lineTo(h[0],h[1]),p.lineTo(Z[0],Z[1]),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(t.canvas,0,0),p.restore())}),n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.c.forEach(function(a){var b=a.target;a=(b[0][0]-x[0])/f;var c=-(b[0][1]-x[1])/f,d=(b[1][0]-x[0])/f,e=-(b[1][1]-x[1])/f,g=(b[2][0]-x[0])/f;b=-(b[2][1]-x[1])/f,p.beginPath(),p.moveTo(d,e),p.lineTo(a,c),p.lineTo(g,b),p.closePath(),p.stroke()}),p.restore()),p.canvas}function si(a,b,c,d,e){this.f=a,this.i=b;var f={},g=Tc(this.i,this.f);if(this.a=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.g=d,this.s=e*e,this.c=[],this.l=!1,this.o=this.f.f&&!!d&&!!this.f.G()&&Eb(d)==Eb(this.f.G()),this.b=this.f.G()?Eb(this.f.G()):null,this.j=this.i.G()?Eb(this.i.G()):null,ti(this,a=Bb(c),b=Ab(c),d=zb(c),c=yb(c),e=this.a(a),this.a(b),this.a(d),this.a(c),10),this.l){var n=1/0;this.c.forEach(function(a){n=Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])}),this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b),b[1][0]-n>this.b/2&&(b[1][0]-=this.b),b[2][0]-n>this.b/2&&(b[2][0]-=this.b),Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}function ti(a,b,c,d,e,f,g,h,l,m){var n=fb([f,g,h,l]),p=a.b?Eb(n)/a.b:null,q=a.b,t=a.f.f&&.5<p&&1>p,u=!1;if(0<m&&(a.i.c&&a.j&&(u|=.25<Eb(fb([b,c,d,e]))/a.j),!t&&a.f.c&&p&&(u|=.25<p)),u||!a.g||Jb(n,a.g)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(0<m))return;u=!0}if(0<m&&(u||(n=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=t?(Sb(f[0],q)+Sb(h[0],q))/2-Sb(n[0],q):(f[0]+h[0])/2-n[0],n=(f[1]+h[1])/2-n[1],u=q*q+n*n>a.s),u))return void(Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(t=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(t),n=[(e[0]+b[0])/2,(e[1]+b[1])/2],p=a.a(n),ti(a,b,c,t,n,f,g,q,p,m-1),ti(a,n,t,d,e,p,q,h,l,m-1)):(t=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(t),n=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.a(n),ti(a,b,t,n,e,f,q,p,l,m-1),ti(a,t,c,d,n,q,g,h,p,m-1)));if(t){if(!a.o)return;a.l=!0}a.c.push({source:[f,h,l],target:[b,d,e]}),a.c.push({source:[f,g,h],target:[b,c,d]})}}function ui(a){var b=gb();return a.c.forEach(function(a){a=a.source,hb(b,a[0]),hb(b,a[1]),hb(b,a[2])}),b}function vi(a,b,c,d,e,f,g,h,l,m,n){if(gi.call(this,e,0),this.B=void 0!==n&&n,this.A=g,this.H=h,this.s=null,this.c=b,this.j=d,this.l=f||e,this.f=[],this.Ld=null,this.g=0,f=d.Ia(this.l),h=this.j.G(),e=this.c.G(),f=h?Ib(f,h):f,0===Cb(f))this.state=4;else if((h=a.G())&&(e=e?Ib(e,h):h),d=pi(a,c,Gb(f),d.Ha(this.l[0])),!isFinite(d)||0>=d)this.state=4;else if(this.o=new si(a,c,f,e,d*(void 0!==m?m:.5)),0===this.o.c.length)this.state=4;else if(this.g=b.zc(d),c=ui(this.o),e&&(a.f?(c[1]=Mb(c[1],e[1],e[3]),c[3]=Mb(c[3],e[1],e[3])):c=Ib(c,e)),Cb(c)){for(b=(a=$e(b,c,this.g)).ea;b<=a.ga;b++)for(c=a.ha;c<=a.ka;c++)(m=l(this.g,b,c,g))&&this.f.push(m);0===this.f.length&&(this.state=4)}else this.state=4}function wi(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function xi(a){var e,b=a[0],c=Array(b),d=1<<b-1;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1),a[2]&d&&(f+=2),c[e]=String.fromCharCode(f),d>>=1}return c.join("")}function yi(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;return eb(a,55),(a.ka-a.ha+1+g[2]).toString()})}}function zi(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=yi(a[e],b);return Ai(d)}function Ai(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[Sb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function Bi(){}function Ci(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var e,d=c[2].charCodeAt(0);for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){for(d=parseInt(c[2],10),e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}return b.push(a),b}function Di(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.b=a.resolutions,eb(ld(this.b,function(a,b){return b-a}),17),this.maxZoom=this.b.length-1,this.f=void 0!==a.origin?a.origin:null,this.c=null,void 0!==a.origins&&(this.c=a.origins,eb(this.c.length==this.b.length,20));var b=a.extent;void 0===b||this.f||this.c||(this.f=Bb(b)),eb(!this.f&&this.c||this.f&&!this.c,18),this.i=null,void 0!==a.tileSizes&&(this.i=a.tileSizes,eb(this.i.length==this.b.length,19)),this.g=void 0!==a.tileSize?a.tileSize:this.i?null:256,eb(!this.g&&this.i||this.g&&!this.i,22),this.s=void 0!==b?b:null,this.a=null,this.j=[0,0],void 0!==a.sizes?this.a=a.sizes.map(function(a){return new $c(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&Ei(this,b)}function nf(a,b,c,d,e){for(e=a.Ia(b,e),b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,$e(a,e,b,d)))return!0;--b}return!1}function of(a,b,c,d){return b[0]<a.maxZoom?(d=a.Ia(b,d),$e(a,d,b[0]+1,c)):null}function jf(a,b,c,d){Gi(a,b[0],b[1],c,!1,Fi);var e=Fi[1],f=Fi[2];return Gi(a,b[2],b[3],c,!0,Fi),a=Fi[1],b=Fi[2],void 0!==d?(d.ea=e,d.ga=a,d.ha=f,d.ka=b):d=new $c(e,a,f,b),d}function $e(a,b,c,d){return jf(a,b,a.Ha(c),d)}function af(a,b){var c=a.Zc(b[0]),d=a.Ha(b[0]);return a=kf(a.eb(b[0]),a.j),[c[0]+(b[1]+.5)*a[0]*d,c[1]+(b[2]+.5)*a[1]*d]}function Gi(a,b,c,d,e,f){var g=a.zc(d),h=d/a.Ha(g),l=a.Zc(g);return a=kf(a.eb(g),a.j),b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0],c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1],e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c)),wi(g,b,c,f)}function Ei(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=$e(a,b,e);a.a=d}function Hi(a){var b=a.j;return b||(b=Ii(a),a.j=b),b}function Ji(a){var b={};return xa(b,a||{}),void 0===b.extent&&(b.extent=Ic("EPSG:3857").G()),b.resolutions=Ki(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new Di(b)}function Ki(a,b,c){b=void 0!==b?b:42;var d=Fb(a);for(a=Eb(a),c=kf(void 0!==c?c:256),c=Math.max(a/c[0],d/c[1]),b+=1,d=Array(b),a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function Ii(a,b,c){return a=Li(a),b=Ki(a,b,c),new Di({extent:a,origin:Bb(a),resolutions:b,tileSize:c})}function Li(a){var b=(a=Ic(a)).G();return b||(a=180*oc.degrees/a.jc(),b=pb(-a,-a,a,a)),b}function Mi(a){this.b=a.html,this.a=a.tileRanges?a.tileRanges:null}function Ni(a){Ua.call(this),this.c=Ic(a.projection),this.j=Oi(a.attributions),this.A=a.logo,this.qa=void 0!==a.state?a.state:"ready",this.B=void 0!==a.wrapX&&a.wrapX}function Oi(a){if("string"==typeof a)return[new Mi({html:a})];if(a instanceof Mi)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"==typeof e?new Mi({html:e}):e}return c}return null}function Pi(a,b){a.qa=b,a.u()}function Qi(a){Ni.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.Da=void 0!==a.opaque&&a.opaque,this.gb=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.a=new ni(a.cacheSize),this.l=[0,0],this.Ac=""}function Se(a,b,c,d,e){if(!(b=a.he(b)))return!1;for(var g,h,f=!0,l=d.ea;l<=d.ga;++l)for(var m=d.ha;m<=d.ka;++m)g=a.Vb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=2===g.getState())&&(h=!1!==e(g))),h||(f=!1);return f}function Ri(a,b){a.Ac!==b&&(a.Ac=b,a.u())}function Si(a,b,c){var d=void 0!==c?c:a.c;if(c=a.Xa(d),a.B&&d.c){var e=b;b=e[0],a=af(c,e),lb(d=Li(d),a)?b=e:(e=Eb(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.tg(a,b))}if(e=b[0],d=b[1],a=b[2],c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=!(c=f?$e(c,f,e):c.a?c.a[e]:null)||ad(c,d,a)}return c?b:null}function Ti(a,b){Na.call(this,a),this.tile=b}function Ui(a){Qi.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.Lc?this.Lc.bind(this):Bi,this.urls=null,a.urls?this.lb(a.urls):a.url&&this.ob(a.url),a.tileUrlFunction&&this.kb(a.tileUrlFunction)}function D(a){Ui.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Vi,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=a.tileClass?a.tileClass:ii,this.g={},this.s={},this.Sa=a.reprojectionErrorThreshold,this.O=!1}function Wi(a,b,c,d,e,f,g){return b=[b,c,d],e=(c=Si(a,b,f))?a.tileUrlFunction(c,e,f):void 0,e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction),e.key=g,y(e,"change",a.qj,a),e}function Xi(a,b,c,d,e,f){var g=a.Vb(b,c,d),h=a.Ac;if(a.a.b.hasOwnProperty(g)){var l=a.a.get(g);if(l.key!=h){var m=l;l=Wi(a,b,c,d,e,f,h),0==m.getState()?l.a=m.a:l.a=m,hi(l),a.a.replace(g,l)}}else l=Wi(a,b,c,d,e,f,h),a.a.set(g,l);return l}function Vi(a,b){a.Z().src=b}function Yi(a,b){this.b=a,this.a=null,this.o=b||null,this.g=!1,(a=this.b.get("olcs.proxy"))&&("function"==typeof a?this.c={getURL:a}:"string"==typeof a&&(this.c=new Cesium.DefaultProxy(a))),this.l=new Cesium.Event,this.f=document.createElement("canvas"),this.f.width=1,this.f.height=1,this.b.I("change",function(){Zi(this)},this),Zi(this)}function Zi(a){if(!a.g&&"ready"==a.b.getState()){var b=a.b.c;if(a.a=b||a.o,a.a==Ic("EPSG:4326"))a.i=new Cesium.GeographicTilingScheme;else{if(a.a!=Ic("EPSG:3857"))return;a.i=new Cesium.WebMercatorTilingScheme}a.s=a.i.rectangle,a.j=$i(a.b)||void 0,a.g=!0}}function $i(a){var b="",c=a.j;if(c&&c.forEach(function(a){b+=a.b.replace(/<\/?[^>]+(>|$)/g,"")+" "}),0==b.length&&(a=a.A))if("string"==typeof a)var d=a;else{d=a.src;var e=a.href}return d||0<b.length?new Cesium.Credit(b,d,e):null}function aj(a,b,c,d,e){function f(){var e=Date.now()-t;e=m(g(e/l,0,1)),a.transform.clone(q);var h=(e-p)*b;p=e,a.lookAtTransform(d),a.rotate(c,h),a.lookAtTransform(q),1>e?window.requestAnimationFrame(f):n&&n()}var g=Cesium.Math.clamp,h=Cesium.defaultValue,l=h((e=e||{}).duration,500),m=h(e.easing,bj),n=e.callback,p=0,q=new Cesium.Matrix4,t=Date.now();window.requestAnimationFrame(f)}function cj(a,b){var c=a.camera.getPickRay(b);return a.globe.pick(c,a)||a.camera.pickEllipsoid(b)}function dj(a){var b=a.canvas;return b=new Cesium.Cartesian2(b.clientWidth/2,b.clientHeight/2),cj(a,b)}function ej(a,b,c){var d=new Cesium.Cartesian3,e=new Cesium.Cartesian3,f=new Cesium.Cartesian3;return Cesium.Cartesian3.normalize(a,d),Cesium.Cartesian3.normalize(b,e),Cesium.Cartesian3.cross(d,e,f),a=Cesium.Cartesian3.dot(d,e),b=Cesium.Cartesian3.magnitude(f),c=Cesium.Cartesian3.dot(c,f),f=Math.atan2(b,a),0<=c?f:-f}function fj(a,b){var c=a.camera,d=c.frustum.fovy/2,e=(a=a.camera).direction,f=Cesium.Quaternion.fromAxisAngle(a.right,a.frustum.fovy/2);f=Cesium.Matrix3.fromQuaternion(f);var g=new Cesium.Cartesian3;return Cesium.Matrix3.multiplyByVector(f,e,g),a=new Cesium.Ray(a.position,g),a=Cesium.Cartesian3.clone(a.direction),Cesium.Cartesian3.negate(a,a),e=new Cesium.Cartesian3,Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(b,e),b=new Cesium.Cartesian3,Cesium.Cartesian3.negate(c.right,b),ej(e,a,b)+d}function gj(a,b,c){c&&(c=c.getHeight(b),b.height=c||0),b=(c=Cesium.Ellipsoid.WGS84).cartographicToCartesian(b);var d=a.position,e=new Cesium.Cartesian3;c.geocentricSurfaceNormal(d,e),a.lookAt(d,b,e)}function hj(a,b){return a&&b?(a=Wc(a,b,"EPSG:4326"),Cesium.Rectangle.fromDegrees(a[0],a[1],a[2],a[3])):null}function ij(a,b){if(!(a instanceof fi))return null;var c=a.ca();if(!(c instanceof D))return null;var d=c.c;if(d){if(d!==b)return null}else d=b;var e=d===Ic("EPSG:3857");return d=d===Ic("EPSG:4326"),e||d?(c=new Yi(c,b),e={},(a=a.G())&&b&&(e.rectangle=hj(a,b)),new Cesium.ImageryLayer(c,e)):null}function jj(a,b){var c=a.Xb();void 0!==c&&(b.alpha=c),void 0!==(a=a.sb())&&(b.show=a)}function kj(a){return 2<a.length?Cesium.Cartesian3.fromDegrees(a[0],a[1],a[2]):Cesium.Cartesian3.fromDegrees(a[0],a[1])}function lj(a){for(var b=[],c=0;c<a.length;++c)b.push(kj(a[c]));return b}function mj(a,b){var c=Ic("EPSG:4326");if((b=Ic(b))!==c){var d=a.K();(a=a.clone()).transform(b,c),a.J(d)}return a}function nj(a){return a=a||"black",Array.isArray(a)?new Cesium.Color(Cesium.Color.byteToFloat(a[0]),Cesium.Color.byteToFloat(a[1]),Cesium.Color.byteToFloat(a[2]),a[3]):"string"==typeof a?Cesium.Color.fromCssColorString(a):void sa("impossible")}function oj(a,b){this.g=a,this.a=a.camera,this.P=b,this.l=this.b=null,this.i=this.f=pj,this.c=this.j=0,this.s=null,this.o=!1,this.P.I("change:view",function(){qj(this,this.P.$())},this),qj(this,this.P.$())}function pj(a,b,c){if(c=c||a.length,b)for(var d=0;d<c;++d)b[d]=a[d];return a}function qj(a,b){if(a.b&&(Sa(a.l),a.l=null),a.b=b){var c=Tc(b.c,"EPSG:4326"),d=Tc("EPSG:4326",b.c);a.f=c,a.i=d,a.l=y(b,"propertychange",a.Qm,a),a.ne()}else a.f=pj,a.i=pj}function rj(a){if(a.b&&a.f){var b=a.b.ta();if(b){if(b=a.f(b),b=new Cesium.Cartographic(Rb(b[0]),Rb(b[1])),a.g.globe){var c=a.g.globe.getHeight(b);b.height=c||0}b=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b),c={pitch:a.j-Cesium.Math.PI_OVER_TWO,heading:-a.b.Oa(),roll:void 0},a.a.setView({destination:b,orientation:c}),a.a.moveBackward(a.c),sj(a,!0)}}}function sj(a,b){var c=a.s,d=a.a.viewMatrix;c&&Cesium.Matrix4.equalsEpsilon(c,d,1e-5)||(a.s=d.clone(),!0!==b&&a.hd())}function tj(a,b){b=new Cesium.BillboardCollection({scene:b});var c=new Cesium.PrimitiveCollection;this.a=[],this.b=new Cesium.PrimitiveCollection,this.context={projection:a,billboards:b,featureToCesiumMap:{},primitives:c},this.b.add(b),this.b.add(c)}function wj(){if(void 0===uj){var a=document.createElement("canvas");a.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;"),a=a.style.imageRendering,(uj=!!a)&&(vj=a)}return uj}function xj(a){this.scene=a,this.b=this.gq.bind(this)}function yj(a,b,c,d,e,f,g){var h={flat:!0,renderState:{depthTest:{enabled:!0}}};if(void 0!==g&&(h.renderState||(h.renderState={}),h.renderState.lineWidth=g),e=new Cesium.GeometryInstance({geometry:e,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(f)}}),a.fe(b,c,d)==Cesium.HeightReference.CLAMP_TO_GROUND){if((a=e.geometry.constructor)&&!a.createShadowVolume)return null;a=new Cesium.GroundPrimitive({geometryInstances:e})}else a=new Cesium.PerInstanceColorAppearance(h),a=new Cesium.Primitive({geometryInstances:e,appearance:a});return d=a,d.olLayer=b,d.olFeature=c,a}function zj(a,b){var c=a.va()?a.va().b:null,d="black";return(a=a.ua()?a.ua().b:null)&&b?d=a:c&&(d=c),nj(d)}function Aj(a){return void 0!==(a=a.ua()?a.ua().c:void 0)?a:1}function Bj(a,b,c,d,e,f,g){var h=zj(g,!1),l=zj(g,!0),m=new Cesium.PrimitiveCollection;return g.va()&&(e=yj(a,b,c,d,e,h),m.add(e)),g.ua()&&(a=yj(a,b,c,d,f,l,Aj(g)))&&m.add(a),m}function Cj(a,b,c,d,e,f){if(f instanceof Cesium.PrimitiveCollection)var g=f;else(g=new Cesium.PrimitiveCollection).add(f);return e.Ba()?((a=a.ui(b,c,d,e.Ba()))&&g.add(a),g):g}function Gj(a,b){this.sc=b.imageryLayers,this.Id=new Cesium.ImageryLayerCollection,Zb.call(this,a,b)}function Hj(a,b){return(a=ij(a,b))?[a]:null}function Ij(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);return e.length=f,e}function Jj(a,b,c,d,e){e=void 0!==e?e:[];var g,f=0,h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=Ij(a,b,l,d,e[f]),b=l}return e.length=f,e}function Kj(a,b,c,d,e){e=void 0!==e?e:[];var g,f=0,h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=Jj(a,b,l,d,e[f]),b=l[l.length-1]}return e.length=f,e}function Lj(a,b,c,d){this.na=a,this.U=b,this.overlaps=d,this.c=0,this.resolution=c,this.D=this.ma=null,this.a=[],this.coordinates=[],this.Wa={},this.Y=ue(),this.b=[],this.fa=null,this.ja=ue(),this.qa=ue()}function Mj(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.hg();g&&(c+=e),g=[b[c],b[c+1]];var p,m=[NaN,NaN],n=!0;for(p=c+e;p<d;p+=e){m[0]=b[p],m[1]=b[p+1];var q=ob(l,m);q!==t?(n&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):1===q?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):n=!0,g[0]=m[0],g[1]=m[1];var t=q}return(f&&n||p===c+e)&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),h}function Nj(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;++g){var l=d[g];c=Mj(a,b,c,l,e,!1,!1),f.push(c),c=l}return c}function Oj(a,b){a.ma=[0,b,0],a.a.push(a.ma),a.D=[0,b,0],a.b.push(a.D)}function Qj(a,b,c,d,e,f,g,h,l){if(a.fa&&id(d,a.Y))var m=a.fa;else a.fa||(a.fa=[]),m=Ud(a.coordinates,0,a.coordinates.length,2,d,a.fa),ye(a.Y,d);d=!Ba(f);for(var t,B,A,E,F,n=0,p=g.length,q=0,u=a.ja,x=a.qa,ia=0,N=0,O=a.Wa,fa={context:b,pixelRatio:c,resolution:a.resolution,rotation:e},Aa=a.a!=g||a.overlaps?0:200;n<p;){var z=g[n];switch(z[0]){case 0:var Z=z[1];d&&f[w(Z).toString()]||!Z.W()?n=z[2]:void 0===l||Jb(l,Z.W().G())?++n:n=z[2]+1;break;case 1:ia>Aa&&(a.Za(b,e),ia=0),N>Aa&&(b.stroke(),N=0),ia||N||(b.beginPath(),B=A=NaN),++n;break;case 2:t=m[q=z[1]],z=m[q+1],E=m[q+2]-t,q=m[q+3]-z,q=Math.sqrt(E*E+q*q),b.moveTo(t+q,z),b.arc(t,z,q,0,2*Math.PI,!0),++n;break;case 3:b.closePath(),++n;break;case 4:q=z[1],t=z[2],E=z[4],F=6==z.length?z[5]:void 0,fa.geometry=z[3],fa.feature=Z,n in O||(O[n]=[]),z=O[n],F?F(m,q,t,2,z):(z[0]=m[q],z[1]=m[q+1],z.length=2),E(z,fa),++n;break;case 5:q=z[1],t=z[2];var Za=z[3],aa=z[4]*c,rb=z[5]*c,Ub=z[6],Mc=z[7],yd=z[8],Qd=z[9],mc=z[10];E=z[11],F=z[12];var Uf=z[13],Cg=z[14];for(mc&&(E+=e);q<t;q+=2){if(z=m[q]-aa,mc=m[q+1]-rb,Uf&&(z=Math.round(z),mc=Math.round(mc)),1!=F||0!==E){var pf=z+aa,yh=mc+rb;De(u,pf,yh,F,F,E,-pf,-yh),b.setTransform.apply(b,u)}pf=b.globalAlpha,1!=Mc&&(b.globalAlpha=pf*Mc),yh=Cg+yd>Za.width?Za.width-yd:Cg;var Ap=Ub+Qd>Za.height?Za.height-Qd:Ub;b.drawImage(Za,yd,Qd,yh,Ap,z,mc,yh*c,Ap*c),1!=Mc&&(b.globalAlpha=pf),1==F&&0===E||b.setTransform.apply(b,x)}++n;break;case 6:for(q=z[1],t=z[2],rb=z[3],Ub=z[4]*c,Mc=z[5]*c,E=z[6],F=z[7]*c,Za=z[8],aa=z[9],(mc=z[10])&&(E+=e);q<t;q+=2){for(z=m[q]+Ub,mc=m[q+1]+Mc,1==F&&0===E||(De(u,z,mc,F,F,E,-z,-mc),b.setTransform.apply(b,u)),1<(Qd=(yd=rb.split("\n")).length)?(Uf=Math.round(1.5*b.measureText("M").width),mc-=(Qd-1)/2*Uf):Uf=0,Cg=0;Cg<Qd;Cg++)pf=yd[Cg],aa&&b.strokeText(pf,z,mc),Za&&b.fillText(pf,z,mc),mc+=Uf;1==F&&0===E||b.setTransform.apply(b,x)}++n;break;case 7:if(h&&(Z=z[1],q=h(Z)))return q;++n;break;case 8:Aa?ia++:a.Za(b,e),++n;break;case 9:for(q=z[1],t=z[2],z=m[q],F=(mc=m[q+1])+.5|0,(E=z+.5|0)===B&&F===A||(b.moveTo(z,mc),B=E,A=F),q+=2;q<t;q+=2)z=m[q],mc=m[q+1],E=z+.5|0,F=mc+.5|0,(q==t-2||E!==B||F!==A)&&(b.lineTo(z,mc),B=E,A=F);++n;break;case 10:a.Aa=z[2],ia&&(a.Za(b,e),ia=0,N&&(b.stroke(),N=0)),b.fillStyle=z[1],++n;break;case 11:q=void 0===z[8]||z[8];var Ak=z[9];t=z[2],N&&(b.stroke(),N=0),b.strokeStyle=z[1],b.lineWidth=q?t*c:t,b.lineCap=z[3],b.lineJoin=z[4],b.miterLimit=z[5],he&&(t=z[6],E=z[7],q&&c!==Ak&&(t=t.map(function(a){return a*c/Ak}),E*=c/Ak,z[6]=t,z[7]=E,z[9]=c),b.lineDashOffset=E,b.setLineDash(t)),++n;break;case 12:b.font=z[1],b.textAlign=z[2],b.textBaseline=z[3],++n;break;case 13:Aa?N++:b.stroke(),++n;break;default:++n}}ia&&a.Za(b,e),N&&b.stroke()}function Rj(a){var b=a.b;b.reverse();var c,d=b.length,e=-1;for(c=0;c<d;++c){var f=b[c],g=f[0];if(7==g)e=c;else if(0==g){for(f[2]=c,f=a.b,g=c;e<g;){var h=f[e];f[e]=f[g],f[g]=h,++e,--g}e=-1}}}function Pj(a,b){a.ma[2]=a.a.length,a.ma=null,a.D[2]=a.b.length,a.D=null,b=[7,b],a.a.push(b),a.b.push(b)}function Sj(a,b,c,d){Lj.call(this,a,b,c,d),this.N=this.O=null,this.A=this.H=this.s=this.o=this.l=this.C=this.B=this.j=this.g=this.i=this.f=void 0}function Tj(a,b,c,d){Lj.call(this,a,b,c,d),this.i=null,this.f={Zd:void 0,Td:void 0,Ud:null,Vd:void 0,Wd:void 0,Xd:void 0,Yd:void 0,yd:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Uj(a,b,c,d,e){var f=a.coordinates.length;return b=Mj(a,b,c,d,e,!1,!1),f=[9,f,b],a.a.push(f),a.b.push(f),d}function Vj(a){var b=a.f,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineDashOffset,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;b.Zd==c&&b.Td==d&&id(b.Ud,e)&&b.Vd==f&&b.Wd==g&&b.Xd==h&&b.Yd==l||(void 0!=b.yd&&b.yd!=a.coordinates.length&&(a.a.push([13]),b.yd=a.coordinates.length),b.yd=0,a.a.push([11,c,h,d,g,l,e,f,!0,1],[1]),b.Zd=c,b.Td=d,b.Ud=e,b.Vd=f,b.Wd=g,b.Xd=h,b.Yd=l)}function Wj(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1,l[h-1]=1,c=[b,c-d];for(var n,m=0;0<c.length;){var p=c.pop(),q=c.pop(),t=0,u=a[q],x=a[q+1],B=a[p],A=a[p+1];for(n=q+d;n<p;n+=d){var E=Pb(a[n],a[n+1],u,x,B,A);E>t&&(m=n,t=E)}t>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}function Xj(a,b,c,d,e,f,g,h){var l,m=0;for(l=c.length;m<l;++m){var n=c[m];a:{var p=a,q=n,t=d,u=e,x=f,B=g;if(b!=q){var A=u*Math.round(p[b]/u),E=u*Math.round(p[b+1]/u);b+=t,x[B++]=A,x[B++]=E;do{var F=u*Math.round(p[b]/u);if(g=u*Math.round(p[b+1]/u),(b+=t)==q){x[B++]=F,x[B++]=g,g=B;break a}}while(F==A&&g==E);for(;b<q;){var ia=u*Math.round(p[b]/u),N=u*Math.round(p[b+1]/u);if(b+=t,ia!=F||N!=g){var O=F-A,fa=g-E,Aa=ia-A,z=N-E;O*z==fa*Aa&&(0>O&&Aa<O||O==Aa||0<O&&Aa>O)&&(0>fa&&z<fa||fa==z||0<fa&&z>fa)||(x[B++]=F,x[B++]=g,A=F,E=g),F=ia,g=N}}x[B++]=F,x[B++]=g}g=B}h.push(g),b=n}return g}function Yj(a,b,c,d){Lj.call(this,a,b,c,d),this.i=null,this.f={Kh:void 0,Zd:void 0,Td:void 0,Ud:null,Vd:void 0,Wd:void 0,Xd:void 0,Yd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Zj(a,b,c,d,e){var f=a.f,g=void 0!==f.fillStyle;f=void 0!=f.strokeStyle;var h=d.length,l=[1];for(a.a.push(l),a.b.push(l),l=0;l<h;++l){var m=d[l];c=[9,a.coordinates.length,c=Mj(a,b,c,m,e,!0,!f)],a.a.push(c),a.b.push(c),f&&(c=[3],a.a.push(c),a.b.push(c)),c=m}return b=[8],a.b.push(b),g&&a.a.push(b),f&&(g=[13],a.a.push(g),a.b.push(g)),c}function ak(a,b){var c=a.f,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineDashOffset,l=c.lineJoin,m=c.lineWidth,n=c.miterLimit;if(void 0!==d&&("string"!=typeof d||c.Kh!=d)){var p=[10,d];"string"!=typeof d&&(b=b.G(),p.push([b[0],b[3]])),a.a.push(p),c.Kh=c.fillStyle}void 0===e||c.Zd==e&&c.Td==f&&id(c.Ud,g)&&c.Vd==h&&c.Wd==l&&c.Xd==m&&c.Yd==n||(a.a.push([11,e,m,f,l,n,g,h,!0,1]),c.Zd=e,c.Td=f,c.Ud=g,c.Vd=h,c.Wd=l,c.Xd=m,c.Yd=n)}function bk(a,b,c,d){Lj.call(this,a,b,c,d),this.C=this.B=this.A=null,this.ya="",this.l=this.j=0,this.o=void 0,this.H=this.s=0,this.g=this.i=this.f=null}function ck(a,b,c,d,e){this.s=a,this.f=b,this.l=d,this.o=c,this.i=e,this.a={},this.g=md(1,1),this.j=ue()}function ek(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}function fk(a){if(void 0!==dk[a])return dk[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);b=a;for(var e=d=0;b>=d;)ek(c,a+b,a+d),ek(c,a+d,a+b),ek(c,a-d,a+b),ek(c,a-b,a+d),ek(c,a-b,a-d),ek(c,a-d,a-b),ek(c,a+d,a-b),ek(c,a+b,a-d),d++,0<2*((e+=1+2*d)-b)+1&&(--b,e+=1-2*b);return dk[a]=c}function gk(a){for(var b in a.a){var d,c=a.a[b];for(d in c)c[d].kf()}}function ik(a,b){var c=a.f;a=c[0];var d=c[1],e=c[2];return c=c[3],a=[a,d,a,c,e,c,e,d],Ud(a,0,8,2,b,a),a}function hk(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m,n=0;for(l=h.length;n<l;++n){var p=a.a[h[n].toString()];for(m=qf.length-1;0<=m;--m){var q=p[qf[m]];if(void 0!==q&&(q=Qj(q,b,1,c,d,e,q.b,f,g)))return q}}}function kk(a,b){return w(a)-w(b)}function lk(a,b){return(a=.5*a/b)*a}function mk(a,b,c,d,e,f){var h,g=!1;if(h=c.Z()){var l=h.pf();2==l||3==l?h.ik(e,f):(0==l&&h.load(),h.mi(e,f),g=!0)}return(e=(0,c.$a)(b))&&(d=e.ge(d),c.Oe()?nk(a,d,c,b):(0,ok[d.T()])(a,d,c,b)),g}function nk(a,b,c,d){if("GeometryCollection"==b.T())for(var e=0,f=(b=b.Pc()).length;e<f;++e)nk(a,b[e],c,d);else a.b(c.Ca(),"Default").Nh(b,d,c.Oe())}function pk(a){bf.call(this,a),this.c=!1,this.A=-1,this.o=NaN,this.j=gb(),this.i=this.l=null,this.g=md()}function rk(a,b){Uh.call(this,a,b),this.o=!1,this.U=-1,this.O=NaN,this.B=gb(),this.l=this.i=this.D=null}function sk(a){this.i=a.opacity,this.o=a.rotateWithView,this.g=a.rotation,this.a=a.scale,this.s=a.snapToPixel}function tk(a){this.B=this.H=this.c=null,this.Za=void 0!==a.fill?a.fill:null,this.ma=[0,0],this.l=a.points,this.b=void 0!==a.radius?a.radius:a.radius1,this.f=a.radius2,this.j=void 0!==a.angle?a.angle:0,this.Ya=void 0!==a.stroke?a.stroke:null,this.fa=this.D=this.C=null,this.A=a.atlasManager,uk(this,this.A),sk.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel})}function uk(a,b){var c="",d="",e=0,f=null,g=0,h=0;if(a.Ya){var l=a.Ya.b;null===l&&(l=Jd),l=Sd(l),void 0===(h=a.Ya.c)&&(h=1),f=a.Ya.a,g=a.Ya.i,he||(f=null,g=0),void 0===(d=a.Ya.j)&&(d="round"),void 0===(c=a.Ya.g)&&(c="round"),void 0===(e=a.Ya.l)&&(e=10)}var m=2*(a.b+h)+1;if(c={strokeStyle:l,strokeWidth:h,size:m,lineCap:c,lineDash:f,lineDashOffset:g,lineJoin:d,miterLimit:e},void 0===b){var n=md(m,m);a.H=n.canvas,b=m=a.H.width,a.Ph(c,n,0,0),a.Za?a.B=a.H:(n=md(c.size,c.size),a.B=n.canvas,a.Oh(c,n,0,0))}else m=Math.round(m),(d=!a.Za)&&(n=a.Oh.bind(a,c)),a.Ya?(void 0===(e=a.Ya).f&&(e.f="s",e.f=e.b?"string"==typeof e.b?e.f+e.b:e.f+w(e.b).toString():e.f+"-",e.f+=","+(void 0!==e.g?e.g.toString():"-")+","+(e.a?e.a.toString():"-")+","+(void 0!==e.i?e.i:"-")+","+(void 0!==e.j?e.j:"-")+","+(void 0!==e.l?e.l.toString():"-")+","+(void 0!==e.c?e.c.toString():"-")),e=e.f):e="-",a.Za?(void 0===(f=a.Za).a&&(f.a=f.b instanceof CanvasPattern||f.b instanceof CanvasGradient?w(f.b).toString():"f"+(f.b?Pd(f.b):"-")),f=f.a):f="-",a.c&&e==a.c[1]&&f==a.c[2]&&a.b==a.c[3]&&a.f==a.c[4]&&a.j==a.c[5]&&a.l==a.c[6]||(a.c=["r"+e+f+(void 0!==a.b?a.b.toString():"-")+(void 0!==a.f?a.f.toString():"-")+(void 0!==a.j?a.j.toString():"-")+(void 0!==a.l?a.l.toString():"-"),e,f,a.b,a.f,a.j,a.l]),n=b.add(a.c[0],m,m,a.Ph.bind(a,c),n),a.H=n.image,a.ma=[n.offsetX,n.offsetY],b=n.image.width,a.B=d?n.Sm:a.H;a.C=[m/2,m/2],a.D=[m,m],a.fa=[b,b]}function vk(a){a=a||{},tk.call(this,{points:1/0,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}function wk(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.a=void 0}function xk(a){a=a||{},this.Mc=null,this.$a=yk,void 0!==a.geometry&&this.Va(a.geometry),this.Za=void 0!==a.fill?a.fill:null,this.N=void 0!==a.image?a.image:null,this.oc=a.renderer?a.renderer:null,this.Ya=void 0!==a.stroke?a.stroke:null,this.ya=void 0!==a.text?a.text:null,this.mk=a.zIndex}function zk(a){if("function"!=typeof a){if(Array.isArray(a))var b=a;else eb(a instanceof xk,41),b=[a];a=function(){return b}}return a}function Ck(){if(!Bk){var a=new wk({color:"rgba(255,255,255,0.4)"}),b=new Pg({color:"#3399CC",width:1.25});Bk=[new xk({image:new vk({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Bk}function Dk(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a.Polygon=[new xk({fill:new wk({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new xk({stroke:new Pg({color:b,width:5})}),new xk({stroke:new Pg({color:c,width:3})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new xk({image:new vk({radius:6,fill:new wk({color:c}),stroke:new Pg({color:b,width:1.5})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function yk(a){return a.W()}function G(a){var b=xa({},a=a||{});delete b.style,delete b.renderBuffer,delete b.updateWhileAnimating,delete b.updateWhileInteracting,Yc.call(this,b),this.c=void 0!==a.renderBuffer?a.renderBuffer:100,this.s=null,this.D=void 0,this.i(a.style),this.U=void 0!==a.updateWhileAnimating&&a.updateWhileAnimating,this.Y=void 0!==a.updateWhileInteracting&&a.updateWhileInteracting}function Ek(a,b,c){this.i=c||new xj(b),this.b=new Cesium.PrimitiveCollection,b.primitives.add(this.b),this.b.destroyPrimitives=!1,Zb.call(this,a,b)}function Fk(a){this.g=null,this.P=a.map,this.Da=a.time||function(){return Cesium.JulianDate.now()},this.Sa=Tc(this.P.$().c,"EPSG:4326"),this.Y=1,this.ja=this.na=0,this.U=!0,this.o=document.createElement("DIV");var b=document.createAttribute("style");if(b.value="position:absolute;top:0;left:0;width:100%;height:100%;visibility:hidden;",this.o.setAttributeNode(b),b=a.target||null)"string"==typeof b&&(b=document.getElementById(b)),b.appendChild(this.o);else{var c=this.P.a.querySelector(".ol-overlaycontainer");c&&c.parentNode&&c.parentNode.insertBefore(this.o,c)}for(this.O=!b,this.a=document.createElement("CANVAS"),(b=document.createAttribute("style")).value="position:absolute;top:0;left:0;width:100%;height:100%;",this.a.setAttributeNode(b),wj()&&(b=this.a.style,wj(),b.imageRendering=vj||""),this.a.oncontextmenu=function(){return!1},this.a.onselectstart=function(){return!1},this.o.appendChild(this.a),this.f=!1,this.Aa=[],this.H=null,(b=a.sceneOptions?a.sceneOptions:{}).canvas=this.a,b.scene3DOnly=!0,this.b=new Cesium.Scene(b),(b=this.b.screenSpaceCameraController).tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),b.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT}),b.enableLook=!1,this.b.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.l=new oj(this.b,this.P),this.D=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.D.baseColor=Cesium.Color.WHITE,this.b.globe=this.D,this.b.skyAtmosphere=new Cesium.SkyAtmosphere,this.ma=new Cesium.DataSourceCollection,this.c=new Cesium.DataSourceDisplay({scene:this.b,dataSourceCollection:this.ma}),a=a.createSynchronizers?a.createSynchronizers(this.P,this.b,this.ma):[new Gj(this.P,this.b),new Ek(this.P,this.b)],Gk(this),b=a.length-1;0<=b;--b)a[b].mh();this.O&&(a=this.a.nextElementSibling)&&(a.style.display="none"),this.Cb=0,this.A=void 0,this.qa=Number.POSITIVE_INFINITY,this.Wa=this.fa=!1,this.s=this.i=this.C=null,this.B=!1,this.j=new Cesium.BoundingSphere,(new Cesium.EventHelper).add(this.b.postRender,Fk.prototype.Fr,this)}function Hk(a){void 0!==a.A&&(cancelAnimationFrame(a.A),a.A=void 0),!a.f&&!a.Wa||a.fa||(a.A=requestAnimationFrame(a.cq.bind(a)))}function Gk(a){var b=a.a.clientWidth,c=a.a.clientHeight;if(!(0===b|0===c||b===a.na&&c===a.ja&&!a.U)){var d=a.Y;wj()||(d*=window.devicePixelRatio||1),a.U=!1,a.na=b,a.ja=c,b*=d,c*=d,a.a.width=b,a.a.height=c,a.b.camera.frustum.aspectRatio=b/c}}function Ik(a){var b=(a=a.P.$()).ta();if(!Jk(a)||isNaN(b[0])||isNaN(b[1]))throw Error("The OpenLayers map is not properly initialized: "+b+" / "+a.Ma())}function Kk(a){return function(b){if(b)return[Mb(b[0],a[0],a[2]),Mb(b[1],a[1],a[3])]}}function Lk(a){return a}function Mk(a){Ua.call(this),this.element=a.element?a.element:null,this.P=this.O=null,this.o=[],this.render=a.render?a.render:va,a.target&&this.c(a.target)}function Nk(a){a=a||{},this.D=document.createElement("UL"),this.s=document.createElement("LI"),this.D.appendChild(this.s),this.s.style.display="none",this.a=void 0===a.collapsed||a.collapsed,this.j=void 0===a.collapsible||a.collapsible,this.j||(this.a=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"»";"string"==typeof d?(this.A=document.createElement("span"),this.A.textContent=d):this.A=d,"string"==typeof(d=void 0!==a.label?a.label:"i")?(this.B=document.createElement("span"),this.B.textContent=d):this.B=d;var e=this.j&&!this.a?this.A:this.B;(d=document.createElement("button")).setAttribute("type","button"),d.title=c,d.appendChild(e),y(d,"click",this.Tn,this),(c=document.createElement("div")).className=b+" ol-unselectable ol-control"+(this.a&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),c.appendChild(this.D),c.appendChild(d),Mk.call(this,{element:c,render:a.render?a.render:Ok,target:a.target}),this.C=!0,this.l={},this.g={},this.U={}}function Ok(a){if(a=a.frameState){var b,c,d,e,f,g=a.layerStatesArray,h=xa({},a.attributions),l={},m={},n=a.viewState.projection,p=0;for(b=g.length;p<b;p++)if(e=g[p].layer.ca()){var q=w(e).toString();if(f=e.j){var t=0;for(c=f.length;t<c;t++){var u=f[t],x=w(u).toString();if(!(x in h)){if(d=a.usedTiles[q]){var B=e.Xa(n);a:{var E,A=void 0,F=u,ia=B,N=n;if(F.a){for(A in d)if(A in F.a){B=d[A];var O=0;for(E=F.a[A].length;O<E;++O){var fa=F.a[A][O];if(cd(fa,B)){A=!0;break a}var Aa=$e(ia,Li(N),parseInt(A,10)),z=Aa.ga-Aa.ea+1;if((B.ea<Aa.ea||B.ga>Aa.ga)&&(cd(fa,new $c(Sb(B.ea,z),Sb(B.ga,z),B.ha,B.ka))||B.ga-B.ea+1>z&&cd(fa,Aa))){A=!0;break a}}}A=!1}else A=!0}}else A=!1;A?(x in l&&delete l[x],(A=u.b)in m||(m[A]=!0,h[x]=u)):l[x]=u}}}}p=(b=[h,l])[0],b=b[1];for(var Z in this.l)Z in p?(this.g[Z]||(this.l[Z].style.display="",this.g[Z]=!0),delete p[Z]):Z in b?(this.g[Z]&&(this.l[Z].style.display="none",delete this.g[Z]),delete b[Z]):(od(this.l[Z]),delete this.l[Z],delete this.g[Z]);for(Z in p)t=document.createElement("LI"),t.innerHTML=p[Z].b,this.D.appendChild(t),this.l[Z]=t,this.g[Z]=!0;for(Z in b)t=document.createElement("LI"),t.innerHTML=b[Z].b,t.style.display="none",this.D.appendChild(t),this.l[Z]=t;Z=!Ba(this.g)||!Ba(a.logos),this.C!=Z&&(this.element.style.display=Z?"":"none",this.C=Z),Z&&Ba(this.g)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),a=a.logos,Z=this.U;for(aa in Z)aa in a||(od(Z[aa]),delete Z[aa]);for(var Za in a)if((b=a[Za])instanceof HTMLElement&&(this.s.appendChild(b),Z[Za]=b),!(Za in Z)){var aa=new Image;aa.src=Za,""===b?p=aa:(p=document.createElement("a"),p.href=b,p.appendChild(aa)),this.s.appendChild(p),Z[Za]=p}this.s.style.display=Ba(a)?"none":""}else this.C&&(this.element.style.display="none",this.C=!1)}function Pk(a){a.element.classList.toggle("ol-collapsed"),a.a?nd(a.A,a.B):nd(a.B,a.A),a.a=!a.a}function Qk(a){return Math.pow(a,3)}function Rk(a){return 1-Qk(1-a)}function Sk(a){return 3*a*a-2*a*a*a}function bj(a){return a}function Tk(a){var b=void 0!==(a=a||{}).className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"⇧";this.a=null,"string"==typeof c?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=c):(this.a=c,this.a.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation";(c=document.createElement("button")).className=b+"-reset",c.setAttribute("type","button"),c.title=d,c.appendChild(this.a),y(c,"click",Tk.prototype.A,this),(d=document.createElement("div")).className=b+" ol-unselectable ol-control",d.appendChild(c),b=a.render?a.render:Uk,this.j=a.resetNorth?a.resetNorth:void 0,Mk.call(this,{element:d,render:b,target:a.target}),this.l=void 0!==a.duration?a.duration:250,this.g=void 0===a.autoHide||a.autoHide,this.s=void 0,this.g&&this.element.classList.add("ol-hidden")}function Uk(a){if(a=a.frameState){if((a=a.viewState.rotation)!=this.s){var b="rotate("+a+"rad)";if(this.g){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=b,this.a.style.webkitTransform=b,this.a.style.transform=b}this.s=a}}function Vk(a){var b=void 0!==(a=a||{}).className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in",h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof d?document.createTextNode(d):d),y(h,"click",Vk.prototype.g.bind(this,c)),(d=document.createElement("button")).className=b+"-out",d.setAttribute("type","button"),d.title=g,d.appendChild("string"==typeof e?document.createTextNode(e):e),y(d,"click",Vk.prototype.g.bind(this,-c)),(c=document.createElement("div")).className=b+" ol-unselectable ol-control",c.appendChild(h),c.appendChild(d),Mk.call(this,{element:c,target:a.target}),this.a=void 0!==a.duration?a.duration:250}function Wk(a){a=a||{};var b=new $a;return(void 0!==a.zoom?a.zoom:1)&&b.push(new Vk(a.zoomOptions)),(void 0!==a.rotate?a.rotate:1)&&b.push(new Tk(a.rotateOptions)),(void 0!==a.attribution?a.attribution:1)&&b.push(new Nk(a.attributionOptions)),b}function Xk(a){a=a||{},this.a=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"⤢";this.j="string"==typeof b?document.createTextNode(b):b,b=void 0!==a.labelActive?a.labelActive:"×",this.l="string"==typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen";(b=document.createElement("button")).className=this.a+"-"+Yk(),b.setAttribute("type","button"),b.title=c,b.appendChild(this.j),y(b,"click",this.B,this),(c=document.createElement("div")).className=this.a+" ol-unselectable ol-control "+(Zk()?"":"ol-unsupported"),c.appendChild(b),Mk.call(this,{element:c,target:a.target}),this.A=void 0!==a.keys&&a.keys,this.g=a.source}function Zk(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Yk(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function $k(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function bl(a){a=a||{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position",Mk.call(this,{element:b,render:a.render?a.render:cl,target:a.target}),y(this,Wa(dl),this.Wn,this),a.coordinateFormat&&this.Tj(a.coordinateFormat),a.projection&&this.Gi(a.projection),this.s=void 0!==a.undefinedHTML?a.undefinedHTML:"",this.l=b.innerHTML,this.j=this.g=this.a=null}function cl(a){(a=a.frameState)?this.a!=a.viewState.projection&&(this.a=a.viewState.projection,this.g=null):this.a=null,el(this,this.j)}function el(a,b){var c=a.s;if(b&&a.a){if(!a.g){var d=a.Fi();a.g=d?Jc(a.a,d):Uc}(b=a.P.ab(b))&&(a.g(b,b),c=(c=a.Wh())?c(b):b.toString())}a.l&&c==a.l||(a.element.innerHTML=c,a.l=c)}function gl(a,b,c){Na.call(this,a),this.map=b,this.frameState=void 0!==c?c:null}function hl(a,b,c,d,e){gl.call(this,a,b,e),this.originalEvent=c,this.pixel=b.Me(c),this.coordinate=b.ab(this.pixel),this.dragging=void 0!==d&&d}function jl(a,b,c,d,e){hl.call(this,a,b,c.b,d,e),this.b=c}function kl(a,b){this.b=a,this.i=b}function ll(a){kl.call(this,a,{mousedown:this.Zm,mousemove:this.$m,mouseup:this.cn,mouseover:this.bn,mouseout:this.an}),this.a=a.f,this.f=[]}function ml(a,b){a=a.f;var c=b.clientX;b=b.clientY;for(var f,d=0,e=a.length;d<e&&(f=a[d]);d++){var g=Math.abs(b-f[1]);if(25>=Math.abs(c-f[0])&&25>=g)return!0}return!1}function nl(a){var b=pl(a,a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=1,b.isPrimary=!0,b.pointerType="mouse",b}function tl(a){kl.call(this,a,{MSPointerDown:this.hn,MSPointerMove:this.jn,MSPointerUp:this.mn,MSPointerOut:this.kn,MSPointerOver:this.ln,MSPointerCancel:this.gn,MSGotPointerCapture:this.en,MSLostPointerCapture:this.fn}),this.a=a.f,this.f=["","unavailable","touch","pen","mouse"]}function ul(a,b){var c=b;return"number"==typeof b.pointerType&&(c=pl(b,b),c.pointerType=a.f[b.pointerType]),c}function wl(a){kl.call(this,a,{pointerdown:this.oq,pointermove:this.pq,pointerup:this.sq,pointerout:this.qq,pointerover:this.rq,pointercancel:this.nq,gotpointercapture:this.km,lostpointercapture:this.Ym})}function vl(a,b,c){Na.call(this,a),this.b=b,a=c||{},this.buttons=yl(a),this.pressure=zl(a,this.buttons),this.bubbles="bubbles"in a&&a.bubbles,this.cancelable="cancelable"in a&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.ctrlKey="ctrlKey"in a&&a.ctrlKey,this.altKey="altKey"in a&&a.altKey,this.shiftKey="shiftKey"in a&&a.shiftKey,this.metaKey="metaKey"in a&&a.metaKey,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.tiltX="tiltX"in a?a.tiltX:0,this.tiltY="tiltY"in a?a.tiltY:0,this.pointerType="pointerType"in a?a.pointerType:"",this.isPrimary="isPrimary"in a&&a.isPrimary,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}function yl(a){if(a.buttons||Al)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function zl(a,b){return a.pressure?a.pressure:b?.5:0}function Bl(a,b){kl.call(this,a,{touchstart:this.Br,touchmove:this.Ar,touchend:this.zr,touchcancel:this.yr}),this.a=a.f,this.j=b,this.f=void 0,this.g=0,this.c=void 0}function Cl(a,b,c){return b=pl(b,c),b.pointerId=c.identifier+2,b.bubbles=!0,b.cancelable=!0,b.detail=a.g,b.button=0,b.buttons=1,b.width=c.webkitRadiusX||c.radiusX||0,b.height=c.webkitRadiusY||c.radiusY||0,b.pressure=c.webkitForce||c.force||.5,b.isPrimary=a.f===c.identifier,b.pointerType="touch",b.clientX=c.clientX,b.clientY=c.clientY,b.screenX=c.screenX,b.screenY=c.screenY,b}function Dl(a,b,c){var g,e=Array.prototype.slice.call(b.changedTouches),f=e.length;for(g=0;g<f;++g){var h=Cl(a,b,e[g]);h.preventDefault=function(){b.preventDefault()},c.call(a,b,h)}}function El(a,b){var c=a.j.f;if(b=b.changedTouches[0],a.f===b.identifier){var d=[b.clientX,b.clientY];c.push(d),setTimeout(function(){var a=c.indexOf(d);-1<a&&c.splice(a,1)},2500)}}function Gl(a){Pa.call(this),this.g=a,this.f={},this.i={},this.a=[],me?Hl(this,new wl(this)):ne?Hl(this,new tl(this)):(a=new ll(this),Hl(this,a),le&&Hl(this,new Bl(this,a))),a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Il(this,Object.keys(b.i))}function Hl(a,b){var c=Object.keys(b.i);c&&(c.forEach(function(a){var c=b.i[a];c&&(this.i[a]=c.bind(b))},a),a.a.push(b))}function Il(a,b){b.forEach(function(a){y(this.g,a,this.c,this)},a)}function Jl(a,b){b.forEach(function(a){Ja(this.g,a,this.c,this)},a)}function pl(a,b){for(var d,c={},e=0,f=Kl.length;e<f;e++)d=Kl[e][0],c[d]=a[d]||b[d]||Kl[e][1];return c}function Fl(a,b,c){b.bubbles=!1,ql(a,"pointerleave",b,c)}function sl(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||Fl(a,b,c)}function rl(a,b,c){b.bubbles=!0,ql(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,ql(a,"pointerenter",b,c))}function ql(a,b,c,d){a.b(new vl(b,d,c))}function xl(a,b){a.b(new vl(b.type,b,b))}function Ll(a,b){Pa.call(this),this.P=a,this.g=0,this.j=!1,this.c=[],this.A=b?b*ge:ge,this.f=null,a=this.P.a,this.H=0,this.s={},this.i=new Gl(a),this.a=null,this.l=y(this.i,"pointerdown",this.Em,this),this.o=y(this.i,"pointermove",this.Rq,this)}function Ml(a,b){var c=new jl("click",a.P,b);a.b(c),0!==a.g?(clearTimeout(a.g),a.g=0,c=new jl("dblclick",a.P,b),a.b(c)):a.g=setTimeout(function(){this.g=0;var a=new jl("singleclick",this.P,b);this.b(a)}.bind(a),250)}function Nl(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.s[b.pointerId]:"pointerdown"==b.type&&(a.s[b.pointerId]=!0),a.H=Object.keys(a.s).length}function Ol(a,b){return Math.abs(b.clientX-a.f.clientX)>a.A||Math.abs(b.clientY-a.f.clientY)>a.A}function Pl(a,b){this.o=a,this.c=b,this.b=[],this.f=[],this.a={}}function Ql(a){var b=a.b,c=a.f,d=b[0];return 1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Rl(a,0)),b=a.c(d),delete a.a[b],d}function Rl(a,b){for(var c=a.b,d=a.f,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2;l=m<e&&d[m]<d[l]?m:l,c[b]=c[l],d[b]=d[l],b=l}c[b]=f,d[b]=g,Sl(a,h,b)}function Sl(a,b,c){var d=a.b;a=a.f;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(!(a[g]>f))break;d[c]=d[g],a[c]=a[g],c=g}d[c]=e,a[c]=f}function Tl(a){var g,b=a.o,c=a.b,d=a.f,e=0,f=c.length;for(g=0;g<f;++g){var h=c[g],l=b(h);1/0==l?delete a.a[a.c(h)]:(d[e]=l,c[e++]=h)}for(c.length=e,d.length=e,b=(a.b.length>>1)-1;0<=b;b--)Rl(a,b)}function Ul(a,b){Pl.call(this,function(b){return a.apply(null,b)},function(a){return a[0].ib()}),this.s=b,this.j=0,this.g={}}function Vl(a,b,c){for(var f,g,h,d=0,e=!1;a.j<b&&d<c&&0<a.b.length;)g=Ql(a)[0],h=g.ib(),5===(f=g.getState())?e=!0:0!==f||h in a.g||(a.g[h]=!0,++a.j,++d,g.load());0===d&&e&&a.s()}function Wl(a){return function(b,c,d){if(void 0!==b)return b=fd(a,b,d),b=Mb(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function Xl(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}}function Yl(a){if(void 0!==a)return 0}function Zl(a,b){if(void 0!==a)return a+b}function $l(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function am(){var a=Rb(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}}function bm(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(0!==m||0!==n)if(1<(f=((e-h)*m+(f-l)*n)/(m*m+n*n)))b=c;else if(0<f){for(e=0;e<d;++e)g[e]=Tb(a[b+e],a[c+e],f);return void(g.length=d)}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function cm(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1];(f=Qb(f,g,h,l))>e&&(e=f),f=h,g=l}return e}function dm(a,b,c,d,e){var f,g=0;for(f=c.length;g<f;++g){var h=c[g];e=cm(a,b,h,d,e),b=h}return e}function em(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;if(0===e){var p=Qb(g,h,a[b],a[b+1]);if(p<m){for(n=0;n<d;++n)l[n]=a[b+n];return l.length=d,p}return m}for(var q=n||[NaN,NaN],t=b+d;t<c;)if(bm(a,t-d,t,d,g,h,q),(p=Qb(g,h,q[0],q[1]))<m){for(m=p,n=0;n<d;++n)l[n]=q[n];l.length=d,t+=d}else t+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(bm(a,c-d,b,d,g,h,q),(p=Qb(g,h,q[0],q[1]))<m)){for(m=p,n=0;n<d;++n)l[n]=q[n];l.length=d}return m}function fm(a,b,c,d,e,f,g,h,l,m,n){n=n||[NaN,NaN];var p,q=0;for(p=c.length;q<p;++q){var t=c[q];m=em(a,b,t,d,e,f,g,h,l,m,n),b=t}return m}function gm(a,b){var d,c=0,e=0;for(d=b.length;e<d;++e)a[c++]=b[e];return c}function hm(a,b,c,d){var e,f=0;for(e=c.length;f<e;++f){var h,g=c[f];for(h=0;h<d;++h)a[b++]=g[h]}return b}function im(a,b,c,d,e){e=e||[];var g,f=0,h=0;for(g=c.length;h<g;++h)b=hm(a,b,c[h],d),e[f++]=b;return e.length=f,e}function jm(a,b){C.call(this),this.c=this.j=-1,this.sa(a,b)}function km(a,b,c){Xd(a,b,c),a.u()}function H(a,b){C.call(this),this.sa(a,b)}function lm(a,b,c,d,e,f,g){var h,l=e[f+1],m=[],n=c[0],p=a[n-d],q=a[n-d+1];for(h=b;h<n;h+=d){var t=a[h],u=a[h+1];(l<=q&&u<=l||q<=l&&l<=u)&&(p=(l-q)/(u-q)*(t-p)+p,m.push(p)),p=t,q=u}for(n=NaN,q=-1/0,m.sort(dd),p=m[0],h=1,u=m.length;h<u;++h){t=m[h];var x=Math.abs(t-p);x>q&&(p=(p+t)/2,Jg(a,b,c,d,p,l)&&(n=p,q=x)),p=t}return isNaN(n)&&(n=e[f]),g?(g.push(n,l),g):[n,l]}function mm(a,b,c,d,e,f){for(var l,g=[a[b],a[b+1]],h=[];b+d<c;b+=d){if(h[0]=a[b+d],h[1]=a[b+d+1],l=e.call(f,g,h))return l;g[0]=h[0],g[1]=h[1]}return!1}function nm(a,b,c,d,e){var f=ub(gb(),a,b,c,d);return!!Jb(e,f)&&(!!(nb(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3])||mm(a,b,c,d,function(a,b){var c=!1,d=ob(e,a),f=ob(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],t=e[2],u=e[3],x=b[0];a=((b=b[1])-a[1])/(x-a[0]),2&f&&!(2&d)&&(c=x-(b-u)/a,c=c>=g&&c<=t),c||!(4&f)||4&d||(c=b-(x-t)*a,c=c>=h&&c<=u),c||!(8&f)||8&d||(c=x-(b-h)/a,c=c>=g&&c<=t),c||!(16&f)||16&d||(c=b-(x-g)*a,c=c>=h&&c<=u)}return c}))}function om(a,b,c,d,e){var f=c[0];if(!(nm(a,b,f,d,e)||Ig(a,b,f,d,e[0],e[1])||Ig(a,b,f,d,e[0],e[3])||Ig(a,b,f,d,e[2],e[1])||Ig(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;for(b=1,f=c.length;b<f;++b)if(Hg(a,c[b-1],c[b],d,e))return!1;return!0}function I(a,b){C.call(this),this.c=[],this.A=-1,this.B=null,this.O=this.C=this.D=-1,this.j=null,this.sa(a,b)}function Oe(a){if(a.A!=a.f){var b=Gb(a.G());a.B=lm(a.Wb(),0,a.c,a.a,b,0),a.A=a.f}return a.B}function pm(a,b,c,d){var e=d||32;d=[];var f;for(f=0;f<e;++f)gd(d,a.offset(b,c,2*Math.PI*f/e));return d.push(d[0],d[1]),(a=new I(null)).ba("XY",d,[d.length]),a}function qm(a){var b=a[0],c=a[1],d=a[2];return a=a[3],b=[b,c,b,a,d,a,d,c,b,c],(c=new I(null)).ba("XY",b,[b.length]),c}function rm(a,b,c){var d=b||32,e=a.ra(),f=new I(null,b=a.la);d=e*(d+1),e=Array(d);for(var g=0;g<d;g++)e[g]=0;return f.ba(b,e,[e.length]),sm(f,a.ta(),a.Vc(),c),f}function sm(a,b,c,d){var e=a.da(),f=a.la,g=a.ra(),h=a.tb(),l=e.length/g-1;d=d||0;for(var m,n,p=0;p<=l;++p)n=p*g,m=d+2*Sb(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.ba(f,e,h)}function J(a){Ua.call(this),a=xa({},a),this.o=[0,0],this.i=[],this.Lf=this.Lf.bind(this),this.c=Pc(a.projection),tm(this,a)}function tm(a,b){var c={};c.center=void 0!==b.center?b.center:null;var d=void 0!==b.minZoom?b.minZoom:0,e=void 0!==b.maxZoom?b.maxZoom:28,f=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions){var g=(e=b.resolutions)[0],h=e[e.length-1];e=Wl(e)}else{var l=((h=(g=Pc(b.projection)).G())?Math.max(Eb(h),Fb(h)):360*oc.degrees/g.jc())/256/Math.pow(2,0),m=l/Math.pow(2,28);void 0!==(g=b.maxResolution)?d=0:g=l/Math.pow(f,d),void 0===(h=b.minResolution)&&(h=void 0!==b.maxZoom?void 0!==b.maxResolution?g/Math.pow(f,e):l/Math.pow(f,e):m),e=d+Math.floor(Math.log(g/h)/Math.log(f)),h=g/Math.pow(f,e-d),e=Xl(f,g,e-d)}a.a=g,a.g=h,a.C=f,a.l=b.resolutions,a.s=d,(void 0!==b.enableRotation?b.enableRotation:1)?(d=b.constrainRotation,d=void 0===d||!0===d?am():!1===d?Zl:"number"==typeof d?$l(d):Zl):d=Yl,a.j={center:void 0!==b.extent?Kk(b.extent):Lk,resolution:e,rotation:d},void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=a.constrainResolution(a.a,b.zoom-a.s)),c.rotation=void 0!==b.rotation?b.rotation:0,a.J(c),a.B=b}function um(a,b){var c=xa({},a.B);return void 0!==c.resolution?c.resolution=a.Ma():c.zoom=a.gi(),c.center=a.ta(),c.rotation=a.Oa(),xa({},c,b)}function ym(a,b,c){var d=a.ta();if(void 0!==d){var e=[d[0]-c[0],d[1]-c[1]];xd(e,b-a.Oa()),rd(e,c)}return e}function xm(a,b,c){var d,e=a.ta();return a=a.Ma(),void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]),d}function zm(a){var b=[100,100];return a='.ol-viewport[data-view="'+w(a)+'"]',(a=document.querySelector(a))&&(a=getComputedStyle(a),b[0]=parseInt(a.width,10),b[1]=parseInt(a.height,10)),b}function wm(a,b){return void 0!==b?(b[0]=a.o[0],b[1]=a.o[1],b):a.o.slice()}function Am(a){var b=a.a,c=Math.log(b/a.g)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}function Bm(a){var b=a.a,c=Math.log(b/a.g)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}function Jk(a){return!!a.ta()&&void 0!==a.Ma()}function vm(a,b,c){a.o[b]+=c,a.u()}function Cm(a,b,c){this.i=a,this.c=b,this.g=c,this.b=[],this.a=this.f=0}function Dm(a){a.b.length=0,a.f=0,a.a=0}function Em(a){if(6>a.b.length)return!1;var b=Date.now()-a.g,c=a.b.length-3;if(a.b[c+2]<b)return!1;for(var d=c-3;0<d&&a.b[d+2]>b;)d-=3;if((b=a.b[c+2]-a.b[d+2])<1e3/60)return!1;var e=a.b[c]-a.b[d];return c=a.b[c+1]-a.b[d+1],a.f=Math.atan2(c,e),a.a=Math.sqrt(e*e+c*c)/b,a.a>a.c}function Fm(a){Ua.call(this),this.P=null,this.La(!0),this.handleEvent=a.handleEvent}function Gm(a,b,c,d){if(void 0!==b){var e=a.Oa(),f=a.ta();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:Rk}):a.rotate(b,c)}}function Hm(a,b,c,d){var e=a.Ma();if(b=a.constrainResolution(e,b,0),c&&void 0!==b&&b!==e){var f=a.ta();c=xm(a,b,c),c=a.Kc(c),c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]}Im(a,b,c,d)}function Im(a,b,c,d){if(b){var e=a.Ma(),f=a.ta();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:Rk}):(c&&(c=xm(a,b,c),a.cb(c)),a.Hc(b))}}function Jm(a){a=a||{},this.a=a.delta?a.delta:1,Fm.call(this,{handleEvent:Km}),this.g=void 0!==a.duration?a.duration:250}function Km(a){var b=!1,c=a.originalEvent;return"dblclick"==a.type&&(b=a.coordinate,c=c.shiftKey?-this.a:this.a,Hm(a.map.$(),c,b,this.g),a.preventDefault(),b=!0),!b}function Lm(a){return(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function Mm(a){return(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Nm(a){return 0==(a=a.originalEvent).button&&!(ee&&fe&&a.ctrlKey)}function Om(a){return"pointermove"==a.type}function Pm(a){return"singleclick"==a.type}function Qm(a){return!(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function Rm(a){return!(a=a.originalEvent).altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Sm(a){return"INPUT"!==(a=a.originalEvent.target.tagName)&&"SELECT"!==a&&"TEXTAREA"!==a}function Tm(a){return eb(a.b,56),"mouse"==a.b.pointerType}function Um(a){return(a=a.b).isPrimary&&0===a.button}function Vm(a){a=a||{},Fm.call(this,{handleEvent:a.handleEvent?a.handleEvent:Wm}),this.Sf=a.handleDownEvent?a.handleDownEvent:Fd,this.Nf=a.handleDragEvent?a.handleDragEvent:va,this.Xf=a.handleMoveEvent?a.handleMoveEvent:va,this.al=a.handleUpEvent?a.handleUpEvent:Fd,this.A=!1,this.Y={},this.l=[]}function Xm(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}function Wm(a){if(!(a instanceof jl))return!0;var b=!1,c=a.type;return"pointerdown"!==c&&"pointerdrag"!==c&&"pointerup"!==c||(c=a.b,"pointerup"==a.type?delete this.Y[c.pointerId]:"pointerdown"==a.type?this.Y[c.pointerId]=c:c.pointerId in this.Y&&(this.Y[c.pointerId]=c),this.l=za(this.Y)),this.A?"pointerdrag"==a.type?this.Nf(a):"pointerup"==a.type&&(this.A=this.al(a)&&0<this.l.length):"pointerdown"==a.type?(this.A=a=this.Sf(a),b=this.fd(a)):"pointermove"==a.type&&this.Xf(a),!b}function Ym(a){Vm.call(this,{handleDownEvent:Zm,handleDragEvent:$m,handleUpEvent:an}),a=a||{},this.a=a.kinetic,this.g=null,this.s=a.condition?a.condition:Qm,this.j=!1}function $m(a){var b=this.l,c=Xm(b);if(b.length==this.o){if(this.a&&this.a.b.push(c[0],c[1],Date.now()),this.g){var d=this.g[0]-c[0],e=c[1]-this.g[1],f=(a=a.map.$()).getState();zd(d=[d,e],f.resolution),xd(d,f.rotation),rd(d,f.center),d=a.Kc(d),a.cb(d)}}else this.a&&Dm(this.a);this.g=c,this.o=b.length}function an(a){var b=a.map;if(a=b.$(),0===this.l.length){if(!this.j&&this.a&&Em(this.a)){var c=this.a;c=(c.c-c.a)/c.i;var d=this.a.f,e=a.ta();e=b.Na(e),b=b.ab([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]),a.animate({center:a.Kc(b),duration:500,easing:Rk})}return vm(a,1,-1),!1}return this.a&&Dm(this.a),this.g=null,!0}function Zm(a){if(0<this.l.length&&this.s(a)){var b=a.map.$();return this.g=null,this.A||vm(b,1,1),wm(b)[0]&&b.cb(a.frameState.viewState.center),this.a&&Dm(this.a),this.j=1<this.l.length,!0}return!1}function bn(a){a=a||{},Vm.call(this,{handleDownEvent:cn,handleDragEvent:dn,handleUpEvent:en}),this.g=a.condition?a.condition:Mm,this.a=void 0,this.j=void 0!==a.duration?a.duration:250}function dn(a){if(Tm(a)){var b=a.map,c=b.$();c.j.rotation!==Yl&&(b=b.Ob(),a=a.pixel,a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2),void 0!==this.a&&(b=a-this.a,Gm(c,c.Oa()-b)),this.a=a)}}function en(a){if(!Tm(a))return!0;vm(a=a.map.$(),1,-1);var b=a.Oa(),c=this.j;return b=a.constrainRotation(b,0),Gm(a,b,void 0,c),!1}function cn(a){return!!(Tm(a)&&Nm(a)&&this.g(a))&&(vm(a.map.$(),1,1),this.a=void 0,!0)}function fn(a){this.Mc=null,this.b=document.createElement("div"),this.b.style.position="absolute",this.b.className="ol-box "+a,this.a=this.f=this.P=null}function gn(a){var b=a.f,c=a.a;(a=a.b.style).left=Math.min(b[0],c[0])+"px",a.top=Math.min(b[1],c[1])+"px",a.width=Math.abs(c[0]-b[0])+"px",a.height=Math.abs(c[1]-b[1])+"px"}function hn(a){var b=a.f,c=a.a;(b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.P.ab,a.P))[4]=b[0].slice(),a.Mc?a.Mc.sa([b]):a.Mc=new I([b])}function jn(a){Vm.call(this,{handleDownEvent:kn,handleDragEvent:ln,handleUpEvent:mn}),a=a||{},this.a=new fn(a.className||"ol-dragbox"),this.s=void 0!==a.minArea?a.minArea:64,this.g=null,this.B=a.condition?a.condition:Ed,this.o=a.boxEndCondition?a.boxEndCondition:nn}function nn(a,b,c){return a=c[0]-b[0],b=c[1]-b[1],a*a+b*b>=this.s}function ln(a){if(Tm(a)){var b=this.a,c=a.pixel;b.f=this.g,b.a=c,hn(b),gn(b),this.b(new on(pn,a.coordinate,a))}}function mn(a){return!Tm(a)||(this.a.setMap(null),this.o(a,this.g,a.pixel)&&(this.j(a),this.b(new on(qn,a.coordinate,a))),!1)}function kn(a){if(Tm(a)&&Nm(a)&&this.B(a)){this.g=a.pixel,this.a.setMap(a.map);var b=this.a,c=this.g;return b.f=this.g,b.a=c,hn(b),gn(b),this.b(new on(rn,a.coordinate,a)),!0}return!1}function on(a,b,c){Na.call(this,a),this.coordinate=b,this.mapBrowserEvent=c}function sn(a){var b=(a=a||{}).condition?a.condition:Rm;this.C=void 0!==a.duration?a.duration:200,this.D=void 0!==a.out&&a.out,jn.call(this,{condition:b,className:a.className||"ol-dragzoom"})}function tn(a){Fm.call(this,{handleEvent:un}),a=a||{},this.a=function(a){return Qm(a)&&Sm(a)},this.g=a.condition?a.condition:this.a,this.j=void 0!==a.duration?a.duration:100,this.l=void 0!==a.pixelDelta?a.pixelDelta:128}function un(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.g(a)&&(40==c||37==c||39==c||38==c)){var d=(b=a.map.$()).Ma()*this.l,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d,xd(d=[e,f],b.Oa()),c=this.j,(e=b.ta())&&(d=b.Kc([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:bj,center:d}):b.cb(d)),a.preventDefault(),b=!0}}return!b}function vn(a){Fm.call(this,{handleEvent:wn}),a=a||{},this.g=a.condition?a.condition:Sm,this.a=a.delta?a.delta:1,this.j=void 0!==a.duration?a.duration:100}function wn(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.g(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.$(),Hm(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b}function xn(a){Fm.call(this,{handleEvent:yn}),a=a||{},this.j=0,this.A=void 0!==a.duration?a.duration:250,this.Y=void 0!==a.timeout?a.timeout:80,this.B=void 0===a.useAnchor||a.useAnchor,this.O=a.constrainResolution||!1,this.a=null,this.o=this.l=this.s=this.g=void 0}function yn(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault(),b=a.map;var c=a.originalEvent;if(this.B&&(this.a=a.coordinate),"wheel"==a.type){var d=c.deltaY;ce&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=ge),c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else"mousewheel"==a.type&&(d=-c.wheelDeltaY,de&&(d/=3));if(0===d)return!1;if(a=Date.now(),void 0===this.g&&(this.g=a),(!this.l||400<a-this.g)&&(this.l=4>Math.abs(d)?zn:An),this.l===zn){b=b.$(),this.o?clearTimeout(this.o):vm(b,1,1),this.o=setTimeout(this.C.bind(this),400),c=b.Ma()*Math.pow(2,d/300);var e=b.g,f=b.a,g=0;if(c<e?(c=Math.max(c,e/1.5),g=1):c>f&&(c=Math.min(c,1.5*f),g=-1),this.a){var h=xm(b,c,this.a);b.cb(b.Kc(h))}return b.Hc(c),0===g&&this.O&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:Rk,anchor:this.a,duration:this.A}),0<g?b.animate({resolution:e,easing:Rk,anchor:this.a,duration:500}):0>g&&b.animate({resolution:f,easing:Rk,anchor:this.a,duration:500}),this.g=a,!1}return this.j+=d,d=Math.max(this.Y-(a-this.g),0),clearTimeout(this.s),this.s=setTimeout(this.D.bind(this,b),d),!1}function Bn(a){Vm.call(this,{handleDownEvent:Cn,handleDragEvent:Dn,handleUpEvent:En}),a=a||{},this.g=null,this.j=void 0,this.a=!1,this.o=0,this.B=void 0!==a.threshold?a.threshold:.3,this.s=void 0!==a.duration?a.duration:250}function Dn(a){var b=0,c=this.l[0],d=this.l[1];if(c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX),void 0!==this.j&&(b=c-this.j,this.o+=b,!this.a&&Math.abs(this.o)>this.B&&(this.a=!0)),this.j=c,a=a.map,(c=a.$()).j.rotation!==Yl){d=a.a.getBoundingClientRect();var e=Xm(this.l);e[0]-=d.left,e[1]-=d.top,this.g=a.ab(e),this.a&&(d=c.Oa(),a.render(),Gm(c,d+b,this.g))}}function En(a){if(2>this.l.length){if(a=a.map.$(),vm(a,1,-1),this.a){var b=a.Oa(),c=this.g,d=this.s;Gm(a,b=a.constrainRotation(b,0),c,d)}return!1}return!0}function Cn(a){return 2<=this.l.length&&(a=a.map,this.g=null,this.j=void 0,this.a=!1,this.o=0,this.A||vm(a.$(),1,1),!0)}function Fn(a){Vm.call(this,{handleDownEvent:Gn,handleDragEvent:Hn,handleUpEvent:In}),a=a||{},this.o=a.constrainResolution||!1,this.g=null,this.s=void 0!==a.duration?a.duration:400,this.a=void 0,this.j=1}function Hn(a){var b=1,c=this.l[0],d=this.l[1],e=c.clientX-d.clientX;c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c),void 0!==this.a&&(b=this.a/e),this.a=e,d=(e=(a=a.map).$()).Ma();var f=e.a,g=e.g;(c=d*b)>f?(b=f/d,c=f):c<g&&(b=g/d,c=g),1!=b&&(this.j=b),b=a.a.getBoundingClientRect(),(d=Xm(this.l))[0]-=b.left,d[1]-=b.top,this.g=a.ab(d),a.render(),Im(e,c,this.g)}function In(a){if(2>this.l.length){vm(a=a.map.$(),1,-1);var b=a.Ma();if(this.o||b<a.g||b>a.a){var c=this.g,d=this.s;Im(a,b=a.constrainResolution(b,0,this.j-1),c,d)}return!1}return!0}function Gn(a){return 2<=this.l.length&&(a=a.map,this.g=null,this.a=void 0,this.j=1,this.A||vm(a.$(),1,1),!0)}function Jn(a){a=a||{};var b=new $a,c=new Cm(-.005,.05,100);return(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new bn),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new Jm({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Ym({kinetic:c})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new Bn),(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new Fn({constrainResolution:a.constrainResolution,duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(b.push(new tn),b.push(new vn({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new xn({constrainResolution:a.constrainResolution,duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new sn({duration:a.zoomDuration})),b}function Kn(){this.b={},this.a=0}function Mn(a,b){this.P=b,this.c={},this.o={}}function Nn(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;De(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),Ee(ye(d,c))}function On(){if(32<Ln.a){var b,a=0;for(b in Ln.b){var c=Ln.b[b];0!=(3&a++)||Qa(c)||(delete Ln.b[b],--Ln.a)}}}function Pn(a,b){var c=w(b).toString();return c in a.c?a.c[c]:(b=b.Sd(a),a.c[c]=b,a.o[c]=y(b,"change",a.vm,a),b)}function Qn(a,b){for(var c in a.c)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.Xq.bind(a));break}}function Rn(a,b){return a.zIndex-b.zIndex}function Sn(a,b){Mn.call(this,0,b),this.f=md(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.a=!0,this.i=ue()}function Tn(a,b,c){var d=a.P,e=a.f;if(Qa(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=De(a.i,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]),d.b(new Gd(b,new Fe(e,g,f,a,h),c,e,null))}}function Un(a,b){Mn.call(this,0,b),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.H=this.A=0,this.B=md(),this.l=!0,this.f=$d(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Wf(this.b,this.f),y(this.b,"webglcontextlost",this.Vo,this),y(this.b,"webglcontextrestored",this.Wo,this),this.a=new mi,this.s=null,this.j=new Pl(function(a){var b=a[1];a=a[2];var c=b[0]-this.s[0];return b=b[1]-this.s[1],65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].ib()}),this.C=function(){if(0!==this.j.b.length){Tl(this.j);var a=Ql(this.j);ei(this,a[0],a[3],a[4])}return!1}.bind(this),this.g=0,Vn(this)}function ei(a,b,c,d){var e=a.f,f=b.ib();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.texture),9729!=a.oi&&(e.texParameteri(3553,10240,9729),a.oi=9729),9729!=a.ri&&(e.texParameteri(3553,10241,9729),a.ri=9729);else{var g=e.createTexture();if(e.bindTexture(3553,g),0<d){var h=a.B.canvas,l=a.B;a.A!==c[0]||a.H!==c[1]?(h.width=c[0],h.height=c[1],a.A=c[0],a.H=c[1]):l.clearRect(0,0,c[0],c[1]),l.drawImage(b.Z(),d,d,c[0],c[1],0,0,c[0],c[1]),e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.Z());e.texParameteri(3553,10240,9729),e.texParameteri(3553,10241,9729),e.texParameteri(3553,10242,33071),e.texParameteri(3553,10243,33071),a.a.set(f,{texture:g,oi:9729,ri:9729})}}function Wn(a,b,c){var d=a.P;if(Qa(d,b)){a=a.i;var e=c.viewState;d.b(new Gd(b,new Nh(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}function Vn(a){(a=a.f).activeTexture(33984),a.blendFuncSeparate(770,771,1,771),a.disable(2884),a.disable(2929),a.disable(3089),a.disable(2960)}function K(a){Ua.call(this);var b=Yn(a);this.Qd=void 0!==a.loadTilesWhileAnimating&&a.loadTilesWhileAnimating,this.Rf=void 0!==a.loadTilesWhileInteracting&&a.loadTilesWhileInteracting,this.Nf=void 0!==a.pixelRatio?a.pixelRatio:ge,this.Sf=b.logos,this.ja=function(){this.l=void 0,this.Yq.call(this,Date.now())}.bind(this),this.Jb=ue(),this.Xf=ue(),this.dc=0,this.D=this.O=this.U=this.j=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(le?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.C=document.createElement("DIV"),this.C.className="ol-overlaycontainer",this.a.appendChild(this.C),this.B=document.createElement("DIV"),this.B.className="ol-overlaycontainer-stopevent";for(var c="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),d=0,e=c.length;d<e;++d)y(this.B,c[d],Oa);this.a.appendChild(this.B),this.Da=new Ll(this,a.moveTolerance);for(var f in il)y(this.Da,il[f],this.hi,this);this.na=b.keyboardEventTarget,this.A=null,y(this.a,"wheel",this.xd,this),y(this.a,"mousewheel",this.xd,this),this.o=b.controls,this.i=b.interactions,this.s=b.overlays,this.Lg={},this.oc=new b.$q(this.a,this),this.Y=null,this.gb=[],this.Sa=new Ul(this.fm.bind(this),this.Om.bind(this)),this.qa={},y(this,Wa("layergroup"),this.um,this),y(this,Wa("view"),this.Pm,this),y(this,Wa("size"),this.Jm,this),y(this,Wa("target"),this.Nm,this),this.J(b.values),this.o.forEach(function(a){a.setMap(this)},this),y(this.o,"add",function(a){a.element.setMap(this)},this),y(this.o,"remove",function(a){a.element.setMap(null)},this),this.i.forEach(function(a){a.setMap(this)},this),y(this.i,"add",function(a){a.element.setMap(this)},this),y(this.i,"remove",function(a){a.element.setMap(null)},this),this.s.forEach(this.Eh,this),y(this.s,"add",function(a){this.Eh(a.element)},this),y(this.s,"remove",function(a){var b=a.element.g;void 0!==b&&delete this.Lg[b.toString()],a.element.setMap(null)},this)}function Yn(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[w(e).toString()]=e:e&&(eb("string"==typeof e.href,44),eb("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof Xb?a.layers:new Xb({layers:a.layers}),c.layergroup=e,c.target=a.target,c.view=void 0!==a.view?a.view:new J,e=Mn;var f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"==typeof a.renderer?f=[a.renderer]:eb(!1,46),0<=f.indexOf("dom")&&(f=f.concat(Xn))):f=Xn;var g,h=0;for(g=f.length;h<g;++h){var l=f[h];if("canvas"==l){if(ie){e=Sn;break}}else if("webgl"==l&&ae){e=Un;break}}return void 0!==a.controls?Array.isArray(a.controls)?f=new $a(a.controls.slice()):(eb(a.controls instanceof $a,47),f=a.controls):f=Wk(),void 0!==a.interactions?Array.isArray(a.interactions)?h=new $a(a.interactions.slice()):(eb(a.interactions instanceof $a,48),h=a.interactions):h=Jn(),void 0!==a.overlays?Array.isArray(a.overlays)?a=new $a(a.overlays.slice()):(eb(a.overlays instanceof $a,49),a=a.overlays):a=new $a,{controls:f,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,$q:e,values:c}}function Zn(a){Ua.call(this),this.g=a.id,this.o=void 0===a.insertFirst||a.insertFirst,this.s=void 0===a.stopEvent||a.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==a.autoPan&&a.autoPan,this.j=a.autoPanAnimation||{},this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.a={He:"",Ye:"",Ef:"",Kf:"",visible:!0},this.i=null,y(this,Wa($n),this.pm,this),y(this,Wa(ao),this.zm,this),y(this,Wa(bo),this.Dm,this),y(this,Wa(co),this.Fm,this),y(this,Wa(eo),this.Gm,this),void 0!==a.element&&this.Uj(a.element),this.$j(void 0!==a.offset?a.offset:[0,0]),this.ck(void 0!==a.positioning?a.positioning:"top-left"),void 0!==a.position&&this.ef(a.position)}function go(a,b){var c=a.getBoundingClientRect();return a=c.left+window.pageXOffset,c=c.top+window.pageYOffset,[a,c,a+b[0],c+b[1]]}function ho(a,b){a.a.visible!==b&&(a.c.style.display=b?"":"none",a.a.visible=b)}function fo(a){var b=a.df(),c=a.Di();if(b&&b.c&&c){c=b.Na(c);var d=b.Ob();b=a.c.style;var e=a.bi(),f=a.ci();ho(a,!0);var g=e[0];e=e[1],"bottom-right"==f||"center-right"==f||"top-right"==f?(""!==a.a.Ye&&(a.a.Ye=b.left=""),g=d[0]-c[0]-g+"px",a.a.Ef!=g&&(a.a.Ef=b.right=g)):(""!==a.a.Ef&&(a.a.Ef=b.right=""),"bottom-center"!=f&&"center-center"!=f&&"top-center"!=f||(g-=a.c.offsetWidth/2),g=c[0]+g+"px",a.a.Ye!=g&&(a.a.Ye=b.left=g)),"bottom-left"==f||"bottom-center"==f||"bottom-right"==f?(""!==a.a.Kf&&(a.a.Kf=b.top=""),c=d[1]-c[1]-e+"px",a.a.He!=c&&(a.a.He=b.bottom=c)):(""!==a.a.He&&(a.a.He=b.bottom=""),"center-left"!=f&&"center-center"!=f&&"center-right"!=f||(e-=a.c.offsetHeight/2),c=c[1]+e+"px",a.a.Kf!=c&&(a.a.Kf=b.top=c))}else ho(a,!1)}function io(a){function b(a){a=h.ig(a),l.P.$().cb(a),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",b)}function c(a){a=h.ig({clientX:a.clientX-n.offsetWidth/2,clientY:a.clientY+n.offsetHeight/2}),m.ef(a)}a=a||{},this.g=void 0===a.collapsed||a.collapsed,this.j=void 0===a.collapsible||a.collapsible,this.j||(this.g=!1);var d=void 0!==a.className?a.className:"ol-overviewmap",e=void 0!==a.tipLabel?a.tipLabel:"Overview map",f=void 0!==a.collapseLabel?a.collapseLabel:"«";"string"==typeof f?(this.s=document.createElement("span"),this.s.textContent=f):this.s=f,"string"==typeof(f=void 0!==a.label?a.label:"»")?(this.A=document.createElement("span"),this.A.textContent=f):this.A=f;var g=this.j&&!this.g?this.s:this.A;(f=document.createElement("button")).setAttribute("type","button"),f.title=e,f.appendChild(g),y(f,"click",this.Zn,this),this.B=document.createElement("DIV"),this.B.className="ol-overviewmap-map";var h=this.a=new K({controls:new $a,interactions:new $a,view:a.view});a.layers&&a.layers.forEach(function(a){h.Ch(a)},this),(e=document.createElement("DIV")).className="ol-overviewmap-box",e.style.boxSizing="border-box",this.l=new Zn({position:[0,0],positioning:"bottom-left",element:e}),this.a.Dh(this.l),(e=document.createElement("div")).className=d+" ol-unselectable ol-control"+(this.g&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),e.appendChild(this.B),e.appendChild(f),Mk.call(this,{element:e,render:a.render?a.render:jo,target:a.target});var l=this,m=this.l,n=this.l.ee();n.addEventListener("mousedown",function(){window.addEventListener("mousemove",c),window.addEventListener("mouseup",b)})}function jo(){var a=this.P,b=this.a;if(a.c&&b.c){var c=a.Ob();a=a.$().od(c);var d=b.Ob();c=b.$().od(d);var e=b.Na(Bb(a)),f=b.Na(zb(a));b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1],b<.1*f||e<.1*d||b>.75*f||e>.75*d?ko(this):nb(c,a)||(a=this.a,c=this.P.$(),a.$().cb(c.ta()))}lo(this)}function ko(a){var b=a.P;a=a.a;var c=b.Ob();b=b.$().od(c),a=a.$(),Kb(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),a.fg(b)}function lo(a){var b=a.P,c=a.a;if(b.c&&c.c){var d=b.Ob(),e=b.$(),f=c.$();c=e.Oa(),b=a.l;var g=a.l.ee(),h=e.od(d);if(d=f.Ma(),e=yb(h),f=Ab(h),a=a.P.$().ta()){var l=[e[0]-a[0],e[1]-a[1]];xd(l,c),rd(l,a)}b.ef(l),g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}function mo(a){a.element.classList.toggle("ol-collapsed"),a.g?nd(a.s,a.A):nd(a.A,a.s),a.g=!a.g;var b=a.a;a.g||b.c||(b.Md(),ko(a),Ia(b,"postrender",function(){lo(this)},a))}function no(a){var b=void 0!==(a=a||{}).className?a.className:"ol-scale-line";this.j=document.createElement("DIV"),this.j.className=b+"-inner",this.a=document.createElement("DIV"),this.a.className=b+" ol-unselectable",this.a.appendChild(this.j),this.s=null,this.l=void 0!==a.minWidth?a.minWidth:64,this.g=!1,this.C=void 0,this.A="",Mk.call(this,{element:this.a,render:a.render?a.render:oo,target:a.target}),y(this,Wa(po),this.U,this),this.D(a.units||"metric")}function oo(a){(a=a.frameState)?this.s=a.viewState:this.s=null,ro(this)}function ro(a){var b=a.s;if(b){var c=b.center,d=b.projection,e=a.B();b=Hc(d,b.resolution,c,"degrees"==e?"degrees":"m");var f=a.l*b;for(c="","degrees"==e?(c=oc.degrees,"degrees"==d.b?f*=c:b/=c,f<c/60?(c="″",b*=3600):f<c?(c="′",b*=60):c="°"):"imperial"==e?.9144>f?(c="in",b/=.0254):1609.344>f?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?.001>f?(c="μm",b*=1e6):1>f?(c="mm",b*=1e3):1e3>f?c="m":(c="km",b/=1e3):"us"==e?.9144>f?(c="in",b*=39.37):1609.344>f?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):eb(!1,33),e=3*Math.floor(Math.log(a.l*b)/Math.log(10));;){if(f=qo[(e%3+3)%3]*Math.pow(10,Math.floor(e/3)),d=Math.round(f/b),isNaN(d))return a.a.style.display="none",void(a.g=!1);if(d>=a.l)break;++e}b=f+" "+c,a.A!=b&&(a.j.innerHTML=b,a.A=b),a.C!=d&&(a.j.style.width=d+"px",a.C=d),a.g||(a.a.style.display="",a.g=!0)}else a.g&&(a.a.style.display="none",a.g=!1)}function so(a){a=a||{},this.a=void 0,this.g=to,this.A=this.l=0,this.D=null,this.Y=!1,this.U=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button"),c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control",d.appendChild(c),this.j=new Gl(d),y(this.j,"pointerdown",this.om,this),y(this.j,"pointermove",this.mm,this),y(this.j,"pointerup",this.nm,this),y(d,"click",this.lm,this),y(c,"click",Oa),Mk.call(this,{element:d,render:a.render?a.render:uo})}function uo(a){if(a.frameState){if(!this.Y){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e);b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom),this.D=[b,e],c>d?(this.g=1,this.A=c-b):(this.g=to,this.l=d-e),this.Y=!0}(a=a.frameState.viewState.resolution)!==this.a&&(this.a=a,vo(this,a))}}function vo(a,b){b=1-Bm(a.P.$())(b);var c=a.element.firstElementChild;1==a.g?c.style.left=a.A*b+"px":c.style.top=a.l*b+"px"}function wo(a,b){return Am(a.P.$())(1-b)}function xo(a){a=a||{},this.a=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button"),e.title=d,e.appendChild("string"==typeof c?document.createTextNode(c):c),y(e,"click",this.g,this),(c=document.createElement("div")).className=b+" ol-unselectable ol-control",c.appendChild(e),Mk.call(this,{element:c,target:a.target})}function yo(a){Ua.call(this),a=a||{},this.a=null,y(this,Wa(zo),this.qn,this),this.zg(void 0!==a.tracking&&a.tracking)}function Eo(a){Ua.call(this),this.a=void 0,this.c="geometry",this.g=null,this.j=void 0,this.i=null,y(this,Wa(this.c),this.Ue,this),void 0!==a&&(a instanceof Td||!a?this.Va(a):this.J(a))}function Fo(a){var b;if("function"==typeof a)b=2==a.length?function(b){return a(this,b)}:a;else{if(Array.isArray(a))var c=a;else eb(a instanceof xk,41),c=[a];b=function(){return c}}return b}function Ho(a,b){return Go.createElementNS(a,b)}function Io(a,b){return Jo(a,b,[]).join("")}function Jo(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)Jo(a,b,c);return c}function Ko(a){return a instanceof Document}function Lo(a){return a instanceof Node}function Mo(a){return(new DOMParser).parseFromString(a,"application/xml")}function No(a,b){return function(c,d){void 0!==(c=a.call(b,c,d))&&gd(d[d.length-1],c)}}function Oo(a,b){return function(c,d){void 0!==(c=a.call(void 0!==b?b:this,c,d))&&d[d.length-1].push(c)}}function Po(a,b){return function(c,d){void 0!==(c=a.call(void 0!==b?b:this,c,d))&&(d[d.length-1]=c)}}function Qo(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){c=c[c.length-1];((b=b.localName)in c?c[b]:c[b]=[]).push(d)}}}function L(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function M(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}}function Ro(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a,b[d.namespaceURI]=g,c=So(d.localName)}To(b,c,e,f)}}function So(a,b){return function(c,d,e){return c=d[d.length-1].node,void 0===(d=a)&&(d=e),e=b,void 0===b&&(e=c.namespaceURI),Ho(e,d)}}function Vo(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function P(a,b,c){c=void 0!==c?c:{};var d,e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c}function Wo(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function Q(a,b,c,d,e){return d.push(a),Wo(b,c,d,e),d.pop()}function To(a,b,c,d,e,f){for(var h,l,g=(void 0!==e?e:c).length,m=0;m<g;++m)void 0!==(h=c[m])&&void 0!==(l=b.call(f,h,d,void 0!==e?e[m]:void 0))&&a[l.namespaceURI][l.localName].call(f,l,h,d)}function Xo(a,b,c,d,e,f,g){e.push(a),To(b,c,d,e,f,g),e.pop()}function Yo(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"==typeof a?a(e,f,g):a,!0),"arraybuffer"==b.T()&&(h.responseType="arraybuffer"),h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.T();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=Mo(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.Ua(e,{featureProjection:g}),b.pb(e),b.ng()):d.call(this)}else d.call(this)}.bind(this),h.onerror=function(){d.call(this)}.bind(this),h.send()}}function Zo(a,b){return Yo(a,b,function(a){this.Jc(a)},va)}function $o(){this.i=this.defaultDataProjection=null}function ap(a,b,c){var d;return c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.pb(b),featureProjection:c.featureProjection}),bp(a,d)}function bp(a,b){return xa({dataProjection:a.defaultDataProjection,featureProjection:a.i},b)}function cp(a,b,c){var f,d=c?Ic(c.featureProjection):null,e=c?Ic(c.dataProjection):null;if(f=d&&e&&!Sc(d,e)?a instanceof Td?(b?a.clone():a).transform(b?d:e,b?e:d):Wc(a,e,d):a,b&&c&&void 0!==c.decimals){var g=Math.pow(10,c.decimals);f===a&&(f=f.clone()),f.rc(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a})}return f}function dp(){$o.call(this)}function ep(a){return"string"==typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}function fp(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(1===l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(0!==l){h=a[b],l=a[b+1];var m=0;g=[0];var n;for(n=b+d;n<c;n+=d){var p=a[n],q=a[n+1];m+=Math.sqrt((p-h)*(p-h)+(q-l)*(q-l)),g.push(m),h=p,l=q}for(c=e*m,l=0,m=g.length,n=!1;l<m;)e=l+(m-l>>1),0>(h=+dd(g[e],c))?l=e+1:(m=e,n=!h);0>(e=n?l:~l)?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=Tb(a[b],a[b+d],c),h=Tb(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=g,f[1]=h,f):[g,h]}function gp(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);for(b/=d,c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;if(c=a[b*d-1],e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c),c=[];var g;for(g=0;g<d-1;++g)c.push(Tb(a[(b-1)*d+g],a[b*d+g],f));return c.push(e),c}function hp(a,b,c,d,e,f){var g=0;if(f)return gp(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;for(e=0,f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;if(d<=a[h-1])return gp(a,g,h,c,d,!1);g=h}}return null}function R(a,b){C.call(this),this.c=null,this.A=this.B=this.j=-1,this.sa(a,b)}function Me(a){return a.j!=a.f&&(a.c=a.Vh(.5,a.c),a.j=a.f),a.c}function S(a,b){C.call(this),this.c=[],this.j=this.A=-1,this.sa(a,b)}function Ne(a){var b=[],c=a.v,d=0,e=a.c;a=a.a;var f,g=0;for(f=e.length;g<f;++g){var h=e[g];gd(b,d=fp(c,d,h,a,.5)),d=h}return b}function ip(a,b){var f,c=a.la,d=[],e=[],g=0;for(f=b.length;g<f;++g){var h=b[g];0===g&&(c=h.la),gd(d,h.da()),e.push(d.length)}a.ba(c,d,e)}function jp(a,b){C.call(this),this.sa(a,b)}function T(a,b){C.call(this),this.c=[],this.A=-1,this.B=null,this.O=this.C=this.D=-1,this.j=null,this.sa(a,b)}function Qe(a){if(a.A!=a.f){var g,b=a.v,c=a.c,d=a.a,e=0,f=[],h=0;for(g=c.length;h<g;++h){var l=c[h];e=tb(b,e,l[0],d),f.push((e[0]+e[2])/2,(e[1]+e[3])/2),e=l[l.length-1]}for(b=Pe(a),c=a.c,d=a.a,h=0,g=[],l=0,e=c.length;l<e;++l){var m=c[l];g=lm(b,h,m,d,f,2*l,g),h=m[m.length-1]}a.B=g,a.A=a.f}return a.B}function Pe(a){if(a.O!=a.f){var b=a.v;a:{var d,c=a.c,e=0;for(d=c.length;e<d;++e)if(!gg(b,c[e],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=ig(a.j,a.c,a.a)),a.O=a.f}return a.j}function kp(a,b,c,d){Xd(a,b,c),a.c=d,a.u()}function lp(a,b){var f,c=a.la,d=[],e=[],g=0;for(f=b.length;g<f;++g){var h=b[g];0===g&&(c=h.la);var n,l=d.length,m=h.tb(),p=0;for(n=m.length;p<n;++p)m[p]+=l;gd(d,h.da()),e.push(m)}kp(a,c,d,e)}function mp(a){a=a||{},$o.call(this),this.b=a.geometryName}function np(a,b){if(!a)return null;if("number"==typeof a.x&&"number"==typeof a.y)var c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=op(a),f=[],g=[];c=[];var h,l=0;for(h=d.length;l<h;++l)f.length=0,hm(f,0,d[l],e.length),fg(f,0,f.length,e.length)?g.push([d[l]]):c.push(d[l]);for(;c.length;){for(d=c.shift(),e=!1,l=g.length-1;0<=l;l--)if(nb(new jm(g[l][0]).G(),new jm(d).G())){g[l].push(d),e=!0;break}e||g.push([d.reverse()])}a=xa({},a),1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return cp((0,pp[c])(a),!1,b)}function op(a){var b="XY";return!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM"),b}function qp(a){return a=a.la,{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}function sp(a,b){return(0,rp[a.T()])(cp(a,!0,b),b)}function tp(a){this.qc=a}function up(a,b){this.qc=a,this.b=Array.prototype.slice.call(arguments,1),eb(2<=this.b.length,57)}function vp(a){var b=["And"].concat(Array.prototype.slice.call(arguments));up.apply(this,b)}function wp(a,b,c){this.qc="BBOX",this.geometryName=a,this.extent=b,this.srsName=c}function xp(a,b){this.qc=a,this.b=b}function yp(a,b,c){xp.call(this,"During",a),this.a=b,this.f=c}function zp(a,b,c,d){xp.call(this,a,b),this.f=c,this.a=d}function Bp(a,b,c){zp.call(this,"PropertyIsEqualTo",a,b,c)}function Cp(a,b){zp.call(this,"PropertyIsGreaterThan",a,b)}function Dp(a,b){zp.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}function Ep(a,b,c,d){this.qc=a,this.geometryName=b||"the_geom",this.geometry=c,this.srsName=d}function Fp(a,b,c){Ep.call(this,"Intersects",a,b,c)}function Gp(a,b,c){xp.call(this,"PropertyIsBetween",a),this.a=b,this.f=c}function Hp(a,b,c,d,e,f){xp.call(this,"PropertyIsLike",a),this.c=b,this.g=void 0!==c?c:"*",this.i=void 0!==d?d:".",this.f=void 0!==e?e:"!",this.a=f}function Ip(a){xp.call(this,"PropertyIsNull",a)}function Jp(a,b){zp.call(this,"PropertyIsLessThan",a,b)}function Kp(a,b){zp.call(this,"PropertyIsLessThanOrEqualTo",a,b)}function Lp(a){this.qc="Not",this.condition=a}function Mp(a,b,c){zp.call(this,"PropertyIsNotEqualTo",a,b,c)}function Np(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));up.apply(this,b)}function Op(a,b,c){Ep.call(this,"Within",a,b,c)}function Pp(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(vp,b))}function Qp(a,b,c){return new wp(a,b,c)}function Rp(a){Td.call(this),this.a=a||null,Sp(this)}function Tp(a){var c,b=[],d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b}function Up(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)Ja(a.a[c],"change",a.u,a)}}function Sp(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)y(a.a[c],"change",a.u,a)}}function Vp(a){a=a||{},$o.call(this),this.defaultDataProjection=Ic(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326"),a.featureProjection&&(this.i=Ic(a.featureProjection)),this.b=a.geometryName}function Wp(a,b){return a?cp((0,Xp[a.type])(a),!1,b):null}function Yp(a,b){return(0,Zp[a.T()])(cp(a,!0,b),b)}function $p(){this.f=new XMLSerializer,$o.call(this)}function aq(a,b,c){return 0<(a=bq(a,b,c)).length?a[0]:null}function bq(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gd(d,a.Ec(b,c));return d}function cq(a){a=a||{},this.featureType=a.featureType,this.featureNS=a.featureNS,this.srsName=a.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Po(cq.prototype.me),featureMembers:Po(cq.prototype.me)},$p.call(this)}function eq(a){return a=Io(a,!1),fq(a)}function fq(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function gq(a){return a=Io(a,!1),a=Date.parse(a),isNaN(a)?void 0:a/1e3}function hq(a){return a=Io(a,!1),iq(a)}function iq(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function jq(a){return a=Io(a,!1),kq(a)}function kq(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function U(a){return Io(a,!1).trim()}function lq(a,b){mq(a,b?"1":"0")}function nq(a,b){a.appendChild(Go.createTextNode(b.toPrecision()))}function oq(a,b){a.appendChild(Go.createTextNode(b.toString()))}function mq(a,b){a.appendChild(Go.createTextNode(b))}function pq(a){a=a||{},cq.call(this,a),this.o=void 0!==a.surface&&a.surface,this.c=void 0!==a.curve&&a.curve,this.g=void 0===a.multiCurve||a.multiCurve,this.j=void 0===a.multiSurface||a.multiSurface,this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==a.hasZ&&a.hasZ}function qq(a,b,c){var d=c[c.length-1];c=d.hasZ,d=d.srsName;for(var g,e=(b=b.V()).length,f=Array(e),h=0;h<e;++h){g=b[h];var l=h,m=c,n="enu";d&&(n=Ic(d).a),n="en"===n.substr(0,2)?g[0]+" "+g[1]:g[1]+" "+g[0],m&&(n+=" "+(g[2]||0)),f[l]=n}mq(a,f.join(" "))}function yq(a){a=a||{},cq.call(this,a),this.b["http://www.opengis.net/gml"].featureMember=Oo(cq.prototype.me),this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Aq(a){return(a=Ho(a,"coordinates")).setAttribute("decimal","."),a.setAttribute("cs",","),a.setAttribute("ts"," "),a}function Bq(a,b,c){var d=c[c.length-1];c=d.hasZ,d=d.srsName;for(var g,e=(b=b.V()).length,f=Array(e),h=0;h<e;++h)g=b[h],f[h]=Cq(g,d,c);mq(a,f.join(" "))}function Cq(a,b,c){var d="enu";return b&&(d=Ic(b).a),b="en"===d.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0],c&&(b+=","+(a[2]||0)),b}function Jq(a){a=a||{},$p.call(this),this.defaultDataProjection=Ic("EPSG:4326"),this.b=a.readExtensions}function Lq(a,b,c,d){return a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat"))),"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0),"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0),a}function Mq(a,b,c){var d="XY",e=2;if(a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3),4!==e){var f,g=0;for(f=b.length/4;g<f;g++)b[g*e]=b[4*g],b[g*e+1]=b[4*g+1],a.hasZ&&(b[g*e+2]=b[4*g+2]),a.hasM&&(b[g*e+2]=b[4*g+3]);if(b.length=b.length/4*e,c)for(g=0,f=c.length;g<f;g++)c[g]=c[g]/4*e}return d}function Nq(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),Wo(Oq,a,b)}function Pq(a,b){b[b.length-1].extensionsNode_=a}function Qq(a,b){var c=b[0];if(a=Q({flatCoordinates:[],layoutOptions:{}},Rq,a,b)){b=a.flatCoordinates,delete a.flatCoordinates;var d=a.layoutOptions;delete a.layoutOptions,d=Mq(d,b);var e=new R(null);return e.ba(d,b),cp(e,!1,c),(c=new Eo(e)).J(a),c}}function Sq(a,b){var c=b[0];if(a=Q({flatCoordinates:[],ends:[],layoutOptions:{}},Tq,a,b)){b=a.flatCoordinates,delete a.flatCoordinates;var d=a.ends;delete a.ends;var e=a.layoutOptions;delete a.layoutOptions,e=Mq(e,b,d);var f=new S(null);return f.ba(e,b,d),cp(f,!1,c),(c=new Eo(f)).J(a),c}}function Uq(a,b){var c=b[0];if(b=Q({},Vq,a,b)){var d={};return a=Lq([],d,a,b),d=Mq(d,a),a=new H(a,d),cp(a,!1,c),(c=new Eo(a)).J(b),c}}function ar(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}function br(a,b,c){a.setAttribute("href",b),b=c[c.length-1].properties,Xo({node:a},cr,Uo,[b.linkText,b.linkType],c,dr)}function er(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;switch(a.setAttributeNS(null,"lat",b[1]),a.setAttributeNS(null,"lon",b[0]),d.geometryLayout){case"XYZM":0!==b[3]&&(f.time=b[3]);case"XYZ":0!==b[2]&&(f.ele=b[2]);break;case"XYM":0!==b[2]&&(f.time=b[2])}d=Vo(f,b="rtept"==a.nodeName?fr[e]:gr[e]),Xo({node:a,properties:f},hr,Uo,d,c,b)}function pr(a,b){if((a=a.W())&&(a=or[a.T()]))return Ho(b[b.length-1].node.namespaceURI,a)}function rr(){$o.call(this)}function sr(a){return"string"==typeof a?a:""}function tr(a){a=a||{},$o.call(this),this.defaultDataProjection=Ic("EPSG:4326"),this.b=a.altitudeMode?a.altitudeMode:"none"}function yr(a,b,c,d,e,f){Pa.call(this),this.j=null,this.N=a||new Image,null!==d&&(this.N.crossOrigin=d),this.c=f?document.createElement("CANVAS"):null,this.g=f,this.i=null,this.f=e,this.a=c,this.l=b,this.o=!1,2==this.f&&zr(this)}function zr(a){var b=md(1,1);try{b.drawImage(a.N,0,0),b.getImageData(0,0,1,1)}catch(c){a.o=!0}}function Dj(a){a=a||{},this.l=void 0!==a.anchor?a.anchor:[.5,.5],this.H=null,this.f=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left",this.C=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction",this.fa=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction",this.D=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;eb(!(void 0!==d&&b),4),eb(!b||b&&c,5),void 0!==d&&0!==d.length||!b||(d=b.src||w(b).toString()),eb(void 0!==d&&0<d.length,6);var e=void 0!==a.src?0:2;this.j=void 0!==a.color?Nd(a.color):null;var f=this.D,g=this.j,h=Ln.get(d,f,g);h||(h=new yr(b,d,c,f,e,g),Ln.set(d,f,g,h)),this.b=h,this.ma=void 0!==a.offset?a.offset:[0,0],this.c=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left",this.A=null,this.B=void 0!==a.size?a.size:null,sk.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView})}function Ar(a){a=a||{},this.b=a.font,this.j=a.rotation,this.l=a.rotateWithView,this.a=a.scale,this.ya=a.text,this.g=a.textAlign,this.f=a.textBaseline,this.Za=void 0!==a.fill?a.fill:new wk({color:"#333"}),this.Ya=void 0!==a.stroke?a.stroke:null,this.c=void 0!==a.offsetX?a.offsetX:0,this.i=void 0!==a.offsetY?a.offsetY:0}function Br(a){a=a||{},$p.call(this),Cr||(Dr=[255,255,255,1],Er=new wk({color:Dr}),Fr=[20,2],Gr=Hr="pixels",Ir=[64,64],Jr="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Kr=.5,Lr=new Dj({anchor:Fr,anchorOrigin:"bottom-left",anchorXUnits:Hr,anchorYUnits:Gr,crossOrigin:"anonymous",rotation:0,scale:Kr,size:Ir,src:Jr}),Mr="NO_IMAGE",Nr=new Pg({color:Dr,width:1}),Or=new Pg({color:[51,51,51,1],width:2}),Pr=new Ar({font:"bold 16px Helvetica",fill:Er,stroke:Or,scale:.8}),Qr=new xk({fill:Er,image:Lr,text:Pr,stroke:Nr,zIndex:0}),Cr=[Qr]),this.defaultDataProjection=Ic("EPSG:4326"),this.a=a.defaultStyle?a.defaultStyle:Cr,this.c=void 0===a.extractStyles||a.extractStyles,this.j=void 0===a.writeStyles||a.writeStyles,this.b={},this.g=void 0===a.showPointNames||a.showPointNames}function Ur(a,b){var c=[0,0],d="start";if(a.Z()){var e=a.Z().Ne();null===e&&(e=Ir),2==e.length&&(d=a.Z().a,c[0]=d*e[0]/2,c[1]=-d*e[1]/2,d="left")}return null!==a.Ba()?(e=a.Ba(),(a=e.clone()).Wj(e.b||Pr.b),a.xj(e.a||Pr.a),a.Ff(e.va()||Pr.va()),a.Gf(e.ua()||Or)):a=Pr.clone(),a.Kd(b),a.ak(c[0]),a.bk(c[1]),a.dk(d),new xk({text:a})}function Vr(a,b,c,d,e){return function(){var f=e,g="";if(f&&this.W()&&(f="Point"===this.W().T()),f&&(g=this.get("name"),f=f&&g),a)return f?(f=Ur(a[0],g),a.concat(f)):a;if(b){var h=Wr(b,c,d);return f?(f=Ur(h[0],g),h.concat(f)):h}return f?(f=Ur(c[0],g),c.concat(f)):c}}function Wr(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Wr(c[a],b,c)):b}function Xr(a){if(a=Io(a,!1),a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function Yr(a){a=Io(a,!1);for(var d,b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);if(""===a)return b}function Zr(a){var b=Io(a,!1).trim();return a.baseURI&&"about:blank"!==a.baseURI?new URL(b,a.baseURI).href:b}function $r(a){return hq(a)}function as(a,b){return Q(null,bs,a,b)}function cs(a,b){if(b=Q({v:[],lk:[]},ds,a,b)){a=b.v,b=b.lk;var c,d=0;for(c=Math.min(a.length,b.length);d<c;++d)a[4*d+3]=b[d];return(b=new R(null)).ba("XYZM",a),b}}function es(a,b){var c=Q({},fs,a,b);if(a=Q(null,gs,a,b))return(b=new R(null)).ba("XYZ",a),b.J(c),b}function hs(a,b){var c=Q({},fs,a,b);if(a=Q(null,gs,a,b))return(b=new I(null)).ba("XYZ",a,[a.length]),b.J(c),b}function is(a,b){if(!(a=Q([],js,a,b)))return null;if(0===a.length)return new Rp(a);var e,c=!0,d=a[0].T(),f=1;for(e=a.length;f<e;++f)if((b=a[f]).T()!=d){c=!1;break}if(c)if("Point"==d){var g=a[0];for(c=g.la,d=g.da(),f=1,e=a.length;f<e;++f)b=a[f],gd(d,b.da());(g=new jp(null)).ba(c,d),ks(g,a)}else"LineString"==d?(g=new S(null),ip(g,a),ks(g,a)):"Polygon"==d?(g=new T(null),lp(g,a),ks(g,a)):"GeometryCollection"==d?g=new Rp(a):eb(!1,37);else g=new Rp(a);return g}function ls(a,b){var c=Q({},fs,a,b);if(a=Q(null,gs,a,b))return(b=new H(null)).ba("XYZ",a),b.J(c),b}function ms(a,b){var c=Q({},fs,a,b);if((a=Q([null],ns,a,b))&&a[0]){b=new I(null);var f,d=a[0],e=[d.length],g=1;for(f=a.length;g<f;++g)gd(d,a[g]),e.push(d.length);return b.ba("XYZ",d,e),b.J(c),b}}function os(a,b){if(!(b=Q({},ps,a,b)))return null;a="fillStyle"in b?b.fillStyle:Er;var c=b.fill;void 0===c||c||(a=null),(c="imageStyle"in b?b.imageStyle:Lr)==Mr&&(c=void 0);var d="textStyle"in b?b.textStyle:Pr,e="strokeStyle"in b?b.strokeStyle:Nr;return void 0===(b=b.outline)||b||(e=null),[new xk({fill:a,image:c,stroke:e,text:d,zIndex:void 0})]}function ks(a,b){var g,h,l,c=b.length,d=Array(b.length),e=Array(b.length),f=Array(b.length),m=h=l=!1;for(g=0;g<c;++g){var n=b[g];d[g]=n.get("extrude"),e[g]=n.get("tessellate"),f[g]=n.get("altitudeMode"),m=m||void 0!==d[g],h=h||void 0!==e[g],l=l||f[g]}m&&a.set("extrude",d),h&&a.set("tessellate",e),l&&a.set("altitudeMode",f)}function qs(a,b){Wo(rs,a,b)}function ss(a,b){Wo(ts,a,b)}function Ls(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=Ms(a,b);if(c)return c}}function Ms(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ed(Sr,c.namespaceURI)&&"name"==c.localName)return U(c);for(c=b.firstElementChild;c;c=c.nextElementSibling)if(b=c.localName,ed(Sr,c.namespaceURI)&&("Document"==b||"Folder"==b||"Placemark"==b||"kml"==b)&&(b=Ms(a,c)))return b}function Ns(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gd(c,Os(a,b));return c}function Os(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ed(Sr,c.namespaceURI)&&"NetworkLink"==c.localName){var e=Q({},Gs,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)b=c.localName,!ed(Sr,c.namespaceURI)||"Document"!=b&&"Folder"!=b&&"kml"!=b||gd(d,Os(a,c));return d}function Ps(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gd(c,a.Cf(b));return c}function Qs(a,b){b=[255*(4==(b=Nd(b)).length?b[3]:1),b[2],b[1],b[0]];var c;for(c=0;4>c;++c){var d=parseInt(b[c],10).toString(16);b[c]=1==d.length?"0"+d:d}mq(a,b.join(""))}function Rs(a,b,c){a={node:a};var d=b.T();if("GeometryCollection"==d)var e=b.Pc(),f=Ss;else"MultiPoint"==d?(e=b.Bd(),f=Ts):"MultiLineString"==d?(e=b.Rc(),f=Us):"MultiPolygon"==d?(e=b.sd(),f=Vs):eb(!1,39);Xo(a,Ws,f,e,c)}function Xs(a,b,c){Xo({node:a},Ys,Zs,[b],c)}function $s(a,b,c){var d={node:a};b.a&&a.setAttribute("id",b.a),a=b.K();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.c]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=Vo(a,f);Xo(d,at,bt,[{names:f,values:g}],c)}(f=b.Ta())&&(f=f.call(b,0))&&(f=Array.isArray(f)?f[0]:f,this.j&&(a.Style=f),(f=f.Ba())&&(a.name=f.Ba())),a=Vo(a,f=ct[c[c.length-1].node.namespaceURI]),Xo(d,at,Uo,a,c,f),a=c[0],(b=b.W())&&(b=cp(b,!0,a)),Xo(d,at,Ss,[b],c)}function dt(a,b,c){var d=b.da();(a={node:a}).layout=b.la,a.stride=b.ra(),(b=b.K()).coordinates=d,b=Vo(b,d=et[c[c.length-1].node.namespaceURI]),Xo(a,ft,Uo,b,c,d)}function gt(a,b,c){var d=(b=b.rd()).shift();Xo(a={node:a},ht,it,b,c),Xo(a,ht,jt,[d],c)}function kt(a,b){nq(a,Math.round(1e6*b)/1e6)}function ut(a,b,c){return Ho(Rr[0],"gx:"+c)}function nt(a,b){return Ho(b[b.length-1].node.namespaceURI,"Placemark")}function Ss(a,b){if(a)return Ho(b[b.length-1].node.namespaceURI,qt[a.T()])}function Ft(a,b,c,d,e){this.g=e,this.f=a,this.b=b,this.i=c,this.c=d}function Gt(a){$o.call(this),a=a||{},this.defaultDataProjection=new qc({code:"",units:"tile-pixels"}),this.b=a.featureClass?a.featureClass:Ft,this.f=a.geometryName,this.c=a.layerName?a.layerName:"layer",this.g=a.layers?a.layers:null,this.a=null}function Ht(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var h,g=a[e],l=0;for(h=g.length;l<h;++l){var m=g[l];b.push(m.x,m.y)}d+=2*l,c.push(d)}}function It(){$p.call(this),this.defaultDataProjection=Ic("EPSG:4326")}function Jt(a,b){b[b.length-1].te[a.getAttribute("k")]=a.getAttribute("v")}function Ot(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Pt(){}function Qt(){}function fu(a,b,c,d){var e;e=void 0!==d?d:[];for(var f=d=0;f<b;){var g=a[f++];for(e[d++]=a[f++],e[d++]=g,g=2;g<c;++g)e[d++]=a[f++]}e.length=d}function gu(a){a=a||{},$o.call(this),this.defaultDataProjection=Ic("EPSG:4326"),this.b=a.factor?a.factor:1e5,this.a=a.geometryLayout?a.geometryLayout:"XY"}function hu(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f,g=0;for(f=a.length;g<f;)for(d=0;d<b;++d,++g){var h=a[g],l=h-e[d];e[d]=h,a[g]=l}return iu(a,c||1e5)}function ju(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=ku(a,c||1e5);var f;for(c=0,f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}function iu(a,b){b=b||1e5;var c,d=0;for(c=a.length;d<c;++d)a[d]=Math.round(a[d]*b);for(b=0,d=a.length;b<d;++b)c=a[b],a[b]=0>c?~(c<<1):c<<1;for(b="",d=0,c=a.length;d<c;++d){for(var e,f=a[d],g="";32<=f;)e=63+(32|31&f),g+=String.fromCharCode(e),f>>=5;b+=g+=String.fromCharCode(f+63)}return b}function ku(a,b){b=b||1e5;var f,c=[],d=0,e=0,g=0;for(f=a.length;g<f;++g){var h=a.charCodeAt(g)-63;d|=(31&h)<<e,32>h?(c.push(d),e=d=0):e+=5}for(a=0,d=c.length;a<d;++a)e=c[a],c[a]=1&e?~(e>>1):e>>1;for(a=0,d=c.length;a<d;++a)c[a]/=b;return c}function lu(a){a=a||{},$o.call(this),this.a=a.layerName,this.b=a.layers?a.layers:null,this.defaultDataProjection=Ic(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}function mu(a,b){var d,e,c=[],f=0;for(e=a.length;f<e;++f){var g=a[f];0<f&&c.pop(),d=0<=g?b[g]:b[~g].slice().reverse(),c.push.apply(c,d)}for(a=0,b=c.length;a<b;++a)c[a]=c[a].slice();return c}function nu(a,b,c,d,e,f,g){var l,h=[],m=0;for(l=(a=a.geometries).length;m<l;++m)h[m]=ou(a[m],b,c,d,e,f,g);return h}function ou(a,b,c,d,e,f,g){var h=a.type,l=pu[h];return c="Point"===h||"MultiPoint"===h?l(a,c,d):l(a,b),(b=new Eo).Va(cp(c,!1,g)),void 0!==a.id&&b.pc(a.id),a=a.properties,e&&(a||(a={}),a[e]=f),a&&b.J(a),b}function qu(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]}function ru(a){a=a||{},this.c=a.featureType,this.a=a.featureNS,this.b=a.gmlFormat?a.gmlFormat:new pq,this.l=a.schemaLocation?a.schemaLocation:su["1.1.0"],$p.call(this)}function vu(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return wu(a,b)}function wu(a,b){var c={},d=kq(b.getAttribute("numberOfFeatures"));return c.numberOfFeatures=d,Q(c,xu,b,[],a.b)}function tu(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return Q({},uu,a,[])}function Cu(a,b){var c=Ho("http://www.opengis.net/ogc","Filter"),d=Ho("http://www.opengis.net/ogc","FeatureId");c.appendChild(d),d.setAttribute("fid",b),a.appendChild(c)}function Du(a,b){return a=(a||"feature")+":",0===b.indexOf(a)?b:a+b}function Fu(a,b,c){a={node:a};for(var d=0,e=(b=b.b).length;d<e;++d){var f=b[d];Xo(a,Gu,So(f.qc),[f],c)}}function Hu(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Iu(a,b.b),Ju(a,""+b.f)}function Ku(a,b,c){mq(a=Ho("http://www.opengis.net/ogc",a),c),b.appendChild(a)}function Iu(a,b){Ku("PropertyName",a,b)}function Ju(a,b){Ku("Literal",a,b)}function Lu(a,b){var c=Ho("http://www.opengis.net/gml","TimeInstant");a.appendChild(c),a=Ho("http://www.opengis.net/gml","timePosition"),c.appendChild(a),mq(a,b)}function Mu(a){a=a||{},$o.call(this),this.b=void 0!==a.splitCollection&&a.splitCollection}function Nu(a){return 0===(a=a.V()).length?"":a.join(" ")}function Ou(a){for(var b=[],c=0,d=(a=a.V()).length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function Pu(a){for(var b=[],c=0,d=(a=a.rd()).length;c<d;++c)b.push("("+Ou(a[c])+")");return b.join(",")}function Qu(a){var b=a.T(),c=(0,Ru[b])(a);if(b=b.toUpperCase(),a instanceof C){var d="";"XYZ"!==(a=a.la)&&"XYZM"!==a||(d+="Z"),"XYM"!==a&&"XYZM"!==a||(d+="M"),0<(a=d).length&&(b+=" "+a)}return 0===c.length?b+" EMPTY":b+"("+c+")"}function Tu(a){this.a=a,this.b=-1}function Wu(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4,b=a.b;var d=!1,e=!1;do{"."==f?d=!0:"e"!=f&&"E"!=f||(e=!0);var f=a.a.charAt(++a.b)}while("0"<=f&&"9">=f||"."==f&&(void 0===d||!d)||!e&&("e"==f||"E"==f)||e&&("-"==f||"+"==f));a=parseFloat(a.a.substring(b,a.b--)),c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1,b=a.b;do{f=a.a.charAt(++a.b)}while("a"<=f&&"z">=f||"A"<=f&&"Z">=f);a=a.a.substring(b,a.b--).toUpperCase(),c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Wu(a);if(""!==b)throw Error("Unexpected character: "+b);c.type=6}return c}function Su(a){this.f=a,this.a="XY"}function Uu(a){a.b=Wu(a.f)}function Xu(a,b){return(b=a.b.type==b)&&Uu(a),b}function Vu(a){var b=a.b;if(Xu(a,1)){b=b.value;var c="XY",d=a.b;if(1==a.b.type&&("Z"===(d=d.value)?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Uu(a)),a.a=c,"GEOMETRYCOLLECTION"==b){a:{if(Xu(a,2)){b=[];do{b.push(Vu(a))}while(Xu(a,5));if(Xu(a,3)){a=b;break a}}else if(Yu(a)){a=[];break a}throw Error(Zu(a))}return new Rp(a)}if(d=$u[b],c=av[b],!d||!c)throw Error("Invalid geometry type: "+b);return b=d.call(a),new c(b,a.a)}throw Error(Zu(a))}function bv(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(!Xu(a,4))break;b.push(e.value)}if(b.length==c)return b;throw Error(Zu(a))}function cv(a){for(var b=[bv(a)];Xu(a,5);)b.push(bv(a));return b}function dv(a){for(var b=[a.Mg()];Xu(a,5);)b.push(a.Mg());return b}function Yu(a){var b=1==a.b.type&&"EMPTY"==a.b.value;return b&&Uu(a),b}function Zu(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.f.a+"`"}function ev(){this.version=void 0}function gv(a,b){return Q({},hv,a,b)}function iv(a,b){return Q({},jv,a,b)}function kv(a,b){if(b=gv(a,b))return a=[kq(a.getAttribute("width")),kq(a.getAttribute("height"))],b.size=a,b}function lv(a,b){return Q([],mv,a,b)}function Bv(a){a=a||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new yq,this.c=a.layers?a.layers:null,$p.call(this)}function Cv(){this.f=new Qt}function Ev(a){var b=U(a).split(" ");if(b&&2==b.length&&(a=+b[0],b=+b[1],!isNaN(a)&&!isNaN(b)))return[a,b]}function Rv(a){Ua.call(this),a=a||{},this.a=null,this.i=Uc,this.g=new hc(6378137),this.c=void 0,y(this,Wa("projection"),this.xn,this),y(this,Wa("tracking"),this.yn,this),void 0!==a.projection&&this.Bi(a.projection),void 0!==a.trackingOptions&&this.ek(a.trackingOptions),this.bf(void 0!==a.tracking&&a.tracking)}function Sv(a,b,c){C.call(this),this.ih(a,b||0,c)}function Tv(a){var b=a.v[a.a]-a.v[0];return a=a.v[a.a+1]-a.v[1],b*b+a*a}function Uv(a,b,c){for(var t,u,x,B,A,d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1e5;0<--q&&0<n.length;)x=n.pop(),e=l.pop(),g=m.pop(),(f=x.toString())in p||(d.push(g[0],g[1]),p[f]=!0),B=n.pop(),f=l.pop(),h=m.pop(),A=(x+B)/2,t=a(A),u=b(t),Pb(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=B.toString(),p[f]=!0):(n.push(B,A,A,x),m.push(h,u,u,g),l.push(f,t,t,e));return d}function Vv(a,b,c,d,e){return Uv(function(d){return[a,b+(c-b)*d]},Tc(Ic("EPSG:4326"),d),e)}function Wv(a,b,c,d,e){return Uv(function(d){return[b+(c-b)*d,a]},Tc(Ic("EPSG:4326"),d),e)}function Xv(a){a=a||{},this.i=this.P=null,this.j=this.g=1/0,this.o=this.l=-1/0,this.ma=this.fa=1/0,this.O=this.D=-1/0,this.na=void 0!==a.targetSize?a.targetSize:100,this.Wa=void 0!==a.maxLines?a.maxLines:100,this.f=[],this.c=[],this.ja=void 0!==a.strokeStyle?a.strokeStyle:Yv,this.A=this.s=void 0,this.a=this.b=this.H=null,1==a.showLabels&&(this.Y=a.lonLabelFormatter?a.lonLabelFormatter:ud.bind(this,"EW"),this.Aa=a.latLabelFormatter?a.latLabelFormatter:ud.bind(this,"NS"),this.qa=void 0==a.lonLabelPosition?0:a.lonLabelPosition,this.U=void 0==a.latLabelPosition?1:a.latLabelPosition,this.C=void 0!==a.lonLabelStyle?a.lonLabelStyle:new Ar({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new wk({color:"rgba(0,0,0,1)"}),stroke:new Pg({color:"rgba(255,255,255,1)",width:3})}),this.B=void 0!==a.latLabelStyle?a.latLabelStyle:new Ar({font:"12px Calibri,sans-serif",textAlign:"end",fill:new wk({color:"rgba(0,0,0,1)"}),stroke:new Pg({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==a.map?a.map:null)}function $v(a,b,c,d,e,f,g){var h=g;return c=Vv(b,c,d,a.i,e),(h=void 0!==a.f[h]?a.f[h]:new R(null)).ba("XY",c),Jb(h.G(),f)&&(a.b&&(c=g,d=h.da(),f=[d[0],Mb(f[1]+Math.abs(f[1]-f[3])*a.qa,Math.max(f[1],d[1]),Math.min(f[3],d[d.length-1]))],(c=a.b[c]?a.b[c].de:new H(null)).sa(f),a.b[g]={de:c,text:a.Y(b)}),a.f[g++]=h),g}function aw(a,b,c,d,e,f,g){var h=g;return c=Wv(b,c,d,a.i,e),(h=void 0!==a.c[h]?a.c[h]:new R(null)).ba("XY",c),Jb(h.G(),f)&&(a.a&&(c=g,d=h.da(),f=[Mb(f[0]+Math.abs(f[0]-f[2])*a.U,Math.max(f[0],d[0]),Math.min(f[2],d[d.length-2])),d[1]],(c=a.a[c]?a.a[c].de:new H(null)).sa(f),a.a[g]={de:c,text:a.Aa(b)}),a.c[g++]=h),g}function bw(a,b,c,d,e){Pa.call(this),this.i=e,this.extent=a,this.a=c,this.resolution=b,this.state=d}function cw(a,b,c,d,e,f,g){bw.call(this,a,b,c,0,d),this.j=e,this.N=new Image,null!==f&&(this.N.crossOrigin=f),this.c={},this.f=null,this.state=0,this.g=g}function dw(a,b,c,d,e,f){this.c=f||null,bw.call(this,a,b,c,f?0:2,d),this.f=e}function ew(a){a=a||{},Fm.call(this,{handleEvent:Ed}),this.j=a.formatConstructors?a.formatConstructors:[],this.o=a.projection?Ic(a.projection):null,this.a=null,this.g=a.source||null,this.target=a.target?a.target:null}function fw(a){var b,c=0;for(b=(a=a.dataTransfer.files).length;c<b;++c){var d=a.item(c),e=new FileReader;e.addEventListener("load",this.l.bind(this,d)),e.readAsText(d)}}function gw(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function jw(a){var b=a.P;b&&(b=a.target?a.target:b.a,a.a=[y(b,"drop",fw,a),y(b,"dragenter",gw,a),y(b,"dragover",gw,a),y(b,"drop",gw,a)])}function kw(a){a.a&&(a.a.forEach(Da),a.a=null)}function hw(a,b,c,d){Na.call(this,a),this.features=c,this.file=b,this.projection=d}function lw(a){a=a||{},Vm.call(this,{handleDownEvent:mw,handleDragEvent:nw,handleUpEvent:ow}),this.o=a.condition?a.condition:Rm,this.a=this.g=void 0,this.j=0,this.s=void 0!==a.duration?a.duration:400}function nw(a){if(Tm(a)){var b=a.map,c=b.Ob(),d=a.pixel;a=d[0]-c[0]/2,d=c[1]/2-d[1],c=Math.atan2(d,a),a=Math.sqrt(a*a+d*d),(b=b.$()).j.rotation!==Yl&&void 0!==this.g&&(d=c-this.g,Gm(b,b.Oa()-d)),this.g=c,void 0!==this.a&&(c=this.a*(b.Ma()/a),Im(b,c)),void 0!==this.a&&(this.j=this.a/a),this.a=a}}function ow(a){if(!Tm(a))return!0;vm(a=a.map.$(),1,-1);var b=this.j-1,c=a.Oa();Gm(a,c=a.constrainRotation(c,0),void 0,void 0),c=a.Ma();var d=this.s;return c=a.constrainResolution(c,0,b),Im(a,c,void 0,d),this.j=0,!1}function mw(a){return!(!Tm(a)||!this.o(a))&&(vm(a.map.$(),1,1),this.a=this.g=void 0,!0)}function pw(){return[[-1/0,-1/0,1/0,1/0]]}function V(a){a=a||{},Ni.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0===a.wrapX||a.wrapX}),this.D=va,this.C=a.format,this.Y=void 0==a.overlaps||a.overlaps,this.O=a.url,a.loader?this.D=a.loader:void 0!==this.O&&(eb(this.C,7),this.D=Zo(this.O,this.C)),this.ja=a.strategy?a.strategy:pw;var b=void 0===a.useSpatialIndex||a.useSpatialIndex;if(this.a=b?new Zg:null,this.U=new Zg,this.g={},this.l={},this.o={},this.s={},this.i=null,a.features instanceof $a)var c=a.features,d=c.a;else Array.isArray(a.features)&&(d=a.features);b||c||(c=new $a(d)),d&&qw(this,d),c&&rw(this,c)}function tw(a,b,c){a.s[b]=[y(c,"change",a.tj,a),y(c,"propertychange",a.tj,a)]}function sw(a,b,c){var d=!0,e=c.a;return void 0!==e?e.toString()in a.l?d=!1:a.l[e.toString()]=c:(eb(!(b in a.o),30),a.o[b]=c),d}function qw(a,b){var c,d=[],e=[],f=[],g=0;for(c=b.length;g<c;g++){var h=b[g],l=w(h).toString();sw(a,l,h)&&e.push(h)}for(g=0,c=e.length;g<c;g++)h=e[g],l=w(h).toString(),tw(a,l,h),(b=h.W())?(l=b.G(),d.push(l),f.push(h)):a.g[l]=h;for(a.a&&a.a.load(d,f),g=0,c=e.length;g<c;g++)a.b(new uw("addfeature",e[g]))}function rw(a,b){var c=!1;y(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)}),y(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)}),y(b,"add",function(a){c||(c=!0,this.Db(a.element),c=!1)},a),y(b,"remove",function(a){c||(c=!0,this.Hb(a.element),c=!1)},a),a.i=b}function vw(a,b,c){a.gc([b[0],b[1],b[0],b[1]],function(a){if(a.W().xb(b))return c.call(void 0,a)})}function ww(a,b){for(var c in a.l)if(a.l[c]===b){delete a.l[c];break}}function uw(a,b){Na.call(this,a),this.feature=b}function xw(a){Vm.call(this,{handleDownEvent:yw,handleEvent:zw,handleUpEvent:Aw}),this.U=!1,this.qa=null,this.s=!1,this.Jb=a.source?a.source:null,this.Sa=a.features?a.features:null,this.el=a.snapTolerance?a.snapTolerance:12,this.O=a.type,this.g=Bw(this.O),this.Da=a.minPoints?a.minPoints:this.g===Cw?3:2,this.na=a.maxPoints?a.maxPoints:1/0,this.Qd=a.finishCondition?a.finishCondition:Ed;var b=a.geometryFunction;if(!b)if("Circle"===this.O)b=function(a,b){return(b=b||new Sv([NaN,NaN])).ih(a[0],Math.sqrt(Ad(a[0],a[1]))),b};else{var c,d=this.g;d===Dw?c=H:d===Ew?c=R:d===Cw&&(c=I),b=function(a,b){return b?d===Cw?b.sa([a[0].concat([a[0][0]])]):b.sa(a):b=new c(a),b}}this.$a=b,this.D=this.B=this.a=this.C=this.j=this.o=null,this.dc=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.ja=new G({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX&&a.wrapX}),style:a.style?a.style:Fw()}),this.gb=a.geometryName,this.bl=a.condition?a.condition:Qm,this.Rf=a.freehand?Ed:a.freehandCondition?a.freehandCondition:Rm,y(this,Wa("active"),this.Xi,this)}function Fw(){var a=Dk();return function(b){return a[b.W().T()]}}function zw(a){this.s=this.g!==Dw&&this.Rf(a);var b=!this.s;return this.s&&"pointerdrag"===a.type&&null!==this.j?(Gw(this,a),b=!1):"pointermove"===a.type?b=Hw(this,a):"dblclick"===a.type&&(b=!1),Wm.call(this,a)&&b}function yw(a){return this.U=!this.s,this.s?(this.qa=a.pixel,this.o||Iw(this,a),!0):!!this.bl(a)&&(this.qa=a.pixel,!0)}function Aw(a){var b=!0;Hw(this,a);var c=this.g===Jw;return this.U?(this.o?this.s||c?this.be():Kw(this,a)?this.Qd(a)&&this.be():Gw(this,a):(Iw(this,a),this.g===Dw&&this.be()),b=!1):this.s&&(this.o=null,Lw(this)),b}function Hw(a,b){if(a.qa&&(!a.s&&a.U||a.s&&!a.U)){var c=a.qa,d=b.pixel,e=c[0]-d[0];e=e*e+(c=c[1]-d[1])*c,a.U=a.s?e>a.dc:e<=a.dc}return a.o?(e=b.coordinate,c=a.j.W(),a.g===Dw?d=a.a:a.g===Cw?(d=a.a[0],d=d[d.length-1],Kw(a,b)&&(e=a.o.slice())):(d=a.a,d=d[d.length-1]),d[0]=e[0],d[1]=e[1],a.$a(a.a,c),a.C&&a.C.W().sa(e),c instanceof I&&a.g!==Cw?(a.B||(a.B=new Eo(new R(null))),e=c.ai(0),(b=a.B.W()).ba(e.la,e.da())):a.D&&(b=a.B.W()).sa(a.D),Mw(a)):(b=b.coordinate.slice(),a.C?a.C.W().sa(b):(a.C=new Eo(new H(b)),Mw(a))),!0}function Kw(a,b){var c=!1;if(a.j){var d=!1,e=[a.o];if(a.g===Ew?d=a.a.length>a.Da:a.g===Cw&&(d=a.a[0].length>a.Da,e=[a.a[0][0],a.a[0][a.a[0].length-2]]),d){d=b.map;for(var f=0,g=e.length;f<g;f++){var h=e[f],l=d.Na(h),m=b.pixel;if(c=m[0]-l[0],l=m[1]-l[1],c=Math.sqrt(c*c+l*l)<=(a.s?1:a.el)){a.o=h;break}}}}return c}function Iw(a,b){b=b.coordinate,a.o=b,a.g===Dw?a.a=b.slice():a.g===Cw?(a.a=[[b.slice(),b.slice()]],a.D=a.a[0]):(a.a=[b.slice(),b.slice()],a.g===Jw&&(a.D=a.a)),a.D&&(a.B=new Eo(new R(a.D))),b=a.$a(a.a),a.j=new Eo,a.gb&&a.j.cd(a.gb),a.j.Va(b),Mw(a),a.b(new Nw("drawstart",a.j))}function Gw(a,b){b=b.coordinate;var d,c=a.j.W();if(a.g===Ew){a.o=b.slice();var e=a.a;e.length>=a.na&&(a.s?e.pop():d=!0),e.push(b.slice()),a.$a(e,c)}else a.g===Cw&&((e=a.a[0]).length>=a.na&&(a.s?e.pop():d=!0),e.push(b.slice()),d&&(a.o=e[0]),a.$a(a.a,c));Mw(a),d&&a.be()}function Lw(a){a.o=null;var b=a.j;return b&&(a.j=null,a.C=null,a.B=null,a.ja.ca().clear(!0)),b}function Mw(a){var b=[];a.j&&b.push(a.j),a.B&&b.push(a.B),a.C&&b.push(a.C),(a=a.ja.ca()).clear(!0),a.Jc(b)}function Bw(a){var b;return"Point"===a||"MultiPoint"===a?b=Dw:"LineString"===a||"MultiLineString"===a?b=Ew:"Polygon"===a||"MultiPolygon"===a?b=Cw:"Circle"===a&&(b=Jw),b}function Nw(a,b){Na.call(this,a),this.feature=b}function Ow(a){this.a=this.j=null,this.B=!1,this.C=this.o=null,a||(a={}),Vm.call(this,{handleDownEvent:Pw,handleDragEvent:Qw,handleEvent:Rw,handleUpEvent:Sw}),this.s=new G({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:Tw(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.D=new G({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:Uw(),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.extent&&this.g(a.extent)}function Rw(a){if(!(a instanceof jl))return!0;if("pointermove"==a.type&&!this.A){var b=a.pixel,c=a.map,d=Vw(this,b,c);d||(d=c.ab(b)),Ww(this,d)}return Wm.call(this,a),!1}function Pw(a){function b(a){var b=null,c=null;return a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]),a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]),null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();return(a=Vw(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=Xw(b(a)):null!==c?this.a=Yw(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=Yw(b([e[0],d]),b([e[2],d])))):(a=d.ab(c),this.g([a[0],a[1],a[0],a[1]]),this.a=Xw(a)),!0}function Qw(a){return this.a&&(a=a.coordinate,this.g(this.a(a)),Ww(this,a)),!0}function Sw(){this.a=null;var a=this.G();return a&&0!==Cb(a)||this.g(null),!1}function Tw(){var a=Dk();return function(){return a.Polygon}}function Uw(){var a=Dk();return function(){return a.Point}}function Xw(a){return function(b){return fb([a,b])}}function Yw(a,b){return a[0]==b[0]?function(c){return fb([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return fb([a,[b[0],c[1]]])}:null}function Vw(a,b,c){var e=c.ab(b),f=a.G();if(f){(f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]]).sort(function(a,b){return Cd(e,a)-Cd(e,b)}),f=f[0];var g=td(e,f),h=c.Na(g);if(10>=Bd(b,h))return b=c.Na(f[0]),c=c.Na(f[1]),b=Ad(h,b),c=Ad(h,c),a.B=10>=Math.sqrt(Math.min(b,c)),a.B&&(g=b>c?f[1]:f[0]),g}return null}function Ww(a,b){var c=a.C;c?c.W().sa(b):(c=new Eo(new H(b)),a.C=c,a.D.ca().Db(c))}function Zw(a){Na.call(this,"extentchanged"),this.extent=a}function $w(a){if(Vm.call(this,{handleDownEvent:ax,handleDragEvent:bx,handleEvent:cx,handleUpEvent:dx}),this.Qd=a.condition?a.condition:Um,this.gb=function(a){return Lm(a)&&Pm(a)},this.Jb=a.deleteCondition?a.deleteCondition:this.gb,this.dc=a.insertVertexCondition?a.insertVertexCondition:Ed,this.Sa=this.g=null,this.Da=[0,0],this.B=this.D=!1,this.a=new Zg,this.ja=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.o=this.na=!1,this.j=[],this.C=new G({source:new V({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:ex(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.qa={Point:this.Bo,LineString:this.Zi,LinearRing:this.Zi,Polygon:this.Co,MultiPoint:this.zo,MultiLineString:this.yo,MultiPolygon:this.Ao,Circle:this.wo,GeometryCollection:this.xo},this.U=null,a.source?(this.U=a.source,a=new $a(this.U.Ed()),y(this.U,"addfeature",this.Km,this),y(this.U,"removefeature",this.Mm,this)):a=a.features,!a)throw Error("The modify interaction requires features or a source");this.s=a,this.s.forEach(this.Dg,this),y(this.s,"add",this.uo,this),y(this.s,"remove",this.vo,this),this.O=null}function gx(a,b){a.B||(a.B=!0,a.b(new hx("modifystart",a.s,b)))}function ix(a,b){jx(a,b),a.g&&0===a.s.kc()&&(a.C.ca().Hb(a.g),a.g=null),Ja(b,"change",a.Yi,a)}function jx(a,b){var c=[];(a=a.a).forEach(function(a){b===a.feature&&c.push(a)});for(var d=c.length-1;0<=d;--d)a.remove(c[d])}function kx(a,b){var c=a.g;c?c.W().sa(b):(c=new Eo(new H(b)),a.g=c,a.C.ca().Db(c))}function lx(a,b){return a.index-b.index}function ax(a){if(!this.Qd(a))return!1;fx(this,a.pixel,a.map);var b=a.map.ab(a.pixel);this.j.length=0,this.B=!1;var c=this.g;if(c){var d=[],e=fb([c=c.W().V()]),f={};(e=bh(this.a,e)).sort(lx);for(var g=0,h=e.length;g<h;++g){var l=e[g],m=l.pa,n=w(l.feature),p=l.depth;p&&(n+="-"+p.join("-")),f[n]||(f[n]=Array(2)),"Circle"===l.geometry.T()&&1===l.index?(m=mx(b,l),wd(m,c)&&!f[n][0]&&(this.j.push([l,0]),f[n][0]=l)):wd(m[0],c)&&!f[n][0]?(this.j.push([l,0]),f[n][0]=l):wd(m[1],c)&&!f[n][1]?("LineString"!==l.geometry.T()&&"MultiLineString"!==l.geometry.T()||!f[n][0]||0!==f[n][0].index)&&(this.j.push([l,1]),f[n][1]=l):this.dc(a)&&w(m)in this.Sa&&!f[n][0]&&!f[n][1]&&d.push([l,c])}for(d.length&&gx(this,a),a=d.length-1;0<=a;--a)this.Vm.apply(this,d[a])}return!!this.g}function bx(a){this.D=!1,gx(this,a),a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=e.pa;for(d=d[1];a.length<g.ra();)a.push(h[d][a.length]);switch(g.T()){case"Point":var l=a;h[0]=h[1]=a;break;case"MultiPoint":(l=g.V())[e.index]=a,h[0]=h[1]=a;break;case"LineString":(l=g.V())[e.index+d]=a,h[d]=a;break;case"MultiLineString":case"Polygon":(l=g.V())[f[0]][e.index+d]=a,h[d]=a;break;case"MultiPolygon":(l=g.V())[f[1]][f[0]][e.index+d]=a,h[d]=a;break;case"Circle":h[0]=h[1]=a,0===e.index?(this.o=!0,g.cb(a)):(this.o=!0,g.dd(Bd(g.ta(),a))),this.o=!1}l&&(e=g,f=l,this.o=!0,e.sa(f),this.o=!1)}kx(this,a)}function dx(a){for(var b,c,d=this.j.length-1;0<=d;--d)if(b=this.j[d][0],"Circle"===(c=b.geometry).T()){var e=c.ta(),f=b.eg[0];b=b.eg[1],f.pa[0]=f.pa[1]=e,b.pa[0]=b.pa[1]=e,$g(this.a,sb(e),f),$g(this.a,c.G(),b)}else $g(this.a,fb(b.pa),b);return this.B&&(this.b(new hx("modifyend",this.s,a)),this.B=!1),!1}function cx(a){if(!(a instanceof jl))return!0;this.O=a;var b;return wm(a.map.$())[1]||"pointermove"!=a.type||this.A||(this.Da=a.pixel,fx(this,a.pixel,a.map)),this.g&&this.Jb(a)&&(b=!("singleclick"!=a.type||!this.D)||this.Pj()),"singleclick"==a.type&&(this.D=!1),Wm.call(this,a)&&!b}function fx(a,b,c){var e=c.ab(b),f=ib(sb(e),c.$().Ma()*a.ja);if(0<(f=bh(a.a,f)).length){f.sort(function(a,b){return nx(e,a)-nx(e,b)});var g=f[0],h=g.pa,l=mx(e,g),m=c.Na(l),n=Bd(b,m);if(n<=a.ja){if(b={},"Circle"===g.geometry.T()&&1===g.index)a.na=!0,kx(a,l);else for(n=c.Na(h[0]),g=c.Na(h[1]),c=Ad(m,n),m=Ad(m,g),n=Math.sqrt(Math.min(c,m)),a.na=n<=a.ja,a.na&&(l=c>m?h[1]:h[0]),kx(a,l),m=1,c=f.length;m<c&&(l=f[m].pa,wd(h[0],l[0])&&wd(h[1],l[1])||wd(h[0],l[1])&&wd(h[1],l[0]));++m)b[w(l)]=!0;return b[w(h)]=!0,void(a.Sa=b)}}a.g&&(a.C.ca().Hb(a.g),a.g=null)}function nx(a,b){var c=b.geometry;return"Circle"===c.T()&&1===b.index?(a=Ad(c.ta(),a),(c=Math.sqrt(a)-c.Vc())*c):Cd(a,b.pa)}function mx(a,b){var c=b.geometry;return"Circle"===c.T()&&1===b.index?c.Fb(a):td(a,b.pa)}function ox(a,b,c,d,e){dh(a.a,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||id(a.depth,d))&&a.index>c&&(a.index+=e)})}function ex(){var a=Dk();return function(){return a.Point}}function hx(a,b,c){Na.call(this,a),this.features=b,this.mapBrowserEvent=c}function px(a){if(Fm.call(this,{handleEvent:qx}),a=a||{},this.B=a.condition?a.condition:Pm,this.A=a.addCondition?a.addCondition:Fd,this.C=a.removeCondition?a.removeCondition:Fd,this.D=a.toggleCondition?a.toggleCondition:Rm,this.o=!!a.multi&&a.multi,this.l=a.filter?a.filter:Ed,this.j=a.hitTolerance?a.hitTolerance:0,this.g=new G({source:new V({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:rx(),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.layers)if("function"==typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return ed(b,a)}}else a=Ed;this.s=a,this.a={},y(a=this.g.ca().i,"add",this.Do,this),y(a,"remove",this.Ho,this)}function qx(a){if(!this.B(a))return!0;var b=this.A(a),c=this.C(a),d=this.D(a),e=!b&&!c&&!d,f=a.map,g=this.g.ca().i,h=[],l=[];if(e){for(ya(this.a),f.ce(a.pixel,function(a,b){if(this.l(a,b))return l.push(a),a=w(a),this.a[a]=b,!this.o}.bind(this),{layerFilter:this.s,hitTolerance:this.j}),e=g.kc()-1;0<=e;--e){f=g.item(e);var m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}0!==l.length&&g.yg(l)}else{for(f.ce(a.pixel,function(a,e){if(this.l(a,e))return!b&&!d||ed(g.a,a)?(c||d)&&ed(g.a,a)&&(h.push(a),e=w(a),delete this.a[e]):(l.push(a),a=w(a),this.a[a]=e),!this.o}.bind(this),{layerFilter:this.s,hitTolerance:this.j}),e=h.length-1;0<=e;--e)g.remove(h[e]);g.yg(l)}return(0<l.length||0<h.length)&&this.b(new sx(tx,l,h,a)),Om(a)}function rx(){var a=Dk();return gd(a.Polygon,a.LineString),gd(a.GeometryCollection,a.LineString),function(b){return b.W()?a[b.W().T()]:null}}function sx(a,b,c,d){Na.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d}function ux(a){Vm.call(this,{handleEvent:vx,handleDownEvent:Ed,handleUpEvent:wx}),a=a||{},this.o=a.source?a.source:null,this.O=void 0===a.vertex||a.vertex,this.B=void 0===a.edge||a.edge,this.j=a.features?a.features:null,this.ja=[],this.C={},this.U={},this.s={},this.D=null,this.g=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.na=xx.bind(this),this.a=new Zg,this.qa={Point:this.Po,LineString:this.bj,LinearRing:this.bj,Polygon:this.Qo,MultiPoint:this.No,MultiLineString:this.Mo,MultiPolygon:this.Oo,GeometryCollection:this.Lo,Circle:this.Ko}}function yx(a,b,c,d){var e=d.ab([b[0]-a.g,b[1]+a.g]),f=d.ab([b[0]+a.g,b[1]-a.g]);e=fb([e,f]);var g=bh(a.a,e);a.O&&!a.B&&(g=g.filter(function(a){return"Circle"!==a.feature.W().T()}));var h=!1;e=!1;var l=f=null;if(0<g.length){a.D=c,g.sort(a.na);var m=g[0].pa;h="Circle"===g[0].feature.W().T(),a.O&&!a.B?(c=d.Na(m[0]),h=d.Na(m[1]),c=Ad(b,c),b=Ad(b,h),(h=(h=Math.sqrt(Math.min(c,b)))<=a.g)&&(e=!0,f=c>b?m[1]:m[0],l=d.Na(f))):a.B&&(f=h?sd(c,g[0].feature.W()):td(c,m),l=d.Na(f),Bd(b,l)<=a.g&&(e=!0,a.O&&!h&&(c=d.Na(m[0]),h=d.Na(m[1]),c=Ad(l,c),b=Ad(l,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)))&&(f=c>b?m[1]:m[0],l=d.Na(f)),e&&(l=[Math.round(l[0]),Math.round(l[1])])}return{xr:e,vertex:f,Hr:l}}function vx(a){var b=yx(this,a.pixel,a.coordinate,a.map);return b.xr&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.Hr),Wm.call(this,a)}function wx(){var a=za(this.s);return a.length&&(a.forEach(this.kk,this),this.s={}),!1}function xx(a,b){return Cd(this.D,a.pa)-Cd(this.D,b.pa)}function zx(a){if(Vm.call(this,{handleDownEvent:Ax,handleDragEvent:Bx,handleMoveEvent:Cx,handleUpEvent:Dx}),a=a||{},this.a=null,this.j=void 0!==a.features?a.features:null,a.layers)if("function"==typeof a.layers)var b=a.layers;else{var c=a.layers;b=function(a){return ed(c,a)}}else b=Ed;this.B=b,this.o=a.hitTolerance?a.hitTolerance:0,this.g=null,y(this,Wa("active"),this.s,this)}function Ax(a){if(this.g=Ex(this,a.pixel,a.map),!this.a&&this.g){this.a=a.coordinate,Cx.call(this,a);var b=this.j||new $a([this.g]);return this.b(new Fx("translatestart",b,a.coordinate)),!0}return!1}function Dx(a){if(this.a){this.a=null,Cx.call(this,a);var b=this.j||new $a([this.g]);return this.b(new Fx("translateend",b,a.coordinate)),!0}return!1}function Bx(a){if(this.a){var b=(a=a.coordinate)[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new $a([this.g]);d.forEach(function(a){var d=a.W();d.translate(b,c),a.Va(d)}),this.a=a,this.b(new Fx("translating",d,a))}}function Cx(a){var b=a.map.a;Ex(this,a.pixel,a.map)?(b.classList.remove(this.a?"ol-grab":"ol-grabbing"),b.classList.add(this.a?"ol-grabbing":"ol-grab")):b.classList.remove("ol-grab","ol-grabbing")}function Ex(a,b,c){return c.ce(b,function(a){if(!this.j||ed(this.j.a,a))return a}.bind(a),{layerFilter:a.B,hitTolerance:a.o})}function Gx(a,b){var c=a.P;a=a.c(),c&&a||(c=c||b)&&c.a.classList.remove("ol-grab","ol-grabbing")}function Fx(a,b,c){Na.call(this,a),this.features=b,this.coordinate=c}function W(a){var b=xa({},a=a||{});delete b.gradient,delete b.radius,delete b.blur,delete b.shadow,delete b.weight,G.call(this,b),this.g=null,this.O=void 0!==a.shadow?a.shadow:250,this.C=void 0,this.B=null,y(this,Wa(Hx),this.rm,this),this.Yj(a.gradient?a.gradient:Ix),this.Sj(void 0!==a.blur?a.blur:15),this.dd(void 0!==a.radius?a.radius:8),y(this,Wa(Jx),this.ug,this),y(this,Wa(Kx),this.ug,this),this.ug();var d,c=a.weight?a.weight:"weight";d="string"==typeof c?function(a){return a.get(c)}:c,this.i(function(a){var b=255*(a=void 0!==(a=d(a))?Mb(a,0,1):1)|0,c=this.B[b];return c||(c=[new xk({image:new Dj({opacity:a,src:this.C})})],this.B[b]=c),c}.bind(this)),this.set(qk,null),y(this,"render",this.Im,this)}function Lx(a){ff.call(this,a),this.N=null,this.i=ue()}function Mx(a,b,c,d,e,f){this.s=b,this.o=a.G();var g=b.G(),h=g?Ib(c,g):c;g=pi(a,b,Gb(h),d),this.j=new si(a,b,h,this.o,.5*g),this.c=d,this.f=c,a=ui(this.j),this.l=(this.Ib=f(a,g,e))?this.Ib.a:1,this.re=this.g=null,e=2,f=[],this.Ib&&(e=0,f=this.Ib.i),bw.call(this,c,d,this.l,e,f)}function Nx(a){Ni.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.C=void 0!==a.resolutions?a.resolutions:null,this.i=null,this.ja=0}function Ox(a,b){return a.C&&(b=a.C[fd(a.C,b,0)]),b}function Tx(a,b){a.Z().src=b}function Px(a,b){Na.call(this,a),this.image=b}function Ux(a){Nx.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.na=a.canvasFunction,this.U=null,this.Y=0,this.Da=void 0!==a.ratio?a.ratio:1.5}function Ej(a){this.a=a.source,this.gb=ue(),this.g=md(),this.o=[0,0],this.Sa=void 0==a.renderBuffer?100:a.renderBuffer,this.D=null,Ux.call(this,{attributions:a.attributions,canvasFunction:this.cl.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.a.getState()}),this.O=null,this.s=void 0,this.nj(a.style),y(this.a,"change",this.np,this)}function Vx(a,b,c,d,e){return c=d/c,De(a.gb,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}function Wx(a,b){Uh.call(this,a,b),this.l=this.i=this.N=null}function Xx(a,b){return b=b.Z(),ag(a.c.f,b)}function Yx(a,b,c,d,e,f,g,h){b*=f,c*=f,ve(a=a.A),Be(a,2*d/b,2*d/c),Ae(a,-g),Ce(a,h[0]-e[0],h[1]-e[1]),Be(a,(h[2]-h[0])/2,(h[3]-h[1])/2),Ce(a,1,1)}function Fj(a){Yc.call(this,a||{})}function Zx(a){this.context=null,gf.call(this,a),this.D=!1,this.A=ue(),this.U="vector"==a.g?1:0}function cy(a,b){return Eb(b.G())/kf(a.tileGrid.eb(b.xa[0]))[0]}function fy(a){var b=xa({},a=a||{});delete b.preload,delete b.useInterimTilesOnError,G.call(this,b),this.gj(a.preload?a.preload:0),this.hj(!a.useInterimTilesOnError||a.useInterimTilesOnError),eb(void 0==a.renderMode||"image"==a.renderMode||"hybrid"==a.renderMode||"vector"==a.renderMode,28),this.g=a.renderMode||"hybrid"}function gy(a,b,c,d){function e(){delete window[g],f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+w(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e(),c&&c()},1e4);window[g]=function(a){clearTimeout(h),e(),b(a)},document.getElementsByTagName("head")[0].appendChild(f)}function hy(a){this.i=void 0!==a.hidpi&&a.hidpi,D.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ic("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===a.wrapX||a.wrapX}),this.U=void 0!==a.culture?a.culture:"en-us",this.D=void 0!==a.maxZoom?a.maxZoom:-1,this.o=a.key,this.C=a.imagerySet,gy("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.C+"?uriScheme=https&include=ImageryProviders&key="+this.o,this.na.bind(this),void 0,"jsonp")}function jy(a){var b=void 0!==(a=a||{}).projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:Ji({extent:Li(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX})}function ky(a){this.C=a.account,this.D=a.map||"",this.i=a.config||{},this.o={},jy.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX}),ly(this)}function ly(a){var b=JSON.stringify(a.i);if(a.o[b])my(a,a.o[b]);else{var c="https://"+a.C+".cartodb.com/api/v1/map";a.D&&(c+="/named/"+a.D);var d=new XMLHttpRequest;d.addEventListener("load",a.tm.bind(a,b)),d.addEventListener("error",a.sm.bind(a)),d.open("POST",c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(a.i))}}function my(a,b){a.ob("https://"+b.cdn_url.https+"/"+a.C+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")}function X(a){V.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.resolution=void 0,this.distance=void 0!==a.distance?a.distance:20,this.features=[],this.geometryFunction=a.geometryFunction||function(a){return a=a.W(),eb(a instanceof H,10),a},this.source=a.source,this.source.I("change",X.prototype.wa,this)}function ny(a){if(void 0!==a.resolution){a.features.length=0;for(var b=gb(),c=a.distance*a.resolution,d=a.source.Ed(),e={},f=0,g=d.length;f<g;f++){var h=d[f];w(h).toString()in e||!(h=a.geometryFunction(h))||(h=h.V(),sb(h,b),ib(b,c,b),h=a.source.jg(b),h=h.filter(function(a){return!((a=w(a).toString())in e)&&(e[a]=!0)}),a.features.push(oy(a,h)))}}}function oy(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.geometryFunction(b[d]);e?rd(c,e.V()):b.splice(d,1)}return zd(c,1/b.length),(a=new Eo(new H(c))).set("features",b),a}function py(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");return a=a.replace(/[?&]$/,""),(a=-1===a.indexOf("?")?a+"?":a+"&")+d}function qy(a){a=a||{},Nx.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.U=void 0!==a.crossOrigin?a.crossOrigin:null,this.Y=void 0===a.hidpi||a.hidpi,this.a=a.url,this.g=a.imageLoadFunction?a.imageLoadFunction:Tx,this.s=a.params||{},this.N=null,this.o=[0,0],this.O=0,this.D=void 0!==a.ratio?a.ratio:1.5}function ry(a){Nx.call(this,{projection:a.projection,resolutions:a.resolutions}),this.U=void 0!==a.crossOrigin?a.crossOrigin:null,this.o=void 0!==a.displayDpi?a.displayDpi:96,this.g=a.params||{},this.O=a.url,this.a=a.imageLoadFunction?a.imageLoadFunction:Tx,this.Y=void 0===a.hidpi||a.hidpi,this.na=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.s=void 0!==a.ratio?a.ratio:1,this.Da=void 0!==a.useOverlay&&a.useOverlay,this.N=null,this.D=0}function sy(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=a.imageLoadFunction?a.imageLoadFunction:Tx;Nx.call(this,{attributions:a.attributions,logo:a.logo,projection:Ic(a.projection)}),this.N=new cw(b,void 0,1,this.j,a.url,c,d),this.a=a.imageSize?a.imageSize:null,y(this.N,"change",this.l,this)}function ty(a){a=a||{},Nx.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.na=void 0!==a.crossOrigin?a.crossOrigin:null,this.g=a.url,this.s=a.imageLoadFunction?a.imageLoadFunction:Tx,this.a=a.params||{},this.o=!0,uy(this),this.Y=a.serverType,this.Da=void 0===a.hidpi||a.hidpi,this.N=null,this.D=[0,0],this.U=0,this.O=void 0!==a.ratio?a.ratio:1.5}function wy(a,b,c,d,e,f){if(eb(void 0!==a.g,9),f[a.o?"CRS":"SRS"]=e.rb,"STYLES"in a.a||(f.STYLES=""),1!=d)switch(a.Y){case"geoserver":d=90*d+.5|0,f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+";dpi:"+d:"dpi:"+d;break;case"mapserver":f.MAP_RESOLUTION=90*d;break;case"carmentaserver":case"qgis":f.DPI=90*d;break;default:eb(!1,8)}f.WIDTH=c[0],f.HEIGHT=c[1],c=e.a;var g;return g=a.o&&"ne"==c.substr(0,2)?[b[1],b[0],b[3],b[2]]:b,f.BBOX=g.join(","),py(a.g,f)}function uy(a){a.o=0<=qd(a.a.VERSION||"1.3.0")}function xy(a){var b;b=void 0!==(a=a||{}).attributions?a.attributions:[yy],jy.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0===a.opaque||a.opaque,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}function zy(a){this.D=null,this.Da=void 0!==a.operationType?a.operationType:"pixel",this.Sa=void 0!==a.threads?a.threads:1,this.g=Ay(a.sources);for(var b=0,c=this.g.length;b<c;++b)y(this.g[b],"change",this.u,this);this.Y=new Ul(function(){return 1},this.u.bind(this)),c={};for(var d=0,e=(b=By(this.g)).length;d<e;++d)c[w(b[d].layer)]=b[d];this.a=null,this.O={animate:!1,attributions:{},coordinateToPixelTransform:ue(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateTransform:ue(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.Y,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Nx.call(this,{}),a.operation&&this.s(a.operation,a.lib)}function By(a){return a.map(function(a){return Wb(a.a)})}function Ay(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof Qi?(f=new fi({source:f}),g=new gf(f)):f instanceof Nx&&(f=new Fj({source:f}),g=new Lx(f)),c[e]=g}return c}function Dy(a,b,c){Na.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c}function Gy(a){var b=a.layer.indexOf("-");b=Hy[-1==b?a.layer:a.layer.slice(0,b)];var c=Iy[a.layer];jy.call(this,{attributions:Jy,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Lb,wrapX:a.wrapX})}function Ky(a){a=a||{},D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.i=a.params||{},this.o=gb(),Ri(this,Ly(this))}function Ly(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function My(a){Qi.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0===a.wrapX||a.wrapX})}function Ny(a,b,c){gi.call(this,a,2),this.c=b,this.ya=c,this.f=null}function Oy(a){if(this.i=null,D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Ic("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0===a.wrapX||a.wrapX}),a.url)if(a.jsonp)gy(a.url,this.Hg.bind(this),this.mf.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.xp.bind(this)),b.addEventListener("error",this.wp.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.Hg(a.tileJSON):eb(!1,51)}function Py(a){if(Qi.call(this,{projection:Ic("EPSG:3857"),state:"loading"}),this.s=void 0===a.preemptive||a.preemptive,this.o=Bi,this.g=void 0,this.i=a.jsonp||!1,a.url)if(this.i)gy(a.url,this.Ig.bind(this),this.nf.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Bp.bind(this)),b.addEventListener("error",this.Ap.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.Ig(a.tileJSON):eb(!1,51)}function Ry(a,b,c,d,e,f){gi.call(this,a,b),this.l=c,this.f=d,this.s=e,this.c=this.j=this.g=null,this.o=f}function Qy(a,b,c,d,e){0==a.state&&!0===e?(Ia(a,"change",function(){c.call(d,this.getData(b))},a),Sy(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}function Sy(a){if(0==a.state)if(a.state=1,a.o)gy(a.l,a.oj.bind(a),a.Te.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.zp.bind(a)),b.addEventListener("error",a.yp.bind(a)),b.open("GET",a.l),b.send()}}function Ty(a){var b=(a=a||{}).params||{};D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.C=void 0!==a.gutter?a.gutter:0,this.i=b,this.o=!0,this.D=a.serverType,this.Y=void 0===a.hidpi||a.hidpi,this.U="",Uy(this),this.ja=gb(),Vy(this),Ri(this,Wy(this))}function Xy(a,b,c,d,e,f,g){var h=a.urls;if(h){if(g.WIDTH=c[0],g.HEIGHT=c[1],g[a.o?"CRS":"SRS"]=f.rb,"STYLES"in a.i||(g.STYLES=""),1!=e)switch(a.D){case"geoserver":c=90*e+.5|0,g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+";dpi:"+c:"dpi:"+c;break;case"mapserver":g.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":g.DPI=90*e;break;default:eb(!1,52)}return f=f.a,a.o&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a),g.BBOX=d.join(","),py(1==h.length?h[0]:h[Sb((b[1]<<b[0])+b[2],h.length)],g)}}function Uy(a){var b=0,c=[];if(a.urls){var d,e=0;for(d=a.urls.length;e<d;++e)c[b++]=a.urls[e]}a.U=c.join("#")}function Wy(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function Vy(a){a.o=0<=qd(a.i.VERSION||"1.3.0")}function Yy(a,b,c,d,e,f,g,h,l,m,n,p,q,t){if(gi.call(this,a,b),this.j={},this.l={},this.c=m,this.f=[],this.H=c,this.s=f,this.g=[],this.o=[],f){var u=l.Ia(f),x=l.Ha(a[0]);h.gg(u,h.zc(x),function(a){var b=Ib(u,h.Ia(a));if(.5<=Eb(b)/x&&.5<=Fb(b)/x){b=a.toString();var c=m[b];c||(c=g(a,n,p),c=m[b]=new q(a,void 0==c?4:0,void 0==c?"":c,d,e),this.o.push(y(c,"change",t))),c.g++,this.f.push(b)}}.bind(this))}}function dy(a,b){return(b=w(b).toString())in a.j||(a.j[b]=md()),a.j[b]}function by(a,b){return(b=w(b).toString())in a.l||(a.l[b]={$d:!1,eh:null,Df:-1,fh:-1}),a.l[b]}function Zy(a,b){a.kh(Yo(b,a.o,a.fq.bind(a),a.eq.bind(a)))}function $y(a,b,c,d,e){gi.call(this,a,b),this.g=0,this.l=null,this.o=d,this.c=null,this.j={},this.A=e,this.s=c}function ey(a,b,c){return a.j[w(b)+","+c]}function bz(a){var b=a.projection||"EPSG:3857",c=a.extent||Li(b),d=a.tileGrid||Ji({extent:c,maxZoom:a.maxZoom||22,minZoom:a.minZoom,tileSize:a.tileSize||512});Ui.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:c,logo:a.logo,opaque:!1,projection:b,state:a.state,tileGrid:d,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Zy,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.g=a.format?a.format:null,this.s={},this.o=void 0==a.overlaps||a.overlaps,this.tileClass=a.tileClass?a.tileClass:$y,this.i={},this.tileGrid||(this.tileGrid=this.Xa(Ic(a.projection||"EPSG:3857")))}function cz(a){this.l=a.matrixIds,Di.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}function dz(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[],m=(c=Ic(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))).jc(),n="ne"==c.a.substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a){var b;if(b=!(0<l.length)||hd(l,function(b){return a.Identifier==b.TileMatrix})){e.push(a.Identifier),b=28e-5*a.ScaleDenominator/m;var c=a.TileWidth,p=a.TileHeight;n?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):f.push(a.TopLeftCorner),d.push(b),g.push(c==p?c:[c,p]),h.push([a.MatrixWidth,-a.MatrixHeight])}}),new cz({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})}function Y(a){this.ja=void 0!==a.version?a.version:"1.0.0",this.C=void 0!==a.format?a.format:"image/jpeg",this.i=a.dimensions?a.dimensions:{},this.D=a.layer,this.o=a.matrixSet,this.U=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=Ci(a.url));var d=this.Y=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.D,style:this.U,tilematrixset:this.o};"KVP"==d&&xa(f,{Service:"WMTS",Request:"GetTile",Version:this.ja,Format:this.C});var g=this.i,h=c&&0<c.length?Ai(c.map(function(a){return a="KVP"==d?py(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};return xa(c,g),b=a,b="KVP"==d?py(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}})):Bi;D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX&&a.wrapX}),Ri(this,ez(this))}function ez(a){var d,b=0,c=[];for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}function fz(a){var b=(a=a||{}).size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:gz){case gz:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case hz:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:eb(!1,53)}e.push([1,1]),e.reverse(),f=[1];var g=[0];for(d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse(),b=new Di({extent:b=[0,-b[1],b[0],0],origin:Bb(b),resolutions:f}),(f=a.url)&&-1==f.indexOf("{TileGroup}")&&(f+="{TileGroup}/{z}-{x}-{y}.jpg"),f=Ai((f=Ci(f)).map(function(a){return function(b){if(b){var c=b[0],d=b[1],f={z:c,x:d,y:b=-b[2]-1,TileGroup:"TileGroup"+((d+b*e[c][0]+g[c])/256|0)};return a.replace(/\{(\w+?)\}/g,function(a,b){return f[b]})}}})),D.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:iz,tileGrid:b,tileUrlFunction:f})}function iz(a,b,c,d,e){ii.call(this,a,b,c,d,e),this.f=null}var k,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ea=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();ma("Math.cosh",function(a){if(a)return a;var b=Math.exp;return function(a){return a=Number(a),(b(a)+b(-a))/2}}),ma("Number.EPSILON",function(){return Math.pow(2,-52)}),ma("Object.is",function(a){return a||function(a,c){return a===c?0!==a||1/a==1/c:a!==a&&c!==c}});var na=this;oa(pa,Error),pa.prototype.name="CustomError",oa(ra,pa),ra.prototype.name="AssertionError";var ta,ua,wa=0,xa="function"==typeof Object.assign?Object.assign:function(a,b){if(!a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};La.prototype.Cb=!1,La.prototype.oa=va,Na.prototype.preventDefault=Na.prototype.stopPropagation=function(){this.wq=!0},v(Pa,La),Pa.prototype.addEventListener=function(a,b){var c=this.fa[a];c||(c=this.fa[a]=[]),-1===c.indexOf(b)&&c.push(b)},Pa.prototype.b=function(a){var b="string"==typeof a?new Na(a):a;a=b.type,b.target=this;var c=this.fa[a];if(c){a in this.ma||(this.ma[a]=0,this.Aa[a]=0),++this.ma[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.wq){var f=!1;break}if(0==--this.ma[a]){for(b=this.Aa[a],delete this.Aa[a];b--;)this.removeEventListener(a,va);delete this.ma[a]}return f}},Pa.prototype.oa=function(){Ka(this)},Pa.prototype.removeEventListener=function(a,b){var c=this.fa[a];c&&(b=c.indexOf(b),a in this.Aa?(c[b]=va,++this.Aa[a]):(c.splice(b,1),0===c.length&&delete this.fa[a]))},v(Ra,Pa),(k=Ra.prototype).u=function(){++this.f,this.b("change")},k.M=function(){return this.f},k.I=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=y(this,a[f],b,c);return e}return y(this,a,b,c)},k.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Ia(this,a[f],b,c);return e}return Ia(this,a,b,c)},k.L=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Ja(this,a[d],b,c);else Ja(this,a,b,c)},v(Ta,Error),v(Ua,Ra);var Va={};(k=Ua.prototype).get=function(a){var b;return this.H.hasOwnProperty(a)&&(b=this.H[a]),b},k.R=function(){return Object.keys(this.H)},k.K=function(){return xa({},this.H)},k.set=function(a,b,c){c?this.H[a]=b:(c=this.H[a],this.H[a]=b,c!==b&&Xa(this,a,c))},k.J=function(a,b){for(var c in a)this.set(c,a[c],b)},k.S=function(a,b){if(a in this.H){var c=this.H[a];delete this.H[a],b||Xa(this,a,c)}},v(Ya,Na),v($a,Ua),(k=$a.prototype).clear=function(){for(;0<this.kc();)this.pop()},k.yg=function(a){var b,c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this},k.forEach=function(a,b){a=b?a.bind(b):a;for(var c=0,d=(b=this.a).length;c<d;++c)a(b[c],c,b)},k.nn=function(){return this.a},k.item=function(a){return this.a[a]},k.kc=function(){return this.get(cb)},k.Xe=function(a,b){this.c&&ab(this,b),this.a.splice(a,0,b),bb(this),this.b(new db("add",b))},k.pop=function(){return this.ah(this.kc()-1)},k.push=function(a){this.c&&ab(this,a);var b=this.kc();return this.Xe(b,a),this.kc()},k.remove=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.ah(d)},k.ah=function(a){var b=this.a[a];return this.a.splice(a,1),bb(this),this.b(new db("remove",b)),b},k.cr=function(a,b){var c=this.kc();if(a<c)this.c&&ab(this,b,a),c=this.a[a],this.a[a]=b,this.b(new db("remove",c)),this.b(new db("add",b));else{for(;c<a;++c)this.Xe(c,void 0);this.Xe(a,b)}};var cb="length";v(db,Na);var Nb="cosh"in Math?Math.cosh:function(a){return((a=Math.exp(a))+1/a)/2};v(Vb,Ua),(k=Vb.prototype).G=function(){return this.get("extent")},k.lc=function(){return this.get("maxResolution")},k.mc=function(){return this.get("minResolution")},k.Xb=function(){return this.get("opacity")},k.sb=function(){return this.get("visible")},k.Ca=function(){return this.get("zIndex")},k.Cc=function(a){this.set("extent",a)},k.Fc=function(a){this.set("maxResolution",a)},k.Gc=function(a){this.set("minResolution",a)},k.Dc=function(a){this.set("opacity",a)},k.Yb=function(a){this.set("visible",a)},k.ac=function(a){this.set("zIndex",a)},v(Xb,Vb),(k=Xb.prototype).Sd=function(){},k.Ve=function(){this.u()},k.xm=function(){this.i.forEach(Da),this.i.length=0;var a=this.Pb();this.i.push(y(a,"add",this.wm,this),y(a,"remove",this.ym,this));for(var b in this.c)this.c[b].forEach(Da);ya(this.c);var c;for(b=0,c=(a=a.a).length;b<c;b++){var d=a[b];this.c[w(d).toString()]=[y(d,"propertychange",this.Ve,this),y(d,"change",this.Ve,this)]}this.u()},k.wm=function(a){var b=w(a=a.element).toString();this.c[b]=[y(a,"propertychange",this.Ve,this),y(a,"change",this.Ve,this)],this.u()},k.ym=function(a){a=w(a.element).toString(),this.c[a].forEach(Da),delete this.c[a],this.u()},k.Pb=function(){return this.get(Yb)},k.cj=function(a){this.set(Yb,a)},k.og=function(a){var b=void 0!==a?a:[],c=b.length;this.Pb().forEach(function(a){a.og(b)}),a=Wb(this);var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?Ib(e.extent,a.extent):a.extent)}return b},k.qg=function(){return"ready"};var Yb="layers";Zb.prototype.mh=function(){this.Oj(!0);for(var a in this.f)this.f[a].forEach(Sa);for(a in this.a)this.a[a].forEach(Sa);this.f={},this.a={},this.Tc={},$b(this,this.c)},Zb.prototype.Kg=function(){},ec.prototype.O=function(){var a=Date.now(),b=this.f,c=b.camera;Cesium.Matrix4.equalsEpsilon(this.o,c.viewMatrix,1e-5)||(this.c=a);var d=b.globe._surface;d=!d.tileProvider.ready||0<d._tileLoadQueueHigh.length||0<d._tileLoadQueueMedium.length||0<d._tileLoadQueueLow.length||0<d._debug.tilesWaitingForChildren,b=b.tweens,1e3>a-this.c||d||0!=b.length||(this.j&&console.log("stopping rendering @ "+Date.now()),this.i.hh(!0),this.g=!0),Cesium.Matrix4.clone(c.viewMatrix,this.o)},ec.prototype.s=function(){this.b()},ec.prototype.b=function(){this.j&&this.g&&console.log("starting rendering @ "+Date.now()),this.c=Date.now(),this.i.hh(!1),this.g=!1},ec.prototype.Aa=function(a){this.j=a},hc.prototype.a=function(a){return ic(a,this.radius)},hc.prototype.b=function(a,b){return jc(a,b,this.radius)},hc.prototype.offset=function(a,b,c){var d=Rb(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(Rb(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var oc={};oc.degrees=12741994*Math.PI/360,oc.ft=.3048,oc.m=1,oc["us-ft"]=1200/3937;var pc=null;(k=qc.prototype).ul=function(){return this.rb},k.G=function(){return this.i},k.So=function(){return this.b},k.jc=function(){return this.o||oc[this.b]},k.jm=function(){return this.g},k.Xm=function(){return this.c},k.gr=function(a){this.c=a,this.f=!(!a||!this.i)},k.To=function(a){this.i=a,this.f=!(!this.c||!a)},k.ur=function(a){this.g=a},k.fr=function(a){this.l=a},v(rc,qc);var uc=6378137*Math.PI,sc=[-uc,-uc,uc,uc],tc=[-180,-85,180,85],vc=[new rc("EPSG:3857"),new rc("EPSG:102100"),new rc("EPSG:102113"),new rc("EPSG:900913"),new rc("urn:ogc:def:crs:EPSG:6.18:3:3857"),new rc("urn:ogc:def:crs:EPSG::3857"),new rc("http://www.opengis.net/gml/srs/epsg.xml#3857")];v(yc,qc);var zc=[-180,-90,180,90],Ac=6378137*Math.PI/180,Bc=[new yc("CRS:84"),new yc("EPSG:4326","neu"),new yc("urn:ogc:def:crs:EPSG::4326","neu"),new yc("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new yc("urn:ogc:def:crs:OGC:1.3:CRS84"),new yc("urn:ogc:def:crs:OGC:2:84"),new yc("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new yc("urn:x-ogc:def:crs:EPSG:4326","neu")],Cc={},Dc={},Gc=new hc(6371008.8);Xc(),v(Yc,Vb),(k=Yc.prototype).og=function(a){return(a=a||[]).push(Wb(this)),a},k.ca=function(){return this.get("source")||null},k.qg=function(){var a=this.ca();return a?a.getState():"undefined"},k.Ro=function(){this.u()},k.Lm=function(){this.o&&(Da(this.o),this.o=null);var a=this.ca();a&&(this.o=y(a,"change",this.Ro,this)),this.u()},k.setMap=function(a){this.j&&(Da(this.j),this.j=null),a||this.u(),this.l&&(Da(this.l),this.l=null),a&&(this.j=y(a,"precompose",function(a){var b=Wb(this);b.Ze=!1,b.zIndex=1/0,a.frameState.layerStatesArray.push(b),a.frameState.layerStates[w(this)]=b},this),this.l=y(this,"change",a.render,a),this.u())},k.ed=function(a){this.set("source",a)},v(Gd,Na);var Hd=[0,0,0,1],Id=[],Jd=[0,0,0,1],Ld=/^#(?:[0-9a-f]{3}){1,2}$/i,Md=/^([a-z]*)$/i,Od=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)0==(3&d++)&&(delete a[e],--b)}if(d=c,Md.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e)),Ld.exec(d)){var f=d.length-1;eb(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16),e=parseInt(d.substr(1+1*g,g),16),d=parseInt(d.substr(1+2*g,g),16),1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=(d<<4)+d),f=[f,e,d,1]}else 0==d.indexOf("rgba(")?(d=d.slice(5,-1).split(",").map(Number),f=Rd(d)):0==d.indexOf("rgb(")?((d=d.slice(4,-1).split(",").map(Number)).push(1),f=Rd(d)):eb(!1,14);d=f,a[c]=d,++b}return d}}();v(Td,Ua),(k=Td.prototype).Fb=function(a,b){return b=b||[NaN,NaN],this.Kb(a[0],a[1],b,1/0),b},k.xb=function(a){return this.Wc(a[0],a[1])},k.Wc=Fd,k.G=function(a){this.s!=this.f&&(this.o=this.Ie(this.o),this.s=this.f);var b=this.o;return a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b,a},k.Sb=function(a){return this.ge(a*a)},k.transform=function(a,b){return this.rc(Tc(a,b)),this},v(C,Td),(k=C.prototype).Wc=Fd,k.Ie=function(a){return tb(this.v,0,this.v.length,this.a,a)},k.Ub=function(){return this.v.slice(0,this.a)},k.da=function(){return this.v},k.hc=function(){return this.v.slice(this.v.length-this.a)},k.ic=function(){return this.la},k.ge=function(a){if(this.l!=this.f&&(ya(this.i),this.g=0,this.l=this.f),0>a||0!==this.g&&a<=this.g)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=this.ud(a);return c.da().length<this.v.length?this.i[b]=c:(this.g=a,this)},k.ud=function(){return this},k.ra=function(){return this.a},k.rc=function(a){this.v&&(a(this.v,this.v,this.a),this.u())},k.rotate=function(a,b){var c=this.da();if(c){var d=c.length,e=this.ra(),f=c||[],g=Math.cos(a);a=Math.sin(a);var h=b[0];b=b[1];for(var l=0,m=0;m<d;m+=e){var n=c[m]-h,p=c[m+1]-b;for(f[l++]=h+n*g-p*a,f[l++]=b+n*a+p*g,n=m+2;n<m+e;++n)f[l++]=c[n]}c&&f.length!=l&&(f.length=l),this.u()}},k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;if(e||(e=Gb(this.G())),c=this.da()){b=c.length;var f=this.ra(),g=c||[],h=e[0];e=e[1];for(var l=0,m=0;m<b;m+=f){var n=c[m]-h,p=c[m+1]-e;for(g[l++]=h+a*n,g[l++]=e+d*p,n=m+2;n<m+f;++n)g[l++]=c[n]}c&&g.length!=l&&(g.length=l),this.u()}},k.translate=function(a,b){var c=this.da();c&&(Vd(c,0,c.length,this.ra(),a,b,c),this.u())};var ae,pe,Zd=["experimental-webgl","webgl","webkit-3d","moz-webgl"],be="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",ce=-1!==be.indexOf("firefox"),de=-1!==be.indexOf("safari")&&-1==be.indexOf("chrom"),ee=-1!==be.indexOf("webkit")&&-1==be.indexOf("edge"),fe=-1!==be.indexOf("macintosh"),ge=window.devicePixelRatio||1,he=!1,ie=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return!!a&&(void 0!==a.setLineDash&&(he=!0),!0)}catch(b){return!1}}(),je="DeviceOrientationEvent"in window,ke="geolocation"in navigator,le="ontouchstart"in window,me="PointerEvent"in window,ne=!!navigator.msPointerEnabled,oe=!1,qe=[];if("WebGLRenderingContext"in window)try{var re=$d(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});re&&(oe=!0,pe=re.getParameter(re.MAX_TEXTURE_SIZE),qe=re.getSupportedExtensions())}catch(a){}ae=oe,ua=qe,ta=pe,(k=se.prototype).Nh=function(){},k.Eb=function(){},k.Cd=function(){},k.fc=function(){},k.Je=function(){},k.Ke=function(){},k.tc=function(){},k.uc=function(){},k.vc=function(){},k.wc=function(){},k.xc=function(){},k.yc=function(){},k.Tb=function(){},k.Ra=function(){},k.$b=function(){},k.jb=function(){};var te=Array(6);v(Fe,se),(k=Fe.prototype).fc=function(a){if(Jb(this.c,a.G())){if(this.a||this.b){this.a&&Ie(this,this.a),this.b&&Je(this,this.b);var b=this.A,c=this.H,d=a.da();c=(b=d?Ud(d,0,d.length,a.ra(),b,c):null)[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),(d=this.f).beginPath(),d.arc(b[0],b[1],c,0,2*Math.PI),this.a&&d.fill(),this.b&&d.stroke()}""!==this.ya&&He(this,a.ta(),2,2)}},k.Cd=function(a){this.Ra(a.va(),a.ua()),this.$b(a.Z()),this.jb(a.Ba())},k.Eb=function(a){switch(a.T()){case"Point":this.xc(a);break;case"LineString":this.tc(a);break;case"Polygon":this.yc(a);break;case"MultiPoint":this.vc(a);break;case"MultiLineString":this.uc(a);break;case"MultiPolygon":this.wc(a);break;case"GeometryCollection":this.Ke(a);break;case"Circle":this.fc(a)}},k.Je=function(a,b){(a=(0,b.$a)(a))&&Jb(this.c,a.G())&&(this.Cd(b),this.Eb(a))},k.Ke=function(a){var b,c=0;for(b=(a=a.a).length;c<b;++c)this.Eb(a[c])},k.xc=function(a){var b=a.da();a=a.ra(),this.N&&Ge(this,b,b.length),""!==this.ya&&He(this,b,b.length,a)},k.vc=function(a){var b=a.da();a=a.ra(),this.N&&Ge(this,b,b.length),""!==this.ya&&He(this,b,b.length,a)},k.tc=function(a){if(Jb(this.c,a.G())){if(this.b){Je(this,this.b);var b=this.f,c=a.da();b.beginPath(),Ke(this,c,0,c.length,a.ra(),!1),b.stroke()}""!==this.ya&&(a=Me(a),He(this,a,2,2))}},k.uc=function(a){var b=a.G();if(Jb(this.c,b)){if(this.b){Je(this,this.b),b=this.f;var c=a.da(),d=0,e=a.tb(),f=a.ra();b.beginPath();var g,h=0;for(g=e.length;h<g;++h)d=Ke(this,c,d,e[h],f,!1);b.stroke()}""!==this.ya&&(a=Ne(a),He(this,a,a.length,2))}},k.yc=function(a){if(Jb(this.c,a.G())){if(this.b||this.a){this.a&&Ie(this,this.a),this.b&&Je(this,this.b);var b=this.f;b.beginPath(),Le(this,a.Wb(),0,a.tb(),a.ra()),this.a&&b.fill(),this.b&&b.stroke()}""!==this.ya&&(a=Oe(a),He(this,a,2,2))}},k.wc=function(a){if(Jb(this.c,a.G())){if(this.b||this.a){this.a&&Ie(this,this.a),this.b&&Je(this,this.b);var g,b=this.f,c=Pe(a),d=0,e=a.c,f=a.ra();b.beginPath();var h=0;for(g=e.length;h<g;++h)d=Le(this,c,d,e[h],f);this.a&&b.fill(),this.b&&b.stroke()}""!==this.ya&&(a=Qe(a),He(this,a,a.length,2))}},k.Ra=function(a,b){if(a?(a=a.b,this.a={fillStyle:Sd(a||Hd)}):this.a=null,b){a=b.b;var c=b.g,d=b.a,e=b.i,f=b.j,g=b.c;b=b.l,this.b={lineCap:void 0!==c?c:"round",lineDash:d||Id,lineDashOffset:e||0,lineJoin:void 0!==f?f:"round",lineWidth:this.g*(void 0!==g?g:1),miterLimit:void 0!==b?b:10,strokeStyle:Sd(a||Jd)}}else this.b=null},k.$b=function(a){if(a){var b=a.Nc(),c=a.Z(1),d=a.Yc(),e=a.nc();this.B=b[0],this.C=b[1],this.fa=e[1],this.N=c,this.s=a.i,this.Y=d[0],this.qa=d[1],this.Wa=a.o,this.ja=a.g,this.i=a.a*this.g,this.na=a.s,this.ma=e[0]}else this.N=null},k.jb=function(a){if(a){var b=a.va();b?(b=b.b,this.j={fillStyle:Sd(b||Hd)}):this.j=null;var c=a.ua();if(c){b=c.b;var d=c.g,e=c.a,f=c.i,g=c.j,h=c.c;c=c.l,this.o={lineCap:void 0!==d?d:"round",lineDash:e||Id,lineDashOffset:f||0,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==c?c:10,strokeStyle:Sd(b||Jd)}}else this.o=null;b=a.b,d=a.c,e=a.i,f=a.l,g=a.j,h=a.a,c=a.Ba();var l=a.g;a=a.f,this.D={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==a?a:"middle"},this.ya=void 0!==c?c:"",this.Cb=void 0!==d?this.g*d:0,this.Da=void 0!==e?this.g*e:0,this.Sa=void 0!==f&&f,this.gb=void 0!==g?g:0,this.l=this.g*(void 0!==h?h:1)}else this.ya=""},v(Re,Ra),Re.prototype.Ka=va,Re.prototype.lf=Fd,Re.prototype.bg=function(a,b,c){return function(d,e){return Se(a,b,d,e,function(a){c[d]||(c[d]={}),c[d][a.xa.toString()]=a})}},Re.prototype.qa=function(a){2===a.target.getState()&&Te(this)},v(bf,Re),bf.prototype.s=function(a,b,c,d){if(this.Ka(a,b,0,Ed,this))return c.call(d,this.a,null)},bf.prototype.wf=function(a,b,c,d){df(this,"postcompose",a,b,d)},v(ff,bf),ff.prototype.H=function(a,b,c){df(this,"precompose",c,a,void 0);var d=this.Z();if(d){var e=b.extent,f=void 0!==e&&!nb(e,a.extent)&&Jb(e,a.extent);f&&cf(c,a,e),e=this.B();var g=c.globalAlpha;c.globalAlpha=b.opacity,c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3])),c.globalAlpha=g,f&&c.restore()}this.wf(c,a,b)},ff.prototype.Ka=function(a,b,c,d,e){var f=this.a;return f.ca().Ka(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},ff.prototype.s=function(a,b,c,d){if(this.Z()){if(this.a.ca().Ka!==va)return bf.prototype.s.apply(this,arguments);var e=ze(this.o,a.slice());if(zd(e,b.viewState.resolution/this.c),this.g||(this.g=md(1,1)),this.g.clearRect(0,0,1,1),this.g.drawImage(this.Z(),e[0],e[1],1,1,0,0,1,1),0<(e=this.g.getImageData(0,0,1,1).data)[3])return c.call(d,this.a,e)}},v(gf,ff),gf.prototype.Dd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution;e=e.center;var h=this.a,l=h.ca(),m=l.f,n=l.Xa(f),p=n.zc(g,this.U),q=n.Ha(p),t=Math.round(g/q)||1,u=a.extent;if(void 0!==b.extent&&(u=Ib(u,b.extent)),Db(u))return!1;var x=jf(n,u,q),B=n.Zc(p),A=n.Ha(p),E=kf(n.eb(p),n.j);B=pb(B[0]+x.ea*E[0]*A,B[1]+x.ha*E[1]*A,B[0]+(x.ga+1)*E[0]*A,B[1]+(x.ka+1)*E[1]*A,void 0),A=l.Sc(c),(E={})[p]={};var fa,Aa,F=this.bg(l,f,E),ia=this.l,N=this.na,O=!1;for(fa=x.ea;fa<=x.ga;++fa)for(Aa=x.ha;Aa<=x.ka;++Aa){var z=l.Xc(p,fa,Aa,c,f);3==z.getState()&&(h.wd()?0<h.td()&&(O=!0):lf(z,2)),hf(this,z)||(z=mf(z)),hf(this,z)?2==z.getState()&&(E[p][z.xa.toString()]=z,O||-1!=this.i.indexOf(z)||(O=!0)):nf(n,z.xa,F,N,ia)||(z=of(n,z.xa,N,ia))&&F(p+1,z)}if(fa=q*c/A*t,z=a.viewHints,z=z[0]||z[1],!(this.c&&16<Date.now()-a.time&&z||!O&&this.j&&nb(this.j,u)&&this.Df==m&&t==this.O&&(z||fa==this.c))){(fa=this.context)&&(Aa=l.ie(p,c,f),z=Math.round((x.ga-x.ea+1)*Aa[0]/t),Aa=Math.round((x.ka-x.ha+1)*Aa[1]/t),(O=fa.canvas).width!=z||O.height!=Aa?(this.O=t,O.width=z,O.height=Aa):(fa.clearRect(0,0,z,Aa),t=this.O)),this.i.length=0,(O=Object.keys(E).map(Number)).sort(dd);var Z;for(N=0,Z=O.length;N<Z;++N){fa=O[N],F=l.ie(fa,c,f);var Za=(z=n.Ha(fa))/q,aa=A*l.kg(f),rb=E[fa];for(var Ub in rb){z=rb[Ub],fa=((Aa=n.Ia(z.xa,ia))[0]-B[0])/q*A/t,Aa=(B[3]-Aa[3])/q*A/t;var Mc=F[0]*Za/t,yd=F[1]*Za/t;this.dg(z,a,b,fa,Aa,Mc,yd,aa),this.i.push(z)}}this.Df=m,this.c=q*c/A*t,this.j=B}return b=this.c/g,b=De(this.C,c*d[0]/2,c*d[1]/2,b,b,0,(this.j[0]-e[0])/this.c*c,(e[1]-this.j[3])/this.c*c),De(this.o,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]),Ye(a.usedTiles,l,p,x),Ze(a,l,n,c,f,u,p,h.td()),Ve(a,l),Xe(a,l),0<this.i.length},gf.prototype.dg=function(a,b,c,d,e,f,g,h){this.a.ca().pg(b.viewState.projection)||this.context.clearRect(d,e,f,g),(a=a.Z(this.a))&&this.context.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)},gf.prototype.Z=function(){var a=this.context;return a?a.canvas:null},gf.prototype.B=function(){return this.C};var qf="Polygon Circle LineString Image Text Default".split(" ");v(tf,sf),tf.prototype.T=function(){return 35632},v(uf,sf),uf.prototype.T=function(){return 35633},v(vf,tf);var wf=new vf;v(xf,uf);var yf=new xf;v(Cf,se),Cf.prototype.Qa=function(a,b,c,d,e,f,g,h,l,m,n){var p=a.b;if(this.g){var q=p.isEnabled(p.STENCIL_TEST),t=p.getParameter(p.STENCIL_FUNC),u=p.getParameter(p.STENCIL_VALUE_MASK),x=p.getParameter(p.STENCIL_REF),B=p.getParameter(p.STENCIL_WRITEMASK),A=p.getParameter(p.STENCIL_FAIL),E=p.getParameter(p.STENCIL_PASS_DEPTH_PASS),F=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilMask(255),p.stencilFunc(p.ALWAYS,1,255),p.stencilOp(p.KEEP,p.KEEP,p.REPLACE),this.g.Qa(a,b,c,d,e,f,g,h,l,m,n),p.stencilMask(0),p.stencilFunc(p.NOTEQUAL,1,255)}Df(a,34962,this.o),Df(a,34963,this.j),f=this.Hf(p,a,e,f);var ia=ve(this.Jb);if(Be(ia,2/(c*e[0]),2/(c*e[1])),Ae(ia,-d),Ce(ia,-(b[0]-this.origin[0]),-(b[1]-this.origin[1])),b=ve(this.gb),Be(b,2/e[0],2/e[1]),e=ve(this.Sa),0!==d&&Ae(e,-d),p.uniformMatrix4fv(f.f,!1,Bf(this.Y,ia)),p.uniformMatrix4fv(f.i,!1,Bf(this.Y,b)),p.uniformMatrix4fv(f.c,!1,Bf(this.Y,e)),p.uniform1f(f.a,g),l){m?a=this.Le(p,a,h,l,n):(p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT),this.ae(p,a,h,!0),a=(a=l(null))?a:void 0);var N=a}else this.ae(p,a,h,!1);return this.If(p,f),this.g&&(q||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(t,x,u),p.stencilMask(B),p.stencilOp(A,F,E)),N};var Ff=[0,0,0,1],Gf=[],Hf=[0,0,0,1],Jf=Number.EPSILON||2.220446049250313e-16,Lf=35044;v(Mf,Cf),(k=Mf.prototype).fc=function(a,b){var c=a.Vc(),d=a.ra();if(c){this.f.push(this.b.length),this.i.push(b),this.c.u&&(this.H.push(this.b.length),this.c.u=!1),this.A=c,a=Vd(a=a.da(),0,2,d,-this.origin[0],-this.origin[1]),b=this.a.length,c=this.b.length;var f,e=b/4;for(f=0;2>f;f+=d)this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=0,this.a[b++]=this.A,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=1,this.a[b++]=this.A,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=2,this.a[b++]=this.A,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=3,this.a[b++]=this.A,this.b[c++]=e,this.b[c++]=e+1,this.b[c++]=e+2,this.b[c++]=e+2,this.b[c++]=e+3,this.b[c++]=e,e+=4}else this.c.u&&(this.l.pop(),this.l.length&&(d=this.l[this.l.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.u=!1))},k.fb=function(){this.o=new Kf(this.a),this.j=new Kf(this.b),this.f.push(this.b.length),0===this.H.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},k.yb=function(a){var b=this.o,c=this.j;return function(){Nf(a,b),Nf(a,c)}},k.Hf=function(a,b,c,d){var e=Of(b,wf,yf);if(this.s)var f=this.s;else this.s=f=new zf(a,e);return b.$c(e),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,16,0),a.enableVertexAttribArray(f.j),a.vertexAttribPointer(f.j,1,5126,!1,16,8),a.enableVertexAttribArray(f.A),a.vertexAttribPointer(f.A,1,5126,!1,16,12),a.uniform2fv(f.O,c),a.uniform1f(f.D,d),f},k.If=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.j),a.disableVertexAttribArray(b.A)},k.ae=function(a,b,c){if(Ba(c)){var d=this.f[this.f.length-1];for(c=this.H.length-1;0<=c;--c){var e=this.H[c],f=this.l[c];a.uniform4fv(this.s.C,f[0]),Pf(this,a,f[1],f[2]),Ef(a,b,e,d),d=e}}else{var g=this.f.length-2;for(f=d=this.f[g+1],e=this.H.length-1;0<=e;--e){var h=this.l[e];for(a.uniform4fv(this.s.C,h[0]),Pf(this,a,h[1],h[2]),h=this.H[e];0<=g&&this.f[g]>=h;){var l=this.f[g],m=this.i[g];c[m=w(m).toString()]&&(d!==f&&Ef(a,b,d,f),f=l),g--,d=l}d!==f&&Ef(a,b,d,f),d=f=h}}},k.Le=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.H.length-1;0<=f;--f){var m=this.l[f];for(a.uniform4fv(this.s.C,m[0]),Pf(this,a,m[1],m[2]),g=this.H[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||Jb(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ef(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Ra=function(a,b){if(b){var c=b.a;this.c.lineDash=c||Gf,c=b.i,this.c.lineDashOffset=c||0,c=(c=b.b)instanceof CanvasGradient||c instanceof CanvasPattern?Hf:Nd(c).map(function(a,b){return 3!=b?a/255:a})||Hf,b=void 0!==(b=b.c)?b:1}else c=[0,0,0,0],b=0;a=(a=a?a.b:[0,0,0,0])instanceof CanvasGradient||a instanceof CanvasPattern?Ff:Nd(a).map(function(a,b){return 3!=b?a/255:a})||Ff,this.c.strokeColor&&id(this.c.strokeColor,c)&&this.c.fillColor&&id(this.c.fillColor,a)&&this.c.lineWidth===b||(this.c.u=!0,this.c.fillColor=a,this.c.strokeColor=c,this.c.lineWidth=b,this.l.push([a,c,b]))},v(Qf,tf);var Rf=new Qf;v(Sf,uf);var Tf=new Sf;v(Wf,La),(k=Wf.prototype).oa=function(){Ka(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.f)a.deleteProgram(this.f[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.i),a.deleteRenderbuffer(this.o),a.deleteTexture(this.s)}},k.Tp=function(){return this.b},k.Up=function(){ya(this.a),ya(this.c),ya(this.f),this.o=this.s=this.i=this.l=null},k.Vp=function(){},k.$c=function(a){return a!=this.l&&(this.b.useProgram(a),this.l=a,!0)},v(bg,Cf),(k=bg.prototype).yb=function(a){var b=this.o,c=this.j,d=this.sg(!0),e=a.b;return function(){if(!e.isContextLost()){var f,g=0;for(f=d.length;g<f;++g)e.deleteTexture(d[g])}Nf(a,b),Nf(a,c)}},k.Hf=function(a,b){var c=Of(b,Rf,Tf);if(this.U)var d=this.U;else this.U=d=new Vf(a,c);return b.$c(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,32,0),a.enableVertexAttribArray(d.s),a.vertexAttribPointer(d.s,2,5126,!1,32,8),a.enableVertexAttribArray(d.fa),a.vertexAttribPointer(d.fa,2,5126,!1,32,16),a.enableVertexAttribArray(d.H),a.vertexAttribPointer(d.H,1,5126,!1,32,24),a.enableVertexAttribArray(d.B),a.vertexAttribPointer(d.B,1,5126,!1,32,28),d},k.If=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.s),a.disableVertexAttribArray(b.fa),a.disableVertexAttribArray(b.H),a.disableVertexAttribArray(b.B)},k.ae=function(a,b,c,d){var e=d?this.mg():this.sg();if(d=d?this.H:this.s,Ba(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(3553,e[c]);var h=d[c];Ef(a,b,f,h),f=h}}else for(f=g=0,h=e.length;f<h;++f){a.bindTexture(3553,e[f]);for(var l=0<f?d[f-1]:0,m=d[f],n=l;g<this.f.length&&this.f[g]<=m;)void 0!==c[w(this.i[g]).toString()]?(n!==l&&Ef(a,b,n,l),l=n=g===this.f.length-1?m:this.f[g+1]):l=g===this.f.length-1?m:this.f[g+1],g++;n!==l&&Ef(a,b,n,l)}},k.Le=function(a,b,c,d,e){var f,g,h=this.f.length-1,l=this.mg();for(f=l.length-1;0<=f;--f){a.bindTexture(3553,l[f]);var m=0<f?this.H[f-1]:0;for(g=this.H[f];0<=h&&this.f[h]>=m;){var n=this.f[h],p=this.i[h];if(void 0===c[w(p).toString()]&&p.W()&&(void 0===e||Jb(e,p.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ef(a,b,n,g),g=d(p)))return g;g=n,h--}}},k.fb=function(){this.D=this.ma=this.height=this.C=this.B=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.Aa=this.O=this.opacity=void 0,this.a=null,this.width=void 0},v(eg,bg),(k=eg.prototype).vc=function(a,b){this.f.push(this.b.length),this.i.push(b),cg(this,b=a.da(),0,b.length,a.ra())},k.xc=function(a,b){this.f.push(this.b.length),this.i.push(b),cg(this,b=a.da(),0,b.length,a.ra())},k.fb=function(a){var b=a.b;this.s.push(this.b.length),this.H.push(this.b.length),this.o=new Kf(this.a),this.j=new Kf(this.b);var c={};dg(this.fa,this.l,c,b),dg(this.A,this.c,c,b),this.c=this.l=null,bg.prototype.fb.call(this,a)},k.$b=function(a){var b=a.Nc(),c=a.Z(1),d=a.Ne(),e=a.Jg(1),f=a.i,g=a.Yc(),h=a.o,l=a.g,m=a.nc();if(a=a.a,0===this.l.length)this.l.push(c);else{var n=this.l[this.l.length-1];w(n)!=w(c)&&(this.s.push(this.b.length),this.l.push(c))}0===this.c.length?this.c.push(e):(n=this.c[this.c.length-1],w(n)!=w(e)&&(this.H.push(this.b.length),this.c.push(e))),this.B=b[0],this.C=b[1],this.height=m[1],this.ma=d[1],this.D=d[0],this.opacity=f,this.O=g[0],this.Aa=g[1],this.rotation=l,this.rotateWithView=h,this.scale=a,this.width=m[0]},k.sg=function(a){return a?this.fa.concat(this.A):this.fa},k.mg=function(){return this.A},v(mg,tf);var ng=new mg;v(og,uf);var pg=new og;v(rg,Cf),(k=rg.prototype).tc=function(a,b){var c=a.da();a=a.ra(),Dg(c,0,c.length,a)&&(c=Vd(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.f.push(this.b.length),this.i.push(b),sg(this,c,c.length,a))},k.uc=function(a,b){var c=this.b.length,d=a.tb();d.unshift(0);var e=a.da();a=a.ra();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(Dg(e,d[g-1],d[g],a)){var h=Vd(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);sg(this,h,h.length,a)}}this.b.length>c&&(this.f.push(c),this.i.push(b),this.c.u&&(this.l.push(c),this.c.u=!1))},k.fb=function(){this.o=new Kf(this.a),this.j=new Kf(this.b),this.f.push(this.b.length),0===this.l.length&&0<this.H.length&&(this.H=[]),this.b=this.a=null},k.yb=function(a){var b=this.o,c=this.j;return function(){Nf(a,b),Nf(a,c)}},k.Hf=function(a,b,c,d){var e=Of(b,ng,pg);if(this.s)var f=this.s;else this.s=f=new qg(a,e);return b.$c(e),a.enableVertexAttribArray(f.l),a.vertexAttribPointer(f.l,2,5126,!1,28,0),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,28,8),a.enableVertexAttribArray(f.o),a.vertexAttribPointer(f.o,2,5126,!1,28,16),a.enableVertexAttribArray(f.g),a.vertexAttribPointer(f.g,1,5126,!1,28,24),a.uniform2fv(f.O,c),a.uniform1f(f.D,d),f},k.If=function(a,b){a.disableVertexAttribArray(b.l),a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.o),a.disableVertexAttribArray(b.g)},k.ae=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),Ba(c)){var g=this.f[this.f.length-1];for(c=this.l.length-1;0<=c;--c){var h=this.l[c],l=this.H[c];Gg(this,a,l[0],l[1],l[2]),Ef(a,b,h,g),a.clear(a.DEPTH_BUFFER_BIT),g=h}}else{var m=this.f.length-2;for(l=g=this.f[m+1],h=this.l.length-1;0<=h;--h){var n=this.H[h];for(Gg(this,a,n[0],n[1],n[2]),n=this.l[h];0<=m&&this.f[m]>=n;){var p=this.f[m],q=this.i[m];c[q=w(q).toString()]&&(g!==l&&(Ef(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p),m--,g=p}g!==l&&(Ef(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.Le=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.l.length-1;0<=f;--f){var m=this.H[f];for(Gg(this,a,m[0],m[1],m[2]),g=this.l[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||Jb(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ef(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Ra=function(a,b){a=b.g,this.c.lineCap=void 0!==a?a:"round",a=b.a,this.c.lineDash=a||Gf,a=b.i,this.c.lineDashOffset=a||0,a=b.j,this.c.lineJoin=void 0!==a?a:"round",a=(a=b.b)instanceof CanvasGradient||a instanceof CanvasPattern?Hf:Nd(a).map(function(a,b){return 3!=b?a/255:a})||Hf;var c=b.c;c=void 0!==c?c:1,b=void 0!==(b=b.l)?b:10,this.c.strokeColor&&id(this.c.strokeColor,a)&&this.c.lineWidth===c&&this.c.miterLimit===b||(this.c.u=!0,this.c.strokeColor=a,this.c.lineWidth=c,this.c.miterLimit=b,this.H.push([a,c,b]))};var vg=3,wg=5,ug=7,xg=11,yg=13,zg=17,Ag=19,Bg=23;v(Kg,tf);var Lg=new Kg;v(Mg,uf);var Ng=new Mg;(k=Pg.prototype).clone=function(){var a=this.b;return new Pg({color:a&&a.slice?a.slice():a||void 0,lineCap:this.g,lineDash:this.a?this.a.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},k.Kp=function(){return this.b},k.Kl=function(){return this.g},k.Lp=function(){return this.a},k.Ll=function(){return this.i},k.Ml=function(){return this.j},k.Rl=function(){return this.l},k.Mp=function(){return this.c},k.Np=function(a){this.b=a,this.f=void 0},k.ir=function(a){this.g=a,this.f=void 0},k.setLineDash=function(a){this.a=a,this.f=void 0},k.jr=function(a){this.i=a,this.f=void 0},k.kr=function(a){this.j=a,this.f=void 0},k.nr=function(a){this.l=a,this.f=void 0},k.tr=function(a){this.c=a,this.f=void 0},Qg.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.f,a.f.zb=this.b,b.zb=a.a,a.a.next=b,this.c+=a.c}else this.b=a.b,this.f=a.f,this.a=a.a,this.c=a.c;a.b=void 0,a.f=void 0,a.a=void 0,a.c=0}};var Yg={ke:function(){}};!function(a){function b(a,e,f,g,h){for(f=f||0,g=g||a.length-1,h=h||d;g>f;){if(600<g-f){var l=g-f+1,m=e-f+1,n=Math.log(l),p=.5*Math.exp(2*n/3);n=.5*Math.sqrt(n*p*(l-p)/l)*(0>m-l/2?-1:1),b(a,e,Math.max(f,Math.floor(e-m*p/l+n)),Math.min(g,Math.floor(e+(l-m)*p/l+n)),h)}for(l=a[e],m=f,p=g,c(a,f,e),0<h(a[g],l)&&c(a,f,g);m<p;){for(c(a,m,p),m++,p--;0>h(a[m],l);)m++;for(;0<h(a[p],l);)p--}0===h(a[f],l)?c(a,f,p):(p++,c(a,p,g)),p<=e&&(f=p+1),e<=p&&(g=p-1)}}function c(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(a,b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.Wf=Math.max(4,a||9),this.yh=Math.max(2,Math.ceil(.4*this.Wf)),b&&this.Ok(b),this.clear()}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=u(null)),e.ea=1/0,e.ha=1/0,e.ga=-1/0,e.ka=-1/0;for(var f;b<c;b++)f=a.children[b],h(e,a.nb?d(f):f);return e}function h(a,b){a.ea=Math.min(a.ea,b.ea),a.ha=Math.min(a.ha,b.ha),a.ga=Math.max(a.ga,b.ga),a.ka=Math.max(a.ka,b.ka)}function l(a,b){return a.ea-b.ea}function m(a,b){return a.ha-b.ha}function n(a){return(a.ga-a.ea)*(a.ka-a.ha)}function p(a){return a.ga-a.ea+(a.ka-a.ha)}function q(a,b){return a.ea<=b.ea&&a.ha<=b.ha&&b.ga<=a.ga&&b.ka<=a.ka}function t(a,b){return b.ea<=a.ga&&b.ha<=a.ka&&b.ga>=a.ea&&b.ka>=a.ha}function u(a){return{children:a,height:1,nb:!0,ea:1/0,ha:1/0,ga:-1/0,ka:-1/0}}function x(a,b,c,d,e){for(var g,f=[b,c];f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,B(a,g,b,c,e),f.push(b,g,g,c))}var B=b;e.prototype={all:function(){return this.th(this.data,[])},search:function(a){var b=this.data,c=[],d=this.Bb;if(!t(a,b))return c;for(var f,g,h,l,e=[];b;){for(f=0,g=b.children.length;f<g;f++)h=b.children[f],l=b.nb?d(h):h,t(a,l)&&(b.nb?c.push(h):q(a,l)?this.th(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.yh){for(var b=0,c=a.length;b<c;b++)this.Ja(a[b]);return this}return a=this.vh(a.slice(),0,a.length-1,0),this.data.children.length?this.data.height===a.height?this.Ah(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.xh(a,this.data.height-a.height-1,!0)):this.data=a,this},Ja:function(a){return a&&this.xh(a,this.data.height-1),this},clear:function(){return this.data=u([]),this},remove:function(a,b){if(!a)return this;for(var g,h,l,m,c=this.data,d=this.Bb(a),e=[],f=[];c||e.length;){if(c||(c=e.pop(),h=e[e.length-1],g=f.pop(),m=!0),c.nb){a:{l=a;var n=c.children,p=b;if(p){for(var t=0;t<n.length;t++)if(p(l,n[t])){l=t;break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1),e.push(c),this.Lk(e);break}}m||c.nb||!q(c,d)?h?(g++,c=h.children[g],m=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},Bb:function(a){return a},Zf:l,$f:m,toJSON:function(){return this.data},th:function(a,b){for(var c=[];a;)a.nb?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},vh:function(a,b,c,d){var e=c-b+1,g=this.Wf;if(e<=g){var h=u(a.slice(b,c+1));return f(h,this.Bb),h}d||(d=Math.ceil(Math.log(e)/Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1))),(h=u([])).nb=!1,h.height=d;var l;for(x(a,b,c,g=(e=Math.ceil(e/g))*Math.ceil(Math.sqrt(g)),this.Zf);b<=c;b+=g){var m=Math.min(b+g-1,c);for(x(a,b,m,e,this.$f),l=b;l<=m;l+=e){var n=Math.min(l+e-1,m);h.children.push(this.vh(a,l,n,d-1))}}return f(h,this.Bb),h},Kk:function(a,b,c,d){for(var e,f,g,h,l,m,p,q;d.push(b),!b.nb&&d.length-1!==c;){for(p=q=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],l=n(g),(m=(Math.max(g.ga,a.ga)-Math.min(g.ea,a.ea))*(Math.max(g.ka,a.ka)-Math.min(g.ha,a.ha))-l)<q?(q=m,p=l<p?l:p,h=g):m===q&&l<p&&(p=l,h=g);b=h||b.children[0]}return b},xh:function(a,b,c){var d=this.Bb;c=c?a:d(a),d=[];var e=this.Kk(c,this.data,b,d);for(e.children.push(a),h(e,c);0<=b&&d[b].children.length>this.Wf;)this.Tk(d,b),b--;this.Hk(c,d,b)},Tk:function(a,b){var c=a[b],d=c.children.length,e=this.yh;this.Ik(c,e,d),d=this.Jk(c,e,d),(d=u(c.children.splice(d,c.children.length-d))).height=c.height,d.nb=c.nb,f(c,this.Bb),f(d,this.Bb),b?a[b-1].children.push(d):this.Ah(c,d)},Ah:function(a,b){this.data=u([a,b]),this.data.height=a.height+1,this.data.nb=!1,f(this.data,this.Bb)},Jk:function(a,b,c){var d,e,f=e=1/0;for(d=b;d<=c-b;d++){var h=g(a,0,d,this.Bb),l=g(a,d,c,this.Bb),m=Math.max(0,Math.min(h.ga,l.ga)-Math.max(h.ea,l.ea))*Math.max(0,Math.min(h.ka,l.ka)-Math.max(h.ha,l.ha));if(h=n(h)+n(l),m<f){f=m;var p=d;e=h<e?h:e}else m===f&&h<e&&(e=h,p=d)}return p},Ik:function(a,b,c){var d=a.nb?this.Zf:l,e=a.nb?this.$f:m;this.uh(a,b,c,d)<(b=this.uh(a,b,c,e))&&a.children.sort(d)},uh:function(a,b,c,d){a.children.sort(d);var m,e=g(a,0,b,d=this.Bb),f=g(a,c-b,c,d),l=p(e)+p(f);for(m=b;m<c-b;m++){var n=a.children[m];h(e,a.nb?d(n):n),l+=p(e)}for(m=c-b-1;m>=b;m--)n=a.children[m],h(f,a.nb?d(n):n),l+=p(f);return l},Hk:function(a,b,c){for(;0<=c;c--)h(b[c],a)},Lk:function(a){for(var c,b=a.length-1;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children).splice(c.indexOf(a[b]),1):this.clear():f(a[b],this.Bb)},Ok:function(a){var b=["return a"," - b",";"];this.Zf=new Function("a","b",b.join(a[0])),this.$f=new Function("a","b",b.join(a[1])),this.Bb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}},a.default=e}(Yg.ke=Yg.ke||{}),Yg.ke=Yg.ke.default,(k=Zg.prototype).Ja=function(a,b){a={ea:a[0],ha:a[1],ga:a[2],ka:a[3],value:b},this.a.Ja(a),this.b[w(b)]=a},k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d];f={ea:f[0],ha:f[1],ga:f[2],ka:f[3],value:g},c[d]=f,this.b[w(g)]=f}this.a.load(c)},k.remove=function(a){a=w(a);var b=this.b[a];return delete this.b[a],null!==this.a.remove(b)},k.forEach=function(a,b){return ch(ah(this),a,b)},k.clear=function(){this.a.clear(),this.b={}},k.G=function(a){var b=this.a.data;return pb(b.ea,b.ha,b.ga,b.ka,a)},k.concat=function(a){this.a.load(a.a.all());for(var b in a.b)this.b[0|b]=a.b[0|b]},v(eh,Cf),(k=eh.prototype).wc=function(a,b){var c=a.c,d=a.ra(),e=this.b.length,f=this.g.b.length;a=a.da();var g,h,l,m=h=0;for(g=c.length;m<g;++m){var n=c[m];if(0<n.length){var p=Vd(a,h,n[0],d,-this.origin[0],-this.origin[1]);if(p.length){var q=[];for(h=1,l=n.length;h<l;++h)if(n[h]!==n[h-1]){var t=Vd(a,n[h-1],n[h],d,-this.origin[0],-this.origin[1]);q.push(t)}Eg(this.g,p,q,d),fh(this,p,q,d)}}h=n[n.length-1]}this.b.length>e&&(this.f.push(e),this.i.push(b),this.l.u&&(this.c.push(e),this.l.u=!1)),this.g.b.length>f&&Fg(this.g,b,f)},k.yc=function(a,b){var c=a.tb(),d=a.ra();if(0<c.length){var e=Vd(a=a.da().map(Number),0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var g,f=[],h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var l=Vd(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(l)}this.f.push(this.b.length),this.i.push(b),this.l.u&&(this.c.push(this.b.length),this.l.u=!1),Fg(this.g,b),Eg(this.g,e,f,d),fh(this,e,f,d)}}},k.fb=function(a){this.o=new Kf(this.a),this.j=new Kf(this.b),this.f.push(this.b.length),this.g.fb(a),0===this.c.length&&0<this.H.length&&(this.H=[]),this.b=this.a=null},k.yb=function(a){var b=this.o,c=this.j,d=this.g.yb(a);return function(){Nf(a,b),Nf(a,c),d()}},k.Hf=function(a,b){var c=Of(b,Lg,Ng);if(this.s)var d=this.s;else this.s=d=new Og(a,c);return b.$c(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,8,0),d},k.If=function(a,b){a.disableVertexAttribArray(b.b)},k.ae=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),Ba(c)){var g=this.f[this.f.length-1];for(c=this.c.length-1;0<=c;--c){var h=this.c[c],l=this.H[c];a.uniform4fv(this.s.C,l),Ef(a,b,h,g),g=h}}else{var m=this.f.length-2;for(l=g=this.f[m+1],h=this.c.length-1;0<=h;--h){var n=this.H[h];for(a.uniform4fv(this.s.C,n),n=this.c[h];0<=m&&this.f[m]>=n;){var p=this.f[m],q=this.i[m];c[q=w(q).toString()]&&(g!==l&&(Ef(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p),m--,g=p}g!==l&&(Ef(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.Le=function(a,b,c,d,e){var f,g,h=this.f.length-2,l=this.f[h+1];for(f=this.c.length-1;0<=f;--f){var m=this.H[f];for(a.uniform4fv(this.s.C,m),g=this.c[f];0<=h&&this.f[h]>=g;){m=this.f[h];var n=this.i[h];if(void 0===c[w(n).toString()]&&n.W()&&(void 0===e||Jb(e,n.W().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Ef(a,b,m,l),l=d(n)))return l;h--,l=m}}},k.Ra=function(a,b){a=(a=a?a.b:[0,0,0,0])instanceof CanvasGradient||a instanceof CanvasPattern?Ff:Nd(a).map(function(a,b){return 3!=b?a/255:a})||Ff,this.l.fillColor&&id(a,this.l.fillColor)||(this.l.fillColor=a,this.l.u=!0,this.H.push(a)),b?this.g.Ra(null,b):this.g.Ra(null,new Pg({color:[0,0,0,0],lineWidth:0}))},vh.prototype.get=function(a){return this.c[a]||null},vh.prototype.add=function(a,b,c,d,e){var f,g=0;for(f=this.a.length;g<f;++g){var h=this.a[g];if(h.width>=b+this.b&&h.height>=c+this.b)return f={offsetX:h.x+this.b,offsetY:h.y+this.b,image:this.i},this.c[a]=f,d.call(e,this.f,h.x+this.b,h.y+this.b),a=g,b+=this.b,d=c+this.b,h.width-b>h.height-d?(c={x:h.x+b,y:h.y,width:h.width-b,height:h.height},b={x:h.x,y:h.y+d,width:b,height:h.height-d},wh(this,a,c,b)):(c={x:h.x+b,y:h.y,width:h.width-b,height:d},b={x:h.x,y:h.y+d,width:h.width,height:h.height-d},wh(this,a,c,b)),f}return null},xh.prototype.add=function(a,b,c,d,e,f){return b+this.b>this.f||c+this.b>this.f?null:(d=Bh(this,!1,a,b,c,d,f))?(a=Bh(this,!0,a,b,c,e||va,f),Ah(d,a)):null},v(Ch,bg),(k=Ch.prototype).Tb=function(a,b,c,d,e,f){if(this.ya){this.f.push(this.b.length),this.i.push(f),e=this.l;var h,l,g=Dh(this,f=this.ya.split("\n")),m=Math.round(g[0]*this.ja-this.qa),n=Math.round(g[1]*this.na-this.Wa),p=this.A.lineWidth/2*this.A.scale;for(g=0,h=f.length;g<h;++g){var q=0,t=e.height*g,u=f[g].split(""),x=0;for(l=u.length;x<l;++x){var B=e.Fh,A=u[x],E=zh(B.g,A);if(E?(B=zh(B.i,A),B=Ah(E,B)):B=null,B){E=B.image,this.B=m-q,this.C=n-t,this.O=0===x?B.offsetX-p:B.offsetX,this.Aa=B.offsetY,this.height=e.height,this.width=0===x||x===u.length-1?e.width[u[x]]+p:e.width[u[x]],this.ma=E.height,this.D=E.width,0===this.c.length?this.c.push(E):(B=this.c[this.c.length-1],w(B)!=w(E)&&(this.s.push(this.b.length),this.c.push(E))),B=a;var F=c,ia=d;for(E=A=b;E<F;E+=ia)cg(this,B,A,F,ia)}q+=this.width}}}},k.fb=function(a){var b=a.b;this.s.push(this.b.length),this.H=this.s,this.o=new Kf(this.a),this.j=new Kf(this.b),dg(this.Cb,this.c,{},b),this.A={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ya="",this.Wa=this.qa=this.na=this.ja=void 0,this.c=null,this.fa={},this.l=void 0,bg.prototype.fb.call(this,a)},k.jb=function(a){var b=this.A,c=a.va(),d=a.ua();if(a&&a.Ba()&&(c||d)){c?(c=c.b,b.fillColor=Sd(c||Ff)):b.fillColor=null,d?(c=d.b,b.strokeColor=Sd(c||Hf),b.lineWidth=d.c||1,b.lineCap=d.g||"round",b.lineDashOffset=d.i||0,b.lineJoin=d.j||"round",b.miterLimit=d.l||10,d=d.a,b.lineDash=d?d.slice():Gf):(b.strokeColor=null,b.lineWidth=0),b.font=a.b||"10px sans-serif",b.scale=a.a||1,this.ya=a.Ba(),d=Fh[a.g],c=Fh[a.f],this.ja=void 0===d?.5:d,this.na=void 0===c?.5:c,this.qa=a.c||0,this.Wa=a.i||0,this.rotateWithView=!!a.l,this.rotation=a.j||0,a=[];for(var e in b)(b[e]||0===b[e])&&(Array.isArray(b[e])?a=a.concat(b[e]):a.push(b[e]));for(c="",e=0,d=a.length;e<d;++e)c+=a[e];e=c,this.fa[e]||(a=this.Da.getContext("2d"),a.font=b.font,a=Math.ceil((1.5*a.measureText("M").width+b.lineWidth/2)*b.scale),this.fa[e]={Fh:new xh({space:b.lineWidth+1}),width:{},height:a}),this.l=this.fa[e]}else this.ya=""},k.sg=function(){return this.Cb},k.mg=function(){return this.Cb};var Fh={left:0,end:0,center:.5,right:1,start:1,top:0,as:.5,Zr:.2,Wr:.8,$r:.8,bottom:1};v(Gh,rf),Gh.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";return void 0===(a=this.f[c])&&(a={},this.f[c]=a),void 0===(c=a[b])&&(c=new Jh[b](this.j,this.g),a[b]=c),c},Gh.prototype.c=function(){return Ba(this.f)},Gh.prototype.Qa=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.f).map(Number);l.sort(dd);var m,n,p=0;for(m=l.length;p<m;++p){var q=this.f[l[p].toString()],t=0;for(n=qf.length;t<n;++t){var u=q[qf[t]];void 0!==u&&u.Qa(a,b,c,d,e,f,g,h,void 0,!1)}}},Gh.prototype.Ka=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,Xf(b));var p;return void 0!==this.i&&(p=ib(sb(a),d*this.i)),Kh(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);if(n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b),0<b[3]&&(a=m(a)))return a},!0,p)};var Lh=[1,1],Jh={Circle:Mf,Image:eg,LineString:rg,Polygon:eh,Text:Ch};v(Nh,se),(k=Nh.prototype).Cd=function(a){this.Ra(a.va(),a.ua()),this.$b(a.Z()),this.jb(a.Ba())},k.Eb=function(a){switch(a.T()){case"Point":this.xc(a,null);break;case"LineString":this.tc(a,null);break;case"Polygon":this.yc(a,null);break;case"MultiPoint":this.vc(a,null);break;case"MultiLineString":this.uc(a,null);break;case"MultiPolygon":this.wc(a,null);break;case"GeometryCollection":this.Ke(a,null);break;case"Circle":this.fc(a,null)}},k.Je=function(a,b){(a=(0,b.$a)(a))&&Jb(this.c,a.G())&&(this.Cd(b),this.Eb(a))},k.Ke=function(a){var b,c=0;for(b=(a=a.a).length;c<b;++c)this.Eb(a[c])},k.xc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"Image");e.$b(this.H),e.xc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(b=a.da(),Oh(this,d,b,b.length,a.ra()))},k.vc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"Image");e.$b(this.H),e.vc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(b=a.da(),Oh(this,d,b,b.length,a.ra()))},k.tc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"LineString");e.Ra(null,this.o),e.tc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(a=Me(a),Oh(this,d,a,2,2))},k.uc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"LineString");e.Ra(null,this.o),e.uc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(a=Ne(a),Oh(this,d,a,a.length,2))},k.yc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"Polygon");e.Ra(this.s,this.o),e.yc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(a=Oe(a),Oh(this,d,a,2,2))},k.wc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"Polygon");e.Ra(this.s,this.o),e.wc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&(a=Qe(a),Oh(this,d,a,a.length,2))},k.fc=function(a,b){var c=this.b,d=new Gh(1,this.c),e=d.b(0,"Circle");e.Ra(this.s,this.o),e.fc(a,b),e.fb(c),e.Qa(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),e.yb(c)(),this.a&&Oh(this,d,a.ta(),2,2)},k.$b=function(a){this.H=a},k.Ra=function(a,b){this.s=a,this.o=b},k.jb=function(a){this.a=a},v(Ph,tf);var Qh=new Ph;v(Rh,uf);var Sh=new Rh;v(Uh,Re),Uh.prototype.lj=function(a,b,c){Wh(this,"precompose",c,a),Df(c,34962,this.Y);var d=c.b,e=Of(c,Qh,Sh);if(this.H)var f=this.H;else this.H=f=new Th(d,e);c.$c(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.i,0)),d.uniformMatrix4fv(f.g,!1,Bf(this.C,this.s)),d.uniformMatrix4fv(f.c,!1,Bf(this.C,this.A)),d.uniform1f(f.f,b.opacity),d.bindTexture(3553,this.texture),d.drawArrays(5,0,4),Wh(this,"postcompose",c,a)},Uh.prototype.Fg=function(){this.g=this.texture=null,this.j=void 0},v(Xh,tf);var Yh=new Xh;v(Zh,uf);var $h=new Zh;v(di,Uh),(k=di.prototype).oa=function(){Nf(this.c.i,this.D),Uh.prototype.oa.call(this)},k.bg=function(a,b,c){var d=this.c;return function(e,f){return Se(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.ib());return b&&(c[e]||(c[e]={}),c[e][a.xa.toString()]=a),b})}},k.Fg=function(){Uh.prototype.Fg.call(this),this.i=null},k.Gg=function(a,b,c){var d=this.c,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ca(),m=l.Xa(g),n=m.zc(f.resolution),p=m.Ha(n),q=l.ie(n,a.pixelRatio,g),t=q[0]/kf(m.eb(n),this.U)[0],u=p/t,x=l.Sc(t)*l.kg(g),B=f.center,A=a.extent,E=jf(m,A,p);if(this.l&&bd(this.l,E)&&this.o==l.f)u=this.B;else{var F=[E.ga-E.ea+1,E.ka-E.ha+1],ia=Ob(Math.max(F[0]*q[0],F[1]*q[1]));F=u*ia;var N=m.Zc(n),O=N[0]+E.ea*q[0]*u;u=[O,u=N[1]+E.ha*q[1]*u,O+F,u+F],Vh(this,a,ia),e.viewport(0,0,ia,ia),e.clearColor(0,0,0,0),e.clear(16384),e.disable(3042),ia=Of(c,this.O,this.ja),c.$c(ia),this.i||(this.i=new ai(e,ia)),Df(c,34962,this.D),e.enableVertexAttribArray(this.i.b),e.vertexAttribPointer(this.i.b,2,5126,!1,16,0),e.enableVertexAttribArray(this.i.a),e.vertexAttribPointer(this.i.a,2,5126,!1,16,8),e.uniform1i(this.i.f,0),(c={})[n]={};var fa=this.bg(l,g,c),Aa=h.wd();ia=!0,O=gb();var Z,Za,z=new $c(0,0,0,0);for(Z=E.ea;Z<=E.ga;++Z)for(Za=E.ha;Za<=E.ka;++Za){if(N=l.Xc(n,Z,Za,t,g),void 0!==b.extent){var aa=m.Ia(N.xa,O);if(!Jb(aa,b.extent))continue}if(aa=N.getState(),(aa=2==aa||4==aa||3==aa&&!Aa)||(N=mf(N)),2==(aa=N.getState())){if(d.a.b.hasOwnProperty(N.ib())){c[n][N.xa.toString()]=N;continue}}else if(4==aa||3==aa&&!Aa)continue;ia=!1,(aa=nf(m,N.xa,fa,z,O))||(N=of(m,N.xa,z,O))&&fa(n+1,N)}(b=Object.keys(c).map(Number)).sort(dd),fa=new Float32Array(4);var rb;for(Aa=0,z=b.length;Aa<z;++Aa)for(rb in Z=c[b[Aa]])N=Z[rb],aa=m.Ia(N.xa,O),fa[0]=2*(aa[2]-aa[0])/F,fa[1]=2*(aa[3]-aa[1])/F,fa[2]=2*(aa[0]-u[0])/F-1,fa[3]=2*(aa[1]-u[1])/F-1,e.uniform4fv(this.i.c,fa),ei(d,N,q,x*t),e.drawArrays(5,0,4);ia?(this.l=E,this.B=u,this.o=l.f):(this.B=this.l=null,this.o=-1,a.animate=!0)}Ye(a.usedTiles,l,n,E);var Ub=d.j;return Ze(a,l,m,t,g,A,n,h.td(),function(a){2!=a.getState()||d.a.b.hasOwnProperty(a.ib())||a.ib()in Ub.a||Ub.i([a,af(m,a.xa),m.Ha(a.xa[0]),q,x*t])},this),Ve(a,l),Xe(a,l),e=this.s,ve(e),Ce(e,(Math.round(B[0]/p)*p-u[0])/(u[2]-u[0]),(Math.round(B[1]/p)*p-u[1])/(u[3]-u[1])),0!==f.rotation&&Ae(e,f.rotation),Be(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1])),Ce(e,-.5,-.5),!0},k.Eg=function(a,b,c,d){if(this.g){a=[(a=ze(this.s,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice()))[0]*this.j,a[1]*this.j],(b=this.c.i.b).bindFramebuffer(b.FRAMEBUFFER,this.g);var e=new Uint8Array(4);if(b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e),0<e[3])return c.call(d,this.a,e)}},v(fi,Yc),(k=fi.prototype).Sd=function(a){var b=null,c=a.T();return"canvas"===c?b=new gf(this):"webgl"===c&&(b=new di(a,this)),b},k.td=function(){return this.get("preload")},k.ej=function(a){this.set("preload",a)},k.wd=function(){return this.get("useInterimTilesOnError")},k.fj=function(a){this.set("useInterimTilesOnError",a)},v(gi,Pa),gi.prototype.u=function(){this.b("change")},gi.prototype.ib=function(){return this.key+"/"+this.xa},gi.prototype.i=function(){return this.xa},gi.prototype.getState=function(){return this.state},v(ii,gi),(k=ii.prototype).oa=function(){1==this.state&&(ji(this),this.N.src=ki.toDataURL("image/png")),this.a&&Ma(this.a),this.state=5,this.u(),gi.prototype.oa.call(this)},k.Z=function(){return this.N},k.ib=function(){return this.g},k.An=function(){this.state=3,ji(this),this.N=ki,this.u()},k.Bn=function(){this.state=this.N.naturalWidth&&this.N.naturalHeight?2:4,ji(this),this.u()},k.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.c=[Ia(this.N,"error",this.An,this),Ia(this.N,"load",this.Bn,this)],this.j(this,this.g))};var ki,li=md(1,1);li.fillStyle="rgba(0,0,0,0)",li.fillRect(0,0,1,1),ki=li.canvas,(k=mi.prototype).clear=function(){this.c=0,this.b={},this.f=this.a=null},k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.jd,c.Ac,this),c=c.Nb},k.get=function(a){return a=this.b[a],eb(!!a,15),a===this.f?a.jd:(a===this.a?(this.a=this.a.Nb,this.a.Hd=null):(a.Nb.Hd=a.Hd,a.Hd.Nb=a.Nb),a.Nb=null,a.Hd=this.f,this.f=this.f.Nb=a,a.jd)},k.pop=function(){var a=this.a;return delete this.b[a.Ac],a.Nb&&(a.Nb.Hd=null),this.a=a.Nb,this.a||(this.f=null),--this.c,a.jd},k.replace=function(a,b){this.get(a),this.b[a].jd=b},k.set=function(a,b){eb(!(a in this.b),16),b={Ac:a,Nb:null,Hd:this.f,jd:b},this.f?this.f.Nb=b:this.a=b,this.f=b,this.b[a]=b,++this.c},v(ni,mi),ni.prototype.qd=function(a){for(var b,c;oi(this);){var d;if((d=(c=(b=this.a.jd).xa[0].toString())in a)&&(b=b.xa,d=ad(a[c],b[1],b[2])),d)break;Ma(this.pop())}},v(vi,gi),vi.prototype.oa=function(){1==this.state&&(this.Ld.forEach(Da),this.Ld=null),gi.prototype.oa.call(this)},vi.prototype.Z=function(){return this.s},vi.prototype.pe=function(){var a=[];if(this.f.forEach(function(b){b&&2==b.getState()&&a.push({extent:this.c.Ia(b.xa),image:b.Z()})},this),this.f.length=0,0===a.length)this.state=3;else{var b=this.l[0],c=this.j.eb(b),d="number"==typeof c?c:c[0];c="number"==typeof c?c:c[1],b=this.j.Ha(b);var e=this.c.Ha(this.g),f=this.j.Ia(this.l);this.s=ri(d,c,this.A,e,this.c.G(),b,f,this.o,a,this.H,this.B),this.state=2}this.u()},vi.prototype.load=function(){if(0==this.state){this.state=1,this.u();var a=0;this.Ld=[],this.f.forEach(function(b){var c=b.getState();if(0==c||1==c){a++;var d=y(b,"change",function(){var c=b.getState();2!=c&&3!=c&&4!=c||(Da(d),0===--a&&(this.Ld.forEach(Da),this.Ld=null,this.pe()))},this);this.Ld.push(d)}},this),this.f.forEach(function(a){0==a.getState()&&a.load()}),0===a&&setTimeout(this.pe.bind(this),0)}};var Fi=[0,0,0];(k=Di.prototype).gg=function(a,b,c){for(var d=(a=$e(this,a,b)).ea,e=a.ga;d<=e;++d)for(var f=a.ha,g=a.ka;f<=g;++f)c([b,d,f])},k.G=function(){return this.s},k.yj=function(){return this.maxZoom},k.zj=function(){return this.minZoom},k.Zc=function(a){return this.f?this.f:this.c[a]},k.Ha=function(a){return this.b[a]},k.Aj=function(){return this.b},k.Ia=function(a,b){var c=this.Zc(a[0]),d=this.Ha(a[0]),e=kf(this.eb(a[0]),this.j),f=c[0]+a[1]*e[0]*d;return a=c[1]+a[2]*e[1]*d,pb(f,a,f+e[0]*d,a+e[1]*d,b)},k.Re=function(a,b,c){return Gi(this,a[0],a[1],b,!1,c)},k.tg=function(a,b,c){return Gi(this,a[0],a[1],this.Ha(b),!1,c)},k.eb=function(a){return this.g?this.g:this.i[a]},k.zc=function(a,b){return Mb(fd(this.b,a,b||0),this.minZoom,this.maxZoom)},Mi.prototype.f=function(){return this.b},v(Ni,Ua),(k=Ni.prototype).Ka=va,k.Fa=function(){return this.j},k.Ea=function(){return this.A},k.Ga=function(){return this.c},k.getState=function(){return this.qa},k.wa=function(){this.u()},k.za=function(a){this.j=Oi(a),this.u()},v(Qi,Ni),(k=Qi.prototype).pj=function(){return oi(this.a)},k.qd=function(a,b){(a=this.he(a))&&a.qd(b)},k.kg=function(){return 0},k.Vb=function(a,b,c){return a+"/"+b+"/"+c},k.pg=function(){return this.Da},k.hb=function(){return this.tileGrid},k.Xa=function(a){return this.tileGrid?this.tileGrid:Hi(a)},k.he=function(a){var b=this.c;return b&&!Sc(b,a)?null:this.a},k.Sc=function(){return this.gb},k.ie=function(a,b,c){return c=this.Xa(c),b=this.Sc(b),a=kf(c.eb(a),this.l),1==b?a:ci(a,b,this.l)},k.wa=function(){this.a.clear(),this.u()},k.nh=va,v(Ti,Na),v(Ui,Qi),(k=Ui.prototype).ub=function(){return this.tileLoadFunction},k.vb=function(){return this.tileUrlFunction},k.wb=function(){return this.urls},k.qj=function(a){switch((a=a.target).getState()){case 1:this.b(new Ti("tileloadstart",a));break;case 2:this.b(new Ti("tileloadend",a));break;case 3:this.b(new Ti("tileloaderror",a))}},k.Ab=function(a){this.a.clear(),this.tileLoadFunction=a,this.u()},k.kb=function(a,b){this.tileUrlFunction=a,void 0!==b?Ri(this,b):this.u()},k.ob=function(a){var b=this.urls=Ci(a);this.kb(this.Lc?this.Lc.bind(this):zi(b,this.tileGrid),a)},k.lb=function(a){this.urls=a;var b=a.join("\n");this.kb(this.Lc?this.Lc.bind(this):zi(a,this.tileGrid),b)},k.nh=function(a,b,c){a=this.Vb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(D,Ui),(k=D.prototype).pj=function(){if(oi(this.a))return!0;for(var a in this.g)if(oi(this.g[a]))return!0;return!1},k.qd=function(a,b){a=this.he(a),this.a.qd(this.a==a?b:{});for(var c in this.g){var d=this.g[c];d.qd(d==a?b:{})}},k.kg=function(a){return this.c&&a&&!Sc(this.c,a)?0:this.lg()},k.lg=function(){return 0},k.pg=function(a){return!(this.c&&a&&!Sc(this.c,a))&&Ui.prototype.pg.call(this,a)},k.Xa=function(a){var b=this.c;return!this.tileGrid||b&&!Sc(b,a)?((b=w(a).toString())in this.s||(this.s[b]=Hi(a)),this.s[b]):this.tileGrid},k.he=function(a){var b=this.c;return!b||Sc(b,a)?this.a:((a=w(a).toString())in this.g||(this.g[a]=new ni(this.a.highWaterMark)),this.g[a])},k.Xc=function(a,b,c,d,e){if(this.c&&e&&!Sc(this.c,e)){var f=this.he(e);c=[a,b,c];var g;if(a=this.Vb.apply(this,c),f.b.hasOwnProperty(a)&&(g=f.get(a)),b=this.Ac,g&&g.key==b)return g;var h=this.c,l=this.Xa(h),m=this.Xa(e),n=Si(this,c,e);return d=new vi(h,l,e,m,c,n,this.Sc(d),this.lg(),function(a,b,c,d){return Xi(this,a,b,c,d,h)}.bind(this),this.Sa,this.O),d.key=b,g?(d.a=g,hi(d),f.replace(a,d)):f.set(a,d),d}return Xi(this,a,b,c,d,e)},k.Qb=function(a){if(this.O!=a){this.O=a;for(var b in this.g)this.g[b].clear();this.u()}},k.Rb=function(a,b){(a=Ic(a))&&((a=w(a).toString())in this.s||(this.s[a]=b))},Object.defineProperties(Yi.prototype,{ready:{get:function(){return this.g}},rectangle:{get:function(){return this.s}},tileWidth:{get:function(){var a=this.b.tileGrid;return a?a.eb(0):256}},tileHeight:{get:function(){return this.tileWidth}},maximumLevel:{get:function(){var a=this.b.tileGrid;return a?a.maxZoom:18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this.i}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this.l}},credit:{get:function(){return this.j}},proxy:{get:function(){return this.c}},hasAlphaChannel:{get:function(){return!0}},pickFeatures:{get:function(){}}}),Yi.prototype.getTileCredits=function(){},Yi.prototype.getTileCredits=Yi.prototype.getTileCredits,Yi.prototype.requestImage=function(a,b,c){var d=this.b.tileUrlFunction;return d&&this.a?(a=d.call(this.b,[this.i instanceof Cesium.GeographicTilingScheme?c+1:c,a,-b-1],1,this.a),this.c&&(a=this.c.Yr(a)),a?Cesium.ImageryProvider.loadImage(this,a):this.f):this.f},Yi.prototype.requestImage=Yi.prototype.requestImage,(k=oj.prototype).Qm=function(){this.o||this.ne()},k.hr=function(a){this.b&&this.b.Uc(a)},k.Xp=function(){if(this.b)return this.b.Oa()||0},k.sr=function(a){this.j=a,rj(this)},k.gm=function(){return this.j},k.$p=function(a){this.c=a,rj(this),this.hd()},k.Wp=function(){return this.c},k.cb=function(a){this.b&&this.b.cb(a)},k.ta=function(){if(this.b)return this.b.ta()},k.aq=function(a){this.f&&(a=this.f(a),a=new Cesium.Cartographic(Rb(a[0]),Rb(a[1]),this.Bj()),this.a.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a),this.hd())},k.Yp=function(){if(this.i){var a=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.a.position);return this.i([180*a.longitude/Math.PI,180*a.latitude/Math.PI])}},k.br=function(a){var b=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.a.position);b.height=a,this.a.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b),this.hd()},k.Bj=function(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.a.position).height},k.Zp=function(a){this.f&&(a=this.f(a),a=Cesium.Cartographic.fromDegrees(a[0],a[1]),gj(this.a,a,this.g.globe),this.hd())},k.ne=function(){if(this.b&&this.f){var a=this.b.ta();void 0!==a&&null!==a&&(a=this.f(a),this.c=(this.b.Ma()||0)*this.g.canvas.clientHeight*this.b.c.jc()*Math.cos(Math.abs(Rb(a[1])))/2/Math.tan(this.a.frustum.fovy/2),rj(this))}},k.hd=function(){if(this.b&&this.i){this.o=!0;var a=Cesium.Ellipsoid.WGS84,b=this.g,c=dj(b),d=c;if(d||(d=b.globe,b=this.a.positionCartographic.clone(),d=d.getHeight(b),b.height=d||0,d=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b)),this.c=Cesium.Cartesian3.distance(d,this.a.position),b=a.cartesianToCartographic(d),this.b.cb(this.i([180*b.longitude/Math.PI,180*b.latitude/Math.PI])),this.b.Hc(2*this.c*Math.tan(this.a.frustum.fovy/2)/this.b.c.jc()/Math.cos(Math.abs(b?b.latitude:0))/this.g.canvas.clientHeight),c){d=this.a.position,b=new Cesium.Cartesian3,a.geocentricSurfaceNormal(c,b),a=new Cesium.Cartesian3,Cesium.Cartesian3.subtract(d,c,a),Cesium.Cartesian3.normalize(a,a),d=this.a.up;var e=this.a.right,f=new Cesium.Cartesian3(-c.y,c.x,0);e=Cesium.Cartesian3.angleBetween(e,f),c=Cesium.Cartesian3.cross(c,d,new Cesium.Cartesian3).z,this.b.Uc(0>c?e:-e),c=Math.acos(Cesium.Cartesian3.dot(b,a)),this.j=isNaN(c)?0:c}else this.b.Uc(this.a.heading),this.j=-this.a.pitch+Math.PI/2;this.o=!1}},tj.prototype.destroy=function(){this.a.forEach(Sa),this.a.length=0};var uj=void 0,vj=void 0;(k=xj.prototype).gq=function(a){var b=a.target,c=b.olcs_cancellers;if(c)if(a=a.feature){var d=c[b=w(a)];d&&(d(),delete c[b])}else{for(d in c)c.hasOwnProperty(d)&&c[d]();b.olcs_cancellers={}}},k.Jh=function(a,b,c,d){return a=a.add(b),a.olLayer=c,a.olFeature=d,a},k.ti=function(a,b,c,d,e){var f=3==(d=(c=mj(c,d)).ta()).length?d[2]:0,g=d.slice();g[0]+=c.Vc(),d=kj(d),g=kj(g);var h=Cesium.Cartesian3.distance(d,g);return g=new Cesium.CircleGeometry({center:d,radius:h,height:f}),d=new Cesium.CircleOutlineGeometry({center:d,radius:h,extrudedHeight:f,height:f}),d=Bj(this,a,b,c,g,d,e),Cj(this,a,b,c,e,d)},k.wg=function(a,b,c,d,e){var f=lj((c=mj(c,d)).V());return d=new Cesium.PolylineMaterialAppearance({material:this.wi(0,e,!0)}),f={positions:f,width:Aj(e),vertexFormat:d.vertexFormat},this.fe(a,b,c)==Cesium.HeightReference.CLAMP_TO_GROUND?(d=zj(e,!0),d=new Cesium.GroundPrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(f),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(d)}})})):d=new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry(f)}),appearance:d}),f=d,f.olLayer=a,f.olFeature=b,Cj(this,a,b,c,e,d)},k.xg=function(a,b,c,d,e){if(5==(c=mj(c,d)).V()[0].length&&"rectangle"===b.W().get("olcs.polygon_kind")){var f=fb(d=c.V()[0]),g=Cesium.Rectangle.fromDegrees(f[0],f[1],f[2],f[3]),h=0;if(3==d[0].length)for(f=0;f<d.length;f++)h=Math.max(h,d[f][2]);f=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:g,height:h}),d=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:g,height:h})}else{for(f=c.rd(),d={},g=0;g<f.length;++g)h=f[g].V(),h=lj(h),0==g?d.positions=h:(d.holes||(d.holes=[]),d.holes.push({positions:h}));f=new Cesium.PolygonGeometry({polygonHierarchy:d,perPositionHeight:!0}),d=new Cesium.PolygonOutlineGeometry({polygonHierarchy:d,perPositionHeight:!0})}return d=Bj(this,a,b,c,f,d,e),Cj(this,a,b,c,e,d)},k.fe=function(a,b,c){return void 0===(c=c.get("altitudeMode"))&&(c=b.get("altitudeMode")),void 0===c&&(c=a.get("altitudeMode")),a=Cesium.HeightReference.NONE,"clampToGround"===c?a=Cesium.HeightReference.CLAMP_TO_GROUND:"relativeToGround"===c&&(a=Cesium.HeightReference.RELATIVE_TO_GROUND),a},k.af=function(a,b,c,d,e,f,g){c=mj(c,d);var h=e.Z();if(h){h instanceof Dj&&h.load();var l=h.Z(1),m=function(){if(l&&(l instanceof HTMLCanvasElement||l instanceof Image||l instanceof HTMLImageElement)){var d=c.V();d=kj(d);var e,m=h.i;void 0!==m&&(e=new Cesium.Color(1,1,1,m)),m=this.fe(a,b,c),e=this.Jh(f,{image:l,color:e,scale:h.a,heightReference:m,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,position:d},a,b),g&&g(e)}}.bind(this);if(l instanceof Image&&(""==l.src||0==l.naturalHeight||0==l.naturalWidth||!l.complete)){var n=!1,p=a.ca();p instanceof Ej&&(p=p.a),p.I(["removefeature","clear"],this.b),(d=p.olcs_cancellers)||(d=p.olcs_cancellers={}),d[p=w(b)]&&d[p](),d[p]=function(){n=!0},Ia(l,"load",function(){f.isDestroyed()||n||m()})}else m()}return e.Ba()?Cj(this,a,b,c,e,new Cesium.Primitive):null},k.vi=function(a,b,c,d,e,f,g){function h(c,f){var g=new Cesium.PrimitiveCollection;return c.forEach(function(c){g.add(f(a,b,c,d,e))}),g}var l=this;switch(c.T()){case"MultiPoint":if(c=c.Bd(),e.Ba()){var m=new Cesium.PrimitiveCollection;return c.forEach(function(c){(c=l.af(a,b,c,d,e,f,g))&&m.add(c)}),m}return c.forEach(function(c){l.af(a,b,c,d,e,f,g)}),null;case"MultiLineString":return c=c.Rc(),h(c,this.wg.bind(this));case"MultiPolygon":return c=c.sd(),h(c,this.xg.bind(this));default:sa("Unhandled multi geometry type"+c.T())}},k.ui=function(a,b,c,d){var e=d.Ba(),f=new Cesium.LabelCollection({scene:this.scene}),g=Gb(c.G());if(c instanceof C){var h=c.Ub();g[2]=3==h.length?h[2]:0}switch(h={},h.position=kj(g),h.text=e,h.heightReference=this.fe(a,b,c),c=d.c,e=d.i,0!=c&&0!=e&&(c=new Cesium.Cartesian2(c,e),h.pixelOffset=c),void 0!==(c=d.b)&&(h.font=c),c=void 0,d.va()&&(h.fillColor=zj(d,!1),c=Cesium.LabelStyle.FILL),d.ua()&&(h.outlineWidth=Aj(d),h.outlineColor=zj(d,!0),c=Cesium.LabelStyle.OUTLINE),d.va()&&d.ua()&&(c=Cesium.LabelStyle.FILL_AND_OUTLINE),h.style=c,d.g){case"left":c=Cesium.HorizontalOrigin.LEFT;break;case"right":c=Cesium.HorizontalOrigin.RIGHT;break;default:c=Cesium.HorizontalOrigin.CENTER}if(h.horizontalOrigin=c,d.f){switch(d.f){case"top":var l=Cesium.VerticalOrigin.TOP;break;case"middle":l=Cesium.VerticalOrigin.CENTER;break;case"bottom":l=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":l=Cesium.VerticalOrigin.TOP;break;case"hanging":l=Cesium.VerticalOrigin.BOTTOM;break;default:sa("unhandled baseline "+d.f)}h.verticalOrigin=l}return d=f.add(h),d.olLayer=a,d.olFeature=b,f},k.wi=function(a,b,c){return a=b.va(),b=b.ua(),c&&!b||!c&&!a?null:(a=c?b.b:a.b,a=nj(a),c&&b.a?Cesium.Material.fromType("Stripe",{horizontal:!1,repeat:500,evenColor:a,oddColor:new Cesium.Color(0,0,0,0)}):Cesium.Material.fromType("Color",{color:a}))},k.ag=function(a,b,c,d){var e=null;return(a=b.Ta())&&(e=a.call(b,d)),!e&&c&&(e=c(b,d)),e?Array.isArray(e)?e:[e]:null},k.$e=function(a,b,c,d,e){function f(a){d.featureToCesiumMap[w(b)]=a}var g=this,h=e||b.W(),l=d.projection;if(!e&&c&&(e=(0,c.$a)(b))instanceof Td&&(h=e),!h)return null;switch(h.T()){case"GeometryCollection":var m=new Cesium.PrimitiveCollection;return h.Pc().forEach(function(e){e&&(e=g.$e(a,b,c,d,e))&&m.add(e)}),m;case"Point":return(h=this.af(a,b,h,l,c,d.billboards,f))?h:null;case"Circle":return this.ti(a,b,h,l,c);case"LineString":return this.wg(a,b,h,l,c);case"Polygon":return this.xg(a,b,h,l,c);case"MultiPoint":case"MultiLineString":case"MultiPolygon":return(h=this.vi(a,b,h,l,c,d.billboards,f))?h:null;case"LinearRing":throw Error("LinearRing should only be part of polygon.");default:throw Error("Ol geom type not handled : "+h.T())}},k.xi=function(a,b,c){var d=b.c;if(void 0===(b=b.Ma())||!d)throw sa("View not ready"),Error("View not ready");var e=a.ca();if(a instanceof Fj){if(!(e instanceof Ej))return new tj(d,this.scene);e=e.a}e=e.Ed();for(var f=(d=new tj(d,this.scene)).context,g=0;g<e.length;++g){var h=e[g];if(h){var l=a instanceof Fj?a.ca().Ta():a.Ta();if((l=this.ag(0,h,l,b)).length){for(var m=null,n=0;n<l.length;n++){var p=this.$e(a,h,l[n],f);if(p)if(m){if(p)for(var t,q=0;t=p.get(q);)m.add(t),q++}else m=p}m&&(c[w(h)]=m,d.b.add(m))}}}return d},k.convert=function(a,b,c,d){var e=b.c;if(void 0==(b=b.Ma())||!e)return null;if(a instanceof Fj){var f=a.ca();if(!(f instanceof Ej))return null;f=f.Ta()}else f=a.Ta();if(!(b=this.ag(0,c,f,b)).length)return null;for(d.projection=e,e=null,f=0;f<b.length;f++){var g=this.$e(a,c,b[f],d);if(e){if(g)for(var l,h=0;l=g.get(h);)e.add(l),h++}else e=g}return e},v(Gj,Zb),(k=Gj.prototype).Bh=function(a){this.sc.add(a),this.Id.add(a)},k.Mh=function(a){a.destroy()},k.Qj=function(a,b){this.sc.remove(a,b),this.Id.remove(a,!1)},k.Oj=function(a){for(var b=0;b<this.Id.length;++b)this.sc.remove(this.Id.get(b),a);this.Id.removeAll(!1)},k.cg=function(a){var b=w(a).toString(),c=Hj(a,this.view.c);if(c){var d=[];d.push(a.I(["change:opacity","change:visible"],function(){for(var b=0;b<c.length;++b)jj(a,c[b])}));for(var e=0;e<c.length;++e)jj(a,c[e]);d.push(a.I("change:extent",function(){for(var b=0;b<c.length;++b)this.sc.remove(c[b],!0),this.Id.remove(c[b],!1);delete this.Tc[w(a)],this.mh()},this)),d.push(a.I("change",function(){for(var a=0;a<c.length;++a){var b=this.sc.indexOf(c[a]);0<=b&&(this.sc.remove(c[a],!1),this.sc.add(c[a],b))}},this)),this.a[b].push.apply(this.a[b],[].concat(la(d)))}return Array.isArray(c)?c:null},k.Kg=function(){for(var a=[],b={},c=[this.c];0<c.length;){var d=c.splice(0,1)[0];a.push(d),b[w(d)]=d.Ca(),d instanceof Xb&&(d=d.Pb())&&c.unshift.apply(c,[].concat(la(d.a)))}jd(a,function(a,c){return b[w(a)]-b[w(c)]}),a.forEach(function(a){a=w(a).toString(),(a=this.Tc[a])&&a.forEach(this.bq,this)},this)},k.bq=function(a){this.sc.raiseToTop(a)},v(Lj,se),(k=Lj.prototype).Nh=function(a,b,c){Oj(this,b);var g,d=a.T(),e=a.ra(),f=this.coordinates.length;if("MultiPolygon"==d){d=Pe(a);for(var h=[],l=a.c,m=g=0,n=l.length;m<n;++m){var p=[];g=Nj(this,d,g,l[m],e,p),h.push(p)}this.a.push([4,f,h,a,c,Kj])}else"Polygon"==d||"MultiLineString"==d?(h=[],d="Polygon"==d?a.Wb():a.da(),Nj(this,d,0,a.tb(),e,h),this.a.push([4,f,h,a,c,Jj])):"LineString"==d||"MultiPoint"==d?(d=a.da(),e=Mj(this,d,0,d.length,e,!1,!1),this.a.push([4,f,e,a,c,Ij])):"Point"==d&&(d=a.da(),this.coordinates.push(d[0],d[1]),e=this.coordinates.length,this.a.push([4,f,e,a,c]));Pj(this,b)},k.Za=function(a,b){if(this.Aa){var c=ze(this.Y,this.Aa.slice());a.translate(c[0],c[1]),a.rotate(b)}a.fill(),this.Aa&&a.setTransform.apply(a,this.qa)},k.Qa=function(a,b,c,d,e){Qj(this,a,b,c,d,e,this.a,void 0,void 0)},k.kf=va,k.hg=function(){return this.U},v(Sj,Lj),Sj.prototype.xc=function(a,b){if(this.N){Oj(this,b);var c=a.da(),d=this.coordinates.length;a=Mj(this,c,0,c.length,a.ra(),!1,!1),this.a.push([5,d,a,this.N,this.f,this.i,this.g,this.j,this.B,this.C,this.l,this.o,this.s,this.H,this.A]),this.b.push([5,d,a,this.O,this.f,this.i,this.g,this.j,this.B,this.C,this.l,this.o,this.s,this.H,this.A]),Pj(this,b)}},Sj.prototype.vc=function(a,b){if(this.N){Oj(this,b);var c=a.da(),d=this.coordinates.length;a=Mj(this,c,0,c.length,a.ra(),!1,!1),this.a.push([5,d,a,this.N,this.f,this.i,this.g,this.j,this.B,this.C,this.l,this.o,this.s,this.H,this.A]),this.b.push([5,d,a,this.O,this.f,this.i,this.g,this.j,this.B,this.C,this.l,this.o,this.s,this.H,this.A]),Pj(this,b)}},Sj.prototype.kf=function(){Rj(this),this.i=this.f=void 0,this.N=this.O=null,this.A=this.H=this.o=this.l=this.C=this.B=this.j=this.s=this.g=void 0},Sj.prototype.$b=function(a){var b=a.Nc(),c=a.nc(),d=a.Jg(1),e=a.Z(1),f=a.Yc();this.f=b[0],this.i=b[1],this.O=d,this.N=e,this.g=c[1],this.j=a.i,this.B=f[0],this.C=f[1],this.l=a.o,this.o=a.g,this.s=a.a,this.H=a.s,this.A=c[0]},v(Tj,Lj),(k=Tj.prototype).hg=function(){return this.i||(this.i=jb(this.U),0<this.c&&ib(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.tc=function(a,b){var c=this.f,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(Vj(this),Oj(this,b),this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.da(),Uj(this,c,0,c.length,a.ra()),this.b.push([13]),Pj(this,b))},k.uc=function(a,b){var c=this.f,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){Vj(this),Oj(this,b),this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.tb(),d=a.da(),a=a.ra();var f,e=0,g=0;for(f=c.length;g<f;++g)e=Uj(this,d,e,c[g],a);this.b.push([13]),Pj(this,b)}},k.kf=function(){var a=this.f;void 0!=a.yd&&a.yd!=this.coordinates.length&&this.a.push([13]),Rj(this),this.f=null},k.Ra=function(a,b){a=b.b,this.f.strokeStyle=Sd(a||Jd),a=b.g,this.f.lineCap=void 0!==a?a:"round",a=b.a,this.f.lineDash=a||Id,a=b.i,this.f.lineDashOffset=a||0,a=b.j,this.f.lineJoin=void 0!==a?a:"round",a=b.c,this.f.lineWidth=void 0!==a?a:1,b=b.l,this.f.miterLimit=void 0!==b?b:10,this.f.lineWidth>this.c&&(this.c=this.f.lineWidth,this.i=null)},v(Yj,Lj),(k=Yj.prototype).fc=function(a,b){var c=this.f,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){ak(this,a),Oj(this,b),this.b.push([10,Pd(Hd)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var e=a.da();d=this.coordinates.length,Mj(this,e,0,e.length,a.ra(),!1,!1),a=[1],d=[2,d],this.a.push(a,d),this.b.push(a,d),a=[8],this.b.push(a),void 0!==c.fillStyle&&this.a.push(a),void 0!==c.strokeStyle&&(c=[13],this.a.push(c),this.b.push(c)),Pj(this,b)}},k.yc=function(a,b){var c=this.f;ak(this,a),Oj(this,b),this.b.push([10,Pd(Hd)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]),c=a.tb(),Zj(this,a.Wb(),0,c,a.ra()),Pj(this,b)},k.wc=function(a,b){var c=this.f,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){ak(this,a),Oj(this,b),this.b.push([10,Pd(Hd)]),void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]),c=a.c,d=Pe(a),a=a.ra();var f,e=0,g=0;for(f=c.length;g<f;++g)e=Zj(this,d,e,c[g],a);Pj(this,b)}},k.kf=function(){Rj(this),this.f=null;var a=this.na;if(0!==a){var c,b=this.coordinates,d=0;for(c=b.length;d<c;++d)b[d]=a*Math.round(b[d]/a)}},k.hg=function(){return this.i||(this.i=jb(this.U),0<this.c&&ib(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.Ra=function(a,b){var c=this.f;a?(a=a.b,c.fillStyle=Sd(a||Hd)):c.fillStyle=void 0,b?(a=b.b,c.strokeStyle=Sd(a||Jd),a=b.g,c.lineCap=void 0!==a?a:"round",a=b.a,c.lineDash=a?a.slice():Id,a=b.i,c.lineDashOffset=a||0,a=b.j,c.lineJoin=void 0!==a?a:"round",a=b.c,c.lineWidth=void 0!==a?a:1,b=b.l,c.miterLimit=void 0!==b?b:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.i=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)},v(bk,Lj),bk.prototype.Tb=function(a,b,c,d,e,f){if(""!==this.ya&&this.g&&(this.f||this.i)){if(this.f){e=this.f;var g=this.A;if(!g||g.fillStyle!=e.fillStyle){var h=[10,e.fillStyle];this.a.push(h),this.b.push(h),g?g.fillStyle=e.fillStyle:this.A={fillStyle:e.fillStyle}}}this.i&&(e=this.i,(g=this.B)&&g.lineCap==e.lineCap&&g.lineDash==e.lineDash&&g.lineDashOffset==e.lineDashOffset&&g.lineJoin==e.lineJoin&&g.lineWidth==e.lineWidth&&g.miterLimit==e.miterLimit&&g.strokeStyle==e.strokeStyle||(h=[11,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,!1,1],this.a.push(h),this.b.push(h),g?(g.lineCap=e.lineCap,g.lineDash=e.lineDash,g.lineDashOffset=e.lineDashOffset,g.lineJoin=e.lineJoin,g.lineWidth=e.lineWidth,g.miterLimit=e.miterLimit,g.strokeStyle=e.strokeStyle):this.B={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})),e=this.g,(g=this.C)&&g.font==e.font&&g.textAlign==e.textAlign&&g.textBaseline==e.textBaseline||(h=[12,e.font,e.textAlign,e.textBaseline],this.a.push(h),this.b.push(h),g?(g.font=e.font,g.textAlign=e.textAlign,g.textBaseline=e.textBaseline):this.C={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}),Oj(this,f),a=[6,e=this.coordinates.length,a=Mj(this,a,b,c,d,!1,!1),this.ya,this.j,this.l,this.s,this.H,!!this.f,!!this.i,this.o],this.a.push(a),this.b.push(a),Pj(this,f)}},bk.prototype.jb=function(a){if(a){var b=a.va();b?(b=b.b,b=Sd(b||Hd),this.f?this.f.fillStyle=b:this.f={fillStyle:b}):this.f=null;var c=a.ua();if(c){b=c.b;var d=c.g,e=c.a,f=c.i,g=c.j,h=c.c;if(c=c.l,d=void 0!==d?d:"round",e=e?e.slice():Id,f=void 0!==f?f:0,g=void 0!==g?g:"round",h=void 0!==h?h:1,c=void 0!==c?c:10,b=Sd(b||Jd),this.i){var l=this.i;l.lineCap=d,l.lineDash=e,l.lineDashOffset=f,l.lineJoin=g,l.lineWidth=h,l.miterLimit=c,l.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineDashOffset:f,lineJoin:g,lineWidth:h,miterLimit:c,strokeStyle:b}}else this.i=null;var m=a.b;b=a.c,d=a.i,e=a.l,h=a.j,c=a.a,f=a.Ba(),g=a.g,l=a.f,a=void 0!==m?m:"10px sans-serif",g=void 0!==g?g:"center",l=void 0!==l?l:"middle",this.g?(m=this.g,m.font=a,m.textAlign=g,m.textBaseline=l):this.g={font:a,textAlign:g,textBaseline:l},this.ya=void 0!==f?f:"",this.j=void 0!==b?b:0,this.l=void 0!==d?d:0,this.o=void 0!==e&&e,this.s=void 0!==h?h:0,this.H=void 0!==c?c:1}else this.ya=""},v(ck,rf);var dk={0:[[!0]]};ck.prototype.Ka=function(a,b,c,d,e,f){var g=2*(d=Math.round(d))+1,h=De(this.j,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.g;if(l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g),void 0!==this.i){var m=gb();hb(m,a),ib(m,b*(this.i+d),m)}var n=fk(d);return hk(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(n[c][d]&&0<b[4*(d*g+c)+3])return(a=f(a))?a:void l.clearRect(0,0,g,g)},m)},ck.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";return void 0===(a=this.a[c])&&(a={},this.a[c]=a),void 0===(c=a[b])&&(c=new jk[b](this.s,this.f,this.o,this.l),a[b]=c),c},ck.prototype.c=function(){return Ba(this.a)},ck.prototype.Qa=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(dd);var h=ik(this,c);a.save(),a.beginPath(),a.moveTo(h[0],h[1]),a.lineTo(h[2],h[3]),a.lineTo(h[4],h[5]),a.lineTo(h[6],h[7]),a.clip(),f=f||qf;var l,m;for(h=0,l=g.length;h<l;++h){var n=this.a[g[h].toString()],p=0;for(m=f.length;p<m;++p){var q=n[f[p]];void 0!==q&&q.Qa(a,b,c,d,e)}}a.restore()};var jk={Circle:Yj,Default:Lj,Image:Sj,LineString:Tj,Polygon:Yj,Text:bk},ok={Point:function(a,b,c,d){var e=c.Z();if(e){if(2!=e.pf())return;var f=a.b(c.Ca(),"Image");f.$b(e),f.xc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),a.Tb(b.da(),0,2,2,b,d))},LineString:function(a,b,c,d){var e=c.ua();if(e){var f=a.b(c.Ca(),"LineString");f.Ra(null,e),f.tc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),a.Tb(Me(b),0,2,2,b,d))},Polygon:function(a,b,c,d){var e=c.va(),f=c.ua();if(e||f){var g=a.b(c.Ca(),"Polygon");g.Ra(e,f),g.yc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),a.Tb(Oe(b),0,2,2,b,d))},MultiPoint:function(a,b,c,d){var e=c.Z();if(e){if(2!=e.pf())return;var f=a.b(c.Ca(),"Image");f.$b(e),f.vc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),c=b.da(),a.Tb(c,0,c.length,b.ra(),b,d))},MultiLineString:function(a,b,c,d){var e=c.ua();if(e){var f=a.b(c.Ca(),"LineString");f.Ra(null,e),f.uc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),c=Ne(b),a.Tb(c,0,c.length,2,b,d))},MultiPolygon:function(a,b,c,d){var e=c.va(),f=c.ua();if(f||e){var g=a.b(c.Ca(),"Polygon");g.Ra(e,f),g.wc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),c=Qe(b),a.Tb(c,0,c.length,2,b,d))},GeometryCollection:function(a,b,c,d){var e,f=0;for(e=(b=b.a).length;f<e;++f)(0,ok[b[f].T()])(a,b[f],c,d)},Circle:function(a,b,c,d){var e=c.va(),f=c.ua();if(e||f){var g=a.b(c.Ca(),"Circle");g.Ra(e,f),g.fc(b,d)}(e=c.Ba())&&((a=a.b(c.Ca(),"Text")).jb(e),a.Tb(b.ta(),0,2,2,b,d))}};v(pk,bf),pk.prototype.H=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Ze?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,l=g.rotation,m=h.G(),n=this.a.ca(),p=ef(this,a,0);df(this,"precompose",c,a,p);var q=b.extent;(g=void 0!==q)&&cf(c,a,q);var t=this.i;if(t&&!t.c()){var u=q=0,x=1!==b.opacity,B=Qa(this.a,"render");if(x||B){var A=c.canvas.width,E=c.canvas.height;if(l){var F=Math.round(Math.sqrt(A*A+E*E));q=(F-A)/2,u=(F-E)/2,A=E=F}this.g.canvas.width=A,this.g.canvas.height=E,A=this.g}else A=c;E=A.globalAlpha,x||(A.globalAlpha=b.opacity),A!=c&&A.translate(q,u),F=a.size[0]*e;var ia=a.size[1]*e;if(Kd(A,-l,F/2,ia/2),t.Qa(A,e,p,l,f),n.B&&h.f&&!nb(m,d)){h=d[0],n=Eb(m);for(var N=0;h<m[0];)--N,p=n*N,p=ef(this,a,p),t.Qa(A,e,p,l,f),h+=n;for(N=0,h=d[2];h>m[2];)++N,p=n*N,p=ef(this,a,p),t.Qa(A,e,p,l,f),h-=n;p=ef(this,a,0)}Kd(A,l,F/2,ia/2),A!=c&&(B&&df(this,"render",A,a,p),x?(d=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(A.canvas,-q,-u),c.globalAlpha=d):c.drawImage(A.canvas,-q,-u),A.translate(-q,-u)),x||(A.globalAlpha=E)}g&&c.restore(),this.wf(c,a,b,p)},pk.prototype.Ka=function(a,b,c,d,e){if(this.i){var f=this.a,g={};return this.i.Ka(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}},pk.prototype.B=function(){Te(this)},pk.prototype.Dd=function(a){var b=this.a,c=b.ca();We(a.attributions,c.j),Xe(a,c);var d=a.viewHints[0],e=a.viewHints[1],f=b.U,g=b.Y;if(!this.c&&!f&&d||!g&&e)return!0;f=a.extent;var h=a.viewState;g=h.projection;var l=h.resolution,m=a.pixelRatio;d=b.f;var n=b.c;if(void 0===(e=b.get(qk))&&(e=kk),f=ib(f,n*l),n=h.projection.G(),c.B&&h.projection.f&&!nb(n,a.extent)&&(a=Math.max(Eb(f)/2,Eb(n)),f[0]=n[0]-a,f[2]=n[2]+a),!this.c&&this.o==l&&this.A==d&&this.l==e&&nb(this.j,f))return!0;this.i=null,this.c=!1;var p=new ck(.5*l/m,f,l,c.Y,b.c);if(c.je(f,l,g),a=function(a){var c=a.Ta();if(c)var d=c.call(a,l);else(c=b.Ta())&&(d=c(a,l));if(d){if(d){if(c=!1,Array.isArray(d))for(var e=0,f=d.length;e<f;++e)c=mk(p,a,d[e],lk(l,m),this.B,this)||c;else c=mk(p,a,d,lk(l,m),this.B,this)||c;a=c}else a=!1;this.c=this.c||a}}.bind(this),e){var q=[];for(c.gc(f,function(a){q.push(a)},this),q.sort(e),c=0,g=q.length;c<g;++c)a(q[c])}else c.gc(f,a,this);return gk(p),this.o=l,this.A=d,this.l=e,this.j=f,this.i=p,!0},v(rk,Uh),(k=rk.prototype).lj=function(a,b,c){this.l=b;var d=a.viewState,e=this.i,f=a.size,g=a.pixelRatio,h=this.c.f;e&&!e.c()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.Qa(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.Ze?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))},k.oa=function(){var a=this.i;a&&(Hh(a,this.c.i)(),this.i=null),Uh.prototype.oa.call(this)},k.Ka=function(a,b,c,d,e){if(this.i&&this.l){c=b.viewState;var f=this.a,g={};return this.i.Ka(a,this.c.i,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.l.opacity,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}},k.lf=function(a,b){if(this.i&&this.l){var c=b.viewState;return Mh(this.i,a,this.c.i,c.resolution,c.rotation,b.pixelRatio,this.l.opacity,b.skippedFeatureUids)}return!1},k.Eg=function(a,b,c,d){if(a=ze(b.pixelToCoordinateTransform,a.slice()),this.lf(a,b))return c.call(d,this.a,null)},k.mj=function(){Te(this)},k.Gg=function(a,b,c){function d(a){var b=a.Ta();if(b)var c=b.call(a,m);else(b=e.Ta())&&(c=b(a,m));if(c){if(c){if(b=!1,Array.isArray(c))for(var d=c.length-1;0<=d;--d)b=mk(q,a,c[d],lk(m,n),this.mj,this)||b;else b=mk(q,a,c,lk(m,n),this.mj,this)||b;a=b}else a=!1;this.o=this.o||a}}var e=this.a;b=e.ca(),We(a.attributions,b.j),Xe(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.U,l=e.Y;if(!this.o&&!h&&f||!l&&g)return!0;g=a.extent,f=(h=a.viewState).projection;var m=h.resolution,n=a.pixelRatio;h=e.f;var p=e.c;if(void 0===(l=e.get(qk))&&(l=kk),g=ib(g,p*m),!this.o&&this.O==m&&this.U==h&&this.D==l&&nb(this.B,g))return!0;this.i&&a.postRenderFunctions.push(Hh(this.i,c)),this.o=!1;var q=new Gh(.5*m/n,g,e.c);if(b.je(g,m,f),l){var t=[];b.gc(g,function(a){t.push(a)},this),t.sort(l),t.forEach(d,this)}else b.gc(g,d,this);return Ih(q,c),this.O=m,this.U=h,this.D=l,this.B=g,this.i=q,!0},(k=sk.prototype).qf=function(){return this.i},k.rf=function(){return this.o},k.sf=function(){return this.g},k.tf=function(){return this.a},k.Qe=function(){return this.s},k.Fd=function(a){this.i=a},k.uf=function(a){this.g=a},k.Gd=function(a){this.a=a},v(tk,sk),(k=tk.prototype).clone=function(){var a=new tk({fill:this.va()?this.va().clone():void 0,points:this.l,radius:this.b,radius2:this.f,angle:this.j,snapToPixel:this.s,stroke:this.ua()?this.ua().clone():void 0,rotation:this.g,rotateWithView:this.o,atlasManager:this.A});return a.Fd(this.i),a.Gd(this.a),a},k.Nc=function(){return this.C},k.uj=function(){return this.j},k.va=function(){return this.Za},k.Jg=function(){return this.B},k.Z=function(){return this.H},k.Ne=function(){return this.fa},k.pf=function(){return 2},k.Yc=function(){return this.ma},k.vj=function(){return this.l},k.wj=function(){return this.b},k.di=function(){return this.f},k.nc=function(){return this.D},k.ua=function(){return this.Ya},k.mi=function(){},k.load=function(){},k.ik=function(){},k.Ph=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath();var e=this.l;if(1/0===e)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var f=void 0!==this.f?this.f:this.b;for(f!==this.b&&(e*=2),c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.j;var g=0==c%2?this.b:f;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.Za&&(null===(c=this.Za.b)&&(c=Hd),b.fillStyle=Sd(c),b.fill()),this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},k.Oh=function(a,b,c,d){if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),c=this.l,1/0===c)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{(d=void 0!==this.f?this.f:this.b)!==this.b&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.j,g=0==e%2?this.b:d;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=Hd,b.fill(),this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.stroke()),b.closePath()},v(vk,tk),vk.prototype.clone=function(){var a=new vk({fill:this.va()?this.va().clone():void 0,stroke:this.ua()?this.ua().clone():void 0,radius:this.b,snapToPixel:this.s,atlasManager:this.A});return a.Fd(this.i),a.Gd(this.a),a},vk.prototype.dd=function(a){this.b=a,uk(this,this.A)},wk.prototype.clone=function(){var a=this.b;return new wk({color:a&&a.slice?a.slice():a||void 0})},wk.prototype.f=function(){return this.b},wk.prototype.c=function(a){this.b=a,this.a=void 0},(k=xk.prototype).clone=function(){var a=this.W();return a&&a.clone&&(a=a.clone()),new xk({geometry:a,fill:this.va()?this.va().clone():void 0,image:this.Z()?this.Z().clone():void 0,stroke:this.ua()?this.ua().clone():void 0,text:this.Ba()?this.Ba().clone():void 0,zIndex:this.Ca()})},k.Oe=function(){return this.oc},k.or=function(a){this.oc=a},k.W=function(){return this.Mc},k.El=function(){return this.$a},k.va=function(){return this.Za},k.Ff=function(a){this.Za=a},k.Z=function(){return this.N},k.jh=function(a){this.N=a},k.ua=function(){return this.Ya},k.Gf=function(a){this.Ya=a},k.Ba=function(){return this.ya},k.Kd=function(a){this.ya=a},k.Ca=function(){return this.mk},k.Va=function(a){"function"==typeof a?this.$a=a:"string"==typeof a?this.$a=function(b){return b.get(a)}:a?a&&(this.$a=function(){return a}):this.$a=yk,this.Mc=a},k.ac=function(a){this.mk=a};var Bk=null;v(G,Yc),G.prototype.Sd=function(a){var b=null,c=a.T();return"canvas"===c?b=new pk(this):"webgl"===c&&(b=new rk(a,this)),b},G.prototype.A=function(){return this.s},G.prototype.Ta=function(){return this.D},G.prototype.i=function(a){this.s=void 0!==a?a:Ck,this.D=null===a?void 0:zk(this.s),this.u()};var qk="renderOrder";v(Ek,Zb),(k=Ek.prototype).Bh=function(a){a.b.counterpart=a,this.b.add(a.b)},k.Mh=function(a){a.b.destroy()},k.Qj=function(a,b){a.destroy(),this.b.destroyPrimitives=b,this.b.remove(a.b),this.b.destroyPrimitives=!1},k.Oj=function(a){if(this.b.destroyPrimitives=a)for(a=0;a<this.b.length;++a)this.b.get(a).counterpart.destroy();this.b.removeAll(),this.b.destroyPrimitives=!1},k.cg=function(a){if(!(a instanceof G||a instanceof Fj&&a.ca()instanceof Ej))return null;var b=a.ca();b instanceof Ej&&(b=b.a);var c=this.view,d={},e=this.i.xi(a,c,d),f=e.b,g=e.a;f.show=a.sb(),g.push(y(a,"change:visible",function(){f.show=a.sb()}));var h=function(b){var g=this.i.convert(a,c,b,e.context);g&&(d[w(b)]=g,f.add(g))}.bind(this),l=function(a){var b=a.W();if(a=w(a),!b||"Point"==b.T()){var c=(b=e.context).featureToCesiumMap[a];delete b.featureToCesiumMap[a],c instanceof Cesium.Billboard&&b.billboards.remove(c)}b=d[a],delete d[a],b&&f.remove(b)}.bind(this);return g.push(y(b,"addfeature",function(a){h(a.feature)},this)),g.push(y(b,"removefeature",function(a){l(a.feature)},this)),g.push(y(b,"changefeature",function(a){a=a.feature,l(a),h(a)},this)),e?[e]:null},Object.defineProperties(Fk.prototype,{trackedFeature:{get:function(){return this.C},set:function(a){if(this.C!==a){var b=this.b;if(a&&a.W()){this.C=a,this.B=!0;var c=this.Sa;b={position:new Cesium.CallbackProperty(function(){var b=a.W().V();return b=c(b,void 0,b.length),kj(b)},!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}},this.i=this.c.defaultDataSource.entities.add(b)}else this.B=!1,b.screenSpaceCameraController.enableTilt=!0,this.i&&this.c.defaultDataSource.entities.remove(this.i),this.s=this.C=this.i=null,b.camera.lookAtTransform(Cesium.Matrix4.IDENTITY)}}}}),(k=Fk.prototype).cq=function(a){this.A=void 0,a-this.Cb<1e3/this.qa||(this.Cb=a,a=this.Da(),this.b.initializeFrame(),Gk(this),this.c.update(a),this.s&&this.c.getBoundingSphere(this.i,!1,this.j)===Cesium.BoundingSphereState.DONE&&(this.j.radius=1,this.s.update(a,this.j)),this.b.render(a),sj(this.l)),Hk(this)},k.Fr=function(){if(this.B){var a=this.i,b=this.b,c=this.c.getBoundingSphere(a,!1,this.j);c!==Cesium.BoundingSphereState.PENDING&&(b.screenSpaceCameraController.enableTilt=!1,(c=c!==Cesium.BoundingSphereState.FAILED?this.j:void 0)&&(c.radius=1),this.s=new Cesium.EntityView(a,b,b.mapProjection.ellipsoid),this.s.update(this.Da(),c),this.B=!1)}},k.sl=function(){return this.l},k.Ul=function(){return this.P},k.tl=function(){return this.b},k.yl=function(){return this.ma},k.xl=function(){return this.c},k.Al=function(){return this.f},k.er=function(a){if(this.f!==a)if(this.f=a,this.o.style.visibility=this.f?"visible":"hidden",this.f){if(Ik(this),this.O){var b=this.P.i;b.forEach(function(a){this.Aa.push(a)},this),b.clear(),(a=this.P.Mb()).sb()&&(this.H=a,this.H.Yb(!1))}this.l.ne(),Hk(this)}else this.O&&(b=this.P.i,this.Aa.forEach(function(a){b.push(a)}),this.Aa.length=0,this.H&&(this.H.Yb(!0),this.H=null)),this.l.hd()},k.Ir=function(a,b){var c=this;if(!this.f){Ik(this),this.l.ne();var d=this.D.ellipsoid,e=this.b.camera,f=d.cartesianToCartographic(e.position);f.height<a&&(f.height=a,e.position=d.cartographicToCartesian(f)),this.Wa=!0,Hk(this),setTimeout(function(){c.Wa=!1},b)}},k.hh=function(a){this.fa!==a&&(this.fa=a,Hk(this))},k.fl=function(){this.g||(this.g=new ec(this,!1))},k.ql=function(){return this.g},k.pr=function(a){(a=Math.max(0,a))!==this.Y&&(this.Y=Math.max(0,a),this.U=!0,this.g&&this.g.s())},k.qr=function(a){this.qa!==a&&(this.qa=a,Hk(this))},v(Mk,Ua),Mk.prototype.oa=function(){od(this.element),Ua.prototype.oa.call(this)},Mk.prototype.i=function(){return this.P},Mk.prototype.setMap=function(a){this.P&&od(this.element);for(var b=0,c=this.o.length;b<c;++b)Da(this.o[b]);this.o.length=0,(this.P=a)&&((this.O?this.O:a.B).appendChild(this.element),this.render!==va&&this.o.push(y(a,"postrender",this.render,this)),a.render())},Mk.prototype.c=function(a){this.O="string"==typeof a?document.getElementById(a):a},v(Nk,Mk),(k=Nk.prototype).Tn=function(a){a.preventDefault(),Pk(this)},k.Sn=function(){return this.j},k.Vn=function(a){this.j!==a&&(this.j=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.a&&Pk(this))},k.Un=function(a){this.j&&this.a!==a&&Pk(this)},k.Rn=function(){return this.a},v(Tk,Mk),Tk.prototype.A=function(a){a.preventDefault(),this.j?this.j():(a=this.P.$())&&void 0!==a.Oa()&&(0<this.l?a.animate({rotation:0,duration:this.l,easing:Rk}):a.Uc(0))},v(Vk,Mk),Vk.prototype.g=function(a,b){if(b.preventDefault(),b=this.P.$()){var c=b.Ma();c&&(a=b.constrainResolution(c,a),0<this.a?(b.Oc()&&b.pd(),b.animate({resolution:a,duration:this.a,easing:Rk})):b.Hc(a))}},v(Xk,Mk),Xk.prototype.B=function(a){a.preventDefault(),Zk()&&(a=this.P)&&(Yk()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.g?"string"==typeof this.g?document.getElementById(this.g):this.g:a.vd(),this.A?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):$k(a):$k(a)))},Xk.prototype.s=function(){var a=this.element.firstElementChild,b=this.P;Yk()?(a.className=this.a+"-true",nd(this.l,this.j)):(a.className=this.a+"-false",nd(this.j,this.l)),b&&b.Md()},Xk.prototype.setMap=function(a){Mk.prototype.setMap.call(this,a),a&&this.o.push(y(document,al(),this.s,this))};var al=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();v(bl,Mk),(k=bl.prototype).Wn=function(){this.g=null},k.Wh=function(){return this.get(fl)},k.Fi=function(){return this.get(dl)},k.Bm=function(a){this.j=this.P.Me(a),el(this,this.j)},k.Cm=function(){el(this,null),this.j=null},k.setMap=function(a){Mk.prototype.setMap.call(this,a),a&&(a=a.a,this.o.push(y(a,"mousemove",this.Bm,this),y(a,"mouseout",this.Cm,this)))},k.Tj=function(a){this.set(fl,a)},k.Gi=function(a){this.set(dl,Ic(a))};var dl="projection",fl="coordinateFormat";v(gl,Na),v(hl,gl),hl.prototype.preventDefault=function(){gl.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},hl.prototype.stopPropagation=function(){gl.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var il={Vr:"singleclick",Jr:"click",Kr:"dblclick",Nr:"pointerdrag",Rr:"pointermove",Mr:"pointerdown",Ur:"pointerup",Tr:"pointerover",Sr:"pointerout",Pr:"pointerenter",Qr:"pointerleave",Lr:"pointercancel"};v(jl,hl),v(ll,kl),(k=ll.prototype).Zm=function(a){if(!ml(this,a)){1..toString()in this.a&&this.cancel(a);var b=nl(a);this.a[1..toString()]=a,ql(this.b,"pointerdown",b,a)}},k.$m=function(a){if(!ml(this,a)){var b=nl(a);ql(this.b,"pointermove",b,a)}},k.cn=function(a){if(!ml(this,a)){var b=this.a[1..toString()];b&&b.button===a.button&&(b=nl(a),ql(this.b,"pointerup",b,a),delete this.a[1..toString()])}},k.bn=function(a){if(!ml(this,a)){var b=nl(a);rl(this.b,b,a)}},k.an=function(a){if(!ml(this,a)){var b=nl(a);sl(this.b,b,a)}},k.cancel=function(a){var b=nl(a);this.b.cancel(b,a),delete this.a[1..toString()]},v(tl,kl),(k=tl.prototype).hn=function(a){this.a[a.pointerId.toString()]=a;var b=ul(this,a);ql(this.b,"pointerdown",b,a)},k.jn=function(a){var b=ul(this,a);ql(this.b,"pointermove",b,a)},k.mn=function(a){var b=ul(this,a);ql(this.b,"pointerup",b,a),delete this.a[a.pointerId.toString()]},k.kn=function(a){var b=ul(this,a);sl(this.b,b,a)},k.ln=function(a){var b=ul(this,a);rl(this.b,b,a)},k.gn=function(a){var b=ul(this,a);this.b.cancel(b,a),delete this.a[a.pointerId.toString()]},k.fn=function(a){this.b.b(new vl("lostpointercapture",a,a))},k.en=function(a){this.b.b(new vl("gotpointercapture",a,a))},v(wl,kl),(k=wl.prototype).oq=function(a){xl(this.b,a)},k.pq=function(a){xl(this.b,a)},k.sq=function(a){xl(this.b,a)},k.qq=function(a){xl(this.b,a)},k.rq=function(a){xl(this.b,a)},k.nq=function(a){xl(this.b,a)},k.Ym=function(a){xl(this.b,a)},k.km=function(a){xl(this.b,a)},v(vl,Na);var Al=!1;try{Al=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}v(Bl,kl),(k=Bl.prototype).Rj=function(){this.g=0,this.c=void 0},k.Br=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var f,e=[];for(f=0;f<d;++f){var l,g=c[f],h=this.a[g];if(!(l=1==g))a:{for(var m=b.length,n=0;n<m;n++)if((l=b[n]).identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Yf(a,e[f])}b=a.changedTouches[0],(0===(c=Object.keys(this.a).length)||1===c&&1..toString()in this.a)&&(this.f=b.identifier,void 0!==this.c&&clearTimeout(this.c)),El(this,a),this.g++,Dl(this,a,this.jq)},k.jq=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Cj:b.target};var c=this.b;b.bubbles=!0,ql(c,"pointerover",b,a),c=this.b,b.bubbles=!1,ql(c,"pointerenter",b,a),ql(this.b,"pointerdown",b,a)},k.Ar=function(a){a.preventDefault(),Dl(this,a,this.dn)},k.dn=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Cj;ql(this.b,"pointermove",b,a),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(sl(this.b,d,a),rl(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Yf(a,b))),c.out=b,c.Cj=b.target}},k.zr=function(a){El(this,a),Dl(this,a,this.Cr)},k.Cr=function(a,b){ql(this.b,"pointerup",b,a),this.b.out(b,a),Fl(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.f=void 0,this.c=setTimeout(this.Rj.bind(this),200))},k.yr=function(a){Dl(this,a,this.Yf)},k.Yf=function(a,b){this.b.cancel(b,a),this.b.out(b,a),Fl(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.f=void 0,this.c=setTimeout(this.Rj.bind(this),200))},v(Gl,Pa),Gl.prototype.c=function(a){var b=this.i[a.type];b&&b(a)},Gl.prototype.out=function(a,b){a.bubbles=!0,ql(this,"pointerout",a,b)},Gl.prototype.cancel=function(a,b){ql(this,"pointercancel",a,b)},Gl.prototype.oa=function(){for(var b,a=this.a.length,c=0;c<a;c++)b=this.a[c],Jl(this,Object.keys(b.i));Pa.prototype.oa.call(this)};var Kl=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];v(Ll,Pa),(k=Ll.prototype).ii=function(a){Nl(this,a);var b=new jl("pointerup",this.P,a);this.b(b),!this.j&&0===a.button&&Ml(this,this.f),0===this.H&&(this.c.forEach(Da),this.c.length=0,this.j=!1,this.f=null,Ma(this.a),this.a=null)},k.Em=function(a){Nl(this,a);var b=new jl("pointerdown",this.P,a);this.b(b),this.f=a,0===this.c.length&&(this.a=new Gl(document),this.c.push(y(this.a,"pointermove",this.En,this),y(this.a,"pointerup",this.ii,this),y(this.i,"pointercancel",this.ii,this)))},k.En=function(a){if(Ol(this,a)){this.j=!0;var b=new jl("pointerdrag",this.P,a,this.j);this.b(b)}a.preventDefault()},k.Rq=function(a){this.b(new jl(a.type,this.P,a,!(!this.f||!Ol(this,a))))},k.oa=function(){this.o&&(Da(this.o),this.o=null),this.l&&(Da(this.l),this.l=null),this.c.forEach(Da),this.c.length=0,this.a&&(Ma(this.a),this.a=null),this.i&&(Ma(this.i),this.i=null),Pa.prototype.oa.call(this)},Pl.prototype.clear=function(){this.b.length=0,this.f.length=0,ya(this.a)},Pl.prototype.i=function(a){eb(!(this.c(a)in this.a),31);var b=this.o(a);return 1/0!=b&&(this.b.push(a),this.f.push(b),this.a[this.c(a)]=!0,Sl(this,0,this.b.length-1),!0)},v(Ul,Pl),Ul.prototype.i=function(a){var b=Pl.prototype.i.call(this,a);return b&&y(a[0],"change",this.l,this),b},Ul.prototype.l=function(a){var b=(a=a.target).getState();2!==b&&3!==b&&4!==b&&5!==b||(Ja(a,"change",this.l,this),(a=a.ib())in this.g&&(delete this.g[a],--this.j),this.s())},v(jm,C),(k=jm.prototype).clone=function(){var a=new jm(null);return km(a,this.la,this.v.slice()),a},k.Kb=function(a,b,c,d){return d<kb(this.G(),a,b)?d:(this.c!=this.f&&(this.j=Math.sqrt(cm(this.v,0,this.v.length,this.a,0)),this.c=this.f),em(this.v,0,this.v.length,this.a,this.j,!0,a,b,c,d))},k.oo=function(){return jg(this.v,0,this.v.length,this.a)},k.V=function(){return Ij(this.v,0,this.v.length,this.a)},k.ud=function(a){var b=[];return b.length=Wj(this.v,0,this.v.length,this.a,a,b,0),a=new jm(null),km(a,"XY",b),a},k.T=function(){return"LinearRing"},k.bb=function(){},k.sa=function(a,b){a?(Yd(this,b,a,1),this.v||(this.v=[]),this.v.length=hm(this.v,0,a,this.a),this.u()):km(this,"XY",null)},v(H,C),(k=H.prototype).clone=function(){var a=new H(null);return a.ba(this.la,this.v.slice()),a},k.Kb=function(a,b,c,d){var e=this.v;if((a=Qb(a,b,e[0],e[1]))<d){for(d=this.a,b=0;b<d;++b)c[b]=e[b];return c.length=d,a}return d},k.V=function(){return this.v?this.v.slice():[]},k.Ie=function(a){return sb(this.v,a)},k.T=function(){return"Point"},k.bb=function(a){return mb(a,this.v[0],this.v[1])},k.sa=function(a,b){a?(Yd(this,b,a,0),this.v||(this.v=[]),this.v.length=gm(this.v,a),this.u()):this.ba("XY",null)},k.ba=function(a,b){Xd(this,a,b),this.u()},v(I,C),(k=I.prototype).Yk=function(a){this.v?gd(this.v,a.da()):this.v=a.da().slice(),this.c.push(this.v.length),this.u()},k.clone=function(){var a=new I(null);return a.ba(this.la,this.v.slice(),this.c.slice()),a},k.Kb=function(a,b,c,d){return d<kb(this.G(),a,b)?d:(this.C!=this.f&&(this.D=Math.sqrt(dm(this.v,0,this.c,this.a,0)),this.C=this.f),fm(this.v,0,this.c,this.a,this.D,!0,a,b,c,d))},k.Wc=function(a,b){return Jg(this.Wb(),0,this.c,this.a,a,b)},k.so=function(){return kg(this.Wb(),0,this.c,this.a)},k.V=function(a){if(void 0!==a){var b=this.Wb().slice();hg(b,0,this.c,this.a,a)}else b=this.v;return Jj(b,0,this.c,this.a)},k.tb=function(){return this.c},k.Il=function(){return new H(Oe(this))},k.Ol=function(){return this.c.length},k.ai=function(a){if(0>a||this.c.length<=a)return null;var b=new jm(null);return km(b,this.la,this.v.slice(0===a?0:this.c[a-1],this.c[a])),b},k.rd=function(){var f,a=this.la,b=this.v,c=this.c,d=[],e=0,g=0;for(f=c.length;g<f;++g){var h=c[g],l=new jm(null);km(l,a,b.slice(e,h)),d.push(l),e=h}return d},k.Wb=function(){if(this.O!=this.f){var a=this.v;gg(a,this.c,this.a)?this.j=a:(this.j=a.slice(),this.j.length=hg(this.j,0,this.c,this.a)),this.O=this.f}return this.j},k.ud=function(a){var b=[],c=[];return b.length=Xj(this.v,0,this.c,this.a,Math.sqrt(a),b,0,c),(a=new I(null)).ba("XY",b,c),a},k.T=function(){return"Polygon"},k.bb=function(a){return om(this.Wb(),0,this.c,this.a,a)},k.sa=function(a,b){a?(Yd(this,b,a,2),this.v||(this.v=[]),a=im(this.v,0,a,this.a,this.c),this.v.length=0===a.length?0:a[a.length-1],this.u()):this.ba("XY",null,this.c)},k.ba=function(a,b,c){Xd(this,a,b),this.c=c,this.u()},v(J,Ua),(k=J.prototype).animate=function(a){var b=Date.now(),c=this.ta().slice(),d=this.Ma(),e=this.Oa(),f=arguments.length;if(1<f&&"function"==typeof arguments[f-1]){var g=arguments[f-1];--f}for(var h=[],l=0;l<f;++l){var m=arguments[l],n={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||Sk};m.center&&(n.qe=c,n.ue=m.center,c=n.ue),void 0!==m.zoom?(n.se=d,n.gd=this.constrainResolution(this.a,m.zoom-this.s,0),d=n.gd):m.resolution&&(n.se=d,n.gd=m.resolution,d=n.gd),void 0!==m.rotation&&(n.Jf=e,n.ve=e+(Sb(m.rotation-e+Math.PI,2*Math.PI)-Math.PI),e=n.ve),n.callback=g,n.qe&&n.ue&&!wd(n.qe,n.ue)||n.se!==n.gd||n.Jf!==n.ve?b+=n.duration:n.complete=!0,h.push(n)}this.i.push(h),vm(this,0,1),this.Lf()},k.Oc=function(){return 0<wm(this)[0]},k.Gl=function(){return 0<wm(this)[1]},k.pd=function(){vm(this,0,-wm(this)[0]);for(var a=0,b=this.i.length;a<b;++a){var c=this.i[a];c[0].callback&&c[0].callback(!1)}this.i.length=0},k.Lf=function(){if(void 0!==this.A&&(cancelAnimationFrame(this.A),this.A=void 0),this.Oc()){for(var a=Date.now(),b=!1,c=this.i.length-1;0<=c;--c){for(var d=this.i[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){if(b=a-h.start,1<=(b=0<h.duration?b/h.duration:1)?(h.complete=!0,b=1):e=!1,b=h.easing(b),h.qe){var l=h.qe[0],m=h.qe[1];this.set("center",[l+b*(h.ue[0]-l),m+b*(h.ue[1]-m)])}if(h.se&&h.gd&&(l=1===b?h.gd:h.se+b*(h.gd-h.se),h.anchor&&this.set("center",xm(this,l,h.anchor)),this.set("resolution",l)),void 0!==h.Jf&&void 0!==h.ve&&(b=1===b?Sb(h.ve+Math.PI,2*Math.PI)-Math.PI:h.Jf+b*(h.ve-h.Jf),h.anchor&&this.set("center",ym(this,b,h.anchor)),this.set("rotation",b)),b=!0,!h.complete)break}}e&&(this.i[c]=null,vm(this,0,-1),(d=d[0].callback)&&d(!0))}this.i=this.i.filter(Boolean),b&&void 0===this.A&&(this.A=requestAnimationFrame(this.Lf))}},k.Kc=function(a){return this.j.center(a)},k.constrainResolution=function(a,b,c){return this.j.resolution(a,b||0,c||0)},k.constrainRotation=function(a,b){return this.j.rotation(a,b||0)},k.ta=function(){return this.get("center")},k.od=function(a){a=a||zm(this);var b=this.ta();eb(b,1);var c=this.Ma();eb(void 0!==c,2);var d=this.Oa();return eb(void 0!==d,3),Hb(b,c,d,a)},k.Ln=function(){return this.a},k.Nn=function(){return this.g},k.Mn=function(){return this.Se(this.g)},k.lr=function(a){tm(this,um(this,{maxZoom:a}))},k.On=function(){return this.Se(this.a)},k.mr=function(a){tm(this,um(this,{minZoom:a}))},k.Pn=function(){return this.c},k.Ma=function(){return this.get("resolution")},k.Qn=function(){return this.l},k.Pe=function(a,b){return b=b||zm(this),Math.max(Eb(a)/b[0],Fb(a)/b[1])},k.Oa=function(){return this.get("rotation")},k.getState=function(){var a=this.ta(),b=this.c,c=this.Ma(),d=this.Oa();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}},k.gi=function(){var a,b=this.Ma();return void 0!==b&&(a=this.Se(b)),a},k.Se=function(a){if(a>=this.g&&a<=this.a){var b=this.s||0;if(this.l){var c=fd(this.l,a,1);if(b+=c,c==this.l.length-1)return b;var d=this.l[c];c=d/this.l[c+1]}else d=this.a,c=this.C;b+=Math.log(d/a)/Math.log(c)}return b},k.ei=function(a){return this.constrainResolution(this.a,a-this.s,0)},k.fg=function(a,b){var c=(b=b||{}).size;if(c||(c=zm(this)),a instanceof C)if("Circle"===a.T()){var d=qm(a=a.G());d.rotate(this.Oa(),Gb(a))}else d=a;else eb(Array.isArray(a),24),eb(!Db(a),25),d=qm(a);var h,e=b.padding?b.padding:[0,0,0,0],f=void 0===b.constrainResolution||b.constrainResolution,g=void 0!==b.nearest&&b.nearest;h=void 0!==b.minResolution?b.minResolution:void 0!==b.maxZoom?this.constrainResolution(this.a,b.maxZoom-this.s,0):0;var l=d.da(),m=this.Oa();a=Math.cos(-m),m=Math.sin(-m);var n=1/0,p=1/0,q=-1/0,t=-1/0;d=d.ra();for(var u=0,x=l.length;u<x;u+=d){var B=l[u]*a-l[u+1]*m,A=l[u]*m+l[u+1]*a;n=Math.min(n,B),p=Math.min(p,A),q=Math.max(q,B),t=Math.max(t,A)}c=this.Pe([n,p,q,t],[c[0]-e[1]-e[3],c[1]-e[0]-e[2]]),c=isNaN(c)?h:Math.max(c,h),f&&(h=this.constrainResolution(c,0,0),!g&&h<c&&(h=this.constrainResolution(h,-1,0)),c=h),m=-m,a=[(h=(n+q)/2+(e[1]-e[3])/2*c)*a-(e=(p+t)/2+(e[0]-e[2])/2*c)*m,e*a+h*m],e=b.callback?b.callback:va,void 0!==b.duration?this.animate({resolution:c,center:a,duration:b.duration,easing:b.easing},e):(this.Hc(c),this.cb(a),setTimeout(e.bind(void 0,!0),0))},k.dl=function(a,b,c){var d=this.Oa(),e=Math.cos(-d);d=Math.sin(-d);var f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Ma();f+=(b[0]/2-c[0])*g,a+=(c[1]-b[1]/2)*g,d=-d,this.cb([f*e-a*d,a*e+f*d])},k.rotate=function(a,b){void 0!==b&&(b=ym(this,a,b),this.cb(b)),this.Uc(a)},k.cb=function(a){this.set("center",a),this.Oc()&&this.pd()},k.Hc=function(a){this.set("resolution",a),this.Oc()&&this.pd()},k.Uc=function(a){this.set("rotation",a),this.Oc()&&this.pd()},k.vr=function(a){this.Hc(this.ei(a))},v(Fm,Ua),Fm.prototype.c=function(){return this.get("active")},Fm.prototype.i=function(){return this.P},Fm.prototype.La=function(a){this.set("active",a)},Fm.prototype.setMap=function(a){this.P=a},v(Jm,Fm),v(Vm,Fm),Vm.prototype.fd=function(a){return a},v(Ym,Vm),Ym.prototype.fd=Fd,v(bn,Vm),bn.prototype.fd=Fd,v(fn,La),fn.prototype.oa=function(){this.setMap(null)},fn.prototype.setMap=function(a){if(this.P){this.P.C.removeChild(this.b);var b=this.b.style;b.left=b.top=b.width=b.height="inherit"}(this.P=a)&&this.P.C.appendChild(this.b)},fn.prototype.W=function(){return this.Mc},v(jn,Vm),jn.prototype.W=function(){return this.a.W()},jn.prototype.j=va;var rn="boxstart",pn="boxdrag",qn="boxend";v(on,Na),v(sn,jn),sn.prototype.j=function(){var a=this.P,b=a.$(),c=a.Ob(),d=this.W().G();if(this.D){var e=b.od(c);d=[a.Na(yb(d)),a.Na(Ab(d))],a=qb(void 0);var f,g=0;for(f=d.length;g<f;++g)hb(a,d[g]);Kb(e,1/(d=b.Pe(a,c))),d=e}c=b.constrainResolution(b.Pe(d,c)),e=Gb(d),e=b.Kc(e),b.animate({resolution:c,center:e,duration:this.C,easing:Rk})},v(tn,Fm),v(vn,Fm),v(xn,Fm),xn.prototype.C=function(){this.o=void 0,vm(this.P.$(),1,-1)},xn.prototype.D=function(a){(a=a.$()).Oc()&&a.pd(),Hm(a,-Mb(this.j,-1,1),this.a,this.A),this.l=void 0,this.j=0,this.a=null,this.s=this.g=void 0},xn.prototype.U=function(a){this.B=a,a||(this.a=null)};var zn="trackpad",An="wheel";v(Bn,Vm),Bn.prototype.fd=Fd,v(Fn,Vm),Fn.prototype.fd=Fd,Kn.prototype.clear=function(){this.b={},this.a=0},Kn.prototype.get=function(a,b,c){return(a=b+":"+a+":"+(c?Pd(c):"null"))in this.b?this.b[a]:null},Kn.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?Pd(c):"null")]=d,++this.a};var Ln=new Kn;v(Mn,La),(k=Mn.prototype).oa=function(){for(var a in this.c)Ma(this.c[a])},k.Ka=function(a,b,c,d,e,f,g){var l,m=b.viewState,n=m.resolution,p=m.projection;if(m=a,p.f){var q=Eb(p=p.G()),t=a[0];(t<p[0]||t>p[2])&&(m=[t+q*Math.ceil((p[0]-t)/q),a[1]])}for(q=(p=b.layerStatesArray).length-1;0<=q;--q){var u=p[q];if(t=u.layer,Zc(u,n)&&f.call(g,t)&&(u=Pn(this,t),t.ca()&&(l=u.Ka(t.ca().B?m:a,b,c,function(a,c){var f=w(a).toString(),g=b.layerStates[w(c)].Ze;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)},e)),l))return l}},k.jj=function(a,b,c,d,e){return void 0!==this.Ka(a,b,c,Ed,this,d,e)},k.vm=function(){this.P.render()},k.dh=va,k.Xq=function(a,b){for(var c in this.c)if(!(b&&c in b.layerStates)){a=c;var d=this.c[a];delete this.c[a],Da(this.o[a]),delete this.o[a],Ma(d)}},v(Sn,Mn),Sn.prototype.T=function(){return"canvas"},Sn.prototype.dh=function(a){if(a){var b=this.f,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=e?(this.b.width=d,this.b.height=e):b.clearRect(0,0,d,e),c=a.viewState.rotation,Nn(a),Tn(this,"precompose",a);var f=a.layerStatesArray;jd(f,Rn),c&&(b.save(),Kd(b,c,d/2,e/2)),d=a.viewState.resolution;var g;for(e=0,g=f.length;e<g;++e){var h=f[e],l=h.layer;l=Pn(this,l),Zc(h,d)&&"ready"==h.gk&&l.Dd(a,h)&&l.H(a,h,b)}c&&b.restore(),Tn(this,"postcompose",a),this.a||(this.b.style.display="",this.a=!0),Qn(this,a),a.postRenderFunctions.push(On)}else this.a&&(this.b.style.display="none",this.a=!1)},Sn.prototype.ij=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,l=h.length;for(a=ze(b.pixelToCoordinateTransform,a.slice()),--l;0<=l;--l){var m=h[l],n=m.layer;if(Zc(m,g)&&e.call(f,n)&&(m=Pn(this,n).s(a,b,c,d)))return m}},v(Un,Mn),(k=Un.prototype).oa=function(){var a=this.f;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.texture)}),Ma(this.i),Mn.prototype.oa.call(this)},k.gl=function(a,b){a=this.f;for(var c;1024<this.a.c-this.g;){if(c=this.a.a.jd)a.deleteTexture(c.texture);else{if(+this.a.a.Ac==b.index)break;--this.g}this.a.pop()}},k.T=function(){return"webgl"},k.Vo=function(a){a.preventDefault(),this.a.clear(),this.g=0,a=this.c;for(var b in a)a[b].Fg()},k.Wo=function(){Vn(this),this.P.render()},k.dh=function(a){var b=this.i,c=this.f;if(c.isContextLost())return!1;if(!a)return this.l&&(this.b.style.display="none",this.l=!1),!1;this.s=a.focus,this.a.set((-a.index).toString(),null),++this.g,Wn(this,"precompose",a);var d=[],e=a.layerStatesArray;jd(e,Rn);var g,f=a.viewState.resolution,h=0;for(g=e.length;h<g;++h){var l=e[h];if(Zc(l,f)&&"ready"==l.gk){var m=Pn(this,l.layer);m.Gg(a,l,b)&&d.push(l)}}for(e=a.size[0]*a.pixelRatio,f=a.size[1]*a.pixelRatio,this.b.width==e&&this.b.height==f||(this.b.width=e,this.b.height=f),c.bindFramebuffer(36160,null),c.clearColor(0,0,0,0),c.clear(16384),c.enable(3042),c.viewport(0,0,this.b.width,this.b.height),h=0,g=d.length;h<g;++h)l=d[h],(m=Pn(this,l.layer)).lj(a,l,b);this.l||(this.b.style.display="",this.l=!0),Nn(a),1024<this.a.c-this.g&&a.postRenderFunctions.push(this.gl.bind(this)),0!==this.j.b.length&&(a.postRenderFunctions.push(this.C),a.animate=!0),Wn(this,"postcompose",a),Qn(this,a),a.postRenderFunctions.push(On)},k.Ka=function(a,b,c,d,e,f,g){if(this.f.isContextLost())return!1;var m,h=b.viewState,l=b.layerStatesArray;for(m=l.length-1;0<=m;--m){var n=l[m],p=n.layer;if(Zc(n,h.resolution)&&f.call(g,p)&&(n=Pn(this,p).Ka(a,b,c,d,e)))return n}},k.jj=function(a,b,c,d,e){if(c=!1,this.f.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(Zc(l,f.resolution)&&d.call(e,m)&&(c=Pn(this,m).lf(a,b)))return!0}return c},k.ij=function(a,b,c,d,e){if(this.f.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(Zc(l,f.resolution)&&e.call(d,m)&&(l=Pn(this,m).Eg(a,b,c,d)))return l}};var Xn=["canvas","webgl"];v(K,Ua),(k=K.prototype).Uk=function(a){this.o.push(a)},k.Vk=function(a){this.i.push(a)},k.Ch=function(a){this.Mb().Pb().push(a)},k.Dh=function(a){this.s.push(a)},k.Eh=function(a){var b=a.g;void 0!==b&&(this.Lg[b.toString()]=a),a.setMap(this)},k.oa=function(){Ma(this.Da),Ma(this.oc),Ja(this.a,"wheel",this.xd,this),Ja(this.a,"mousewheel",this.xd,this),this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0),this.l&&(cancelAnimationFrame(this.l),this.l=void 0),this.cf(null),Ua.prototype.oa.call(this)},k.ce=function(a,b,c){if(this.c)return a=this.ab(a),c=c||{},this.oc.Ka(a,this.c,void 0!==c.hitTolerance?c.hitTolerance*this.c.pixelRatio:0,b,null,c.layerFilter?c.layerFilter:Ed,null)},k.Bl=function(a,b){var c=null;return this.ce(a,function(a){c||(c=[]),c.push(a)},b),c},k.Fn=function(a,b,c,d,e){if(this.c)return this.oc.ij(a,this.c,b,void 0!==c?c:null,d||Ed,void 0!==e?e:null)},k.Rm=function(a,b){return!!this.c&&(a=this.ab(a),b=b||{},this.oc.jj(a,this.c,void 0!==b.hitTolerance?b.hitTolerance*this.c.pixelRatio:0,b.layerFilter?b.layerFilter:Ed,null))},k.ig=function(a){return this.ab(this.Me(a))},k.Me=function(a){var b=this.a.getBoundingClientRect();return a=a.changedTouches?a.changedTouches[0]:a,[a.clientX-b.left,a.clientY-b.top]},k.rg=function(){return this.get("target")},k.vd=function(){var a=this.rg();return void 0!==a?"string"==typeof a?document.getElementById(a):a:null},k.ab=function(a){var b=this.c;return b?ze(b.pixelToCoordinateTransform,a.slice()):null},k.wl=function(){return this.o},k.Wl=function(){return this.s},k.Vl=function(a){return void 0!==(a=this.Lg[a.toString()])?a:null},k.Hl=function(){return this.i},k.Mb=function(){return this.get("layergroup")},k.Ci=function(){return this.Mb().Pb()},k.Na=function(a){var b=this.c;return b?ze(b.coordinateToPixelTransform,a.slice(0,2)):null},k.Oe=function(){return this.oc},k.Ob=function(){return this.get("size")},k.$=function(){return this.get("view")},k.im=function(){return this.a},k.fm=function(a,b,c,d){var e=this.c;return e&&b in e.wantedTiles&&e.wantedTiles[b][a.ib()]?(a=c[0]-e.focus[0],c=c[1]-e.focus[1],65536*Math.log(d)+Math.sqrt(a*a+c*c)/d):1/0},k.xd=function(a,b){a=new hl(b||a.type,this,a),this.hi(a)},k.hi=function(a){if(this.c){this.Y=a.coordinate,a.frameState=this.c;var c,b=this.i.a;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.c()&&!d.handleEvent(a))break}}},k.Hm=function(){var a=this.c,b=this.Sa;if(0!==b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.Qd?8:0,d=2),e[1]&&(c=this.Rf?8:0,d=2)}b.j<c&&(Tl(b),Vl(b,c,d))}for(c=0,d=(b=this.gb).length;c<d;++c)b[c](this,a);b.length=0},k.Jm=function(){this.render()},k.Nm=function(){var a;if(this.rg()&&(a=this.vd()),this.A){for(var b=0,c=this.A.length;b<c;++b)Da(this.A[b]);this.A=null}a?(a.appendChild(this.a),a=this.na?this.na:a,this.A=[y(a,"keydown",this.xd,this),y(a,"keypress",this.xd,this)],this.g||(this.g=this.Md.bind(this),window.addEventListener("resize",this.g,!1))):(od(this.a),this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0)),this.Md()},k.Om=function(){this.render()},k.ki=function(){this.render()},k.Pm=function(){this.U&&(Da(this.U),this.U=null),this.O&&(Da(this.O),this.O=null);var a=this.$();a&&(this.a.setAttribute("data-view",w(a)),this.U=y(a,"propertychange",this.ki,this),this.O=y(a,"change",this.ki,this)),this.render()},k.um=function(){this.D&&(this.D.forEach(Da),this.D=null);var a=this.Mb();a&&(this.D=[y(a,"propertychange",this.render,this),y(a,"change",this.render,this)]),this.render()},k.Zq=function(){this.l&&cancelAnimationFrame(this.l),this.ja()},k.render=function(){void 0===this.l&&(this.l=requestAnimationFrame(this.ja))},k.Sq=function(a){return this.o.remove(a)},k.Tq=function(a){return this.i.remove(a)},k.Vq=function(a){return this.Mb().Pb().remove(a)},k.Wq=function(a){return this.s.remove(a)},k.Yq=function(a){var b,c=this.Ob(),d=this.$(),e=gb(),f=this.c,g=null;if(void 0!==c&&0<c[0]&&0<c[1]&&d&&Jk(d)){g=wm(d,this.c?this.c.viewHints:void 0);var h=this.Mb().og(),l={},m=0;for(b=h.length;m<b;++m)l[w(h[m].layer)]=h[m];m=d.getState(),g={animate:!1,attributions:{},coordinateToPixelTransform:this.Jb,extent:e,focus:this.Y?this.Y:m.center,index:this.dc++,layerStates:l,layerStatesArray:h,logos:xa({},this.Sf),pixelRatio:this.Nf,pixelToCoordinateTransform:this.Xf,postRenderFunctions:[],size:c,skippedFeatureUids:this.qa,tileQueue:this.Sa,time:a,usedTiles:{},viewState:m,viewHints:g,wantedTiles:{}}}g&&(g.extent=Hb(m.center,m.resolution,m.rotation,g.size,e)),this.c=g,this.oc.dh(g),g&&(g.animate&&this.render(),Array.prototype.push.apply(this.gb,g.postRenderFunctions),!f||this.j&&(Db(this.j)||vb(g.extent,this.j))||(this.b(new gl("movestart",this,f)),this.j=qb(this.j)),!this.j||g.viewHints[0]||g.viewHints[1]||vb(g.extent,this.j)||(this.b(new gl("moveend",this,g)),jb(g.extent,this.j))),this.b(new gl("postrender",this,g)),setTimeout(this.Hm.bind(this),0)},k.Zj=function(a){this.set("layergroup",a)},k.lh=function(a){this.set("size",a)},k.cf=function(a){this.set("target",a)},k.Gn=function(a){this.set("view",a)},k.fk=function(a){a=w(a).toString(),this.qa[a]=!0,this.render()},k.Md=function(){var a=this.vd();if(a){var b=getComputedStyle(a);this.lh([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.lh(void 0)},k.jk=function(a){a=w(a).toString(),delete this.qa[a],this.render()},v(Zn,Ua),(k=Zn.prototype).ee=function(){return this.get($n)},k.Hn=function(){return this.g},k.df=function(){return this.get(ao)},k.bi=function(){return this.get(bo)},k.Di=function(){return this.get(co)},k.ci=function(){return this.get(eo)},k.pm=function(){for(var a=this.c;a.lastChild;)a.removeChild(a.lastChild);(a=this.ee())&&this.c.appendChild(a)},k.zm=function(){this.i&&(od(this.c),Da(this.i),this.i=null);var a=this.df();a&&(this.i=y(a,"postrender",this.render,this),fo(this),a=this.s?a.B:a.C,this.o?a.insertBefore(this.c,a.childNodes[0]||null):a.appendChild(this.c))},k.render=function(){fo(this)},k.Dm=function(){fo(this)},k.Fm=function(){if(fo(this),this.get(co)&&this.autoPan){var a=this.df();if(a&&a.vd()){var b=go(a.vd(),a.Ob()),c=this.ee(),d=c.offsetWidth,e=getComputedStyle(c);d+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),e=c.offsetHeight;var f=getComputedStyle(c),g=go(c,[d,e+=parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)]);c=this.l,nb(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.$().ta(),c=a.Na(c),b=[c[0]+b[0],c[1]+b[1]],a.$().animate({center:a.ab(b),duration:this.j.duration,easing:this.j.easing}))}}},k.Gm=function(){fo(this)},k.Uj=function(a){this.set($n,a)},k.setMap=function(a){this.set(ao,a)},k.$j=function(a){this.set(bo,a)},k.ef=function(a){this.set(co,a)},k.ck=function(a){this.set(eo,a)};var $n="element",ao="map",bo="offset",co="position",eo="positioning";v(io,Mk),(k=io.prototype).setMap=function(a){var b=this.P;a!==b&&(b&&((b=b.$())&&Ja(b,Wa("rotation"),this.We,this),this.a.cf(null)),Mk.prototype.setMap.call(this,a),a&&(this.a.cf(this.B),this.o.push(y(a,"propertychange",this.Am,this)),0===this.a.Ci().kc()&&this.a.Zj(a.Mb()),a=a.$()))&&(y(a,Wa("rotation"),this.We,this),Jk(a)&&(this.a.Md(),ko(this)))},k.Am=function(a){"view"===a.key&&((a=a.oldValue)&&Ja(a,Wa("rotation"),this.We,this),a=this.P.$(),y(a,Wa("rotation"),this.We,this))},k.We=function(){this.a.$().Uc(this.P.$().Oa())},k.Zn=function(a){a.preventDefault(),mo(this)},k.Yn=function(){return this.j},k.ao=function(a){this.j!==a&&(this.j=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.g&&mo(this))},k.$n=function(a){this.j&&this.g!==a&&mo(this)},k.Xn=function(){return this.g},k.Xl=function(){return this.a},v(no,Mk);var qo=[1,2,5];no.prototype.B=function(){return this.get(po)},no.prototype.U=function(){ro(this)},no.prototype.D=function(a){this.set(po,a)};var po="units";v(so,Mk),so.prototype.oa=function(){Ma(this.j),Mk.prototype.oa.call(this)};var to=0;(k=so.prototype).setMap=function(a){Mk.prototype.setMap.call(this,a),a&&a.render()},k.lm=function(a){var b=this.P.$();a=wo(this,Mb(1===this.g?(a.offsetX-this.D[0]/2)/this.A:(a.offsetY-this.D[1]/2)/this.l,0,1)),b.animate({resolution:b.constrainResolution(a),duration:this.U,easing:Rk})},k.om=function(a){this.s||a.b.target!==this.element.firstElementChild||(vm(this.P.$(),1,1),this.B=a.clientX,this.C=a.clientY,this.s=!0)},k.mm=function(a){if(this.s){var b=this.element.firstElementChild;this.a=wo(this,Mb(1===this.g?(a.clientX-this.B+parseInt(b.style.left,10))/this.A:(a.clientY-this.C+parseInt(b.style.top,10))/this.l,0,1)),this.P.$().Hc(this.a),vo(this,this.a),this.B=a.clientX,this.C=a.clientY}},k.nm=function(){if(this.s){var a=this.P.$();vm(a,1,-1),a.animate({resolution:a.constrainResolution(this.a),duration:this.U,easing:Rk}),this.s=!1,this.C=this.B=void 0}},v(xo,Mk),xo.prototype.g=function(a){a.preventDefault(),a=this.P.$();var b=this.a?this.a:a.c.G();a.fg(b)},v(yo,Ua),(k=yo.prototype).oa=function(){this.zg(!1),Ua.prototype.oa.call(this)},k.hq=function(a){if(null!==a.alpha){var b=Rb(a.alpha);this.set(Ao,b),"boolean"==typeof a.absolute&&a.absolute?this.set(Bo,b):"number"==typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(Bo,Rb(a.webkitCompassHeading))}null!==a.beta&&this.set(Co,Rb(a.beta)),null!==a.gamma&&this.set(Do,Rb(a.gamma)),this.u()},k.ol=function(){return this.get(Ao)},k.rl=function(){return this.get(Co)},k.Dl=function(){return this.get(Do)},k.pn=function(){return this.get(Bo)},k.yi=function(){return this.get(zo)},k.qn=function(){if(je){var a=this.yi();a&&!this.a?this.a=y(window,"deviceorientation",this.hq,this):a||null===this.a||(Da(this.a),this.a=null)}},k.zg=function(a){this.set(zo,a)};var Ao="alpha",Co="beta",Do="gamma",Bo="heading",zo="tracking";v(Eo,Ua),(k=Eo.prototype).clone=function(){var a=new Eo(this.K());a.cd(this.c);var b=this.W();return b&&a.Va(b.clone()),(b=this.g)&&a.Ag(b),a},k.W=function(){return this.get(this.c)},k.rn=function(){return this.a},k.Fl=function(){return this.c},k.sn=function(){return this.g},k.Ta=function(){return this.j},k.qm=function(){this.u()},k.Ue=function(){this.i&&(Da(this.i),this.i=null);var a=this.W();a&&(this.i=y(a,"change",this.qm,this)),this.u()},k.Va=function(a){this.set(this.c,a)},k.Ag=function(a){this.j=(this.g=a)?Fo(a):void 0,this.u()},k.pc=function(a){this.a=a,this.u()},k.cd=function(a){Ja(this,Wa(this.c),this.Ue,this),this.c=a,y(this,Wa(this.c),this.Ue,this),this.Ue()};var Go=document.implementation.createDocument("","",null),Uo=So();$o.prototype.ng=function(){return null},v(dp,$o),(k=dp.prototype).T=function(){return"json"},k.Zb=function(a,b){return this.ad(ep(a),ap(this,a,b))},k.Ua=function(a,b){return this.Sg(ep(a),ap(this,a,b))},k.bd=function(a,b){return this.Wg(ep(a),ap(this,a,b))},k.pb=function(a){return this.Zg(ep(a))},k.Nd=function(a,b){return JSON.stringify(this.kd(a,b))},k.bc=function(a,b){return JSON.stringify(this.xe(a,b))},k.ld=function(a,b){return JSON.stringify(this.ze(a,b))},v(R,C),(k=R.prototype).Wk=function(a){this.v?gd(this.v,a):this.v=a.slice(),this.u()},k.clone=function(){var a=new R(null);return a.ba(this.la,this.v.slice()),a},k.Kb=function(a,b,c,d){return d<kb(this.G(),a,b)?d:(this.A!=this.f&&(this.B=Math.sqrt(cm(this.v,0,this.v.length,this.a,0)),this.A=this.f),em(this.v,0,this.v.length,this.a,this.B,!1,a,b,c,d))},k.ll=function(a,b){return mm(this.v,0,this.v.length,this.a,a,b)},k.mo=function(a,b){return"XYM"!=this.la&&"XYZM"!=this.la?null:gp(this.v,0,this.v.length,this.a,a,void 0!==b&&b)},k.V=function(){return Ij(this.v,0,this.v.length,this.a)},k.Vh=function(a,b){return fp(this.v,0,this.v.length,this.a,a,b)},k.no=function(){var f,a=this.v,b=this.a,c=a[0],d=a[1],e=0;for(f=0+b;f<this.v.length;f+=b){var g=a[f],h=a[f+1];e+=Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h}return e},k.ud=function(a){var b=[];return b.length=Wj(this.v,0,this.v.length,this.a,a,b,0),(a=new R(null)).ba("XY",b),a},k.T=function(){return"LineString"},k.bb=function(a){return nm(this.v,0,this.v.length,this.a,a)},k.sa=function(a,b){a?(Yd(this,b,a,1),this.v||(this.v=[]),this.v.length=hm(this.v,0,a,this.a),this.u()):this.ba("XY",null)},k.ba=function(a,b){Xd(this,a,b),this.u()},v(S,C),(k=S.prototype).Xk=function(a){this.v?gd(this.v,a.da().slice()):this.v=a.da().slice(),this.c.push(this.v.length),this.u()},k.clone=function(){var a=new S(null);return a.ba(this.la,this.v.slice(),this.c.slice()),a},k.Kb=function(a,b,c,d){return d<kb(this.G(),a,b)?d:(this.j!=this.f&&(this.A=Math.sqrt(dm(this.v,0,this.c,this.a,0)),this.j=this.f),fm(this.v,0,this.c,this.a,this.A,!1,a,b,c,d))},k.po=function(a,b,c){return"XYM"!=this.la&&"XYZM"!=this.la||0===this.v.length?null:hp(this.v,this.c,this.a,a,void 0!==b&&b,void 0!==c&&c)},k.V=function(){return Jj(this.v,0,this.c,this.a)},k.tb=function(){return this.c},k.Nl=function(a){if(0>a||this.c.length<=a)return null;var b=new R(null);return b.ba(this.la,this.v.slice(0===a?0:this.c[a-1],this.c[a])),b},k.Rc=function(){var f,a=this.v,b=this.c,c=this.la,d=[],e=0,g=0;for(f=b.length;g<f;++g){var h=b[g],l=new R(null);l.ba(c,a.slice(e,h)),d.push(l),e=h}return d},k.ud=function(a){var l,b=[],c=[],d=this.v,e=this.c,f=this.a,g=0,h=0,m=0;for(l=e.length;m<l;++m){var n=e[m];h=Wj(d,g,n,f,a,b,h),c.push(h),g=n}return b.length=h,(a=new S(null)).ba("XY",b,c),a},k.T=function(){return"MultiLineString"},k.bb=function(a){a:{var f,b=this.v,c=this.c,d=this.a,e=0,g=0;for(f=c.length;g<f;++g){if(nm(b,e,c[g],d,a)){a=!0;break a}e=c[g]}a=!1}return a},k.sa=function(a,b){a?(Yd(this,b,a,2),this.v||(this.v=[]),a=im(this.v,0,a,this.a,this.c),this.v.length=0===a.length?0:a[a.length-1],this.u()):this.ba("XY",null,this.c)},k.ba=function(a,b,c){Xd(this,a,b),this.c=c,this.u()},v(jp,C),(k=jp.prototype).Zk=function(a){this.v?gd(this.v,a.da()):this.v=a.da().slice(),this.u()},k.clone=function(){var a=new jp(null);return a.ba(this.la,this.v.slice()),a},k.Kb=function(a,b,c,d){if(d<kb(this.G(),a,b))return d;var g,e=this.v,f=this.a,h=0;for(g=e.length;h<g;h+=f){var l=Qb(a,b,e[h],e[h+1]);if(l<d){for(d=l,l=0;l<f;++l)c[l]=e[h+l];c.length=f}}return d},k.V=function(){return Ij(this.v,0,this.v.length,this.a)},k.qo=function(a){var b=this.v?this.v.length/this.a:0;return 0>a||b<=a?null:((b=new H(null)).ba(this.la,this.v.slice(a*this.a,(a+1)*this.a)),b)},k.Bd=function(){var e,a=this.v,b=this.la,c=this.a,d=[],f=0;for(e=a.length;f<e;f+=c){var g=new H(null);g.ba(b,a.slice(f,f+c)),d.push(g)}return d},k.T=function(){return"MultiPoint"},k.bb=function(a){var d,b=this.v,c=this.a,e=0;for(d=b.length;e<d;e+=c)if(mb(a,b[e],b[e+1]))return!0;return!1},k.sa=function(a,b){a?(Yd(this,b,a,1),this.v||(this.v=[]),this.v.length=hm(this.v,0,a,this.a),this.u()):this.ba("XY",null)},k.ba=function(a,b){Xd(this,a,b),this.u()},v(T,C),(k=T.prototype).$k=function(a){if(this.v){var b=this.v.length;gd(this.v,a.da());var c,d=0;for(c=(a=a.tb().slice()).length;d<c;++d)a[d]+=b}else this.v=a.da().slice(),a=a.tb().slice(),this.c.push();this.c.push(a),this.u()},k.clone=function(){for(var a=new T(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();return kp(a,this.la,this.v.slice(),c),a},k.Kb=function(a,b,c,d){if(d<kb(this.G(),a,b))return d;if(this.C!=this.f){var h,e=this.c,f=0,g=0,l=0;for(h=e.length;l<h;++l){var m=e[l];g=dm(this.v,f,m,this.a,g),f=m[m.length-1]}this.D=Math.sqrt(g),this.C=this.f}e=Pe(this),f=this.c,g=this.a,l=this.D,h=0,m=[NaN,NaN];var n,p=0;for(n=f.length;p<n;++p){var q=f[p];d=fm(e,h,q,g,l,!0,a,b,c,d,m),h=q[q.length-1]}return d},k.Wc=function(a,b){a:{var c=Pe(this),d=this.c,e=0;if(0!==d.length){var f,g=0;for(f=d.length;g<f;++g){var h=d[g];if(Jg(c,e,h,this.a,a,b)){a=!0;break a}e=h[h.length-1]}}a=!1}return a},k.ro=function(){var e,a=Pe(this),b=this.c,c=0,d=0,f=0;for(e=b.length;f<e;++f){var g=b[f];d+=kg(a,c,g,this.a),c=g[g.length-1]}return d},k.V=function(a){if(void 0!==a){var b=Pe(this).slice();ig(b,this.c,this.a,a)}else b=this.v;return Kj(b,0,this.c,this.a)},k.Jl=function(){var a=new jp(null);return a.ba("XY",Qe(this).slice()),a},k.ud=function(a){var b=[],c=[],d=this.v,e=this.c,f=this.a;a=Math.sqrt(a);var l,g=0,h=0,m=0;for(l=e.length;m<l;++m){var n=e[m],p=[];h=Xj(d,g,n,f,a,b,h,p),c.push(p),g=n[n.length-1]}return b.length=h,d=new T(null),kp(d,"XY",b,c),d},k.Zl=function(a){if(0>a||this.c.length<=a)return null;if(0===a)var b=0;else b=this.c[a-1],b=b[b.length-1];var c=(a=this.c[a].slice())[a.length-1];if(0!==b){var d,e=0;for(d=a.length;e<d;++e)a[e]-=b}return(e=new I(null)).ba(this.la,this.v.slice(b,c),a),e},k.sd=function(){var f,g,a=this.la,b=this.v,c=this.c,d=[],e=0,h=0;for(f=c.length;h<f;++h){var l=c[h].slice(),m=l[l.length-1];if(0!==e){var n=0;for(g=l.length;n<g;++n)l[n]-=e}(n=new I(null)).ba(a,b.slice(e,m),l),d.push(n),e=m}return d},k.T=function(){return"MultiPolygon"},k.bb=function(a){a:{var f,b=Pe(this),c=this.c,d=this.a,e=0,g=0;for(f=c.length;g<f;++g){var h=c[g];if(om(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a},k.sa=function(a,b){if(a){Yd(this,b,a,3),this.v||(this.v=[]),b=this.v;var c=this.a,d=this.c,e=0;d=d||[];var g,f=0,h=0;for(g=a.length;h<g;++h)e=im(b,e,a[h],c,d[f]),d[f++]=e,e=e[e.length-1];d.length=f,0===d.length?this.v.length=0:(a=d[d.length-1],this.v.length=0===a.length?0:a[a.length-1]),this.u()}else kp(this,"XY",null,this.c)},v(mp,dp);var pp={Point:function(a){return void 0!==a.m&&void 0!==a.z?new H([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new H([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new H([a.x,a.y,a.m],"XYM"):new H([a.x,a.y])},LineString:function(a){return new R(a.paths[0],op(a))},Polygon:function(a){return new I(a.rings,op(a))},MultiPoint:function(a){return new jp(a.points,op(a))},MultiLineString:function(a){return new S(a.paths,op(a))},MultiPolygon:function(a){return new T(a.rings,op(a))}},rp={Point:function(a){var c,b=a.V();return"XYZ"===(a=a.la)?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:eb(!1,34),c},LineString:function(a){var b=qp(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.V()]}},Polygon:function(a){var b=qp(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.V(!1)}},MultiPoint:function(a){var b=qp(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.V()}},MultiLineString:function(a){var b=qp(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.V()}},MultiPolygon:function(a){var b=qp(a);a=a.V(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};(k=mp.prototype).ad=function(a,b){var c=np(a.geometry,b),d=new Eo;return this.b&&d.cd(this.b),d.Va(c),b&&b.vg&&a.attributes[b.vg]&&d.pc(a.attributes[b.vg]),a.attributes&&d.J(a.attributes),d},k.Sg=function(a,b){if(b=b||{},a.features){var e,c=[],d=a.features;for(b.vg=a.objectIdFieldName,a=0,e=d.length;a<e;++a)c.push(this.ad(d[a],b));return c}return[this.ad(a,b)]},k.Wg=function(a,b){return np(a,b)},k.Zg=function(a){return a.spatialReference&&a.spatialReference.wkid?Ic("EPSG:"+a.spatialReference.wkid):null},k.ze=function(a,b){return sp(a,bp(this,b))},k.kd=function(a,b){b=bp(this,b);var c={},d=a.W();return d&&(c.geometry=sp(d,b),b&&b.featureProjection&&(c.geometry.spatialReference={wkid:Ic(b.featureProjection).rb.split(":").pop()})),b=a.K(),delete b[a.c],c.attributes=Ba(b)?{}:b,c},k.xe=function(a,b){b=bp(this,b);var d,c=[],e=0;for(d=a.length;e<d;++e)c.push(this.kd(a[e],b));return{features:c}},v(up,tp),v(vp,up),v(wp,tp),v(xp,tp),v(yp,xp),v(zp,xp),v(Bp,zp),v(Cp,zp),v(Dp,zp),v(Ep,tp),v(Fp,Ep),v(Gp,xp),v(Hp,xp),v(Ip,xp),v(Jp,zp),v(Kp,zp),v(Lp,tp),v(Mp,zp),v(Np,up),v(Op,Ep),v(Rp,Td),(k=Rp.prototype).clone=function(){var a=new Rp(null);return a.Xj(this.a),a},k.Kb=function(a,b,c,d){if(d<kb(this.G(),a,b))return d;var f,e=this.a,g=0;for(f=e.length;g<f;++g)d=e[g].Kb(a,b,c,d);return d},k.Wc=function(a,b){var d,c=this.a,e=0;for(d=c.length;e<d;++e)if(c[e].Wc(a,b))return!0;return!1},k.Ie=function(a){qb(a);for(var b=this.a,c=0,d=b.length;c<d;++c)wb(a,b[c].G());return a},k.Pc=function(){return Tp(this.a)},k.ge=function(a){if(this.l!=this.f&&(ya(this.i),this.g=0,this.l=this.f),0>a||0!==this.g&&a<this.g)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var f,c=[],d=this.a,e=!1,g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.ge(a);c.push(l),l!==h&&(e=!0)}return e?(a=new Rp(null),Up(a),a.a=c,Sp(a),a.u(),this.i[b]=a):(this.g=a,this)},k.T=function(){return"GeometryCollection"},k.bb=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)if(b[d].bb(a))return!0;return!1},k.rotate=function(a,b){for(var c=this.a,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.u()},k.scale=function(a,b,c){c||(c=Gb(this.G()));for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.u()},k.Xj=function(a){a=Tp(a),Up(this),this.a=a,Sp(this),this.u()},k.rc=function(a){var c,b=this.a,d=0;for(c=b.length;d<c;++d)b[d].rc(a);this.u()},k.translate=function(a,b){var d,c=this.a,e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.u()},k.oa=function(){Up(this),Td.prototype.oa.call(this)},v(Vp,dp);var Xp={Point:function(a){return new H(a.coordinates)},LineString:function(a){return new R(a.coordinates)},Polygon:function(a){return new I(a.coordinates)},MultiPoint:function(a){return new jp(a.coordinates)},MultiLineString:function(a){return new S(a.coordinates)},MultiPolygon:function(a){return new T(a.coordinates)},GeometryCollection:function(a,b){return a=a.geometries.map(function(a){return Wp(a,b)}),new Rp(a)}},Zp={Point:function(a){return{type:"Point",coordinates:a.V()}},LineString:function(a){return{type:"LineString",coordinates:a.V()}},Polygon:function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.V(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.V()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.V()}},MultiPolygon:function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.V(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.a.map(function(a){var c=xa({},b);return delete c.featureProjection,Yp(a,c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};(k=Vp.prototype).ad=function(a,b){b=Wp((a="Feature"===a.type?a:{type:"Feature",geometry:a}).geometry,b);var c=new Eo;return this.b&&c.cd(this.b),c.Va(b),void 0!==a.id&&c.pc(a.id),a.properties&&c.J(a.properties),c},k.Sg=function(a,b){if("FeatureCollection"===a.type){var d,c=[],e=0;for(d=(a=a.features).length;e<d;++e)c.push(this.ad(a[e],b))}else c=[this.ad(a,b)];return c},k.Wg=function(a,b){return Wp(a,b)},k.Zg=function(a){var b;return(a=a.crs)?"name"==a.type?b=Ic(a.properties.name):"EPSG"==a.type?b=Ic("EPSG:"+a.properties.code):eb(!1,36):b=this.defaultDataProjection,b},k.kd=function(a,b){b=bp(this,b);var c={type:"Feature"},d=a.a;return void 0!==d&&(c.id=d),(d=a.W())?c.geometry=Yp(d,b):c.geometry=null,b=a.K(),delete b[a.c],Ba(b)?c.properties=null:c.properties=b,c},k.xe=function(a,b){b=bp(this,b);var d,c=[],e=0;for(d=a.length;e<d;++e)c.push(this.kd(a[e],b));return{type:"FeatureCollection",features:c}},k.ze=function(a,b){return Yp(a,bp(this,b))},v($p,$o),(k=$p.prototype).T=function(){return"xml"},k.Zb=function(a,b){return Ko(a)?aq(this,a,b):Lo(a)?this.Rg(a,b):"string"==typeof a?(a=Mo(a),aq(this,a,b)):null},k.Rg=function(){return null},k.Ua=function(a,b){return Ko(a)?bq(this,a,b):Lo(a)?this.Ec(a,b):"string"==typeof a?(a=Mo(a),bq(this,a,b)):[]},k.bd=function(a,b){return Ko(a)?null:Lo(a)?this.Hj(a,b):("string"==typeof a&&Mo(a),null)},k.Hj=function(){return null},k.pb=function(a){return Ko(a)?this.Yg(a):Lo(a)?this.Bf(a):"string"==typeof a?(a=Mo(a),this.Yg(a)):null},k.Yg=function(){return this.defaultDataProjection},k.Bf=function(){return this.defaultDataProjection},k.Nd=function(a,b){return this.f.serializeToString(this.oh(a,b))},k.oh=function(){return null},k.bc=function(a,b){return a=this.cc(a,b),this.f.serializeToString(a)},k.cc=function(){return null},k.ld=function(a,b){return a=this.ye(a,b),this.f.serializeToString(a)},k.ye=function(){return null},v(cq,$p);var dq=/^[\s\xa0]*$/;(k=cq.prototype).me=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?Q([],this.b,a,b,this):Q(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var h,e=b[0],f=e.featureType,g=e.featureNS;if(!f&&a.childNodes){f=[],g={};var l=0;for(h=a.childNodes.length;l<h;++l){var m=a.childNodes[l];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var p="",q=0;m=m.namespaceURI;for(var t in g){if(g[t]===m){p=t;break}++q}p||(p="p"+q,g[p]=m),f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"==typeof g&&(l=g,g={},g.p0=l),e={},f=Array.isArray(f)?f:[f];for(var u in g){for(n={},l=0,h=f.length;l<h;++l)(-1===f[l].indexOf(":")?"p0":f[l].split(":")[0])===u&&(n[f[l].split(":").pop()]="featureMembers"==c?Oo(this.Qg,this):Po(this.Qg,this));e[g[u]]=n}d="featureMember"==c?Q(void 0,e,a,b):Q([],e,a,b)}return null===d&&(d=[]),d},k.yf=function(a,b){var c=b[0];if(c.srsName=a.firstElementChild.getAttribute("srsName"),a=Q(null,this.sh,a,b,this))return cp(a,!1,c)},k.Qg=function(a,b){var c;(c=a.getAttribute("fid"))||(c=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var e,d={};for(a=a.firstElementChild;a;a=a.nextElementSibling){var f=a.localName;if(0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)){var g=Io(a,!1);dq.test(g)&&(g=void 0),d[f]=g}else"boundedBy"!==f&&(e=f),d[f]=this.yf(a,b)}return b=new Eo(d),e&&b.cd(e),c&&b.pc(c),b},k.Mj=function(a,b){if(a=this.xf(a,b))return(b=new H(null)).ba("XYZ",a),b},k.Kj=function(a,b){if(a=Q([],this.vk,a,b,this))return new jp(a)},k.Jj=function(a,b){if(a=Q([],this.uk,a,b,this))return b=new S(null),ip(b,a),b},k.Lj=function(a,b){if(a=Q([],this.wk,a,b,this))return b=new T(null),lp(b,a),b},k.Dj=function(a,b){Wo(this.zk,a,b,this)},k.li=function(a,b){Wo(this.sk,a,b,this)},k.Ej=function(a,b){Wo(this.Ak,a,b,this)},k.zf=function(a,b){if(a=this.xf(a,b))return(b=new R(null)).ba("XYZ",a),b},k.Cq=function(a,b){if(a=Q(null,this.Ae,a,b,this))return a},k.Ij=function(a,b){if(a=this.xf(a,b))return b=new jm(null),km(b,"XYZ",a),b},k.Af=function(a,b){if((a=Q([null],this.Of,a,b,this))&&a[0]){b=new I(null);var e,c=a[0],d=[c.length],f=1;for(e=a.length;f<e;++f)gd(c,a[f]),d.push(c.length);return b.ba("XYZ",c,d),b}},k.xf=function(a,b){return Q(null,this.Ae,a,b,this)},k.vk={"http://www.opengis.net/gml":{pointMember:Oo(cq.prototype.Dj),pointMembers:Oo(cq.prototype.Dj)}},k.uk={"http://www.opengis.net/gml":{lineStringMember:Oo(cq.prototype.li),lineStringMembers:Oo(cq.prototype.li)}},k.wk={"http://www.opengis.net/gml":{polygonMember:Oo(cq.prototype.Ej),polygonMembers:Oo(cq.prototype.Ej)}},k.zk={"http://www.opengis.net/gml":{Point:Oo(cq.prototype.xf)}},k.sk={"http://www.opengis.net/gml":{LineString:Oo(cq.prototype.zf)}},k.Ak={"http://www.opengis.net/gml":{Polygon:Oo(cq.prototype.Af)}},k.Be={"http://www.opengis.net/gml":{LinearRing:Po(cq.prototype.Cq)}},k.Hj=function(a,b){return(a=this.yf(a,[ap(this,a,b||{})]))?a:null},k.Ec=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&xa(c,ap(this,a,b)),this.me(a,[c])||[]},k.Bf=function(a){return Ic(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},v(pq,cq),(k=pq.prototype).Gq=function(a,b){if(a=Q([],this.tk,a,b,this))return b=new S(null),ip(b,a),b},k.Hq=function(a,b){if(a=Q([],this.xk,a,b,this))return b=new T(null),lp(b,a),b},k.Lh=function(a,b){Wo(this.pk,a,b,this)},k.hk=function(a,b){Wo(this.Ck,a,b,this)},k.Kq=function(a,b){return Q([null],this.yk,a,b,this)},k.Nq=function(a,b){return Q([null],this.Bk,a,b,this)},k.Lq=function(a,b){return Q([null],this.Of,a,b,this)},k.Fq=function(a,b){return Q([null],this.Ae,a,b,this)},k.Wm=function(a,b){(a=Q(void 0,this.Be,a,b,this))&&b[b.length-1].push(a)},k.hl=function(a,b){(a=Q(void 0,this.Be,a,b,this))&&(b[b.length-1][0]=a)},k.Nj=function(a,b){if((a=Q([null],this.Dk,a,b,this))&&a[0]){b=new I(null);var e,c=a[0],d=[c.length],f=1;for(e=a.length;f<e;++f)gd(c,a[f]),d.push(c.length);return b.ba("XYZ",c,d),b}},k.Fj=function(a,b){if(a=Q([null],this.qk,a,b,this))return(b=new R(null)).ba("XYZ",a),b},k.Bq=function(a,b){return a=Q([null],this.rk,a,b,this),pb(a[1][0],a[1][1],a[2][0],a[2][1])},k.Dq=function(a,b){var c=Io(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;a=[];for(var e;e=d.exec(c);)a.push(parseFloat(e[1])),c=c.substr(e[0].length);if(""===c){if(b=b[0].srsName,c="enu",b&&(c=Ic(b).a),"neu"===c)for(b=0,c=a.length;b<c;b+=3)d=a[b],a[b]=a[b+1],a[b+1]=d;if(2==(b=a.length)&&a.push(0),0!==b)return a}},k.Vg=function(a,b){var c=Io(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension");b="enu",d&&(b=Ic(d).a),c=c.split(/\s+/),d=2,a.getAttribute("srsDimension")?d=kq(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=kq(a.getAttribute("dimension")):e&&(d=kq(e));for(var f,g=[],h=0,l=c.length;h<l;h+=d)a=parseFloat(c[h]),e=parseFloat(c[h+1]),f=3===d?parseFloat(c[h+2]):0,"en"===b.substr(0,2)?g.push(a,e,f):g.push(e,a,f);return g},k.Ae={"http://www.opengis.net/gml":{pos:Po(pq.prototype.Dq),posList:Po(pq.prototype.Vg)}},k.Of={"http://www.opengis.net/gml":{interior:pq.prototype.Wm,exterior:pq.prototype.hl}},k.sh={"http://www.opengis.net/gml":{Point:Po(cq.prototype.Mj),MultiPoint:Po(cq.prototype.Kj),LineString:Po(cq.prototype.zf),MultiLineString:Po(cq.prototype.Jj),LinearRing:Po(cq.prototype.Ij),Polygon:Po(cq.prototype.Af),MultiPolygon:Po(cq.prototype.Lj),Surface:Po(pq.prototype.Nj),MultiSurface:Po(pq.prototype.Hq),Curve:Po(pq.prototype.Fj),MultiCurve:Po(pq.prototype.Gq),Envelope:Po(pq.prototype.Bq)}},k.tk={"http://www.opengis.net/gml":{curveMember:Oo(pq.prototype.Lh),curveMembers:Oo(pq.prototype.Lh)}},k.xk={"http://www.opengis.net/gml":{surfaceMember:Oo(pq.prototype.hk),surfaceMembers:Oo(pq.prototype.hk)}},k.pk={"http://www.opengis.net/gml":{LineString:Oo(cq.prototype.zf),Curve:Oo(pq.prototype.Fj)}},k.Ck={"http://www.opengis.net/gml":{Polygon:Oo(cq.prototype.Af),Surface:Oo(pq.prototype.Nj)}},k.Dk={"http://www.opengis.net/gml":{patches:Po(pq.prototype.Kq)}},k.qk={"http://www.opengis.net/gml":{segments:Po(pq.prototype.Nq)}},k.rk={"http://www.opengis.net/gml":{lowerCorner:Oo(pq.prototype.Vg),upperCorner:Oo(pq.prototype.Vg)}},k.yk={"http://www.opengis.net/gml":{PolygonPatch:Po(pq.prototype.Lq)}},k.Bk={"http://www.opengis.net/gml":{LineStringSegment:Po(pq.prototype.Fq)}},k.Ui=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Ho(a.namespaceURI,"pos"),a.appendChild(d),a=(c=c[c.length-1]).hasZ;var e=c.srsName;c="enu",e&&(c=Ic(e).a),b=b.V(),c="en"===c.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0],a&&(c+=" "+(b[2]||0)),mq(d,c)};var rq={"http://www.opengis.net/gml":{lowerCorner:M(mq),upperCorner:M(mq)}};(k=pq.prototype).io=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),Xo({node:a},rq,Uo,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)},k.Ri=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Ho(a.namespaceURI,"posList"),a.appendChild(d),qq(d,b,c)},k.ho=function(a,b){b=(a=b[b.length-1]).node;var c=a.exteriorWritten;return void 0===c&&(a.exteriorWritten=!0),Ho(b.namespaceURI,void 0!==c?"interior":"exterior")},k.jf=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName,"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.rd(),Xo({node:a,hasZ:e,srsName:d},sq,this.ho,b,c,void 0,this)):"Surface"===a.nodeName&&(e=Ho(a.namespaceURI,"patches"),a.appendChild(e),a=Ho(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.jf(a,b,c))},k.hf=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Ho(a.namespaceURI,"posList"),a.appendChild(d),qq(d,b,c)):"Curve"===a.nodeName&&(d=Ho(a.namespaceURI,"segments"),a.appendChild(d),a=Ho(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.hf(a,b,c))},k.Ti=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface,f&&a.setAttribute("srsName",f),b=b.sd(),Xo({node:a,hasZ:e,srsName:f,surface:d},tq,this.l,b,c,void 0,this)},k.jo=function(a,b,c){var d=c[c.length-1],e=d.srsName;d=d.hasZ,e&&a.setAttribute("srsName",e),b=b.Bd(),Xo({node:a,hasZ:d,srsName:e},uq,So("pointMember"),b,c,void 0,this)},k.Si=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve,f&&a.setAttribute("srsName",f),b=b.Rc(),Xo({node:a,hasZ:e,srsName:f,curve:d},vq,this.l,b,c,void 0,this)},k.Vi=function(a,b,c){var d=Ho(a.namespaceURI,"LinearRing");a.appendChild(d),this.Ri(d,b,c)},k.Wi=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.jf(d,b,c))},k.ko=function(a,b,c){var d=Ho(a.namespaceURI,"Point");a.appendChild(d),this.Ui(d,b,c)},k.Qi=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.hf(d,b,c))},k.Ad=function(a,b,c){var d=c[c.length-1],e=xa({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?Wc(b,d.featureProjection,d.dataProjection):b:cp(b,!0,d),Xo(e,wq,this.a,[f],c,void 0,this)},k.Pi=function(a,b,c){var d=b.a;d&&a.setAttribute("fid",d);var e=(d=c[c.length-1]).featureNS,f=b.c;d.qb||(d.qb={},d.qb[e]={});var g=b.K();b=[];var h=[];for(m in g){var l=g[m];null!==l&&(b.push(m),h.push(l),m==f||l instanceof Td?m in d.qb[e]||(d.qb[e][m]=M(this.Ad,this)):m in d.qb[e]||(d.qb[e][m]=M(mq)))}var m=xa({},d);m.node=a,Xo(m,d.qb,So(void 0,e),h,c,b)};var tq={"http://www.opengis.net/gml":{surfaceMember:M(pq.prototype.Wi),polygonMember:M(pq.prototype.Wi)}},uq={"http://www.opengis.net/gml":{pointMember:M(pq.prototype.ko)}},vq={"http://www.opengis.net/gml":{lineStringMember:M(pq.prototype.Qi),curveMember:M(pq.prototype.Qi)}},sq={"http://www.opengis.net/gml":{exterior:M(pq.prototype.Vi),interior:M(pq.prototype.Vi)}},wq={"http://www.opengis.net/gml":{Curve:M(pq.prototype.hf),MultiCurve:M(pq.prototype.Si),Point:M(pq.prototype.Ui),MultiPoint:M(pq.prototype.jo),LineString:M(pq.prototype.hf),MultiLineString:M(pq.prototype.Si),LinearRing:M(pq.prototype.Ri),Polygon:M(pq.prototype.jf),MultiPolygon:M(pq.prototype.Ti),Surface:M(pq.prototype.jf),MultiSurface:M(pq.prototype.Ti),Envelope:M(pq.prototype.io)}},xq={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};pq.prototype.l=function(a,b){return Ho("http://www.opengis.net/gml",xq[b[b.length-1].node.nodeName])},pq.prototype.a=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,e=c.curve;return c=c.multiCurve,Array.isArray(a)?a="Envelope":"MultiPolygon"===(a=a.T())&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"LineString"===a&&!0===e?a="Curve":"MultiLineString"===a&&!0===c&&(a="MultiCurve"),Ho("http://www.opengis.net/gml",a)},pq.prototype.ye=function(a,b){b=bp(this,b);var c=Ho("http://www.opengis.net/gml","geom"),d={node:c,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g};return b&&xa(d,b),this.Ad(c,a,[d]),c},pq.prototype.cc=function(a,b){b=bp(this,b);var c=Ho("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};b&&xa(d,b);var e=(b=[d])[b.length-1];d=e.featureType;var f=e.featureNS,g={};return g[f]={},g[f][d]=M(this.Pi,this),e=xa({},e),e.node=c,Xo(e,g,So(d,f),a,b),c},v(yq,cq),(k=yq.prototype).Gj=function(a,b){a=Io(a,!1).replace(/^\s*|\s*$/g,"");var c=b[0].srsName;b="enu",c&&(c=Ic(c))&&(b=c.a);for(var d,e,f=[],g=0,h=(a=a.trim().split(/\s+/)).length;g<h;g++)e=a[g].split(/,+/),c=parseFloat(e[0]),d=parseFloat(e[1]),e=3===e.length?parseFloat(e[2]):0,"en"===b.substr(0,2)?f.push(c,d,e):f.push(d,c,e);return f},k.zq=function(a,b){return a=Q([null],this.nk,a,b,this),pb(a[1][0],a[1][1],a[1][3],a[1][4])},k.Um=function(a,b){(a=Q(void 0,this.Be,a,b,this))&&b[b.length-1].push(a)},k.iq=function(a,b){(a=Q(void 0,this.Be,a,b,this))&&(b[b.length-1][0]=a)},k.Ae={"http://www.opengis.net/gml":{coordinates:Po(yq.prototype.Gj)}},k.Of={"http://www.opengis.net/gml":{innerBoundaryIs:yq.prototype.Um,outerBoundaryIs:yq.prototype.iq}},k.nk={"http://www.opengis.net/gml":{coordinates:Oo(yq.prototype.Gj)}},k.sh={"http://www.opengis.net/gml":{Point:Po(cq.prototype.Mj),MultiPoint:Po(cq.prototype.Kj),LineString:Po(cq.prototype.zf),MultiLineString:Po(cq.prototype.Jj),LinearRing:Po(cq.prototype.Ij),Polygon:Po(cq.prototype.Af),MultiPolygon:Po(cq.prototype.Lj),Box:Po(yq.prototype.zq)}},k.Cg=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface;return c=c.multiCurve,Array.isArray(a)?a="Envelope":"MultiPolygon"===(a=a.T())&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"MultiLineString"===a&&!0===c&&(a="MultiCurve"),Ho("http://www.opengis.net/gml",a)},k.Hi=function(a,b,c){var d=c[c.length-1],e=xa({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?Wc(b,d.featureProjection,d.dataProjection):b:cp(b,!0,d),Xo(e,zq,this.Cg,[f],c,void 0,this)},k.ff=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Aq(a.namespaceURI),a.appendChild(d),Bq(d,b,c)):"Curve"===a.nodeName&&(d=Ho(a.namespaceURI,"segments"),a.appendChild(d),a=Ho(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.ff(a,b,c))},k.gf=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName,"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.rd(),Xo({node:a,hasZ:e,srsName:d},Dq,this.bo,b,c,void 0,this)):"Surface"===a.nodeName&&(e=Ho(a.namespaceURI,"patches"),a.appendChild(e),a=Ho(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.gf(a,b,c))},k.bo=function(a,b){b=(a=b[b.length-1]).node;var c=a.exteriorWritten;return void 0===c&&(a.exteriorWritten=!0),Ho(b.namespaceURI,void 0!==c?"innerBoundaryIs":"outerBoundaryIs")},k.Ni=function(a,b,c){var d=Ho(a.namespaceURI,"LinearRing");a.appendChild(d),this.Ji(d,b,c)},k.Ki=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve,f&&a.setAttribute("srsName",f),b=b.Rc(),Xo({node:a,hasZ:e,srsName:f,curve:d},Eq,this.a,b,c,void 0,this)},k.Mi=function(a,b,c){var d=c[c.length-1];c=d.hasZ;var e=d.srsName;e&&a.setAttribute("srsName",e),d=Aq(a.namespaceURI),a.appendChild(d),mq(d,a=Cq(a=b.V(),e,c))},k.eo=function(a,b,c){var d=c[c.length-1],e=d.hasZ;(d=d.srsName)&&a.setAttribute("srsName",d),b=b.Bd(),Xo({node:a,hasZ:e,srsName:d},Fq,So("pointMember"),b,c,void 0,this)},k.fo=function(a,b,c){var d=Ho(a.namespaceURI,"Point");a.appendChild(d),this.Mi(d,b,c)},k.Ii=function(a,b,c){var d=this.Cg(b,c);d&&(a.appendChild(d),this.ff(d,b,c))},k.Ji=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Aq(a.namespaceURI),a.appendChild(d),Bq(d,b,c)},k.Li=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface,f&&a.setAttribute("srsName",f),b=b.sd(),Xo({node:a,hasZ:e,srsName:f,surface:d},Gq,this.a,b,c,void 0,this)},k.Oi=function(a,b,c){var d=this.Cg(b,c);d&&(a.appendChild(d),this.gf(d,b,c))},k.co=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),Xo({node:a},Hq,Uo,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};var zq={"http://www.opengis.net/gml":{Curve:M(yq.prototype.ff),MultiCurve:M(yq.prototype.Ki),Point:M(yq.prototype.Mi),MultiPoint:M(yq.prototype.eo),LineString:M(yq.prototype.ff),MultiLineString:M(yq.prototype.Ki),LinearRing:M(yq.prototype.Ji),Polygon:M(yq.prototype.gf),MultiPolygon:M(yq.prototype.Li),Surface:M(yq.prototype.gf),MultiSurface:M(yq.prototype.Li),Envelope:M(yq.prototype.co)}},Dq={"http://www.opengis.net/gml":{outerBoundaryIs:M(yq.prototype.Ni),innerBoundaryIs:M(yq.prototype.Ni)}},Fq={"http://www.opengis.net/gml":{pointMember:M(yq.prototype.fo)}},Eq={"http://www.opengis.net/gml":{lineStringMember:M(yq.prototype.Ii),curveMember:M(yq.prototype.Ii)}};yq.prototype.a=function(a,b){return Ho("http://www.opengis.net/gml",Iq[b[b.length-1].node.nodeName])};var Iq={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Gq={"http://www.opengis.net/gml":{surfaceMember:M(yq.prototype.Oi),polygonMember:M(yq.prototype.Oi)}},Hq={"http://www.opengis.net/gml":{lowerCorner:M(mq),upperCorner:M(mq)}};v(Jq,$p);var Kq=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Wq={rte:Qq,trk:Sq,wpt:Uq},Xq=P(Kq,{rte:Oo(Qq),trk:Oo(Sq),wpt:Oo(Uq)}),Oq=P(Kq,{text:L(U,"linkText"),type:L(U,"linkType")}),Rq=P(Kq,{name:L(U),cmt:L(U),desc:L(U),src:L(U),link:Nq,number:L(jq),extensions:Pq,type:L(U),rtept:function(a,b){var c=Q({},Yq,a,b);c&&(b=b[b.length-1],Lq(b.flatCoordinates,b.layoutOptions,a,c))}}),Yq=P(Kq,{ele:L(hq),time:L(gq)}),Tq=P(Kq,{name:L(U),cmt:L(U),desc:L(U),src:L(U),link:Nq,number:L(jq),type:L(U),extensions:Pq,trkseg:function(a,b){var c=b[b.length-1];Wo(Zq,a,b),c.ends.push(c.flatCoordinates.length)}}),Zq=P(Kq,{trkpt:function(a,b){var c=Q({},$q,a,b);c&&(b=b[b.length-1],Lq(b.flatCoordinates,b.layoutOptions,a,c))}}),$q=P(Kq,{ele:L(hq),time:L(gq)}),Vq=P(Kq,{ele:L(hq),time:L(gq),magvar:L(hq),geoidheight:L(hq),name:L(U),cmt:L(U),desc:L(U),src:L(U),link:Nq,sym:L(U),type:L(U),fix:L(U),sat:L(jq),hdop:L(hq),vdop:L(hq),pdop:L(hq),ageofdgpsdata:L(hq),dgpsid:L(jq),extensions:Pq});Jq.prototype.Rg=function(a,b){if(!ed(Kq,a.namespaceURI))return null;var c=Wq[a.localName];return c&&(a=c(a,[ap(this,a,b)]))?(ar(this,[a]),a):null},Jq.prototype.Ec=function(a,b){return ed(Kq,a.namespaceURI)&&"gpx"==a.localName&&(a=Q([],Xq,a,[ap(this,a,b)]))?(ar(this,a),a):[]};var dr=["text","type"],cr=P(Kq,{text:M(mq),type:M(mq)}),ir=P(Kq,"name cmt desc src link number type rtept".split(" ")),jr=P(Kq,{name:M(mq),cmt:M(mq),desc:M(mq),src:M(mq),link:M(br),number:M(oq),type:M(mq),rtept:Ro(M(er))}),fr=P(Kq,["ele","time"]),kr=P(Kq,"name cmt desc src link number type trkseg".split(" ")),nr=P(Kq,{name:M(mq),cmt:M(mq),desc:M(mq),src:M(mq),link:M(br),number:M(oq),type:M(mq),trkseg:Ro(M(function(a,b,c){Xo({node:a,geometryLayout:b.la,properties:{}},lr,mr,b.V(),c)}))}),mr=So("trkpt"),lr=P(Kq,{trkpt:M(er)}),gr=P(Kq,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),hr=P(Kq,{ele:M(nq),time:M(function(a,b){b=(b=new Date(1e3*b)).getUTCFullYear()+"-"+pd(b.getUTCMonth()+1)+"-"+pd(b.getUTCDate())+"T"+pd(b.getUTCHours())+":"+pd(b.getUTCMinutes())+":"+pd(b.getUTCSeconds())+"Z",a.appendChild(Go.createTextNode(b))}),magvar:M(nq),geoidheight:M(nq),name:M(mq),cmt:M(mq),desc:M(mq),src:M(mq),link:M(br),sym:M(mq),type:M(mq),fix:M(mq),sat:M(oq),hdop:M(nq),vdop:M(nq),pdop:M(nq),ageofdgpsdata:M(nq),dgpsid:M(oq)}),or={Point:"wpt",LineString:"rte",MultiLineString:"trk"},qr=P(Kq,{rte:M(function(a,b,c){var d=c[0],e=b.K();a={node:a,properties:e},(b=b.W())&&(b=cp(b,!0,d),a.geometryLayout=b.la,e.rtept=b.V()),e=Vo(e,d=ir[c[c.length-1].node.namespaceURI]),Xo(a,jr,Uo,e,c,d)}),trk:M(function(a,b,c){var d=c[0],e=b.K();a={node:a,properties:e},(b=b.W())&&(b=cp(b,!0,d),e.trkseg=b.Rc()),e=Vo(e,d=kr[c[c.length-1].node.namespaceURI]),Xo(a,nr,Uo,e,c,d)}),wpt:M(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.K(),(b=b.W())&&(b=cp(b,!0,d),e.geometryLayout=b.la,er(a,b.V(),c))})});Jq.prototype.cc=function(a,b){b=bp(this,b);var c=Ho("http://www.topografix.com/GPX/1/1","gpx");return c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),c.setAttribute("version","1.1"),c.setAttribute("creator","OpenLayers"),Xo({node:c},qr,pr,a,[b]),c},v(rr,$o),(k=rr.prototype).T=function(){return"text"},k.Zb=function(a,b){return this.le(sr(a),bp(this,b))},k.Ua=function(a,b){return this.Tg(sr(a),bp(this,b))},k.bd=function(a,b){return this.Jd(sr(a),bp(this,b))},k.pb=function(){return this.defaultDataProjection},k.Nd=function(a,b){return this.we(a,bp(this,b))},k.bc=function(a,b){return this.ph(a,bp(this,b))},k.ld=function(a,b){return this.Od(a,bp(this,b))},v(tr,rr);var ur=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,vr=/^H.([A-Z]{3}).*?:(.*)/,wr=/^HFDTE(\d{2})(\d{2})(\d{2})/,xr=/\r\n|\r|\n/;(k=tr.prototype).le=function(a,b){var c=this.b,d=a.split(xr);a={};var m,e=[],f=2e3,g=0,h=1,l=-1,n=0;for(m=d.length;n<m;++n){var q,p=d[n];if("B"==p.charAt(0)){if(q=ur.exec(p)){p=parseInt(q[1],10);var t=parseInt(q[2],10),u=parseInt(q[3],10),x=parseInt(q[4],10)+parseInt(q[5],10)/6e4;"S"==q[6]&&(x=-x);var B=parseInt(q[7],10)+parseInt(q[8],10)/6e4;"W"==q[9]&&(B=-B),e.push(B,x),"none"!=c&&e.push("gps"==c?parseInt(q[11],10):"barometric"==c?parseInt(q[12],10):0),(q=Date.UTC(f,g,h,p,t,u))<l&&(q=Date.UTC(f,g,h+1,p,t,u)),e.push(q/1e3),l=q}}else"H"==p.charAt(0)&&((q=wr.exec(p))?(h=parseInt(q[1],10),g=parseInt(q[2],10)-1,f=2e3+parseInt(q[3],10)):(q=vr.exec(p))&&(a[q[1]]=q[2].trim()))}return 0===e.length?null:((d=new R(null)).ba("none"==c?"XYM":"XYZM",e),(b=new Eo(cp(d,!1,b))).J(a),b)},k.Tg=function(a,b){return(a=this.le(a,b))?[a]:[]},k.we=function(){},k.ph=function(){},k.Od=function(){},k.Jd=function(){},v(yr,Pa),yr.prototype.s=function(){this.f=3,this.i.forEach(Da),this.i=null,this.b("change")},yr.prototype.H=function(){if(this.f=2,this.a&&(this.N.width=this.a[0],this.N.height=this.a[1]),this.a=[this.N.width,this.N.height],this.i.forEach(Da),this.i=null,zr(this),!this.o&&null!==this.g){this.c.width=this.N.width,this.c.height=this.N.height;var a=this.c.getContext("2d");a.drawImage(this.N,0,0);for(var b=a.getImageData(0,0,this.N.width,this.N.height),c=b.data,d=this.g[0]/255,e=this.g[1]/255,f=this.g[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")},yr.prototype.Z=function(){return this.c?this.c:this.N},yr.prototype.load=function(){if(0==this.f){this.f=1,this.i=[Ia(this.N,"error",this.s,this),Ia(this.N,"load",this.H,this)];try{this.N.src=this.l}catch(a){this.s()}}},v(Dj,sk),(k=Dj.prototype).clone=function(){var a=this.Z(1);if(2===this.b.f)if("IMG"===a.tagName.toUpperCase())var b=a.cloneNode(!0);else{var c=(b=document.createElement("canvas")).getContext("2d");b.width=a.width,b.height=a.height,c.drawImage(a,0,0)}return new Dj({anchor:this.l.slice(),anchorOrigin:this.f,anchorXUnits:this.C,anchorYUnits:this.fa,crossOrigin:this.D,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:b||void 0,imgSize:b?this.b.a.slice():void 0,src:b?void 0:this.b.l,offset:this.ma.slice(),offsetOrigin:this.c,size:null!==this.B?this.B.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.s,rotation:this.g,rotateWithView:this.o})},k.Nc=function(){if(this.H)return this.H;var a=this.l,b=this.nc();if("fraction"==this.C||"fraction"==this.fa){if(!b)return null;a=this.l.slice(),"fraction"==this.C&&(a[0]*=b[0]),"fraction"==this.fa&&(a[1]*=b[1])}if("top-left"!=this.f){if(!b)return null;a===this.l&&(a=this.l.slice()),"top-right"!=this.f&&"bottom-right"!=this.f||(a[0]=-a[0]+b[0]),"bottom-left"!=this.f&&"bottom-right"!=this.f||(a[1]=-a[1]+b[1])}return this.H=a},k.Ip=function(){return this.j},k.Z=function(a){return this.b.Z(a)},k.Ne=function(){return this.b.a},k.pf=function(){return this.b.f},k.Jg=function(){var a=this.b;if(!a.j)if(a.o){var b=a.a[0],c=a.a[1],d=md(b,c);d.fillRect(0,0,b,c),a.j=d.canvas}else a.j=a.N;return a.j},k.Yc=function(){if(this.A)return this.A;var a=this.ma;if("top-left"!=this.c){var b=this.nc(),c=this.b.a;if(!b||!c)return null;a=a.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(a[0]=c[0]-b[0]-a[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(a[1]=c[1]-b[1]-a[1])}return this.A=a},k.Jp=function(){return this.b.l},k.nc=function(){return this.B?this.B:this.b.a},k.mi=function(a,b){return y(this.b,"change",a,b)},k.load=function(){this.b.load()},k.ik=function(a,b){Ja(this.b,"change",a,b)},(k=Ar.prototype).clone=function(){return new Ar({font:this.b,rotation:this.j,rotateWithView:this.l,scale:this.a,text:this.Ba(),textAlign:this.g,textBaseline:this.f,fill:this.va()?this.va().clone():void 0,stroke:this.ua()?this.ua().clone():void 0,offsetX:this.c,offsetY:this.i})},k.Cl=function(){return this.b},k.Sl=function(){return this.c},k.Tl=function(){return this.i},k.va=function(){return this.Za},k.Op=function(){return this.l},k.Pp=function(){return this.j},k.Qp=function(){return this.a},k.ua=function(){return this.Ya},k.Ba=function(){return this.ya},k.cm=function(){return this.g},k.dm=function(){return this.f},k.Wj=function(a){this.b=a},k.ak=function(a){this.c=a},k.bk=function(a){this.i=a},k.Ff=function(a){this.Za=a},k.Rp=function(a){this.j=a},k.xj=function(a){this.a=a},k.Gf=function(a){this.Ya=a},k.Kd=function(a){this.ya=a},k.dk=function(a){this.g=a},k.rr=function(a){this.f=a};var Cr,Dr,Er,Fr,Hr,Gr,Ir,Jr,Kr,Lr,Mr,Nr,Or,Pr,Qr;v(Br,$p);var Rr=["http://www.google.com/kml/ext/2.2"],Sr=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Tr={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},us=P(Sr,{displayName:L(U),value:L(U)}),rs=P(Sr,{Data:function(a,b){var c=a.getAttribute("name");Wo(us,a,b),a=b[b.length-1],null!==c?a[c]=a.value:null!==a.displayName&&(a[a.displayName]=a.value),delete a.value},SchemaData:function(a,b){Wo(vs,a,b)}}),ts=P(Sr,{LatLonAltBox:function(a,b){(a=Q({},ws,a,b))&&(b=b[b.length-1],b.extent=[parseFloat(a.west),parseFloat(a.south),parseFloat(a.east),parseFloat(a.north)],b.altitudeMode=a.altitudeMode,b.minAltitude=parseFloat(a.minAltitude),b.maxAltitude=parseFloat(a.maxAltitude))},Lod:function(a,b){(a=Q({},xs,a,b))&&(b=b[b.length-1],b.minLodPixels=parseFloat(a.minLodPixels),b.maxLodPixels=parseFloat(a.maxLodPixels),b.minFadeExtent=parseFloat(a.minFadeExtent),b.maxFadeExtent=parseFloat(a.maxFadeExtent))}}),ws=P(Sr,{altitudeMode:L(U),minAltitude:L(hq),maxAltitude:L(hq),north:L(hq),south:L(hq),east:L(hq),west:L(hq)}),xs=P(Sr,{minLodPixels:L(hq),maxLodPixels:L(hq),minFadeExtent:L(hq),maxFadeExtent:L(hq)}),fs=P(Sr,{extrude:L(eq),tessellate:L(eq),altitudeMode:L(U)}),bs=P(Sr,{coordinates:Po(Yr)}),ns=P(Sr,{innerBoundaryIs:function(a,b){(a=Q(void 0,ys,a,b))&&b[b.length-1].push(a)},outerBoundaryIs:function(a,b){(a=Q(void 0,zs,a,b))&&(b[b.length-1][0]=a)}}),ds=P(Sr,{when:function(a,b){b=b[b.length-1].lk,a=Io(a,!1),a=Date.parse(a),b.push(isNaN(a)?0:a)}},P(Rr,{coord:function(a,b){b=b[b.length-1].v,a=Io(a,!1),(a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a))?b.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),0):b.push(0,0,0,0)}})),gs=P(Sr,{coordinates:Po(Yr)}),As=P(Sr,{href:L(Zr)},P(Rr,{x:L(hq),y:L(hq),w:L(hq),h:L(hq)})),Bs=P(Sr,{Icon:L(function(a,b){return(a=Q({},As,a,b))?a:null}),heading:L(hq),hotSpot:L(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits"),d="insetPixels"!==b?"insetPixels"!==c?"bottom-left":"top-left":"insetPixels"!==c?"bottom-right":"top-right";return{x:parseFloat(a.getAttribute("x")),qh:Tr[b],y:parseFloat(a.getAttribute("y")),rh:Tr[c],origin:d}}),scale:L($r)}),ys=P(Sr,{LinearRing:Po(as)}),Cs=P(Sr,{color:L(Xr),scale:L($r)}),Ds=P(Sr,{color:L(Xr),width:L(hq)}),js=P(Sr,{LineString:Oo(es),LinearRing:Oo(hs),MultiGeometry:Oo(is),Point:Oo(ls),Polygon:Oo(ms)}),Es=P(Rr,{Track:Oo(cs)}),Gs=P(Sr,{ExtendedData:qs,Region:ss,Link:function(a,b){Wo(Fs,a,b)},address:L(U),description:L(U),name:L(U),open:L(eq),phoneNumber:L(U),visibility:L(eq)}),Fs=P(Sr,{href:L(Zr)}),zs=P(Sr,{LinearRing:Po(as)}),Hs=P(Sr,{Style:L(os),key:L(U),styleUrl:L(Zr)}),Js=P(Sr,{ExtendedData:qs,Region:ss,MultiGeometry:L(is,"geometry"),LineString:L(es,"geometry"),LinearRing:L(hs,"geometry"),Point:L(ls,"geometry"),Polygon:L(ms,"geometry"),Style:L(os),StyleMap:function(a,b){(a=Q(void 0,Is,a,b))&&(b=b[b.length-1],Array.isArray(a)?b.Style=a:"string"==typeof a?b.styleUrl=a:eb(!1,38))},address:L(U),description:L(U),name:L(U),open:L(eq),phoneNumber:L(U),styleUrl:L(Zr),visibility:L(eq)},P(Rr,{MultiTrack:L(function(a,b){if(a=Q([],Es,a,b))return b=new S(null),ip(b,a),b},"geometry"),Track:L(cs,"geometry")})),Ks=P(Sr,{color:L(Xr),fill:L(eq),outline:L(eq)}),vs=P(Sr,{SimpleData:function(a,b){var c=a.getAttribute("name");null!==c&&(a=U(a),b[b.length-1][c]=a)}}),ps=P(Sr,{IconStyle:function(a,b){if(a=Q({},Bs,a,b)){b=b[b.length-1];var e,c="Icon"in a?a.Icon:{},d=!("Icon"in a)||0<Object.keys(c).length,f=c.href;f?e=f:d&&(e=Jr),f="bottom-left";var g=a.hotSpot;if(g){var h=[g.x,g.y],l=g.qh,m=g.rh;f=g.origin}else e===Jr?(h=Fr,l=Hr,m=Gr):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(e)&&(h=[.5,0],m=l="fraction");var n;g=c.x;var p=c.y;void 0!==g&&void 0!==p&&(n=[g,p]);var q;g=c.w,c=c.h,void 0!==g&&void 0!==c&&(q=[g,c]);var t;void 0!==(c=a.heading)&&(t=Rb(c)),a=a.scale,d?(e==Jr&&(q=Ir,void 0===a&&(a=Kr)),e=new Dj({anchor:h,anchorOrigin:f,anchorXUnits:l,anchorYUnits:m,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:t,scale:a,size:q,src:e}),b.imageStyle=e):b.imageStyle=Mr}},LabelStyle:function(a,b){(a=Q({},Cs,a,b))&&(b[b.length-1].textStyle=new Ar({fill:new wk({color:"color"in a?a.color:Dr}),scale:a.scale}))},LineStyle:function(a,b){(a=Q({},Ds,a,b))&&(b[b.length-1].strokeStyle=new Pg({color:"color"in a?a.color:Dr,width:"width"in a?a.width:1}))},PolyStyle:function(a,b){if(a=Q({},Ks,a,b)){(b=b[b.length-1]).fillStyle=new wk({color:"color"in a?a.color:Dr});var c=a.fill;void 0!==c&&(b.fill=c),void 0!==(a=a.outline)&&(b.outline=a)}}}),Is=P(Sr,{Pair:function(a,b){if(a=Q({},Hs,a,b)){var c=a.key;c&&"normal"==c&&((c=a.styleUrl)&&(b[b.length-1]=c),(a=a.Style)&&(b[b.length-1]=a))}}});(k=Br.prototype).Pg=function(a,b){if(a=Q([],P(Sr,{Document:No(this.Pg,this),Folder:No(this.Pg,this),Placemark:Oo(this.Xg,this),Style:this.Pq.bind(this),StyleMap:this.Oq.bind(this)}),a,b,this))return a},k.Xg=function(a,b){var c=Q({geometry:null},Js,a,b);if(c){var d=new Eo;return null!==(a=a.getAttribute("id"))&&d.pc(a),b=b[0],(a=c.geometry)&&cp(a,!1,b),d.Va(a),delete c.geometry,this.c&&d.Ag(Vr(c.Style,c.styleUrl,this.a,this.b,this.g)),delete c.Style,d.J(c),d}},k.Pq=function(a,b){var c=a.getAttribute("id");null!==c&&(b=os(a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[a]=b)},k.Oq=function(a,b){var c=a.getAttribute("id");null!==c&&(b=Q(void 0,Is,a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[a]=b)},k.Rg=function(a,b){return ed(Sr,a.namespaceURI)&&(a=this.Xg(a,[ap(this,a,b)]))?a:null},k.Ec=function(a,b){if(!ed(Sr,a.namespaceURI))return[];var c=a.localName;if("Document"==c||"Folder"==c)return(c=this.Pg(a,[ap(this,a,b)]))?c:[];if("Placemark"==c)return(b=this.Xg(a,[ap(this,a,b)]))?[b]:[];if("kml"==c){for(c=[],a=a.firstElementChild;a;a=a.nextElementSibling){var d=this.Ec(a,b);d&&gd(c,d)}return c}return[]},k.Iq=function(a){return Ko(a)?Ls(this,a):Lo(a)?Ms(this,a):"string"==typeof a?(a=Mo(a),Ls(this,a)):void 0},k.Jq=function(a){var b=[];return Ko(a)?gd(b,Ns(this,a)):Lo(a)?gd(b,Os(this,a)):"string"==typeof a&&(a=Mo(a),gd(b,Ns(this,a))),b},k.Mq=function(a){var b=[];return Ko(a)?gd(b,Ps(this,a)):Lo(a)?gd(b,this.Cf(a)):"string"==typeof a&&(a=Mo(a),gd(b,Ps(this,a))),b},k.Cf=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ed(Sr,b.namespaceURI)&&"Region"==b.localName){var d=Q({},ts,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!ed(Sr,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||gd(c,this.Cf(b));return c};var lt=P(Sr,["Document","Placemark"]),ot=P(Sr,{Document:M(function(a,b,c){Xo({node:a},mt,nt,b,c,void 0,this)}),Placemark:M($s)}),mt=P(Sr,{Placemark:M($s)}),pt=P(Sr,{Data:M(function(a,b,c){a.setAttribute("name",b.name),a={node:a},"object"==typeof(b=b.value)?(null!==b&&b.displayName&&Xo(a,pt,Uo,[b.displayName],c,["displayName"]),null!==b&&b.value&&Xo(a,pt,Uo,[b.value],c,["value"])):Xo(a,pt,Uo,[b],c,["value"])}),value:M(function(a,b){mq(a,b)}),displayName:M(function(a,b){a.appendChild(Go.createCDATASection(b))})}),qt={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},rt=P(Sr,["href"],P(Rr,["x","y","w","h"])),st=P(Sr,{href:M(mq)},P(Rr,{x:M(nq),y:M(nq),w:M(nq),h:M(nq)})),tt=P(Sr,["scale","heading","Icon","hotSpot"]),vt=P(Sr,{Icon:M(function(a,b,c){a={node:a};var d=rt[c[c.length-1].node.namespaceURI],e=Vo(b,d);Xo(a,st,Uo,e,c,d),e=Vo(b,d=rt[Rr[0]]),Xo(a,st,ut,e,c,d)}),heading:M(nq),hotSpot:M(function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.qh),a.setAttribute("yunits",b.rh)}),scale:M(kt)}),wt=P(Sr,["color","scale"]),xt=P(Sr,{color:M(Qs),scale:M(kt)}),yt=P(Sr,["color","width"]),zt=P(Sr,{color:M(Qs),width:M(nq)}),Ys=P(Sr,{LinearRing:M(dt)}),Ws=P(Sr,{LineString:M(dt),Point:M(dt),Polygon:M(gt),GeometryCollection:M(Rs)}),ct=P(Sr,"name open visibility address phoneNumber description styleUrl Style".split(" ")),at=P(Sr,{ExtendedData:M(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)Xo(a,pt,At,[{name:d[f],value:b[f]}],c)}),MultiGeometry:M(Rs),LineString:M(dt),LinearRing:M(dt),Point:M(dt),Polygon:M(gt),Style:M(function(a,b,c){a={node:a};var d={},e=b.va(),f=b.ua(),g=b.Z();b=b.Ba(),g instanceof Dj&&(d.IconStyle=g),b&&(d.LabelStyle=b),f&&(d.LineStyle=f),e&&(d.PolyStyle=e),d=Vo(d,b=Bt[c[c.length-1].node.namespaceURI]),Xo(a,Ct,Uo,d,c,b)}),address:M(mq),description:M(mq),name:M(mq),open:M(lq),phoneNumber:M(mq),styleUrl:M(mq),visibility:M(lq)}),et=P(Sr,["extrude","tessellate","altitudeMode","coordinates"]),ft=P(Sr,{extrude:M(lq),tessellate:M(lq),altitudeMode:M(mq),coordinates:M(function(a,b,c){var d=(c=c[c.length-1]).layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:eb(!1,34);var f,g=b.length,h="";if(0<g){for(h+=b[0],d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}mq(a,h)})}),ht=P(Sr,{outerBoundaryIs:M(Xs),innerBoundaryIs:M(Xs)}),Dt=P(Sr,{color:M(Qs)}),Bt=P(Sr,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Ct=P(Sr,{IconStyle:M(function(a,b,c){a={node:a};var d={},e=b.nc(),f=b.Ne(),g={href:b.b.l};if(e){g.w=e[0],g.h=e[1];var h=b.Nc(),l=b.Yc();l&&f&&0!==l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1])),!h||h[0]===e[0]/2&&h[1]===e[1]/2||(d.hotSpot={x:h[0],qh:"pixels",y:e[1]-h[1],rh:"pixels"})}d.Icon=g,1!==(e=b.a)&&(d.scale=e),0!==(b=b.g)&&(d.heading=b),d=Vo(d,b=tt[c[c.length-1].node.namespaceURI]),Xo(a,vt,Uo,d,c,b)}),LabelStyle:M(function(a,b,c){a={node:a};var d={},e=b.va();e&&(d.color=e.b),(b=b.a)&&1!==b&&(d.scale=b),d=Vo(d,b=wt[c[c.length-1].node.namespaceURI]),Xo(a,xt,Uo,d,c,b)}),LineStyle:M(function(a,b,c){a={node:a};var d=yt[c[c.length-1].node.namespaceURI];b=Vo({color:b.b,width:b.c},d),Xo(a,zt,Uo,b,c,d)}),PolyStyle:M(function(a,b,c){Xo({node:a},Dt,Et,[b.b],c)})}),Et=So("color"),At=So("Data"),bt=So("ExtendedData"),it=So("innerBoundaryIs"),Ts=So("Point"),Us=So("LineString"),Zs=So("LinearRing"),Vs=So("Polygon"),jt=So("outerBoundaryIs");Br.prototype.cc=function(a,b){b=bp(this,b);var c=Ho(Sr[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Rr[0]),c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};return 1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]),a=lt[c.namespaceURI],e=Vo(e,a),Xo(d,ot,Uo,e,[b],a,this),c},Yg.Pd=function(){},function(a){function b(a){this.ec=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.type=this.ia=0,this.length=this.ec.length}function c(a,b,c){var e=c.ec,f=e[c.ia++],g=(112&f)>>4;if(128>f)return d(a,g,b);if(f=e[c.ia++],g|=(127&f)<<3,128>f)return d(a,g,b);if(f=e[c.ia++],g|=(127&f)<<10,128>f)return d(a,g,b);if(f=e[c.ia++],g|=(127&f)<<17,128>f)return d(a,g,b);if(f=e[c.ia++],g|=(127&f)<<24,128>f)return d(a,g,b);if(128>(f=e[c.ia++]))return d(a,g|(1&f)<<31,b);throw Error("Expected varint not more than 10 bytes")}function d(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}var e={read:function(a,b,c,d,e){var f=8*e-d-1,g=(1<<f)-1,h=g>>1,l=-7;e=c?e-1:0;var m=c?-1:1,x=a[b+e];for(e+=m,c=x&(1<<-l)-1,x>>=-l,l+=f;0<l;c=256*c+a[b+e],e+=m,l-=8);for(f=c&(1<<-l)-1,c>>=-l,l+=d;0<l;f=256*f+a[b+e],e+=m,l-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:1/0*(x?-1:1);f+=Math.pow(2,d),c-=h}return(x?-1:1)*f*Math.pow(2,c-d)},write:function(a,b,c,d,e,n){var f,g=8*n-e-1,h=(1<<g)-1,l=h>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;n=d?0:n-1;var B=d?1:-1,A=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(b=isNaN(b)?1:0,d=h):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(f=Math.pow(2,-d))&&(d--,f*=2),2<=(b=1<=d+l?b+m/f:b+m*Math.pow(2,1-l))*f&&(d++,f/=2),d+l>=h?(b=0,d=h):1<=d+l?(b=(b*f-1)*Math.pow(2,e),d+=l):(b=b*Math.pow(2,l-1)*Math.pow(2,e),d=0));8<=e;a[c+n]=255&b,n+=B,b/=256,e-=8);for(d=d<<e|b,g+=e;0<g;a[c+n]=255&d,n+=B,d/=256,g-=8);a[c+n-B]|=128*A}};b.c=0,b.f=1,b.b=2,b.a=5,b.prototype={destroy:function(){this.ec=null},Ug:function(a,b,c){for(c=c||this.length;this.ia<c;){var d=this.Pa(),e=d>>3,f=this.ia;this.type=7&d,a(e,b,this),this.ia===f&&this.wr(d)}return b},Eq:function(){var a=e.read(this.ec,this.ia,!0,23,4);return this.ia+=4,a},Aq:function(){var a=e.read(this.ec,this.ia,!0,52,8);return this.ia+=8,a},Pa:function(a){var b=this.ec,d=b[this.ia++],e=127&d;return 128>d?e:(d=b[this.ia++],e|=(127&d)<<7,128>d?e:(d=b[this.ia++],e|=(127&d)<<14,128>d?e:(d=b[this.ia++],e|=(127&d)<<21,128>d?e:(d=b[this.ia],c(e|(15&d)<<28,a,this)))))},Qq:function(){return this.Pa(!0)},oe:function(){var a=this.Pa();return 1==a%2?(a+1)/-2:a/2},yq:function(){return!!this.Pa()},$g:function(){for(var a=this.Pa()+this.ia,b=this.ec,c="",d=this.ia;d<a;){var e=b[d],n=null,p=239<e?4:223<e?3:191<e?2:1;if(d+p>a)break;if(1===p)128>e&&(n=e);else if(2===p){var q=b[d+1];128==(192&q)&&127>=(n=(31&e)<<6|63&q)&&(n=null)}else if(3===p){q=b[d+1];var t=b[d+2];128==(192&q)&&128==(192&t)&&(2047>=(n=(15&e)<<12|(63&q)<<6|63&t)||55296<=n&&57343>=n)&&(n=null)}else if(4===p){q=b[d+1],t=b[d+2];var u=b[d+3];128==(192&q)&&128==(192&t)&&128==(192&u)&&(65535>=(n=(15&e)<<18|(63&q)<<12|(63&t)<<6|63&u)||1114112<=n)&&(n=null)}null===n?(n=65533,p=1):65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),c+=String.fromCharCode(n),d+=p}return this.ia=a,c},wr:function(a){if((a&=7)===b.c)for(;127<this.ec[this.ia++];);else if(a===b.b)this.ia=this.Pa()+this.ia;else if(a===b.a)this.ia+=4;else{if(a!==b.f)throw Error("Unimplemented type: "+a);this.ia+=8}}},a.default=b}(Yg.Pd=Yg.Pd||{}),Yg.Pd=Yg.Pd.default,Yg.Mf={},Yg.Mf.Qf=function(){},function(a){function b(a,b){this.layers=a.Ug(l,{},b)}function c(a,b){this.x=a,this.y=b}function d(a,b,c,d,f){this.properties={},this.extent=c,this.type=0,this.Ic=a,this.Tf=-1,this.De=d,this.Fe=f,a.Ug(e,this,b)}function e(a,b,c){if(1==a)b.id=c.Pa();else if(2==a)for(a=c.Pa()+c.ia;c.ia<a;){var d=b.De[c.Pa()],e=b.Fe[c.Pa()];b.properties[d]=e}else 3==a?b.type=c.Pa():4==a&&(b.Tf=c.ia)}function f(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Ic=a,this.De=[],this.Fe=[],this.Ce=[],a.Ug(g,this,b),this.length=this.Ce.length}function g(a,b,c){15===a?b.version=c.Pa():1===a?b.name=c.$g():5===a?b.extent=c.Pa():2===a?b.Ce.push(c.ia):3===a?b.De.push(c.$g()):4===a&&b.Fe.push(h(c))}function h(a){for(var b=null,c=a.Pa()+a.ia;a.ia<c;)b=a.Pa()>>3,b=1===b?a.$g():2===b?a.Eq():3===b?a.Aq():4===b?a.Qq():5===b?a.Pa():6===b?a.oe():7===b?a.yq():null;return b}function l(a,b,c){3===a&&(a=new m(c,c.Pa()+c.ia)).length&&(b[a.name]=a)}c.prototype={clone:function(){return new c(this.x,this.y)},add:function(a){return this.clone().Gk(a)},rotate:function(a){return this.clone().Rk(a)},round:function(){return this.clone().Sk()},angle:function(){return Math.atan2(this.y,this.x)},Gk:function(a){return this.x+=a.x,this.y+=a.y,this},Rk:function(a){var b=Math.cos(a),c=(a=Math.sin(a))*this.x+b*this.y;return this.x=b*this.x-a*this.y,this.y=c,this},Sk:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.convert=function(a){return a instanceof c?a:Array.isArray(a)?new c(a[0],a[1]):a},d.b=["Unknown","Point","LineString","Polygon"],d.prototype.ni=function(){var a=this.Ic;a.ia=this.Tf;for(var l,b=a.Pa()+a.ia,d=1,e=0,f=0,g=0,h=[];a.ia<b;)if(e||(e=a.Pa(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.oe(),g+=a.oe(),1===d&&(l&&h.push(l),l=[]),l.push(new c(f,g));else{if(7!==d)throw Error("unknown command "+d);l&&l.push(l[0].clone())}return l&&h.push(l),h},d.prototype.bbox=function(){var a=this.Ic;a.ia=this.Tf;for(var b=a.Pa()+a.ia,c=1,d=0,e=0,f=0,g=1/0,h=-1/0,l=1/0,m=-1/0;a.ia<b;)if(d||(d=a.Pa(),c=7&d,d>>=3),d--,1===c||2===c)e+=a.oe(),f+=a.oe(),e<g&&(g=e),e>h&&(h=e),f<l&&(l=f),f>m&&(m=f);else if(7!==c)throw Error("unknown command "+c);return[g,l,h,m]};var m=f;f.prototype.feature=function(a){if(0>a||a>=this.Ce.length)throw Error("feature index out of bounds");return this.Ic.ia=this.Ce[a],a=this.Ic.Pa()+this.Ic.ia,new d(this.Ic,a,this.extent,this.De,this.Fe)};var n=m;a.default={Qf:b,Ek:d,Fk:n},a.Qf=b,a.Ek=d,a.Fk=n}(Yg.Mf=Yg.Mf||{}),(k=Ft.prototype).get=function(a){return this.c[a]},k.tb=function(){return this.i},k.G=function(){return this.a||(this.a="Point"===this.f?sb(this.b):tb(this.b,0,this.b.length,2)),this.a},k.Uo=function(){return this.g},k.Wb=function(){return this.b},k.da=Ft.prototype.Wb,k.W=function(){return this},k.K=function(){return this.c},k.ge=Ft.prototype.W,k.ra=function(){return 2},k.Ta=va,k.T=function(){return this.f},v(Gt,$o),(k=Gt.prototype).ng=function(){return this.a},k.T=function(){return"arraybuffer"},k.Ua=function(a,b){var c=this.g;a=new Yg.Pd(a),a=new Yg.Mf.Qf(a);var f,d=[],e=this.b;for(f in a.layers)if(!c||-1!=c.indexOf(f)){for(var h,g=a.layers[f],l=0,m=g.length;l<m;++l){if(h=g.feature(l),e===Ft){var n=void 0,p=f,q=h.ni(),t=[],u=[];Ht(q,u,t);var x=h.type;1===x?n=1===q.length?"Point":"MultiPoint":2===x?n=1===q.length?"LineString":"MultiLineString":3===x&&(n="Polygon"),(q=h.properties)[this.c]=p,n=new this.b(n,u,t,q,h.id)}else{if(x=h,u=f,t=b,n=new this.b,h=x.id,p=x.properties,p[this.c]=u,this.f&&n.cd(this.f),u=void 0,0===(q=x.type))u=null;else{var B=[],A=[];Ht(x=x.ni(),A,B),1===q?u=1===x.length?new H(null):new jp(null):2===q?u=1===x.length?new R(null):new S(null):3===q&&(u=new I(null)),u.ba("XY",A,B)}t=cp(u,!1,bp(this,t)),n.Va(t),n.pc(h),n.J(p)}d.push(n)}this.a=g?[0,0,g.extent,g.extent]:null}return d},k.pb=function(){return this.defaultDataProjection},k.lo=function(a){this.g=a},k.Zb=function(){},k.bd=function(){},k.Nd=function(){},k.ld=function(){},k.bc=function(){},v(It,$p);var Kt=[null],Lt=P(Kt,{nd:function(a,b){b[b.length-1].zd.push(a.getAttribute("ref"))},tag:Jt}),Nt=P(Kt,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.si[e]=f,Ba((a=Q({te:{}},Mt,a,b)).te)||(f=new H(f),cp(f,!1,c),(c=new Eo(f)).pc(e),c.J(a.te),d.features.push(c))},way:function(a,b){var c=b[0],d=a.getAttribute("id");a=Q({zd:[],te:{}},Lt,a,b),b=b[b.length-1];for(var e=[],f=0,g=a.zd.length;f<g;f++)gd(e,b.si[a.zd[f]]);a.zd[0]==a.zd[a.zd.length-1]?(f=new I(null)).ba("XY",e,[e.length]):(f=new R(null)).ba("XY",e),cp(f,!1,c),(c=new Eo(f)).pc(d),c.J(a.te),b.features.push(c)}}),Mt=P(Kt,{tag:Jt});It.prototype.Ec=function(a,b){return b=ap(this,a,b),"osm"==a.localName&&(a=Q({si:{},features:[]},Nt,a,[b])).features?a.features:[]},It.prototype.oh=function(){},It.prototype.cc=function(){},It.prototype.ye=function(){},Pt.prototype.read=function(a){return Ko(a)?this.a(a):Lo(a)?this.b(a):"string"==typeof a?(a=Mo(a),this.a(a)):null},v(Qt,Pt),Qt.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Qt.prototype.b=function(a){return(a=Q({},Rt,a,[]))?a:null};var St=[null,"http://www.opengis.net/ows/1.1"],Rt=P(St,{ServiceIdentification:L(function(a,b){return Q({},Tt,a,b)}),ServiceProvider:L(function(a,b){return Q({},Ut,a,b)}),OperationsMetadata:L(function(a,b){return Q({},Vt,a,b)})}),Wt=P(St,{DeliveryPoint:L(U),City:L(U),AdministrativeArea:L(U),PostalCode:L(U),Country:L(U),ElectronicMailAddress:L(U)}),Xt=P(St,{Value:Qo(function(a){return U(a)})}),Yt=P(St,{AllowedValues:L(function(a,b){return Q({},Xt,a,b)})}),$t=P(St,{Phone:L(function(a,b){return Q({},Zt,a,b)}),Address:L(function(a,b){return Q({},Wt,a,b)})}),bu=P(St,{HTTP:L(function(a,b){return Q({},au,a,b)})}),au=P(St,{Get:Qo(function(a,b){var c=Ot(a);if(c)return Q({href:c},cu,a,b)}),Post:void 0}),du=P(St,{DCP:L(function(a,b){return Q({},bu,a,b)})}),Vt=P(St,{Operation:function(a,b){var c=a.getAttribute("name");(a=Q({},du,a,b))&&(b[b.length-1][c]=a)}}),Zt=P(St,{Voice:L(U),Facsimile:L(U)}),cu=P(St,{Constraint:Qo(function(a,b){var c=a.getAttribute("name");if(c)return Q({name:c},Yt,a,b)})}),eu=P(St,{IndividualName:L(U),PositionName:L(U),ContactInfo:L(function(a,b){return Q({},$t,a,b)})}),Tt=P(St,{Title:L(U),ServiceTypeVersion:L(U),ServiceType:L(U)}),Ut=P(St,{ProviderName:L(U),ProviderSite:L(Ot),ServiceContact:L(function(a,b){return Q({},eu,a,b)})});v(gu,rr),(k=gu.prototype).le=function(a,b){return a=this.Jd(a,b),new Eo(a)},k.Tg=function(a,b){return[this.le(a,b)]},k.Jd=function(a,b){var c=Wd(this.a);return a=ju(a,c,this.b),fu(a,a.length,c,a),c=Ij(a,0,a.length,c),cp(new R(c,this.a),!1,bp(this,b))},k.we=function(a,b){return(a=a.W())?this.Od(a,b):(eb(!1,40),"")},k.ph=function(a,b){return this.we(a[0],b)},k.Od=function(a,b){return a=cp(a,!0,bp(this,b)),b=a.da(),a=a.ra(),fu(b,b.length,a,b),hu(b,a,this.b)},v(lu,dp),lu.prototype.Sg=function(a,b){if("Topology"==a.type){var c=null,d=null;if(a.transform){var e=a.transform;c=e.scale,d=e.translate}var f=a.arcs;if(e){e=c;var h,g=d,l=0;for(h=f.length;l<h;++l){var m,n=f[l],p=e,q=g,t=0,u=0,x=0;for(m=n.length;x<m;++x){var B=n[x];t+=B[0],u+=B[1],B[0]=t,B[1]=u,qu(B,p,q)}}}e=[],a=a.objects,g=this.a;for(var A in a)this.b&&-1==this.b.indexOf(A)||("GeometryCollection"===a[A].type?(l=a[A],e.push.apply(e,nu(l,f,c,d,g,A,b))):(l=a[A],e.push(ou(l,f,c,d,g,A,b))));return e}return[]},lu.prototype.Zg=function(){return this.defaultDataProjection};var pu={Point:function(a,b,c){return a=a.coordinates,b&&c&&qu(a,b,c),new H(a)},LineString:function(a,b){return a=mu(a.arcs,b),new R(a)},Polygon:function(a,b){var d,c=[],e=0;for(d=a.arcs.length;e<d;++e)c[e]=mu(a.arcs[e],b);return new I(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d;if(b&&c){var e=0;for(d=a.length;e<d;++e)qu(a[e],b,c)}return new jp(a)},MultiLineString:function(a,b){var d,c=[],e=0;for(d=a.arcs.length;e<d;++e)c[e]=mu(a.arcs[e],b);return new S(c)},MultiPolygon:function(a,b){var d,e,c=[],f=0;for(e=a.arcs.length;f<e;++f){var g=a.arcs[f],h=[],l=0;for(d=g.length;l<d;++l)h[l]=mu(g[l],b);c[f]=h}return new T(c)}};(k=lu.prototype).kd=function(){},k.xe=function(){},k.ze=function(){},k.Wg=function(){},k.ad=function(){},v(ru,$p);var su={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};ru.prototype.Ec=function(a,b){var c={featureType:this.c,featureNS:this.a};return xa(c,ap(this,a,b||{})),b=[c],this.b.b["http://www.opengis.net/gml"].featureMember=Oo(cq.prototype.me),(a=Q([],this.b.b,a,b,this.b))||(a=[]),a},ru.prototype.j=function(a){return Ko(a)?tu(a):Lo(a)?Q({},uu,a,[]):"string"==typeof a?(a=Mo(a),tu(a)):void 0},ru.prototype.g=function(a){return Ko(a)?vu(this,a):Lo(a)?wu(this,a):"string"==typeof a?(a=Mo(a),vu(this,a)):void 0};var xu={"http://www.opengis.net/gml":{boundedBy:L(cq.prototype.yf,"bounds")}},yu={"http://www.opengis.net/wfs":{totalInserted:L(jq),totalUpdated:L(jq),totalDeleted:L(jq)}},zu={"http://www.opengis.net/ogc":{FeatureId:Oo(function(a){return a.getAttribute("fid")})}},Au={"http://www.opengis.net/wfs":{Feature:function(a,b){Wo(zu,a,b)}}},uu={"http://www.opengis.net/wfs":{TransactionSummary:L(function(a,b){return Q({},yu,a,b)},"transactionSummary"),InsertResults:L(function(a,b){return Q([],Au,a,b)},"insertIds")}},Bu={"http://www.opengis.net/wfs":{PropertyName:M(mq)}},Eu={"http://www.opengis.net/wfs":{Insert:M(function(a,b,c){var d=c[c.length-1],e=d.gmlVersion;if(d=Ho(d.featureNS,d.featureType),a.appendChild(d),2===e){a=yq.prototype,(e=b.a)&&d.setAttribute("fid",e);var f=(e=c[c.length-1]).featureNS,g=b.c;e.qb||(e.qb={},e.qb[f]={});var h=b.K();b=[];var l=[];for(n in h){var m=h[n];null!==m&&(b.push(n),l.push(m),n==g||m instanceof Td?n in e.qb[f]||(e.qb[f][n]=M(a.Hi,a)):n in e.qb[f]||(e.qb[f][n]=M(mq)))}var n=xa({},e);n.node=d,Xo(n,e.qb,So(void 0,f),l,c,b)}else pq.prototype.Pi(d,b,c)}),Update:M(function(a,b,c){var d=c[c.length-1];eb(void 0!==b.a,27);var e=d.featurePrefix,f=d.featureNS,g=Du(e,d.featureType);if(a.setAttribute("typeName",g),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),void 0!==(e=b.a)){g=[];for(var h=0,l=(f=b.R()).length;h<l;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}Xo({gmlVersion:d.gmlVersion,node:a,hasZ:d.hasZ,srsName:d.srsName},Eu,So("Property"),g,c),Cu(a,e)}}),Delete:M(function(a,b,c){var d=c[c.length-1];eb(void 0!==b.a,26),c=d.featurePrefix;var e=d.featureNS;d=Du(c,d.featureType),a.setAttribute("typeName",d),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+c,e),void 0!==(b=b.a)&&Cu(a,b)}),Property:M(function(a,b,c){var d=Ho("http://www.opengis.net/wfs","Name"),e=c[c.length-1].gmlVersion;a.appendChild(d),mq(d,b.name),void 0!==b.value&&null!==b.value&&(d=Ho("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof Td?2===e?yq.prototype.Hi(d,b.value,c):pq.prototype.Ad(d,b.value,c):mq(d,b.value))}),Native:M(function(a,b){b.Gr&&a.setAttribute("vendorId",b.Gr),void 0!==b.ar&&a.setAttribute("safeToIgnore",b.ar),void 0!==b.value&&mq(a,b.value)})}},Gu={"http://www.opengis.net/wfs":{Query:M(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;b=e?Du(e,b):b,a.setAttribute("typeName",b),h&&a.setAttribute("srsName",h),f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),(e=xa({},d)).node=a,Xo(e,Bu,So("PropertyName"),g,c),(d=d.filter)&&(g=Ho("http://www.opengis.net/ogc","Filter"),a.appendChild(g),Xo({node:g},Gu,So(d.qc),[d],c))})},"http://www.opengis.net/ogc":{During:M(function(a,b){var c=Ho("http://www.opengis.net/fes","ValueReference");mq(c,b.b),a.appendChild(c),c=Ho("http://www.opengis.net/gml","TimePeriod"),a.appendChild(c),a=Ho("http://www.opengis.net/gml","begin"),c.appendChild(a),Lu(a,b.a),a=Ho("http://www.opengis.net/gml","end"),c.appendChild(a),Lu(a,b.f)}),And:M(Fu),Or:M(Fu),Not:M(function(a,b,c){b=b.condition,Xo({node:a},Gu,So(b.qc),[b],c)}),BBOX:M(function(a,b,c){c[c.length-1].srsName=b.srsName,Iu(a,b.geometryName),pq.prototype.Ad(a,b.extent,c)}),Intersects:M(function(a,b,c){c[c.length-1].srsName=b.srsName,Iu(a,b.geometryName),pq.prototype.Ad(a,b.geometry,c)}),Within:M(function(a,b,c){c[c.length-1].srsName=b.srsName,Iu(a,b.geometryName),pq.prototype.Ad(a,b.geometry,c)}),PropertyIsEqualTo:M(Hu),PropertyIsNotEqualTo:M(Hu),PropertyIsLessThan:M(Hu),PropertyIsLessThanOrEqualTo:M(Hu),PropertyIsGreaterThan:M(Hu),PropertyIsGreaterThanOrEqualTo:M(Hu),PropertyIsNull:M(function(a,b){Iu(a,b.b)}),PropertyIsBetween:M(function(a,b){Iu(a,b.b);var c=Ho("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c),Ju(c,""+b.a),c=Ho("http://www.opengis.net/ogc","UpperBoundary"),a.appendChild(c),Ju(c,""+b.f)}),PropertyIsLike:M(function(a,b){a.setAttribute("wildCard",b.g),a.setAttribute("singleChar",b.i),a.setAttribute("escapeChar",b.f),void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Iu(a,b.b),Ju(a,""+b.c)})}};ru.prototype.o=function(a){var b=Ho("http://www.opengis.net/wfs","GetFeature");if(b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0"),a){a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count);var c=a.filter;if(a.bbox){eb(a.geometryName,12);var d=Qp(a.geometryName,a.bbox,a.srsName);c=c?Pp(c,d):d}}return b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.a,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]},eb(Array.isArray(a.featureTypes),11),a=a.featureTypes,c=[c],d=xa({},c[c.length-1]),d.node=b,Xo(d,Gu,So("Query"),a,c),b},ru.prototype.s=function(a,b,c,d){var e=[],f=Ho("http://www.opengis.net/wfs","Transaction"),g=d.version?d.version:"1.1.0",h="1.0.0"===g?2:3;if(f.setAttribute("service","WFS"),f.setAttribute("version",g),d){var l=d.gmlOptions?d.gmlOptions:{};d.handle&&f.setAttribute("handle",d.handle)}f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",su[g]);var m=d.featurePrefix?d.featurePrefix:"feature";return a&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},xa(g,l),Xo(g,Eu,So("Insert"),a,e)),b&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},xa(g,l),Xo(g,Eu,So("Update"),b,e)),c&&Xo({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},Eu,So("Delete"),c,e),d.nativeElements&&Xo({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},Eu,So("Native"),d.nativeElements,e),f},ru.prototype.Yg=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.Bf(a);return null},ru.prototype.Bf=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];return this.b.yf(a,b),Ic(b.pop().srsName)}return null},v(Mu,rr);var Ru={Point:Nu,LineString:Ou,Polygon:Pu,MultiPoint:function(a){for(var b=[],c=0,d=(a=a.Bd()).length;c<d;++c)b.push("("+Nu(a[c])+")");return b.join(",")},MultiLineString:function(a){for(var b=[],c=0,d=(a=a.Rc()).length;c<d;++c)b.push("("+Ou(a[c])+")");return b.join(",")},MultiPolygon:function(a){for(var b=[],c=0,d=(a=a.sd()).length;c<d;++c)b.push("("+Pu(a[c])+")");return b.join(",")},GeometryCollection:function(a){for(var b=[],c=0,d=(a=a.Pc()).length;c<d;++c)b.push(Qu(a[c]));return b.join(",")}};(k=Mu.prototype).le=function(a,b){return(a=this.Jd(a,b))?((b=new Eo).Va(a),b):null},k.Tg=function(a,b){var c=[];a=this.Jd(a,b),b=[];for(var d=0,e=(c=this.b&&"GeometryCollection"==a.T()?a.a:[a]).length;d<e;++d)(a=new Eo).Va(c[d]),b.push(a);return b},k.Jd=function(a,b){return a=new Su(new Tu(a)),Uu(a),(a=Vu(a))?cp(a,!1,b):null},k.we=function(a,b){return(a=a.W())?this.Od(a,b):""},k.ph=function(a,b){if(1==a.length)return this.we(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].W());return a=new Rp(c),this.Od(a,b)},k.Od=function(a,b){return Qu(cp(a,!0,b))},(k=Su.prototype).Ng=function(){if(Xu(this,2)){var a=bv(this);if(Xu(this,3))return a}else if(Yu(this))return null;throw Error(Zu(this))},k.Mg=function(){if(Xu(this,2)){var a=cv(this);if(Xu(this,3))return a}else if(Yu(this))return[];throw Error(Zu(this))},k.Og=function(){if(Xu(this,2)){var a=dv(this);if(Xu(this,3))return a}else if(Yu(this))return[];throw Error(Zu(this))},k.lq=function(){if(Xu(this,2)){var a;if(2==this.b.type)for(a=[this.Ng()];Xu(this,5);)a.push(this.Ng());else a=cv(this);if(Xu(this,3))return a}else if(Yu(this))return[];throw Error(Zu(this))},k.kq=function(){if(Xu(this,2)){var a=dv(this);if(Xu(this,3))return a}else if(Yu(this))return[];throw Error(Zu(this))},k.mq=function(){if(Xu(this,2)){for(var a=[this.Og()];Xu(this,5);)a.push(this.Og());if(Xu(this,3))return a}else if(Yu(this))return[];throw Error(Zu(this))};var av={POINT:H,LINESTRING:R,POLYGON:I,MULTIPOINT:jp,MULTILINESTRING:S,MULTIPOLYGON:T},$u={POINT:Su.prototype.Ng,LINESTRING:Su.prototype.Mg,POLYGON:Su.prototype.Og,MULTIPOINT:Su.prototype.lq,MULTILINESTRING:Su.prototype.kq,MULTIPOLYGON:Su.prototype.mq};v(ev,Pt),ev.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},ev.prototype.b=function(a){return this.version=a.getAttribute("version").trim(),(a=Q({version:this.version},fv,a,[]))?a:null};var nv=[null,"http://www.opengis.net/wms"],fv=P(nv,{Service:L(function(a,b){return Q({},ov,a,b)}),Capability:L(function(a,b){return Q({},pv,a,b)})}),pv=P(nv,{Request:L(function(a,b){return Q({},qv,a,b)}),Exception:L(function(a,b){return Q([],rv,a,b)}),Layer:L(function(a,b){return Q({},sv,a,b)})}),ov=P(nv,{Name:L(U),Title:L(U),Abstract:L(U),KeywordList:L(lv),OnlineResource:L(Ot),ContactInformation:L(function(a,b){return Q({},tv,a,b)}),Fees:L(U),AccessConstraints:L(U),LayerLimit:L(jq),MaxWidth:L(jq),MaxHeight:L(jq)}),tv=P(nv,{ContactPersonPrimary:L(function(a,b){return Q({},uv,a,b)}),ContactPosition:L(U),ContactAddress:L(function(a,b){return Q({},vv,a,b)}),ContactVoiceTelephone:L(U),ContactFacsimileTelephone:L(U),ContactElectronicMailAddress:L(U)}),uv=P(nv,{ContactPerson:L(U),ContactOrganization:L(U)}),vv=P(nv,{AddressType:L(U),Address:L(U),City:L(U),StateOrProvince:L(U),PostCode:L(U),Country:L(U)}),rv=P(nv,{Format:Oo(U)}),sv=P(nv,{Name:L(U),Title:L(U),Abstract:L(U),KeywordList:L(lv),CRS:Qo(U),EX_GeographicBoundingBox:L(function(a,b){var c=Q({},wv,a,b);if(c){a=c.westBoundLongitude,b=c.southBoundLatitude;var d=c.eastBoundLongitude;if(c=c.northBoundLatitude,void 0!==a&&void 0!==b&&void 0!==d&&void 0!==c)return[a,b,d,c]}}),BoundingBox:Qo(function(a){var b=[iq(a.getAttribute("minx")),iq(a.getAttribute("miny")),iq(a.getAttribute("maxx")),iq(a.getAttribute("maxy"))],c=[iq(a.getAttribute("resx")),iq(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:Qo(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),default:a.getAttribute("default"),multipleValues:fq(a.getAttribute("multipleValues")),nearestValue:fq(a.getAttribute("nearestValue")),current:fq(a.getAttribute("current")),values:U(a)}}),Attribution:L(function(a,b){return Q({},xv,a,b)}),AuthorityURL:Qo(function(a,b){if(b=gv(a,b))return b.name=a.getAttribute("name"),b}),Identifier:Qo(U),MetadataURL:Qo(function(a,b){if(b=gv(a,b))return b.type=a.getAttribute("type"),b}),DataURL:Qo(gv),FeatureListURL:Qo(gv),Style:Qo(function(a,b){return Q({},yv,a,b)}),MinScaleDenominator:L(hq),MaxScaleDenominator:L(hq),Layer:Qo(function(a,b){var c=b[b.length-1],d=Q({},sv,a,b);if(d)return void 0===(b=fq(a.getAttribute("queryable")))&&(b=c.queryable),d.queryable=void 0!==b&&b,void 0===(b=kq(a.getAttribute("cascaded")))&&(b=c.cascaded),d.cascaded=b,void 0===(b=fq(a.getAttribute("opaque")))&&(b=c.opaque),d.opaque=void 0!==b&&b,void 0===(b=fq(a.getAttribute("noSubsets")))&&(b=c.noSubsets),d.noSubsets=void 0!==b&&b,(b=iq(a.getAttribute("fixedWidth")))||(b=c.fixedWidth),d.fixedWidth=b,(a=iq(a.getAttribute("fixedHeight")))||(a=c.fixedHeight),d.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d})}),xv=P(nv,{Title:L(U),OnlineResource:L(Ot),LogoURL:L(kv)}),wv=P(nv,{westBoundLongitude:L(hq),eastBoundLongitude:L(hq),southBoundLatitude:L(hq),northBoundLatitude:L(hq)}),qv=P(nv,{GetCapabilities:L(iv),GetMap:L(iv),GetFeatureInfo:L(iv)}),jv=P(nv,{Format:Qo(U),DCPType:Qo(function(a,b){return Q({},zv,a,b)})}),zv=P(nv,{HTTP:L(function(a,b){return Q({},Av,a,b)})}),Av=P(nv,{Get:L(gv),Post:L(gv)}),yv=P(nv,{Name:L(U),Title:L(U),Abstract:L(U),LegendURL:Qo(kv),StyleSheetURL:L(gv),StyleURL:L(gv)}),hv=P(nv,{Format:L(U),OnlineResource:L(Ot)}),mv=P(nv,{Keyword:Oo(U)});v(Bv,$p),Bv.prototype.Ec=function(a,b){var c={};b&&xa(c,ap(this,a,b)),c=[c],a.setAttribute("namespaceURI",this.a);var d=a.localName;if(b=[],0!==a.childNodes.length){if("msGMLOutput"==d)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=c[0],l=g.localName.replace("_layer","");if(!this.c||ed(this.c,l)){l+="_feature",h.featureType=l,h.featureNS=this.a;var m={};m[l]=Oo(this.b.Qg,this.b),h=P([h.featureNS,null],m),g.setAttribute("namespaceURI",this.a),(g=Q([],h,g,c,this.b))&&gd(b,g)}}}"FeatureCollection"==d&&(a=Q([],this.b.b,a,[{}],this.b))&&(b=a)}return b},Bv.prototype.oh=function(){},Bv.prototype.cc=function(){},Bv.prototype.ye=function(){},v(Cv,Pt),Cv.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Cv.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.f.b(a);return c?(c.version=b,(c=Q(c,Dv,a,[]))?c:null):null};var Fv=[null,"http://www.opengis.net/wmts/1.0"],Gv=[null,"http://www.opengis.net/ows/1.1"],Dv=P(Fv,{Contents:L(function(a,b){return Q({},Hv,a,b)})}),Hv=P(Fv,{Layer:Qo(function(a,b){return Q({},Iv,a,b)}),TileMatrixSet:Qo(function(a,b){return Q({},Jv,a,b)})}),Iv=P(Fv,{Style:Qo(function(a,b){if(b=Q({},Kv,a,b))return a="true"===a.getAttribute("isDefault"),b.isDefault=a,b}),Format:Qo(U),TileMatrixSetLink:Qo(function(a,b){return Q({},Lv,a,b)}),Dimension:Qo(function(a,b){return Q({},Mv,a,b)}),ResourceURL:Qo(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};return b&&(d.format=b),c&&(d.template=c),a&&(d.resourceType=a),d})},P(Gv,{Title:L(U),Abstract:L(U),WGS84BoundingBox:L(function(a,b){if(2==(a=Q([],Nv,a,b)).length)return fb(a)}),Identifier:L(U)})),Kv=P(Fv,{LegendURL:Qo(function(a){var b={};return b.format=a.getAttribute("format"),b.href=Ot(a),b})},P(Gv,{Title:L(U),Identifier:L(U)})),Lv=P(Fv,{TileMatrixSet:L(U),TileMatrixSetLimits:L(function(a,b){return Q([],Ov,a,b)})}),Ov=P(Fv,{TileMatrixLimits:Oo(function(a,b){return Q({},Pv,a,b)})}),Pv=P(Fv,{TileMatrix:L(U),MinTileRow:L(jq),MaxTileRow:L(jq),MinTileCol:L(jq),MaxTileCol:L(jq)}),Mv=P(Fv,{Default:L(U),Value:Qo(U)},P(Gv,{Identifier:L(U)})),Nv=P(Gv,{LowerCorner:Oo(Ev),UpperCorner:Oo(Ev)}),Jv=P(Fv,{WellKnownScaleSet:L(U),TileMatrix:Qo(function(a,b){return Q({},Qv,a,b)})},P(Gv,{SupportedCRS:L(U),Identifier:L(U)})),Qv=P(Fv,{TopLeftCorner:L(Ev),ScaleDenominator:L(hq),TileWidth:L(jq),TileHeight:L(jq),MatrixWidth:L(jq),MatrixHeight:L(jq)},P(Gv,{Identifier:L(U)}));v(Rv,Ua),(k=Rv.prototype).oa=function(){this.bf(!1),Ua.prototype.oa.call(this)},k.xn=function(){var a=this.zi();a&&(this.i=Jc(Ic("EPSG:4326"),a),this.a&&this.set("position",this.i(this.a)))},k.yn=function(){if(ke){var a=this.Ai();a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.tq.bind(this),this.uq.bind(this),this.fi()):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},k.tq=function(a){a=a.coords,this.set("accuracy",a.accuracy),this.set("altitude",null===a.altitude?void 0:a.altitude),this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy),this.set("heading",null===a.heading?void 0:Rb(a.heading)),this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.i(this.a);this.set("position",b),this.set("speed",null===a.speed?void 0:a.speed),(a=pm(this.g,this.a,a.accuracy)).rc(this.i),this.set("accuracyGeometry",a),this.u()},k.uq=function(a){a.type="error",this.bf(!1),this.b(a)},k.ml=function(){return this.get("accuracy")},k.nl=function(){return this.get("accuracyGeometry")||null},k.tn=function(){return this.get("altitude")},k.pl=function(){return this.get("altitudeAccuracy")},k.vn=function(){return this.get("heading")},k.wn=function(){return this.get("position")},k.zi=function(){return this.get("projection")},k.am=function(){return this.get("speed")},k.Ai=function(){return this.get("tracking")},k.fi=function(){return this.get("trackingOptions")},k.Bi=function(a){this.set("projection",Ic(a))},k.bf=function(a){this.set("tracking",a)},k.ek=function(a){this.set("trackingOptions",a)},v(Sv,C),(k=Sv.prototype).clone=function(){var a=new Sv(null);return Xd(a,this.la,this.v.slice()),a.u(),a},k.Kb=function(a,b,c,d){var e=this.v;a-=e[0];var f=b-e[1];if((b=a*a+f*f)<d){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.Vc()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];return c.length=this.a,b}return d},k.Wc=function(a,b){var c=this.v;return a-=c[0],b-=c[1],a*a+b*b<=Tv(this)},k.ta=function(){return this.v.slice(0,this.a)},k.Ie=function(a){var b=this.v,c=b[this.a]-b[0];return pb(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},k.Vc=function(){return Math.sqrt(Tv(this))},k.T=function(){return"Circle"},k.bb=function(a){var b=this.G();return!!Jb(a,b)&&(b=this.ta(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]||xb(a,this.xb,this))},k.cb=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.v[b]-this.v[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];Xd(this,this.la,c),this.u()},k.ih=function(a,b,c){if(a){Yd(this,c,a,0),this.v||(this.v=[]),a=gm(c=this.v,a),c[a++]=c[0]+b;var d;for(b=1,d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else Xd(this,"XY",null);this.u()},k.V=function(){},k.sa=function(){},k.dd=function(a){this.v[this.a]=this.v[0]+a,this.u()};var Yv=new Pg({color:"rgba(0,0,0,0.2)"}),Zv=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];(k=Xv.prototype).zn=function(){return this.P},k.Ql=function(){return this.f},k.Yl=function(){return this.c},k.ji=function(a){var b=a.vectorContext,c=a.frameState;a=c.extent;var d=c.viewState,e=d.center,f=d.projection;if(d=d.resolution,c=c.pixelRatio,c=d*d/(4*c*c),!this.i||!Sc(this.i,f)){var g=Ic("EPSG:4326"),h=f.G(),l=f.g,m=Wc(l,g,f),n=l[2],p=l[1],q=l[0],t=m[3],u=m[2],x=m[1];m=m[0],this.g=l[3],this.j=n,this.l=p,this.o=q,this.fa=t,this.ma=u,this.D=x,this.O=m,this.s=Tc(g,f),this.A=Tc(f,g),this.H=this.A(Gb(h)),this.i=f}for(f=this.H[0],g=this.H[1],h=-1,n=Math.pow(this.na*d,2),p=[],q=[],d=0,l=Zv.length;d<l&&(t=Zv[d]/2,p[0]=f-t,p[1]=g-t,q[0]=f+t,q[1]=g+t,this.s(p,p),this.s(q,q),!((t=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2))<=n));++d)h=Zv[d];if(-1==(d=h))this.f.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(e=(f=this.A(e))[0],f=f[1],g=this.Wa,p=(l=Wc(l=[Math.max(a[0],this.O),Math.max(a[1],this.D),Math.min(a[2],this.ma),Math.min(a[3],this.fa)],this.i,"EPSG:4326"))[3],h=l[2],q=l[1],t=l[0],n=$v(this,u=Mb(e=Math.floor(e/d)*d,this.o,this.j),q,p,c,a,0),l=0;u!=this.o&&l++<g;)u=Math.max(u-d,this.o),n=$v(this,u,q,p,c,a,n);for(u=Mb(e,this.o,this.j),l=0;u!=this.j&&l++<g;)u=Math.min(u+d,this.j),n=$v(this,u,q,p,c,a,n);for(this.f.length=n,this.b&&(this.b.length=n),n=aw(this,e=Mb(f=Math.floor(f/d)*d,this.l,this.g),t,h,c,a,0),l=0;e!=this.l&&l++<g;)e=Math.max(e-d,this.l),n=aw(this,e,t,h,c,a,n);for(e=Mb(f,this.l,this.g),l=0;e!=this.g&&l++<g;)e=Math.min(e+d,this.g),n=aw(this,e,t,h,c,a,n);this.c.length=n,this.a&&(this.a.length=n)}for(b.Ra(null,this.ja),a=0,c=this.f.length;a<c;++a)e=this.f[a],b.Eb(e);for(a=0,c=this.c.length;a<c;++a)e=this.c[a],b.Eb(e);if(this.b)for(a=0,c=this.b.length;a<c;++a)e=this.b[a],this.C.Kd(e.text),b.jb(this.C),b.Eb(e.de);if(this.a)for(a=0,c=this.a.length;a<c;++a)e=this.a[a],this.B.Kd(e.text),b.jb(this.B),b.Eb(e.de)},k.setMap=function(a){this.P&&(this.P.L("postcompose",this.ji,this),this.P.render()),a&&(a.I("postcompose",this.ji,this),a.render()),this.P=a},v(bw,Pa),bw.prototype.u=function(){this.b("change")},bw.prototype.G=function(){return this.extent},bw.prototype.getState=function(){return this.state},v(cw,bw),(k=cw.prototype).Z=function(a){if(void 0!==a){var b;return(a=w(a))in this.c?this.c[a]:(b=Ba(this.c)?this.N:this.N.cloneNode(!1),this.c[a]=b)}return this.N},k.Cn=function(){this.state=3,this.f.forEach(Da),this.f=null,this.u()},k.Dn=function(){void 0===this.resolution&&(this.resolution=Fb(this.extent)/this.N.height),this.state=2,this.f.forEach(Da),this.f=null,this.u()},k.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.f=[Ia(this.N,"error",this.Cn,this),Ia(this.N,"load",this.Dn,this)],this.g(this,this.j))},k.jh=function(a){this.N=a},v(dw,bw),dw.prototype.g=function(a){this.state=a?3:2,this.u()},dw.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.g.bind(this)))},dw.prototype.Z=function(){return this.f},v(ew,Fm),ew.prototype.l=function(a,b){b=b.target.result;var c=this.P,d=this.o;d||(d=c.$().c);var f,e=[],g=0;for(f=(c=this.j).length;g<f;++g){var h=new c[g],l={featureProjection:d};try{e=h.Ua(b,l)}catch(m){e=null}if(e&&0<e.length)break}this.g&&(this.g.clear(),this.g.Jc(e)),this.b(new hw(iw,a,e,d))},ew.prototype.La=function(a){Fm.prototype.La.call(this,a),a?jw(this):kw(this)},ew.prototype.setMap=function(a){kw(this),Fm.prototype.setMap.call(this,a),this.c()&&jw(this)};var iw="addfeatures";v(hw,Na),v(lw,Vm),v(V,Ni),(k=V.prototype).Db=function(a){var b=w(a).toString();if(sw(this,b,a)){tw(this,b,a);var c=a.W();c?(b=c.G(),this.a&&this.a.Ja(b,a)):this.g[b]=a,this.b(new uw("addfeature",a))}this.u()},k.Jc=function(a){qw(this,a),this.u()},k.clear=function(a){if(a){for(var b in this.s)this.s[b].forEach(Da);this.i||(this.s={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.bh,this);for(var c in this.g)this.bh(this.g[c])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.U.clear(),this.g={},this.b(new uw("clear")),this.u()},k.Rh=function(a,b){return this.a?this.a.forEach(a,b):this.i?this.i.forEach(a,b):void 0},k.gc=function(a,b,c){return this.a?dh(this.a,a,b,c):this.i?this.i.forEach(b,c):void 0},k.Sh=function(a,b,c){return this.gc(a,function(d){if(d.W().bb(a)&&(d=b.call(c,d)))return d})},k.Zh=function(){return this.i},k.Ed=function(){if(this.i)var a=this.i.a;else this.a&&(a=ah(this.a),Ba(this.g)||gd(a,za(this.g)));return a},k.Yh=function(a){var b=[];return vw(this,a,function(a){b.push(a)}),b},k.jg=function(a){return bh(this.a,a)},k.Uh=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=1/0,h=[-1/0,-1/0,1/0,1/0],l=b||Ed;return dh(this.a,h,function(a){if(l(a)){var b=a.W(),m=g;(g=b.Kb(c,d,f,g))<m&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}}),e},k.G=function(a){return this.a.G(a)},k.Xh=function(a){return void 0!==(a=this.l[a.toString()])?a:null},k.rj=function(){return this.C},k.sj=function(){return this.O},k.tj=function(a){var b=w(a=a.target).toString(),c=a.W();c?(c=c.G(),b in this.g?(delete this.g[b],this.a&&this.a.Ja(c,a)):this.a&&$g(this.a,c,a)):b in this.g||(this.a&&this.a.remove(a),this.g[b]=a),void 0!==(c=a.a)?(c=c.toString(),b in this.o?(delete this.o[b],this.l[c]=a):this.l[c]!==a&&(ww(this,a),this.l[c]=a)):b in this.o||(ww(this,a),this.o[b]=a),this.u(),this.b(new uw("changefeature",a))},k.je=function(a,b,c){var e,d=this.U,f=0;for(e=(a=this.ja(a,b)).length;f<e;++f){var g=a[f];dh(d,g,function(a){return nb(a.extent,g)})||(this.D.call(this,g,b,c),d.Ja(g,{extent:g.slice()}))}},k.Hb=function(a){var b=w(a).toString();b in this.g?delete this.g[b]:this.a&&this.a.remove(a),this.bh(a),this.u()},k.bh=function(a){var b=w(a).toString();this.s[b].forEach(Da),delete this.s[b];var c=a.a;void 0!==c?delete this.l[c.toString()]:delete this.o[b],this.b(new uw("removefeature",a))},v(uw,Na),v(xw,Vm),(k=xw.prototype).setMap=function(a){Vm.prototype.setMap.call(this,a),this.Xi()},k.Uq=function(){if(this.j){var a=this.j.W();if(this.g===Ew){var b=this.a;b.splice(-2,1),this.$a(b,a),2<=b.length&&(this.o=b[b.length-2].slice())}else this.g===Cw&&((b=this.a[0]).splice(-2,1),this.B.W().sa(b),this.$a(this.a,a));0===b.length&&(this.o=null),Mw(this)}},k.be=function(){var a=Lw(this),b=this.a,c=a.W();this.g===Ew?(b.pop(),this.$a(b,c)):this.g===Cw&&(b[0].pop(),this.$a(b,c),b=c.V()),"MultiPoint"===this.O?a.Va(new jp([b])):"MultiLineString"===this.O?a.Va(new S([b])):"MultiPolygon"===this.O&&a.Va(new T([b])),this.b(new Nw("drawend",a)),this.Sa&&this.Sa.push(a),this.Jb&&this.Jb.Db(a)},k.to=function(a){var b=a.W();this.j=a,this.a=b.V(),a=this.a[this.a.length-1],this.o=a.slice(),this.a.push(a.slice()),Mw(this),this.b(new Nw("drawstart",this.j))},k.fd=Fd,k.Xi=function(){var a=this.P,b=this.c();a&&b||Lw(this),this.ja.setMap(b?a:null)};var Dw="Point",Ew="LineString",Cw="Polygon",Jw="Circle";v(Nw,Na),v(Ow,Vm),Ow.prototype.setMap=function(a){this.s.setMap(a),this.D.setMap(a),Vm.prototype.setMap.call(this,a)},Ow.prototype.G=function(){return this.j},Ow.prototype.g=function(a){this.j=a||null;var b=this.o;b?a?b.Va(qm(a)):b.Va(void 0):(this.o=b=new Eo(a?qm(a):{}),this.s.ca().Db(b)),this.b(new Zw(this.j))},v(Zw,Na),v($w,Vm),(k=$w.prototype).Dg=function(a){var b=a.W();b&&b.T()in this.qa&&this.qa[b.T()].call(this,a,b),(b=this.P)&&b.c&&this.c()&&fx(this,this.Da,b),y(a,"change",this.Yi,this)},k.La=function(a){this.g&&!a&&(this.C.ca().Hb(this.g),this.g=null),Vm.prototype.La.call(this,a)},k.setMap=function(a){this.C.setMap(a),Vm.prototype.setMap.call(this,a)},k.Km=function(a){a.feature&&this.s.push(a.feature)},k.Mm=function(a){a.feature&&this.s.remove(a.feature)},k.uo=function(a){this.Dg(a.element)},k.Yi=function(a){this.o||(a=a.target,ix(this,a),this.Dg(a))},k.vo=function(a){ix(this,a.element)},k.Bo=function(a,b){var c=b.V();a={feature:a,geometry:b,pa:[c,c]},this.a.Ja(b.G(),a)},k.zo=function(a,b){var d,c=b.V(),e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,geometry:b,depth:[e],index:e,pa:[f,f]},this.a.Ja(b.G(),f)}},k.Zi=function(a,b){var d,c=b.V(),e=0;for(d=c.length-1;e<d;++e){var f=c.slice(e,e+2),g={feature:a,geometry:b,index:e,pa:f};this.a.Ja(fb(f),g)}},k.yo=function(a,b){var d,e,c=b.V(),f=0;for(e=c.length;f<e;++f){var g=c[f],h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2),m={feature:a,geometry:b,depth:[f],index:h,pa:l};this.a.Ja(fb(l),m)}}},k.Co=function(a,b){var d,e,c=b.V(),f=0;for(e=c.length;f<e;++f){var g=c[f],h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2),m={feature:a,geometry:b,depth:[f],index:h,pa:l};this.a.Ja(fb(l),m)}}},k.Ao=function(a,b){var d,e,f,c=b.V(),g=0;for(f=c.length;g<f;++g){var h=c[g],l=0;for(e=h.length;l<e;++l){var m=h[l],n=0;for(d=m.length-1;n<d;++n){var p=m.slice(n,n+2),q={feature:a,geometry:b,depth:[l,g],index:n,pa:p};this.a.Ja(fb(p),q)}}}},k.wo=function(a,b){var c=b.ta(),d={feature:a,geometry:b,index:0,pa:[c,c]};a={feature:a,geometry:b,index:1,pa:[c,c]},d.eg=a.eg=[d,a],this.a.Ja(sb(c),d),this.a.Ja(b.G(),a)},k.xo=function(a,b){var c=b.a;for(b=0;b<c.length;++b)this.qa[c[b].T()].call(this,a,c[b])},k.Vm=function(a,b){for(var h,c=a.pa,d=a.feature,e=a.geometry,f=a.depth,g=a.index;b.length<e.ra();)b.push(0);switch(e.T()){case"MultiLineString":case"Polygon":(h=e.V())[f[0]].splice(g+1,0,b);break;case"MultiPolygon":(h=e.V())[f[1]][f[0]].splice(g+1,0,b);break;case"LineString":(h=e.V()).splice(g+1,0,b);break;default:return}this.o=!0,e.sa(h),this.o=!1,(h=this.a).remove(a),ox(this,e,g,f,1),a={pa:[c[0],b],feature:d,geometry:e,depth:f,index:g},h.Ja(fb(a.pa),a),this.j.push([a,1]),b={pa:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1},h.Ja(fb(b.pa),b),this.j.push([b,0]),this.D=!0},k.Pj=function(){if(this.O&&"pointerdrag"!=this.O.type){var a=this.O;gx(this,a);var d,e,b=this.j,c={};for(e=b.length-1;0<=e;--e){var f=b[e],g=f[0],h=w(g.feature);g.depth&&(h+="-"+g.depth.join("-")),h in c||(c[h]={}),0===f[1]?(c[h].right=g,c[h].index=g.index):1==f[1]&&(c[h].left=g,c[h].index=g.index+1)}for(h in c){var l=c[h].right,m=c[h].left,n=(e=c[h].index)-1;g=void 0!==m?m:l,0>n&&(n=0);var p=d=(f=g.geometry).V(),q=!1;switch(f.T()){case"MultiLineString":2<d[g.depth[0]].length&&(d[g.depth[0]].splice(e,1),q=!0);break;case"LineString":2<d.length&&(d.splice(e,1),q=!0);break;case"MultiPolygon":p=p[g.depth[1]];case"Polygon":4<(p=p[g.depth[0]]).length&&(e==p.length-1&&(e=0),p.splice(e,1),q=!0,0===e&&(p.pop(),p.push(p[0]),n=p.length-1))}q&&(q=f,this.o=!0,q.sa(d),this.o=!1,d=[],void 0!==m&&(this.a.remove(m),d.push(m.pa[0])),void 0!==l&&(this.a.remove(l),d.push(l.pa[1])),void 0!==m&&void 0!==l&&(m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:n,pa:d},this.a.Ja(fb(m.pa),m)),ox(this,f,e,g.depth,-1),this.g&&(this.C.ca().Hb(this.g),this.g=null),b.length=0)}return this.b(new hx("modifyend",this.s,a)),this.B=!1,!0}return!1},v(hx,Na),v(px,Fm),(k=px.prototype).Eo=function(){return this.g.ca().i},k.Fo=function(){return this.j},k.Go=function(a){return a=w(a),this.a[a]},k.Io=function(a){this.j=a},k.setMap=function(a){var b=this.P,c=this.g.ca().i;b&&c.forEach(b.jk,b),Fm.prototype.setMap.call(this,a),this.g.setMap(a),a&&c.forEach(a.fk,a)},k.Do=function(a){var b=this.P;b&&b.fk(a.element)},k.Ho=function(a){var b=this.P;b&&b.jk(a.element)},v(sx,Na);var tx="select";v(ux,Vm),(k=ux.prototype).Db=function(a,b){b=void 0===b||b;var c=w(a),d=a.W();if(d){var e=this.qa[d.T()];e&&(this.U[c]=d.G(gb()),e.call(this,a,d))}b&&(this.C[c]=y(a,"change",this.Jo,this))},k.jl=function(a){this.Db(a)},k.kl=function(a){this.Hb(a)},k.$i=function(a){if(a instanceof uw)var b=a.feature;else a instanceof db&&(b=a.element);this.Db(b)},k.aj=function(a){if(a instanceof uw)var b=a.feature;else a instanceof db&&(b=a.element);this.Hb(b)},k.Jo=function(a){if(a=a.target,this.A){var b=w(a);b in this.s||(this.s[b]=a)}else this.kk(a)},k.Hb=function(a,b){b=void 0===b||b;var c=w(a),d=this.U[c];if(d){var e=this.a,f=[];for(dh(e,d,function(b){a===b.feature&&f.push(b)}),d=f.length-1;0<=d;--d)e.remove(f[d])}b&&(Da(this.C[c]),delete this.C[c])},k.setMap=function(a){var d,b=this.P,c=this.ja;this.j?d=this.j:this.o&&(d=this.o.Ed()),b&&(c.forEach(Da),c.length=0,d.forEach(this.kl,this)),Vm.prototype.setMap.call(this,a),a&&(this.j?c.push(y(this.j,"add",this.$i,this),y(this.j,"remove",this.aj,this)):this.o&&c.push(y(this.o,"addfeature",this.$i,this),y(this.o,"removefeature",this.aj,this)),d.forEach(this.jl,this))},k.fd=Fd,k.kk=function(a){this.Hb(a,!1),this.Db(a,!1)},k.Ko=function(a,b){var c,d=0;for(c=(b=rm(b).V()[0]).length-1;d<c;++d){var e=b.slice(d,d+2),f={feature:a,pa:e};this.a.Ja(fb(e),f)}},k.Lo=function(a,b){var c=b.a;for(b=0;b<c.length;++b){var d=this.qa[c[b].T()];d&&d.call(this,a,c[b])}},k.bj=function(a,b){var c,d=0;for(c=(b=b.V()).length-1;d<c;++d){var e=b.slice(d,d+2),f={feature:a,pa:e};this.a.Ja(fb(e),f)}},k.Mo=function(a,b){var c,d,e=0;for(d=(b=b.V()).length;e<d;++e){var f=b[e],g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2),l={feature:a,pa:h};this.a.Ja(fb(h),l)}}},k.No=function(a,b){var d,c=b.V(),e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,pa:[f,f]},this.a.Ja(b.G(),f)}},k.Oo=function(a,b){var c,d,e,f=0;for(e=(b=b.V()).length;f<e;++f){var g=b[f],h=0;for(d=g.length;h<d;++h){var l=g[h],m=0;for(c=l.length-1;m<c;++m){var n=l.slice(m,m+2),p={feature:a,pa:n};this.a.Ja(fb(n),p)}}}},k.Po=function(a,b){var c=b.V();a={feature:a,pa:[c,c]},this.a.Ja(b.G(),a)},k.Qo=function(a,b){var c,d,e=0;for(d=(b=b.V()).length;e<d;++e){var f=b[e],g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2),l={feature:a,pa:h};this.a.Ja(fb(h),l)}}},v(zx,Vm),zx.prototype.C=function(){return this.o},zx.prototype.D=function(a){this.o=a},zx.prototype.setMap=function(a){var b=this.P;Vm.prototype.setMap.call(this,a),Gx(this,b)},zx.prototype.s=function(){Gx(this,null)},v(Fx,Na),v(W,G);var Ix=["#00f","#0ff","#0f0","#ff0","#f00"];(k=W.prototype).Th=function(){return this.get(Jx)},k.$h=function(){return this.get(Hx)},k.dj=function(){return this.get(Kx)},k.rm=function(){for(var a=this.$h(),b=md(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c,b.fillRect(0,0,1,256),this.g=b.getImageData(0,0,1,256).data},k.ug=function(){var a=this.dj(),b=this.Th(),c=a+b+1,d=2*c;(d=md(d,d)).shadowOffsetX=d.shadowOffsetY=this.O,d.shadowBlur=b,d.shadowColor="#000",d.beginPath(),b=c-this.O,d.arc(b,b,a,0,2*Math.PI,!0),d.fill(),this.C=d.canvas.toDataURL(),this.B=Array(256),this.u()},k.Im=function(a){var d,e,b=(a=a.context).canvas,c=(b=a.getImageData(0,0,b.width,b.height)).data,f=0;for(d=c.length;f<d;f+=4)(e=4*c[f+3])&&(c[f]=this.g[e],c[f+1]=this.g[e+1],c[f+2]=this.g[e+2]);a.putImageData(b,0,0)},k.Sj=function(a){this.set(Jx,a)},k.Yj=function(a){this.set(Hx,a)},k.dd=function(a){this.set(Kx,a)};var Jx="blur",Hx="gradient",Kx="radius";v(Lx,ff),Lx.prototype.Z=function(){return this.N?this.N.Z():null},Lx.prototype.B=function(){return this.i},Lx.prototype.Dd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.ca(),l=a.viewHints,m=a.extent;if(void 0!==b.extent&&(m=Ib(m,b.extent)),l[0]||l[1]||Db(m)||(b=h.Z(m,g,c,e.projection))&&Ue(this,b)&&(this.N=b),this.N){l=(b=this.N).G();var n=c*(m=b.resolution)/(g*(e=b.a));l=De(this.i,c*d[0]/2,c*d[1]/2,n,n,0,e*(l[0]-f[0])/m,e*(f[1]-l[3])/m),De(this.o,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]),We(a.attributions,b.i),Xe(a,h),this.c=g*c/e}return!!this.N},v(Mx,bw),Mx.prototype.oa=function(){1==this.state&&(Da(this.re),this.re=null),bw.prototype.oa.call(this)},Mx.prototype.Z=function(){return this.g},Mx.prototype.pe=function(){var a=this.Ib.getState();2==a&&(this.g=ri(Eb(this.f)/this.c,Fb(this.f)/this.c,this.l,this.Ib.resolution,0,this.c,this.f,this.j,[{extent:this.Ib.G(),image:this.Ib.Z()}],0)),this.state=a,this.u()},Mx.prototype.load=function(){if(0==this.state){this.state=1,this.u();var a=this.Ib.getState();2==a||3==a?this.pe():(this.re=y(this.Ib,"change",function(){var a=this.Ib.getState();2!=a&&3!=a||(Da(this.re),this.re=null,this.pe())},this),this.Ib.load())}},v(Nx,Ni),Nx.prototype.Z=function(a,b,c,d){var e=this.c;if(e&&d&&!Sc(e,d)){if(this.i){if(this.ja==this.f&&Sc(this.i.s,d)&&this.i.resolution==b&&vb(this.i.G(),a))return this.i;Ma(this.i),this.i=null}return this.i=new Mx(e,d,a,b,c,function(a,b,c){return this.Qc(a,b,c,e)}.bind(this)),this.ja=this.f,this.i}return e&&(d=e),this.Qc(a,b,c,d)},Nx.prototype.l=function(a){switch((a=a.target).getState()){case 1:this.b(new Px(Qx,a));break;case 2:this.b(new Px(Rx,a));break;case 3:this.b(new Px(Sx,a))}},v(Px,Na);var Qx="imageloadstart",Rx="imageloadend",Sx="imageloaderror";v(Ux,Nx),Ux.prototype.Qc=function(a,b,c,d){b=Ox(this,b);var e=this.U;return e&&this.Y==this.f&&e.resolution==b&&e.a==c&&nb(e.G(),a)?e:(a=a.slice(),Kb(a,this.Da),(d=this.na(a,b,c,[Eb(a)/b*c,Fb(a)/b*c],d))&&(e=new dw(a,b,c,this.j,d)),this.U=e,this.Y=this.f,e)},v(Ej,Ux),(k=Ej.prototype).cl=function(a,b,c,d,e){var f=new ck(.5*b/c,a,b,this.a.Y,this.Sa);this.a.je(a,b,e);var g=!1;return this.a.gc(a,function(a){var d;if(!(d=g)){var e;if((d=a.Ta())?e=d.call(a,b):this.s&&(e=this.s(a,b)),e){var h,p=!1;for(Array.isArray(e)||(e=[e]),d=0,h=e.length;d<h;++d)p=mk(f,a,e[d],lk(b,c),this.mp,this)||p;d=p}else d=!1}g=d},this),gk(f),g?null:(this.o[0]!=d[0]||this.o[1]!=d[1]?(this.g.canvas.width=d[0],this.g.canvas.height=d[1],this.o[0]=d[0],this.o[1]=d[1]):this.g.clearRect(0,0,d[0],d[1]),a=Vx(this,Gb(a),b,c,d),f.Qa(this.g,c,a,0,{}),this.D=f,this.g.canvas)},k.Ka=function(a,b,c,d,e,f){if(this.D){var g={};return this.D.Ka(a,b,0,d,e,function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,f(a)})}},k.kp=function(){return this.a},k.lp=function(){return this.O},k.Ta=function(){return this.s},k.mp=function(){this.u()},k.np=function(){Pi(this,this.a.getState())},k.nj=function(a){this.O=void 0!==a?a:Ck,this.s=a?zk(this.O):void 0,this.u()},v(Wx,Uh),Wx.prototype.Ka=function(a,b,c,d,e){var f=this.a;return f.ca().Ka(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},Wx.prototype.Gg=function(a,b){var c=this.c.f,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.N,m=this.texture,n=this.a.ca(),p=a.viewHints,q=a.extent;return void 0!==b.extent&&(q=Ib(q,b.extent)),p[0]||p[1]||Db(q)||(b=n.Z(q,g,d,e.projection))&&Ue(this,b)&&(l=b,m=Xx(this,b),this.texture&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.texture))),l&&(c=this.c.i.j,Yx(this,c.width,c.height,d,f,g,h,l.G()),this.l=null,d=this.s,ve(d),Be(d,1,-1),Ce(d,0,-1),this.N=l,this.texture=m,We(a.attributions,l.i),Xe(a,n)),!!l},Wx.prototype.lf=function(a,b){return void 0!==this.Ka(a,b,0,Ed,this)},Wx.prototype.Eg=function(a,b,c,d){if(this.N&&this.N.Z())if(this.a.ca()instanceof Ej){var e=ze(b.pixelToCoordinateTransform,a.slice());if(this.Ka(e,b,0,Ed,this))return c.call(d,this.a,null)}else{if(e=[this.N.Z().width,this.N.Z().height],!this.l){var f=b.size;Ce(b=ue(),-1,-1),Be(b,2/f[0],2/f[1]),Ce(b,0,f[1]),Be(b,1,-1),f=Ee(this.A.slice());var g=ue();Ce(g,0,e[1]),Be(g,1,-1),Be(g,e[0]/2,e[1]/2),Ce(g,1,1),xe(g,f),xe(g,b),this.l=g}if(!(0>(a=ze(this.l,a.slice()))[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.i||(this.i=md(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.N.Z(),a[0],a[1],1,1,0,0,1,1),0<(e=this.i.getImageData(0,0,1,1).data)[3]))return c.call(d,this.a,e)}},v(Fj,Yc),Fj.prototype.Sd=function(a){var b=null,c=a.T();return"canvas"===c?b=new Lx(this):"webgl"===c&&(b=new Wx(a,this)),b},v(Zx,gf);var $x={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},ay={image:["Default"],hybrid:["Image","Text","Default"],vector:qf};(k=Zx.prototype).Dd=function(a,b){var c=this.a,d=c.f;return this.ja!=d&&(this.i.length=0,c=c.g,this.context||"vector"==c||(this.context=md()),this.context&&"vector"==c&&(this.context=null)),this.ja=d,gf.prototype.Dd.apply(this,arguments)},k.dg=function(a,b,c,d,e,f,g,h){var l=a,m=this.a,n=b.pixelRatio,p=b.viewState.projection,q=m.f,t=m.get(qk)||null,u=by(l,m);if(u.$d||u.Df!=q||u.eh!=t){var x=m.ca(),B=x.tileGrid,A=x.Xa(p),E=A.Ha(l.xa[0]);A=A.Ia(l.s);for(var F=0,ia=l.f.length;F<ia;++F){var N=l.c[l.f[F]];u.$d=!1;var Z,O=N.f,fa=B.Ha(N.xa[0]),Aa=B.Ia(N.xa),z=Ib(A,Aa);if("tile-pixels"==O.b){var Za=Z=cy(x,N);z=ze(fa=De(this.A,0,0,1/fa*Za,-1/fa*Za,0,-Aa[0],-Aa[3]),[z[0],z[3]]).concat(ze(fa,[z[2],z[1]]))}else if(Z=E,!Sc(p,O)){var aa=!0;N.Bg(p)}for(u.$d=!1,z=new ck(0,z,Z,x.o,m.c),Z=lk(Z,n),fa=N.c,t&&t!==u.eh&&fa.sort(t),Aa=0,Za=fa.length;Aa<Za;++Aa){var rb=fa[Aa];aa&&rb.W().transform(O,p);var Ub=void 0,Mc=rb.Ta();if(Mc?Ub=Mc.call(rb,E):(Mc=m.Ta())&&(Ub=Mc(rb,E)),Ub){Array.isArray(Ub)||(Ub=[Ub]),Mc=Z;var yd=z;if(Ub){var Qd=!1;if(Array.isArray(Ub))for(var mc=0,Uf=Ub.length;mc<Uf;++mc)Qd=mk(yd,rb,Ub[mc],Mc,this.kj,this)||Qd;else Qd=mk(yd,rb,Ub,Mc,this.kj,this)||Qd;rb=Qd}else rb=!1;this.D=this.D||rb,u.$d=u.$d||rb}}gk(z),O=l.xa.toString(),N.j[w(m)+","+O]=z}u.Df=q,u.eh=t}if(this.context){if(B=b,m=this.a,p=by(l,m),q=m.f,(n=$x[m.g])&&p.fh!==q)for(p.fh=q,E=l.s,A=E[0],p=B.pixelRatio,q=m.ca(),t=q.tileGrid,aa=q.Xa(B.viewState.projection),u=aa.Ha(A),x=dy(l,m),B=q.ie(A,p,B.viewState.projection),x.canvas.width=B[0],x.canvas.height=B[1],B=aa.Ia(E),E=0,aa=l.f.length;E<aa;++E)A=l.c[l.f[E]],F=cy(q,A),O=A.xa,N=p/u,ia=ve(this.A),"tile-pixels"==A.f.b?(N=t.Ia(O,this.l),O=t.Ha(O[0]),z=p/F*O/u,Be(ia,z,z),Ce(ia,Math.round((N[0]-B[0])/O*F),Math.round((B[3]-N[3])/O*F))):(Be(ia,N,-N),Ce(ia,-B[0],-B[3])),ey(A,m,l.xa.toString()).Qa(x,p,ia,0,{},n,!0);gf.prototype.dg.apply(this,arguments)}},k.Ka=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.a,l={},m=this.i,n=h.ca();b=n.Xa(b.viewState.projection);var q,p=n.tileGrid,t=0;for(q=m.length;t<q;++t){var u=m[t],x=u.xa,B=b.Ia(x,this.l),A=ib(B,c*f,A);if(lb(A,a)){B=0;for(var E=u.f.length;B<E;++B){var F=u.c[u.f[B]];if("tile-pixels"===F.f.b){var ia=F.xa,N=Bb(f=p.Ia(ia,this.l));f=cy(n,F);var O=(ia=p.Ha(ia[0]))/f;N=[(a[0]-N[0])/O,(N[1]-a[1])/O],f*=b.Ha(x[0])/ia}else N=a;F=ey(F,h,u.xa.toString());var fa=fa||F.Ka(N,f,g,c,{},function(a){var b=w(a).toString();if(!(b in l))return l[b]=!0,d.call(e,a,h)})}}}return fa},k.kj=function(){Te(this)},k.wf=function(a,b,c){var d=this.a,e=d.ca(),f=d.g,g=ay[f],h=b.pixelRatio,l=b.viewState.rotation,m=b.size,n=Math.round(h*m[0]/2);m=Math.round(h*m[1]/2);for(var p=this.i,q=e.tileGrid,t=e.Xa(b.viewState.projection),u=[],x=[],B=p.length-1;0<=B;--B){var A=p[B];if(5!=A.getState())for(var E=A.xa,F=t.Ia(E)[0]-t.Ia(A.s)[0],ia=0,N=A.f.length;ia<N;++ia){var z,O=A.c[A.f[ia]],fa=cy(e,O),Aa=ey(O,d,E.toString());if(!(z="vector"==f))a:{z=void 0;for(z in Aa.a)for(var Z=Aa.a[z],Za=0,aa=g.length;Za<aa;++Za)if(g[Za]in Z){z=!0;break a}z=!1}if(z){if(z=O.xa[0],Z=q.Ha(z),Za=O,O=b,"tile-pixels"==Za.f.b){var rb=(aa=this.a.ca()).tileGrid,Ub=Za.xa;Za=rb.Ha(Ub[0])/cy(aa,Za),aa=O.viewState;var Mc=O.pixelRatio,yd=aa.resolution/Mc;Ub=rb.Ia(Ub,this.l),rb=aa.center,Ub=Bb(Ub),O=O.size,O=De(this.A,Math.round(Mc*O[0]/2),Math.round(Mc*O[1]/2),Za/yd,Za/yd,aa.rotation,(Ub[0]-rb[0])/Za,(rb[1]-Ub[1])/Za)}else O=ef(this,O,0);for(Ce(O,F*fa/Z,0),fa=ik(Aa,O),a.save(),a.globalAlpha=c.opacity,Kd(a,-l,n,m),Z=0,Za=u.length;Z<Za;++Z)aa=u[Z],z<x[Z]&&(a.beginPath(),a.moveTo(fa[0],fa[1]),a.lineTo(fa[2],fa[3]),a.lineTo(fa[4],fa[5]),a.lineTo(fa[6],fa[7]),a.moveTo(aa[6],aa[7]),a.lineTo(aa[4],aa[5]),a.lineTo(aa[2],aa[3]),a.lineTo(aa[0],aa[1]),a.clip());Aa.Qa(a,h,O,l,{},g),a.restore(),u.push(fa),x.push(z)}}}gf.prototype.wf.apply(this,arguments)},v(fy,G),(k=fy.prototype).Sd=function(a){var b=null;return"canvas"===a.T()&&(b=new Zx(this)),b},k.td=function(){return this.get("preload")},k.wd=function(){return this.get("useInterimTilesOnError")},k.gj=function(a){this.set("preload",a)},k.hj=function(a){this.set("useInterimTilesOnError",a)},v(hy,D);var iy=new Mi({html:'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});hy.prototype.Y=function(){return this.o},hy.prototype.ja=function(){return this.C},hy.prototype.na=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)Pi(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.D?c.zoomMax:this.D,e=Ji({extent:a=Li(this.c),minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/(this.i?2:1)});this.tileGrid=e;var f=this.U,g=this.i;if(this.tileUrlFunction=Ai(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return wi(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",xi(b))}})),c.imageryProviders){var h=Jc(Ic("EPSG:4326"),this.c);(a=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=Lb([(a=a.bbox)[1],a[0],a[3],a[2]],h);var g;for(g=b;g<=f;++g){var l=g.toString();b=$e(e,a,g),l in c?c[l].push(b):c[l]=[b]}}),new Mi({html:b,tileRanges:c})})).push(iy),this.za(a)}this.A=b,Pi(this,"ready")}},v(jy,D),v(ky,jy),(k=ky.prototype).vl=function(){return this.i},k.Dr=function(a){xa(this.i,a),ly(this)},k.dr=function(a){this.i=a||{},ly(this)},k.tm=function(a,b){if(!(b=b.target).status||200<=b.status&&300>b.status){try{var c=JSON.parse(b.responseText)}catch(d){return void Pi(this,"error")}my(this,c),this.o[a]=c,Pi(this,"ready")}else Pi(this,"error")},k.sm=function(){Pi(this,"error")},v(X,V),(k=X.prototype).Xo=function(){return this.distance},k.Yo=function(){return this.source},k.je=function(a,b,c){this.source.je(a,b,c),b!==this.resolution&&(this.clear(),this.resolution=b,ny(this),this.Jc(this.features))},k.Zo=function(a){this.distance=a,this.wa()},k.wa=function(){this.clear(),ny(this),this.Jc(this.features),V.prototype.wa.call(this)},v(qy,Nx),(k=qy.prototype).ap=function(){return this.s},k.Qc=function(a,b,c,d){if(void 0===this.a)return null;b=Ox(this,b),c=this.Y?c:1;var e=this.N;if(e&&this.O==this.f&&e.resolution==b&&e.a==c&&nb(e.G(),a))return e;xa(e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.s);var f=((a=a.slice())[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.D){var h=this.D*Eb(a)/2,l=this.D*Fb(a)/2;a[0]=f-h,a[1]=g-l,a[2]=f+h,a[3]=g+l}h=b/c,l=Math.ceil(Eb(a)/h);var m=Math.ceil(Fb(a)/h);return a[0]=f-h*l/2,a[2]=f+h*l/2,a[1]=g-h*m/2,a[3]=g+h*m/2,this.o[0]=l,this.o[1]=m,f=a,g=this.o,h=c,d=d.rb.split(":").pop(),e.SIZE=g[0]+","+g[1],e.BBOX=f.join(","),e.BBOXSR=d,e.IMAGESR=d,e.DPI=Math.round(90*h),d=this.a,(f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==d&&eb(!1,50),e=py(f,e),this.N=new cw(a,b,c,this.j,e,this.U,this.g),this.O=this.f,y(this.N,"change",this.l,this),this.N},k.$o=function(){return this.g},k.bp=function(){return this.a},k.cp=function(a){this.N=null,this.g=a,this.u()},k.ep=function(a){a!=this.a&&(this.a=a,this.N=null,this.u())},k.fp=function(a){xa(this.s,a),this.N=null,this.u()},v(ry,Nx),(k=ry.prototype).hp=function(){return this.g},k.Qc=function(a,b,c){b=Ox(this,b),c=this.Y?c:1;var d=this.N;if(d&&this.D==this.f&&d.resolution==b&&d.a==c&&nb(d.G(),a))return d;1!=this.s&&(a=a.slice(),Kb(a,this.s));var e=[Eb(a)/b*c,Fb(a)/b*c];if(void 0!==this.O){d=this.O;var f=Gb(a),g=this.na,h=Eb(a),l=Fb(a),m=e[0],n=e[1],p=.0254/this.o;e={OPERATION:this.Da?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]},xa(e,this.g),d=py(d,e),y(d=new cw(a,b,c,this.j,d,this.U,this.a),"change",this.l,this)}else d=null;return this.N=d,this.D=this.f,d},k.gp=function(){return this.a},k.jp=function(a){xa(this.g,a),this.u()},k.ip=function(a){this.N=null,this.a=a,this.u()},v(sy,Nx),sy.prototype.Qc=function(a){return Jb(a,this.N.G())?this.N:null},sy.prototype.l=function(a){if(2==this.N.getState()){var b=this.N.G(),c=this.N.Z();if(this.a)var d=this.a[0],e=this.a[1];else d=c.width,e=c.height;if((b=Math.ceil(Eb(b)/(Fb(b)/e)))!=d){var f=(b=md(b,e)).canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height),this.N.jh(f)}}Nx.prototype.l.call(this,a)},v(ty,Nx);var vy=[101,101];(k=ty.prototype).op=function(a,b,c,d){if(void 0!==this.g){var e=Hb(a,b,0,vy),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return xa(f,this.a,d),d=Math.floor((e[3]-a[1])/b),f[this.o?"I":"X"]=Math.floor((a[0]-e[0])/b),f[this.o?"J":"Y"]=d,wy(this,e,vy,1,Ic(c),f)}},k.qp=function(){return this.a},k.Qc=function(a,b,c,d){if(void 0===this.g)return null;b=Ox(this,b),1==c||this.Da&&void 0!==this.Y||(c=1);var e=b/c,f=Gb(a),g=Hb(f,e,0,[Math.ceil(Eb(a)/e),Math.ceil(Fb(a)/e)]);return a=Hb(f,e,0,[Math.ceil(this.O*Eb(a)/e),Math.ceil(this.O*Fb(a)/e)]),(f=this.N)&&this.U==this.f&&f.resolution==b&&f.a==c&&nb(f.G(),g)?f:(g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},xa(g,this.a),this.D[0]=Math.round(Eb(a)/e),this.D[1]=Math.round(Fb(a)/e),d=wy(this,a,this.D,c,d,g),this.N=new cw(a,b,c,this.j,d,this.na,this.s),this.U=this.f,y(this.N,"change",this.l,this),this.N)},k.pp=function(){return this.s},k.rp=function(){return this.g},k.sp=function(a){this.N=null,this.s=a,this.u()},k.tp=function(a){a!=this.g&&(this.g=a,this.N=null,this.u())},k.vp=function(a){xa(this.a,a),uy(this),this.N=null,this.u()},v(xy,jy);var yy=new Mi({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});Yg.vf={},Yg.vf.Pf=function(){},function(a){function b(a,b,c){return g?new ImageData(a,b,c):((b=h.createImageData(b,c)).data.set(a),b)}function c(a){var b=!0;try{new ImageData(10,10)}catch(n){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,l=d[0].byteLength;if(c.imageOps){for(l=Array(h),c=0;c<h;++c){var m=c,n=new Uint8ClampedArray(d[c]),F=f,ia=g;n=b?new ImageData(n,F,ia):{data:n,width:F,height:ia},l[m]=n}f=a(l,e).data}else{for(f=new Uint8ClampedArray(l),g=Array(h),m=Array(h),c=0;c<h;++c)g[c]=new Uint8ClampedArray(d[c]),m[c]=[0,0,0,0];for(d=0;d<l;d+=4){for(c=0;c<h;++c)n=g[c],m[c][0]=n[d],m[c][1]=n[d+1],m[c][2]=n[d+2],m[c][3]=n[d+3];c=a(m,e),f[d]=c[0],f[d+1]=c[1],f[d+2]=c[2],f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),(d=new Worker(d)).addEventListener("message",b),d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Uf=!!a.Tm;var b,c=[];if(b=0===a.threads?0:this.Uf?1:a.threads||1)for(var f=0;f<b;++f)c[f]=d(a,this.zh.bind(this,f));else c[0]=e(a,this.zh.bind(this,0));this.Ge=c,this.Rd=[],this.Pk=a.xq||1/0,this.Ee=0,this.md={},this.Vf=null}var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.prototype.vq=function(a,b,c){this.Nk({inputs:a,pi:b,callback:c}),this.wh()},f.prototype.destroy=function(){for(var a in this)this[a]=null;this.Mk=!0},f.prototype.Nk=function(a){for(this.Rd.push(a);this.Rd.length>this.Pk;)this.Rd.shift().callback(null,null)},f.prototype.wh=function(){if(0===this.Ee&&0<this.Rd.length){var a=this.Vf=this.Rd.shift(),b=a.inputs[0].width,c=a.inputs[0].height,d=a.inputs.map(function(a){return a.data.buffer}),e=this.Ge.length;if(this.Ee=e,1===e)this.Ge[0].postMessage({buffers:d,meta:a.pi,imageOps:this.Uf,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,B=[],A=0,E=d.length;A<E;++A)B.push(d[g].slice(h,h+f));this.Ge[g].postMessage({buffers:B,meta:a.pi,imageOps:this.Uf,width:b,height:c},B)}}},f.prototype.zh=function(a,b){this.Mk||(this.md[a]=b.data,0===--this.Ee&&this.Qk())},f.prototype.Qk=function(){var a=this.Vf,c=this.Ge.length;if(1===c)var d=new Uint8ClampedArray(this.md[0].buffer),e=this.md[0].meta;else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f),e=Array(f),f=4*Math.ceil(f/4/c);for(var g=0;g<c;++g){var h=g*f;d.set(new Uint8ClampedArray(this.md[g].buffer),h),e[g]=this.md[g].meta}}this.Vf=null,this.md={},a.callback(null,b(d,a.inputs[0].width,a.inputs[0].height),e),this.wh()},a.default={Pf:f},a.Pf=f}(Yg.vf=Yg.vf||{}),v(zy,Nx),zy.prototype.s=function(a,b){this.D=new Yg.vf.Pf({operation:a,Tm:"image"===this.Da,xq:1,lib:b,threads:this.Sa}),this.u()},zy.prototype.Z=function(a,b,c,d){c=!0;for(var e,f=0,g=this.g.length;f<g;++f)if("ready"!==(e=this.g[f].a.ca()).getState()){c=!1;break}if(!c)return null;if(c=xa({},this.O),c.viewState=xa({},c.viewState),e=Gb(a),c.extent=a.slice(),c.focus=e,c.size[0]=Math.round(Eb(a)/b),c.size[1]=Math.round(Fb(a)/b),f=c.viewState,f.center=e,f.projection=d,f.resolution=b,this.o=c,this.a&&(d=this.a.resolution,e=this.a.G(),b===d&&vb(a,e)||(this.a=null)),!this.a||this.f!==this.U)a:{for(a=this.o,d=this.g.length,b=Array(d),e=0;e<d;++e){f=this.g[e],g=a;var h=a.layerStatesArray[e];if(f.Dd(g,h)){var l=g.size[0],m=g.size[1];if(Cy){var n=Cy.canvas;n.width!==l||n.height!==m?Cy=md(l,m):Cy.clearRect(0,0,l,m)}else Cy=md(l,m);f.H(g,h,Cy),f=Cy.getImageData(0,0,l,m)}else f=null;if(!f)break a;b[e]=f}d={},this.b(new Dy(Ey,a,d)),this.D.vq(b,d,this.na.bind(this,a))}return Vl(c.tileQueue,16,16),this.a},zy.prototype.na=function(a,b,c,d){if(!b&&c){b=a.extent;var e=a.viewState.resolution;if(e===this.o.viewState.resolution&&vb(b,this.o.extent)){if(this.a)var f=this.a.Z().getContext("2d");else f=md(Math.round(Eb(b)/e),Math.round(Fb(b)/e)),this.a=new dw(b,e,1,this.j,f.canvas);f.putImageData(c,0,0),this.u(),this.U=this.f,this.b(new Dy(Fy,a,d))}}};var Cy=null;v(Dy,Na),zy.prototype.Qc=function(){return null};var Ey="beforeoperations",Fy="afteroperations";v(Gy,jy);var Jy=[new Mi({html:'Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),yy],Iy={terrain:{Lb:"jpg",opaque:!0},"terrain-background":{Lb:"jpg",opaque:!0},"terrain-labels":{Lb:"png",opaque:!1},"terrain-lines":{Lb:"png",opaque:!1},"toner-background":{Lb:"png",opaque:!0},toner:{Lb:"png",opaque:!0},"toner-hybrid":{Lb:"png",opaque:!1},"toner-labels":{Lb:"png",opaque:!1},"toner-lines":{Lb:"png",opaque:!1},"toner-lite":{Lb:"png",opaque:!0},watercolor:{Lb:"jpg",opaque:!0}},Hy={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};v(Ky,D),Ky.prototype.C=function(){return this.i},Ky.prototype.Sc=function(a){return a},Ky.prototype.Lc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Xa(c)),!(d.b.length<=a[0])){var e=d.Ia(a,this.o),f=kf(d.eb(a[0]),this.l);1!=b&&(f=ci(f,b,this.l)),xa(d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var g=this.urls;return g?(c=c.rb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[Sb((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),a=py(a,d)):a=void 0,a}},Ky.prototype.D=function(a){xa(this.i,a),Ri(this,Ly(this))},v(My,Qi),My.prototype.Xc=function(a,b,c){var d=this.Vb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=kf(this.tileGrid.eb(a));return a=[a,b,c],b=(b=Si(this,a))?Si(this,b).toString():"",e=new Ny(a,e,b),this.a.set(d,e),e},v(Ny,gi),Ny.prototype.Z=function(){if(this.f)return this.f;var a=this.c,b=md(a[0],a[1]);return b.strokeStyle="black",b.strokeRect(.5,.5,a[0]+.5,a[1]+.5),b.fillStyle="black",b.textAlign="center",b.textBaseline="middle",b.font="24px sans-serif",b.fillText(this.ya,a[0]/2,a[1]/2),this.f=b.canvas},Ny.prototype.load=function(){},v(Oy,D),(k=Oy.prototype).xp=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.mf()}this.Hg(b)}else this.mf()},k.wp=function(){this.mf()},k.em=function(){return this.i},k.Hg=function(a){var b=Ic("EPSG:4326"),c=this.c;if(a.bounds)var d=Jc(b,c),e=Lb(a.bounds,d);var f=a.minzoom||0;if(d=a.maxzoom||22,this.tileGrid=c=Ji({extent:Li(c),maxZoom:d,minZoom:f}),this.tileUrlFunction=zi(a.tiles,c),void 0!==a.attribution&&!this.j){b=void 0!==e?e:b.G(),e={};for(var g;f<=d;++f)g=f.toString(),e[g]=[$e(c,b,f)];this.za([new Mi({html:a.attribution,tileRanges:e})])}this.i=a,Pi(this,"ready")},k.mf=function(){Pi(this,"error")},v(Py,Qi),(k=Py.prototype).Bp=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.nf()}this.Ig(b)}else this.nf()},k.Ap=function(){this.nf()},k.bm=function(){return this.g},k.il=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Re(a,b),Qy(this.Xc(b[0],b[1],b[2],1,this.c),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)},k.nf=function(){Pi(this,"error")},k.Ig=function(a){var b=Ic("EPSG:4326"),c=this.c;if(a.bounds)var d=Jc(b,c),e=Lb(a.bounds,d);var f=a.minzoom||0;d=a.maxzoom||22,this.tileGrid=c=Ji({extent:Li(c),maxZoom:d,minZoom:f}),this.g=a.template;var g=a.grids;if(g){if(this.o=zi(g,c),void 0!==a.attribution){for(b=void 0!==e?e:b.G(),e={};f<=d;++f)g=f.toString(),e[g]=[$e(c,b,f)];this.za([new Mi({html:a.attribution,tileRanges:e})])}Pi(this,"ready")}else Pi(this,"error")},k.Xc=function(a,b,c,d,e){var f=this.Vb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],b=Si(this,a,e),d=this.o(b,d,e),d=new Ry(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Ia(a),this.s,this.i),this.a.set(f,d),d)},k.nh=function(a,b,c){a=this.Vb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(Ry,gi),(k=Ry.prototype).Z=function(){return null},k.getData=function(a){if(!this.g||!this.j)return null;var b=this.g[Math.floor((1-(a[1]-this.f[1])/(this.f[3]-this.f[1]))*this.g.length)];return"string"!=typeof b?null:(93<=(b=b.charCodeAt(Math.floor((a[0]-this.f[0])/(this.f[2]-this.f[0])*b.length)))&&b--,35<=b&&b--,b-=32,a=null,b in this.j&&(b=this.j[b],a=this.c&&b in this.c?this.c[b]:b),a)},k.ib=function(){return this.l},k.Te=function(){this.state=3,this.u()},k.oj=function(a){this.g=a.grid,this.j=a.keys,this.c=a.data,this.state=4,this.u()},k.zp=function(a){if(!(a=a.target).status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){return void this.Te()}this.oj(b)}else this.Te()},k.yp=function(){this.Te()},k.load=function(){this.s&&Sy(this)},v(Ty,D),(k=Ty.prototype).Cp=function(a,b,c,d){c=Ic(c);var e=this.tileGrid;if(e||(e=this.Xa(c)),b=e.Re(a,b),!(e.b.length<=b[0])){var f=e.Ha(b[0]),g=e.Ia(b,this.ja);e=kf(e.eb(b[0]),this.l);var h=this.C;return 0!==h&&(e=bi(e,h,this.l),g=ib(g,f*h,g)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},xa(h,this.i,d),d=Math.floor((g[3]-a[1])/f),h[this.o?"I":"X"]=Math.floor((a[0]-g[0])/f),h[this.o?"J":"Y"]=d,Xy(this,b,e,g,1,c,h)}},k.lg=function(){return this.C},k.Vb=function(a,b,c){return this.U+D.prototype.Vb.call(this,a,b,c)},k.Dp=function(){return this.i},k.Sc=function(a){return this.Y&&void 0!==this.D?a:1},k.Lc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Xa(c)),!(d.b.length<=a[0])){1==b||this.Y&&void 0!==this.D||(b=1);var e=d.Ha(a[0]),f=d.Ia(a,this.ja);d=kf(d.eb(a[0]),this.l);var g=this.C;return 0!==g&&(d=bi(d,g,this.l),f=ib(f,e*g,f)),1!=b&&(d=ci(d,b,this.l)),e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},xa(e,this.i),Xy(this,a,d,f,b,c,e)}},k.lb=function(a){D.prototype.lb.call(this,a),Uy(this)},k.Ep=function(a){xa(this.i,a),Uy(this),Vy(this),Ri(this,Wy(this))},v(Yy,gi),(k=Yy.prototype).oa=function(){for(var a=0,b=this.f.length;a<b;++a){var c=this.f[a],d=this.c[c];d.g--,0==d.g&&(delete this.c[c],Ma(d))}this.f.length=0,this.c=null,1==this.state&&(this.g.forEach(Da),this.g.length=0),this.a&&Ma(this.a),this.state=5,this.u(),this.o.forEach(Da),this.o.length=0,gi.prototype.oa.call(this)},k.Z=function(a){return-1==by(this,a).fh?null:dy(this,a).canvas},k.ib=function(){return this.f.join("/")+"/"+this.H},k.load=function(){var a=0;0==this.state&&lf(this,1),1==this.state&&this.f.forEach(function(b){var c=this.c[b];if(0==c.state&&(c.kh(this.A),c.load()),1==c.state){var d=y(c,"change",function(){var b=c.getState();if(2==b||3==b){--a,Da(d);var f=(b=this.g).indexOf(d);-1<f&&b.splice(f,1),0==a&&this.Qh()}}.bind(this));this.g.push(d),++a}}.bind(this)),0==a&&setTimeout(this.Qh.bind(this),0)},k.Qh=function(){for(var c,a=!1,b=this.f.length,d=b-1;0<=d;--d)2!=(c=this.c[this.f[d]].getState())&&(3==c&&(a=!0),--b);lf(this,0<b?2:a?3:4)},v($y,gi),(k=$y.prototype).oa=function(){this.c=null,this.j={},this.state=5,this.u(),gi.prototype.oa.call(this)},k.G=function(){return this.l||az},k.Jn=function(){return this.o},k.In=function(){return this.c},k.ib=function(){return this.s},k.Kn=function(){return this.f},k.load=function(){0==this.state&&(lf(this,1),this.A(this,this.s),this.H(null,NaN,null))},k.fq=function(a,b,c){this.Bg(b),this.Vj(a),this.Ei(c)},k.eq=function(){lf(this,3)},k.Ei=function(a){this.l=a},k.Vj=function(a){this.c=a,lf(this,2)},k.Bg=function(a){this.f=a},k.kh=function(a){this.H=a};var az=[0,0,4096,4096];v(bz,Ui),bz.prototype.Xc=function(a,b,c,d,e){var f=this.Vb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],c=(b=Si(this,a,e))?this.tileUrlFunction(b,d,e):void 0,d=new Yy(a,void 0!==c?0:4,void 0!==c?c:"",this.g,this.tileLoadFunction,b,this.tileUrlFunction,this.tileGrid,this.Xa(e),this.s,d,e,this.tileClass,this.qj.bind(this)),this.a.set(f,d),d)},bz.prototype.Xa=function(a){var b=a.rb,c=this.i[b];return c||(c=this.tileGrid,c=this.i[b]=Ii(a,void 0,c?c.eb(c.minZoom):void 0)),c},bz.prototype.Sc=function(a){return a},bz.prototype.ie=function(a,b,c){return a=kf(this.Xa(c).eb(a)),[Math.round(a[0]*b),Math.round(a[1]*b)]},v(cz,Di),cz.prototype.o=function(){return this.l},v(Y,D),(k=Y.prototype).zl=function(){return this.i},k.Fp=function(){return this.C},k.Gp=function(){return this.D},k.Pl=function(){return this.o},k.$l=function(){return this.Y},k.Hp=function(){return this.U},k.hm=function(){return this.ja},k.Er=function(a){xa(this.i,a),Ri(this,ez(this))},v(fz,D),v(iz,ii),iz.prototype.Z=function(){if(this.f)return this.f;var a=ii.prototype.Z.call(this);if(2==this.state){if(256==a.width&&256==a.height)return this.f=a;var b=md(256,256);return b.drawImage(a,0,0),this.f=b.canvas}return a};var gz="default",hz="truncated";Ta.prototype.code=Ta.prototype.code,r("ol.Attribution",Mi),Mi.prototype.getHTML=Mi.prototype.f,r("ol.Collection",$a),$a.prototype.clear=$a.prototype.clear,$a.prototype.extend=$a.prototype.yg,$a.prototype.forEach=$a.prototype.forEach,$a.prototype.getArray=$a.prototype.nn,$a.prototype.item=$a.prototype.item,$a.prototype.getLength=$a.prototype.kc,$a.prototype.insertAt=$a.prototype.Xe,$a.prototype.pop=$a.prototype.pop,$a.prototype.push=$a.prototype.push,$a.prototype.remove=$a.prototype.remove,$a.prototype.removeAt=$a.prototype.ah,$a.prototype.setAt=$a.prototype.cr,db.prototype.element=db.prototype.element,r("ol.color.asArray",Nd),r("ol.color.asString",Pd),r("ol.colorlike.asColorLike",Sd),r("ol.control.defaults",Wk),r("ol.coordinate.add",rd),r("ol.coordinate.createStringXY",function(a){return function(b){return Dd(b,a)}}),r("ol.coordinate.format",vd),r("ol.coordinate.rotate",xd),r("ol.coordinate.toStringHDMS",function(a,b){return a?ud("NS",a[1],b)+" "+ud("EW",a[0],b):""}),r("ol.coordinate.toStringXY",Dd),r("ol.DeviceOrientation",yo),yo.prototype.getAlpha=yo.prototype.ol,yo.prototype.getBeta=yo.prototype.rl,yo.prototype.getGamma=yo.prototype.Dl,yo.prototype.getHeading=yo.prototype.pn,yo.prototype.getTracking=yo.prototype.yi,yo.prototype.setTracking=yo.prototype.zg,r("ol.easing.easeIn",Qk),r("ol.easing.easeOut",Rk),r("ol.easing.inAndOut",Sk),r("ol.easing.linear",bj),r("ol.easing.upAndDown",function(a){return.5>a?Sk(2*a):1-Sk(2*(a-.5))}),r("ol.extent.boundingExtent",fb),r("ol.extent.buffer",ib),r("ol.extent.containsCoordinate",lb),r("ol.extent.containsExtent",nb),r("ol.extent.containsXY",mb),r("ol.extent.createEmpty",gb),r("ol.extent.equals",vb),r("ol.extent.extend",wb),r("ol.extent.getArea",Cb),r("ol.extent.getBottomLeft",yb),r("ol.extent.getBottomRight",zb),r("ol.extent.getCenter",Gb),r("ol.extent.getHeight",Fb),r("ol.extent.getIntersection",Ib),r("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]}),r("ol.extent.getTopLeft",Bb),r("ol.extent.getTopRight",Ab),r("ol.extent.getWidth",Eb),r("ol.extent.intersects",Jb),r("ol.extent.isEmpty",Db),r("ol.extent.applyTransform",Lb),r("ol.Feature",Eo),Eo.prototype.clone=Eo.prototype.clone,Eo.prototype.getGeometry=Eo.prototype.W,Eo.prototype.getId=Eo.prototype.rn,Eo.prototype.getGeometryName=Eo.prototype.Fl,Eo.prototype.getStyle=Eo.prototype.sn,Eo.prototype.getStyleFunction=Eo.prototype.Ta,Eo.prototype.setGeometry=Eo.prototype.Va,Eo.prototype.setStyle=Eo.prototype.Ag,Eo.prototype.setId=Eo.prototype.pc,Eo.prototype.setGeometryName=Eo.prototype.cd,r("ol.featureloader.xhr",Zo),r("ol.Geolocation",Rv),Rv.prototype.getAccuracy=Rv.prototype.ml,Rv.prototype.getAccuracyGeometry=Rv.prototype.nl,Rv.prototype.getAltitude=Rv.prototype.tn,Rv.prototype.getAltitudeAccuracy=Rv.prototype.pl,Rv.prototype.getHeading=Rv.prototype.vn,Rv.prototype.getPosition=Rv.prototype.wn,Rv.prototype.getProjection=Rv.prototype.zi,Rv.prototype.getSpeed=Rv.prototype.am,Rv.prototype.getTracking=Rv.prototype.Ai,Rv.prototype.getTrackingOptions=Rv.prototype.fi,Rv.prototype.setProjection=Rv.prototype.Bi,Rv.prototype.setTracking=Rv.prototype.bf,Rv.prototype.setTrackingOptions=Rv.prototype.ek,r("ol.Graticule",Xv),Xv.prototype.getMap=Xv.prototype.zn,Xv.prototype.getMeridians=Xv.prototype.Ql,Xv.prototype.getParallels=Xv.prototype.Yl,Xv.prototype.setMap=Xv.prototype.setMap,r("ol.has.DEVICE_PIXEL_RATIO",ge),r("ol.has.CANVAS",ie),r("ol.has.DEVICE_ORIENTATION",je),r("ol.has.GEOLOCATION",ke),r("ol.has.TOUCH",le),r("ol.has.WEBGL",ae),cw.prototype.getImage=cw.prototype.Z,cw.prototype.load=cw.prototype.load,ii.prototype.getImage=ii.prototype.Z,ii.prototype.load=ii.prototype.load,r("ol.inherits",v),r("ol.interaction.defaults",Jn),r("ol.Kinetic",Cm),r("ol.loadingstrategy.all",pw),r("ol.loadingstrategy.bbox",function(a){return[a]}),r("ol.loadingstrategy.tile",function(a){return function(b,c){c=a.zc(c),b=$e(a,b,c);var d=[];for((c=[c,0,0])[1]=b.ea;c[1]<=b.ga;++c[1])for(c[2]=b.ha;c[2]<=b.ka;++c[2])d.push(a.Ia(c));return d}}),r("ol.Map",K),K.prototype.addControl=K.prototype.Uk,K.prototype.addInteraction=K.prototype.Vk,K.prototype.addLayer=K.prototype.Ch,K.prototype.addOverlay=K.prototype.Dh,K.prototype.forEachFeatureAtPixel=K.prototype.ce,K.prototype.getFeaturesAtPixel=K.prototype.Bl,K.prototype.forEachLayerAtPixel=K.prototype.Fn,K.prototype.hasFeatureAtPixel=K.prototype.Rm,K.prototype.getEventCoordinate=K.prototype.ig,K.prototype.getEventPixel=K.prototype.Me,K.prototype.getTarget=K.prototype.rg,K.prototype.getTargetElement=K.prototype.vd,K.prototype.getCoordinateFromPixel=K.prototype.ab,K.prototype.getControls=K.prototype.wl,K.prototype.getOverlays=K.prototype.Wl,K.prototype.getOverlayById=K.prototype.Vl,K.prototype.getInteractions=K.prototype.Hl,K.prototype.getLayerGroup=K.prototype.Mb,K.prototype.getLayers=K.prototype.Ci,K.prototype.getPixelFromCoordinate=K.prototype.Na,K.prototype.getSize=K.prototype.Ob,K.prototype.getView=K.prototype.$,K.prototype.getViewport=K.prototype.im,K.prototype.renderSync=K.prototype.Zq,K.prototype.render=K.prototype.render,K.prototype.removeControl=K.prototype.Sq,K.prototype.removeInteraction=K.prototype.Tq,K.prototype.removeLayer=K.prototype.Vq,K.prototype.removeOverlay=K.prototype.Wq,K.prototype.setLayerGroup=K.prototype.Zj,K.prototype.setSize=K.prototype.lh,K.prototype.setTarget=K.prototype.cf,K.prototype.setView=K.prototype.Gn,K.prototype.updateSize=K.prototype.Md,hl.prototype.originalEvent=hl.prototype.originalEvent,hl.prototype.pixel=hl.prototype.pixel,hl.prototype.coordinate=hl.prototype.coordinate,hl.prototype.dragging=hl.prototype.dragging,hl.prototype.preventDefault=hl.prototype.preventDefault,hl.prototype.stopPropagation=hl.prototype.stopPropagation,gl.prototype.map=gl.prototype.map,gl.prototype.frameState=gl.prototype.frameState,r("ol.Object",Ua),Ua.prototype.get=Ua.prototype.get,Ua.prototype.getKeys=Ua.prototype.R,Ua.prototype.getProperties=Ua.prototype.K,Ua.prototype.set=Ua.prototype.set,Ua.prototype.setProperties=Ua.prototype.J,Ua.prototype.unset=Ua.prototype.S,Ya.prototype.key=Ya.prototype.key,Ya.prototype.oldValue=Ya.prototype.oldValue,r("ol.Observable",Ra),r("ol.Observable.unByKey",Sa),Ra.prototype.changed=Ra.prototype.u,Ra.prototype.dispatchEvent=Ra.prototype.b,Ra.prototype.getRevision=Ra.prototype.M,Ra.prototype.on=Ra.prototype.I,Ra.prototype.once=Ra.prototype.once,Ra.prototype.un=Ra.prototype.L,r("ol.Overlay",Zn),Zn.prototype.getElement=Zn.prototype.ee,Zn.prototype.getId=Zn.prototype.Hn,Zn.prototype.getMap=Zn.prototype.df,Zn.prototype.getOffset=Zn.prototype.bi,Zn.prototype.getPosition=Zn.prototype.Di,Zn.prototype.getPositioning=Zn.prototype.ci,Zn.prototype.setElement=Zn.prototype.Uj,Zn.prototype.setMap=Zn.prototype.setMap,Zn.prototype.setOffset=Zn.prototype.$j,Zn.prototype.setPosition=Zn.prototype.ef,Zn.prototype.setPositioning=Zn.prototype.ck,r("ol.proj.METERS_PER_UNIT",oc),r("ol.proj.setProj4",function(a){pc=a}),r("ol.proj.getPointResolution",Hc),r("ol.proj.addEquivalentProjections",Kc),r("ol.proj.addProjection",Lc),r("ol.proj.addCoordinateTransforms",Qc),r("ol.proj.fromLonLat",function(a,b){return Vc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")}),r("ol.proj.toLonLat",function(a,b){return Vc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")}),r("ol.proj.get",Ic),r("ol.proj.equivalent",Sc),r("ol.proj.getTransform",Tc),r("ol.proj.transform",Vc),r("ol.proj.transformExtent",Wc),r("ol.render.toContext",function(a,b){var c=a.canvas,d=b||{};return b=d.pixelRatio||ge,(d=d.size)&&(c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px"),c=[0,0,c.width,c.height],d=Be(ue(),b,b),new Fe(a,b,c,d,0)}),r("ol.size.toSize",kf),r("ol.Sphere",hc),hc.prototype.geodesicArea=hc.prototype.a,hc.prototype.haversineDistance=hc.prototype.b,r("ol.Sphere.getLength",kc),r("ol.Sphere.getArea",nc),gi.prototype.getTileCoord=gi.prototype.i,gi.prototype.load=gi.prototype.load,r("ol.tilegrid.createXYZ",Ji),$y.prototype.getFormat=$y.prototype.Jn,$y.prototype.getFeatures=$y.prototype.In,$y.prototype.getProjection=$y.prototype.Kn,$y.prototype.setExtent=$y.prototype.Ei,$y.prototype.setFeatures=$y.prototype.Vj,$y.prototype.setProjection=$y.prototype.Bg,$y.prototype.setLoader=$y.prototype.kh,r("ol.View",J),J.prototype.animate=J.prototype.animate,J.prototype.getAnimating=J.prototype.Oc,J.prototype.getInteracting=J.prototype.Gl,J.prototype.cancelAnimations=J.prototype.pd,J.prototype.constrainCenter=J.prototype.Kc,J.prototype.constrainResolution=J.prototype.constrainResolution,J.prototype.constrainRotation=J.prototype.constrainRotation,J.prototype.getCenter=J.prototype.ta,J.prototype.calculateExtent=J.prototype.od,J.prototype.getMaxResolution=J.prototype.Ln,J.prototype.getMinResolution=J.prototype.Nn,J.prototype.getMaxZoom=J.prototype.Mn,J.prototype.setMaxZoom=J.prototype.lr,J.prototype.getMinZoom=J.prototype.On,J.prototype.setMinZoom=J.prototype.mr,J.prototype.getProjection=J.prototype.Pn,J.prototype.getResolution=J.prototype.Ma,J.prototype.getResolutions=J.prototype.Qn,J.prototype.getResolutionForExtent=J.prototype.Pe,J.prototype.getRotation=J.prototype.Oa,J.prototype.getZoom=J.prototype.gi,J.prototype.getZoomForResolution=J.prototype.Se,J.prototype.getResolutionForZoom=J.prototype.ei,J.prototype.fit=J.prototype.fg,J.prototype.centerOn=J.prototype.dl,J.prototype.rotate=J.prototype.rotate,J.prototype.setCenter=J.prototype.cb,J.prototype.setResolution=J.prototype.Hc,J.prototype.setRotation=J.prototype.Uc,J.prototype.setZoom=J.prototype.vr,r("ol.xml.getAllTextContent",Io),r("ol.xml.parse",Mo),Wf.prototype.getGL=Wf.prototype.Tp,Wf.prototype.useProgram=Wf.prototype.$c,r("ol.tilegrid.TileGrid",Di),Di.prototype.forEachTileCoord=Di.prototype.gg,Di.prototype.getMaxZoom=Di.prototype.yj,Di.prototype.getMinZoom=Di.prototype.zj,Di.prototype.getOrigin=Di.prototype.Zc,Di.prototype.getResolution=Di.prototype.Ha,Di.prototype.getResolutions=Di.prototype.Aj,Di.prototype.getTileCoordExtent=Di.prototype.Ia,Di.prototype.getTileCoordForCoordAndResolution=Di.prototype.Re,Di.prototype.getTileCoordForCoordAndZ=Di.prototype.tg,Di.prototype.getTileSize=Di.prototype.eb,Di.prototype.getZForResolution=Di.prototype.zc,r("ol.tilegrid.WMTS",cz),cz.prototype.getMatrixIds=cz.prototype.o,r("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",dz),r("ol.style.AtlasManager",xh),r("ol.style.Circle",vk),vk.prototype.clone=vk.prototype.clone,vk.prototype.setRadius=vk.prototype.dd,r("ol.style.Fill",wk),wk.prototype.clone=wk.prototype.clone,wk.prototype.getColor=wk.prototype.f,wk.prototype.setColor=wk.prototype.c,r("ol.style.Icon",Dj),Dj.prototype.clone=Dj.prototype.clone,Dj.prototype.getAnchor=Dj.prototype.Nc,Dj.prototype.getColor=Dj.prototype.Ip,Dj.prototype.getImage=Dj.prototype.Z,Dj.prototype.getOrigin=Dj.prototype.Yc,Dj.prototype.getSrc=Dj.prototype.Jp,Dj.prototype.getSize=Dj.prototype.nc,Dj.prototype.load=Dj.prototype.load,r("ol.style.Image",sk),sk.prototype.getOpacity=sk.prototype.qf,sk.prototype.getRotateWithView=sk.prototype.rf,sk.prototype.getRotation=sk.prototype.sf,sk.prototype.getScale=sk.prototype.tf,sk.prototype.getSnapToPixel=sk.prototype.Qe,sk.prototype.setOpacity=sk.prototype.Fd,sk.prototype.setRotation=sk.prototype.uf,sk.prototype.setScale=sk.prototype.Gd,r("ol.style.RegularShape",tk),tk.prototype.clone=tk.prototype.clone,tk.prototype.getAnchor=tk.prototype.Nc,tk.prototype.getAngle=tk.prototype.uj,tk.prototype.getFill=tk.prototype.va,tk.prototype.getImage=tk.prototype.Z,tk.prototype.getOrigin=tk.prototype.Yc,tk.prototype.getPoints=tk.prototype.vj,tk.prototype.getRadius=tk.prototype.wj,tk.prototype.getRadius2=tk.prototype.di,tk.prototype.getSize=tk.prototype.nc,tk.prototype.getStroke=tk.prototype.ua,r("ol.style.Stroke",Pg),Pg.prototype.clone=Pg.prototype.clone,Pg.prototype.getColor=Pg.prototype.Kp,Pg.prototype.getLineCap=Pg.prototype.Kl,Pg.prototype.getLineDash=Pg.prototype.Lp,Pg.prototype.getLineDashOffset=Pg.prototype.Ll,Pg.prototype.getLineJoin=Pg.prototype.Ml,Pg.prototype.getMiterLimit=Pg.prototype.Rl,Pg.prototype.getWidth=Pg.prototype.Mp,Pg.prototype.setColor=Pg.prototype.Np,Pg.prototype.setLineCap=Pg.prototype.ir,Pg.prototype.setLineDash=Pg.prototype.setLineDash,Pg.prototype.setLineDashOffset=Pg.prototype.jr,Pg.prototype.setLineJoin=Pg.prototype.kr,Pg.prototype.setMiterLimit=Pg.prototype.nr,Pg.prototype.setWidth=Pg.prototype.tr,r("ol.style.Style",xk),xk.prototype.clone=xk.prototype.clone,xk.prototype.getRenderer=xk.prototype.Oe,xk.prototype.setRenderer=xk.prototype.or,xk.prototype.getGeometry=xk.prototype.W,xk.prototype.getGeometryFunction=xk.prototype.El,xk.prototype.getFill=xk.prototype.va,xk.prototype.setFill=xk.prototype.Ff,xk.prototype.getImage=xk.prototype.Z,xk.prototype.setImage=xk.prototype.jh,xk.prototype.getStroke=xk.prototype.ua,xk.prototype.setStroke=xk.prototype.Gf,xk.prototype.getText=xk.prototype.Ba,xk.prototype.setText=xk.prototype.Kd,xk.prototype.getZIndex=xk.prototype.Ca,xk.prototype.setGeometry=xk.prototype.Va,xk.prototype.setZIndex=xk.prototype.ac,r("ol.style.Text",Ar),Ar.prototype.clone=Ar.prototype.clone,Ar.prototype.getFont=Ar.prototype.Cl,Ar.prototype.getOffsetX=Ar.prototype.Sl,Ar.prototype.getOffsetY=Ar.prototype.Tl,Ar.prototype.getFill=Ar.prototype.va,Ar.prototype.getRotateWithView=Ar.prototype.Op,Ar.prototype.getRotation=Ar.prototype.Pp,Ar.prototype.getScale=Ar.prototype.Qp,Ar.prototype.getStroke=Ar.prototype.ua,Ar.prototype.getText=Ar.prototype.Ba,Ar.prototype.getTextAlign=Ar.prototype.cm,Ar.prototype.getTextBaseline=Ar.prototype.dm,Ar.prototype.setFont=Ar.prototype.Wj,Ar.prototype.setOffsetX=Ar.prototype.ak,Ar.prototype.setOffsetY=Ar.prototype.bk,Ar.prototype.setFill=Ar.prototype.Ff,Ar.prototype.setRotation=Ar.prototype.Rp,Ar.prototype.setScale=Ar.prototype.xj,Ar.prototype.setStroke=Ar.prototype.Gf,Ar.prototype.setText=Ar.prototype.Kd,Ar.prototype.setTextAlign=Ar.prototype.dk,Ar.prototype.setTextBaseline=Ar.prototype.rr,r("ol.source.BingMaps",hy),r("ol.source.BingMaps.TOS_ATTRIBUTION",iy),hy.prototype.getApiKey=hy.prototype.Y,hy.prototype.getImagerySet=hy.prototype.ja,r("ol.source.CartoDB",ky),ky.prototype.getConfig=ky.prototype.vl,ky.prototype.updateConfig=ky.prototype.Dr,ky.prototype.setConfig=ky.prototype.dr,r("ol.source.Cluster",X),X.prototype.getDistance=X.prototype.Xo,X.prototype.getSource=X.prototype.Yo,X.prototype.setDistance=X.prototype.Zo,r("ol.source.Image",Nx),Px.prototype.image=Px.prototype.image,r("ol.source.ImageArcGISRest",qy),qy.prototype.getParams=qy.prototype.ap,qy.prototype.getImageLoadFunction=qy.prototype.$o,qy.prototype.getUrl=qy.prototype.bp,qy.prototype.setImageLoadFunction=qy.prototype.cp,qy.prototype.setUrl=qy.prototype.ep,qy.prototype.updateParams=qy.prototype.fp,r("ol.source.ImageCanvas",Ux),r("ol.source.ImageMapGuide",ry),ry.prototype.getParams=ry.prototype.hp,ry.prototype.getImageLoadFunction=ry.prototype.gp,ry.prototype.updateParams=ry.prototype.jp,ry.prototype.setImageLoadFunction=ry.prototype.ip,r("ol.source.ImageStatic",sy),r("ol.source.ImageVector",Ej),Ej.prototype.getSource=Ej.prototype.kp,Ej.prototype.getStyle=Ej.prototype.lp,Ej.prototype.getStyleFunction=Ej.prototype.Ta,Ej.prototype.setStyle=Ej.prototype.nj,r("ol.source.ImageWMS",ty),ty.prototype.getGetFeatureInfoUrl=ty.prototype.op,ty.prototype.getParams=ty.prototype.qp,ty.prototype.getImageLoadFunction=ty.prototype.pp,ty.prototype.getUrl=ty.prototype.rp,ty.prototype.setImageLoadFunction=ty.prototype.sp,ty.prototype.setUrl=ty.prototype.tp,ty.prototype.updateParams=ty.prototype.vp,r("ol.source.OSM",xy),r("ol.source.OSM.ATTRIBUTION",yy),r("ol.source.Raster",zy),zy.prototype.setOperation=zy.prototype.s,Dy.prototype.extent=Dy.prototype.extent,Dy.prototype.resolution=Dy.prototype.resolution,Dy.prototype.data=Dy.prototype.data,r("ol.source.Source",Ni),Ni.prototype.getAttributions=Ni.prototype.Fa,Ni.prototype.getLogo=Ni.prototype.Ea,Ni.prototype.getProjection=Ni.prototype.Ga,Ni.prototype.getState=Ni.prototype.getState,Ni.prototype.refresh=Ni.prototype.wa,Ni.prototype.setAttributions=Ni.prototype.za,r("ol.source.Stamen",Gy),r("ol.source.Tile",Qi),Qi.prototype.getTileGrid=Qi.prototype.hb,Ti.prototype.tile=Ti.prototype.tile,r("ol.source.TileArcGISRest",Ky),Ky.prototype.getParams=Ky.prototype.C,Ky.prototype.updateParams=Ky.prototype.D,r("ol.source.TileDebug",My),r("ol.source.TileImage",D),D.prototype.setRenderReprojectionEdges=D.prototype.Qb,D.prototype.setTileGridForProjection=D.prototype.Rb,r("ol.source.TileJSON",Oy),Oy.prototype.getTileJSON=Oy.prototype.em,r("ol.source.TileUTFGrid",Py),Py.prototype.getTemplate=Py.prototype.bm,Py.prototype.forDataAtCoordinateAndResolution=Py.prototype.il,r("ol.source.TileWMS",Ty),Ty.prototype.getGetFeatureInfoUrl=Ty.prototype.Cp,Ty.prototype.getParams=Ty.prototype.Dp,Ty.prototype.updateParams=Ty.prototype.Ep,Ui.prototype.getTileLoadFunction=Ui.prototype.ub,Ui.prototype.getTileUrlFunction=Ui.prototype.vb,Ui.prototype.getUrls=Ui.prototype.wb,Ui.prototype.setTileLoadFunction=Ui.prototype.Ab,Ui.prototype.setTileUrlFunction=Ui.prototype.kb,Ui.prototype.setUrl=Ui.prototype.ob,Ui.prototype.setUrls=Ui.prototype.lb,r("ol.source.Vector",V),V.prototype.addFeature=V.prototype.Db,V.prototype.addFeatures=V.prototype.Jc,V.prototype.clear=V.prototype.clear,V.prototype.forEachFeature=V.prototype.Rh,V.prototype.forEachFeatureInExtent=V.prototype.gc,V.prototype.forEachFeatureIntersectingExtent=V.prototype.Sh,V.prototype.getFeaturesCollection=V.prototype.Zh,V.prototype.getFeatures=V.prototype.Ed,V.prototype.getFeaturesAtCoordinate=V.prototype.Yh,V.prototype.getFeaturesInExtent=V.prototype.jg,V.prototype.getClosestFeatureToCoordinate=V.prototype.Uh,V.prototype.getExtent=V.prototype.G,V.prototype.getFeatureById=V.prototype.Xh,V.prototype.getFormat=V.prototype.rj,V.prototype.getUrl=V.prototype.sj,V.prototype.removeFeature=V.prototype.Hb,uw.prototype.feature=uw.prototype.feature,r("ol.source.VectorTile",bz),r("ol.source.WMTS",Y),Y.prototype.getDimensions=Y.prototype.zl,Y.prototype.getFormat=Y.prototype.Fp,Y.prototype.getLayer=Y.prototype.Gp,Y.prototype.getMatrixSet=Y.prototype.Pl,Y.prototype.getRequestEncoding=Y.prototype.$l,Y.prototype.getStyle=Y.prototype.Hp,Y.prototype.getVersion=Y.prototype.hm,Y.prototype.updateDimensions=Y.prototype.Er,r("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=hd(a.Contents.Layer,function(a){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet,e=1<c.TileMatrixSetLink.length?"projection"in b?kd(c.TileMatrixSetLink,function(a){var c=hd(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=Ic(c),f=Ic(b.projection);return e&&f?Sc(e,f):c==b.projection}):kd(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet,g=c.TileMatrixSetLink[e].TileMatrixSetLimits,h=c.Format[0];"format"in b&&(h=b.format),0>(e=kd(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault}))&&(e=0),e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]),l[b]=c});var m=hd(a.Contents.TileMatrixSet,function(a){return a.Identifier==f}),n=Ic("projection"in b?b.projection:m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),p=c.WGS84BoundingBox;if(void 0!==p){var q=Ic("EPSG:4326").G();q=p[0]==q[0]&&p[2]==q[2];var t=Wc(p,"EPSG:4326",n);(p=n.G())&&(nb(p,t)||(t=void 0))}g=dz(m,t,g);var u=[];if(m=b.requestEncoding,m=void 0!==m?m:"","OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,t=0,p=a.length;t<p;++t){var x=hd(a[t].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;if(""===m&&(m=x[0]),"KVP"!==m)break;ed(x,"KVP")&&u.push(a[t].href)}return 0===u.length&&(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))})),{urls:u,layer:b.layer,matrixSet:f,format:h,projection:n,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:q,crossOrigin:b.crossOrigin}}),r("ol.source.XYZ",jy),r("ol.source.Zoomify",fz),Gd.prototype.vectorContext=Gd.prototype.vectorContext,Gd.prototype.frameState=Gd.prototype.frameState,Gd.prototype.context=Gd.prototype.context,Gd.prototype.glContext=Gd.prototype.glContext,Ft.prototype.get=Ft.prototype.get,Ft.prototype.getExtent=Ft.prototype.G,Ft.prototype.getId=Ft.prototype.Uo,Ft.prototype.getGeometry=Ft.prototype.W,Ft.prototype.getProperties=Ft.prototype.K,Ft.prototype.getType=Ft.prototype.T,r("ol.render.VectorContext",se),Nh.prototype.setStyle=Nh.prototype.Cd,Nh.prototype.drawGeometry=Nh.prototype.Eb,Nh.prototype.drawFeature=Nh.prototype.Je,Fe.prototype.drawCircle=Fe.prototype.fc,Fe.prototype.setStyle=Fe.prototype.Cd,Fe.prototype.drawGeometry=Fe.prototype.Eb,Fe.prototype.drawFeature=Fe.prototype.Je,r("ol.proj.common.add",Xc),r("ol.proj.Projection",qc),qc.prototype.getCode=qc.prototype.ul,qc.prototype.getExtent=qc.prototype.G,qc.prototype.getUnits=qc.prototype.So,qc.prototype.getMetersPerUnit=qc.prototype.jc,qc.prototype.getWorldExtent=qc.prototype.jm,qc.prototype.isGlobal=qc.prototype.Xm,qc.prototype.setGlobal=qc.prototype.gr,qc.prototype.setExtent=qc.prototype.To,qc.prototype.setWorldExtent=qc.prototype.ur,qc.prototype.setGetPointResolution=qc.prototype.fr,r("ol.proj.Units.METERS_PER_UNIT",oc),r("ol.layer.Base",Vb),Vb.prototype.getExtent=Vb.prototype.G,Vb.prototype.getMaxResolution=Vb.prototype.lc,Vb.prototype.getMinResolution=Vb.prototype.mc,Vb.prototype.getOpacity=Vb.prototype.Xb,Vb.prototype.getVisible=Vb.prototype.sb,Vb.prototype.getZIndex=Vb.prototype.Ca,Vb.prototype.setExtent=Vb.prototype.Cc,Vb.prototype.setMaxResolution=Vb.prototype.Fc,Vb.prototype.setMinResolution=Vb.prototype.Gc,Vb.prototype.setOpacity=Vb.prototype.Dc,Vb.prototype.setVisible=Vb.prototype.Yb,Vb.prototype.setZIndex=Vb.prototype.ac,r("ol.layer.Group",Xb),Xb.prototype.getLayers=Xb.prototype.Pb,Xb.prototype.setLayers=Xb.prototype.cj,r("ol.layer.Heatmap",W),W.prototype.getBlur=W.prototype.Th,W.prototype.getGradient=W.prototype.$h,W.prototype.getRadius=W.prototype.dj,W.prototype.setBlur=W.prototype.Sj,W.prototype.setGradient=W.prototype.Yj,W.prototype.setRadius=W.prototype.dd,r("ol.layer.Image",Fj),Fj.prototype.getSource=Fj.prototype.ca,r("ol.layer.Layer",Yc),Yc.prototype.getSource=Yc.prototype.ca,Yc.prototype.setMap=Yc.prototype.setMap,Yc.prototype.setSource=Yc.prototype.ed,r("ol.layer.Tile",fi),fi.prototype.getPreload=fi.prototype.td,fi.prototype.getSource=fi.prototype.ca,fi.prototype.setPreload=fi.prototype.ej,fi.prototype.getUseInterimTilesOnError=fi.prototype.wd,fi.prototype.setUseInterimTilesOnError=fi.prototype.fj,r("ol.layer.Vector",G),G.prototype.getSource=G.prototype.ca,G.prototype.getStyle=G.prototype.A,G.prototype.getStyleFunction=G.prototype.Ta,G.prototype.setStyle=G.prototype.i,r("ol.layer.VectorTile",fy),fy.prototype.getPreload=fy.prototype.td,fy.prototype.getUseInterimTilesOnError=fy.prototype.wd,fy.prototype.setPreload=fy.prototype.gj,fy.prototype.setUseInterimTilesOnError=fy.prototype.hj,fy.prototype.getSource=fy.prototype.ca,r("ol.interaction.DoubleClickZoom",Jm),r("ol.interaction.DoubleClickZoom.handleEvent",Km),r("ol.interaction.DragAndDrop",ew),r("ol.interaction.DragAndDrop.handleEvent",Ed),hw.prototype.features=hw.prototype.features,hw.prototype.file=hw.prototype.file,hw.prototype.projection=hw.prototype.projection,r("ol.interaction.DragBox",jn),jn.prototype.getGeometry=jn.prototype.W,on.prototype.coordinate=on.prototype.coordinate,on.prototype.mapBrowserEvent=on.prototype.mapBrowserEvent,r("ol.interaction.DragPan",Ym),r("ol.interaction.DragRotate",bn),r("ol.interaction.DragRotateAndZoom",lw),r("ol.interaction.DragZoom",sn),r("ol.interaction.Draw",xw),r("ol.interaction.Draw.handleEvent",zw),xw.prototype.removeLastPoint=xw.prototype.Uq,xw.prototype.finishDrawing=xw.prototype.be,xw.prototype.extend=xw.prototype.to,r("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0];c=c[1];var f=Math.sqrt(Ad(e,c));return d=d||rm(new Sv(e),a),sm(d,e,f,b||Math.atan((c[1]-e[1])/(c[0]-e[0]))),d}}),r("ol.interaction.Draw.createBox",function(){return function(a,b){return a=fb(a),(b=b||new I(null)).sa([[yb(a),zb(a),Ab(a),Bb(a),yb(a)]]),b}}),Nw.prototype.feature=Nw.prototype.feature,r("ol.interaction.Extent",Ow),Ow.prototype.getExtent=Ow.prototype.G,Ow.prototype.setExtent=Ow.prototype.g,Zw.prototype.extent=Zw.prototype.extent,r("ol.interaction.Interaction",Fm),Fm.prototype.getActive=Fm.prototype.c,Fm.prototype.getMap=Fm.prototype.i,Fm.prototype.setActive=Fm.prototype.La,r("ol.interaction.KeyboardPan",tn),r("ol.interaction.KeyboardPan.handleEvent",un),r("ol.interaction.KeyboardZoom",vn),r("ol.interaction.KeyboardZoom.handleEvent",wn),r("ol.interaction.Modify",$w),r("ol.interaction.Modify.handleEvent",cx),$w.prototype.removePoint=$w.prototype.Pj,hx.prototype.features=hx.prototype.features,hx.prototype.mapBrowserEvent=hx.prototype.mapBrowserEvent,r("ol.interaction.MouseWheelZoom",xn),r("ol.interaction.MouseWheelZoom.handleEvent",yn),xn.prototype.setMouseAnchor=xn.prototype.U,r("ol.interaction.PinchRotate",Bn),r("ol.interaction.PinchZoom",Fn),r("ol.interaction.Pointer",Vm),r("ol.interaction.Pointer.handleEvent",Wm),r("ol.interaction.Select",px),px.prototype.getFeatures=px.prototype.Eo,px.prototype.getHitTolerance=px.prototype.Fo,px.prototype.getLayer=px.prototype.Go,r("ol.interaction.Select.handleEvent",qx),px.prototype.setHitTolerance=px.prototype.Io,px.prototype.setMap=px.prototype.setMap,sx.prototype.selected=sx.prototype.selected,sx.prototype.deselected=sx.prototype.deselected,sx.prototype.mapBrowserEvent=sx.prototype.mapBrowserEvent,r("ol.interaction.Snap",ux),ux.prototype.addFeature=ux.prototype.Db,ux.prototype.removeFeature=ux.prototype.Hb,r("ol.interaction.Translate",zx),zx.prototype.getHitTolerance=zx.prototype.C,zx.prototype.setHitTolerance=zx.prototype.D,Fx.prototype.features=Fx.prototype.features,Fx.prototype.coordinate=Fx.prototype.coordinate,r("ol.geom.Circle",Sv),Sv.prototype.clone=Sv.prototype.clone,Sv.prototype.getCenter=Sv.prototype.ta,Sv.prototype.getRadius=Sv.prototype.Vc,Sv.prototype.getType=Sv.prototype.T,Sv.prototype.intersectsExtent=Sv.prototype.bb,Sv.prototype.setCenter=Sv.prototype.cb,Sv.prototype.setCenterAndRadius=Sv.prototype.ih,Sv.prototype.setRadius=Sv.prototype.dd,Sv.prototype.transform=Sv.prototype.transform,r("ol.geom.Geometry",Td),Td.prototype.getClosestPoint=Td.prototype.Fb,Td.prototype.intersectsCoordinate=Td.prototype.xb,Td.prototype.getExtent=Td.prototype.G,Td.prototype.rotate=Td.prototype.rotate,Td.prototype.scale=Td.prototype.scale,Td.prototype.simplify=Td.prototype.Sb,Td.prototype.transform=Td.prototype.transform,r("ol.geom.GeometryCollection",Rp),Rp.prototype.clone=Rp.prototype.clone,Rp.prototype.getGeometries=Rp.prototype.Pc,Rp.prototype.getType=Rp.prototype.T,Rp.prototype.intersectsExtent=Rp.prototype.bb,Rp.prototype.rotate=Rp.prototype.rotate,Rp.prototype.scale=Rp.prototype.scale,Rp.prototype.setGeometries=Rp.prototype.Xj,Rp.prototype.applyTransform=Rp.prototype.rc,Rp.prototype.translate=Rp.prototype.translate,r("ol.geom.LinearRing",jm),jm.prototype.clone=jm.prototype.clone,jm.prototype.getArea=jm.prototype.oo,jm.prototype.getCoordinates=jm.prototype.V,jm.prototype.getType=jm.prototype.T,jm.prototype.setCoordinates=jm.prototype.sa,r("ol.geom.LineString",R),R.prototype.appendCoordinate=R.prototype.Wk,R.prototype.clone=R.prototype.clone,R.prototype.forEachSegment=R.prototype.ll,R.prototype.getCoordinateAtM=R.prototype.mo,R.prototype.getCoordinates=R.prototype.V,R.prototype.getCoordinateAt=R.prototype.Vh,R.prototype.getLength=R.prototype.no,R.prototype.getType=R.prototype.T,R.prototype.intersectsExtent=R.prototype.bb,R.prototype.setCoordinates=R.prototype.sa,r("ol.geom.MultiLineString",S),S.prototype.appendLineString=S.prototype.Xk,S.prototype.clone=S.prototype.clone,S.prototype.getCoordinateAtM=S.prototype.po,S.prototype.getCoordinates=S.prototype.V,S.prototype.getLineString=S.prototype.Nl,S.prototype.getLineStrings=S.prototype.Rc,S.prototype.getType=S.prototype.T,S.prototype.intersectsExtent=S.prototype.bb,S.prototype.setCoordinates=S.prototype.sa,r("ol.geom.MultiPoint",jp),jp.prototype.appendPoint=jp.prototype.Zk,jp.prototype.clone=jp.prototype.clone,jp.prototype.getCoordinates=jp.prototype.V,jp.prototype.getPoint=jp.prototype.qo,jp.prototype.getPoints=jp.prototype.Bd,jp.prototype.getType=jp.prototype.T,jp.prototype.intersectsExtent=jp.prototype.bb,jp.prototype.setCoordinates=jp.prototype.sa,r("ol.geom.MultiPolygon",T),T.prototype.appendPolygon=T.prototype.$k,T.prototype.clone=T.prototype.clone,T.prototype.getArea=T.prototype.ro,T.prototype.getCoordinates=T.prototype.V,T.prototype.getInteriorPoints=T.prototype.Jl,T.prototype.getPolygon=T.prototype.Zl,T.prototype.getPolygons=T.prototype.sd,T.prototype.getType=T.prototype.T,T.prototype.intersectsExtent=T.prototype.bb,T.prototype.setCoordinates=T.prototype.sa,r("ol.geom.Point",H),H.prototype.clone=H.prototype.clone,H.prototype.getCoordinates=H.prototype.V,H.prototype.getType=H.prototype.T,H.prototype.intersectsExtent=H.prototype.bb,H.prototype.setCoordinates=H.prototype.sa,r("ol.geom.Polygon",I),I.prototype.appendLinearRing=I.prototype.Yk,I.prototype.clone=I.prototype.clone,I.prototype.getArea=I.prototype.so,I.prototype.getCoordinates=I.prototype.V,I.prototype.getInteriorPoint=I.prototype.Il,I.prototype.getLinearRingCount=I.prototype.Ol,I.prototype.getLinearRing=I.prototype.ai,I.prototype.getLinearRings=I.prototype.rd,I.prototype.getType=I.prototype.T,I.prototype.intersectsExtent=I.prototype.bb,I.prototype.setCoordinates=I.prototype.sa,r("ol.geom.Polygon.circular",pm),r("ol.geom.Polygon.fromExtent",qm),r("ol.geom.Polygon.fromCircle",rm),r("ol.geom.SimpleGeometry",C),C.prototype.getFirstCoordinate=C.prototype.Ub,C.prototype.getLastCoordinate=C.prototype.hc,C.prototype.getLayout=C.prototype.ic,C.prototype.applyTransform=C.prototype.rc,C.prototype.rotate=C.prototype.rotate,C.prototype.scale=C.prototype.scale,C.prototype.translate=C.prototype.translate,r("ol.format.EsriJSON",mp),mp.prototype.readFeature=mp.prototype.Zb,mp.prototype.readFeatures=mp.prototype.Ua,mp.prototype.readGeometry=mp.prototype.bd,mp.prototype.readProjection=mp.prototype.pb,mp.prototype.writeGeometry=mp.prototype.ld,mp.prototype.writeGeometryObject=mp.prototype.ze,mp.prototype.writeFeature=mp.prototype.Nd,mp.prototype.writeFeatureObject=mp.prototype.kd,mp.prototype.writeFeatures=mp.prototype.bc,mp.prototype.writeFeaturesObject=mp.prototype.xe,r("ol.format.Feature",$o),r("ol.format.filter.and",Pp),r("ol.format.filter.or",function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Np,b))}),r("ol.format.filter.not",function(a){return new Lp(a)}),r("ol.format.filter.bbox",Qp),r("ol.format.filter.intersects",function(a,b,c){return new Fp(a,b,c)}),r("ol.format.filter.within",function(a,b,c){return new Op(a,b,c)}),r("ol.format.filter.equalTo",function(a,b,c){return new Bp(a,b,c)}),r("ol.format.filter.notEqualTo",function(a,b,c){return new Mp(a,b,c)}),r("ol.format.filter.lessThan",function(a,b){return new Jp(a,b)}),r("ol.format.filter.lessThanOrEqualTo",function(a,b){return new Kp(a,b)}),r("ol.format.filter.greaterThan",function(a,b){return new Cp(a,b)}),r("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new Dp(a,b)}),r("ol.format.filter.isNull",function(a){return new Ip(a)}),r("ol.format.filter.between",function(a,b,c){return new Gp(a,b,c)}),r("ol.format.filter.like",function(a,b,c,d,e,f){return new Hp(a,b,c,d,e,f)}),r("ol.format.filter.during",function(a,b,c){return new yp(a,b,c)}),r("ol.format.GeoJSON",Vp),Vp.prototype.readFeature=Vp.prototype.Zb,Vp.prototype.readFeatures=Vp.prototype.Ua,Vp.prototype.readGeometry=Vp.prototype.bd,Vp.prototype.readProjection=Vp.prototype.pb,Vp.prototype.writeFeature=Vp.prototype.Nd,Vp.prototype.writeFeatureObject=Vp.prototype.kd,Vp.prototype.writeFeatures=Vp.prototype.bc,Vp.prototype.writeFeaturesObject=Vp.prototype.xe,Vp.prototype.writeGeometry=Vp.prototype.ld,Vp.prototype.writeGeometryObject=Vp.prototype.ze,r("ol.format.GML",pq),pq.prototype.writeFeatures=pq.prototype.bc,pq.prototype.writeFeaturesNode=pq.prototype.cc,r("ol.format.GML2",yq),r("ol.format.GML3",pq),pq.prototype.writeGeometryNode=pq.prototype.ye,pq.prototype.writeFeatures=pq.prototype.bc,pq.prototype.writeFeaturesNode=pq.prototype.cc,cq.prototype.readFeatures=cq.prototype.Ua,r("ol.format.GPX",Jq),Jq.prototype.readFeature=Jq.prototype.Zb,Jq.prototype.readFeatures=Jq.prototype.Ua,Jq.prototype.readProjection=Jq.prototype.pb,Jq.prototype.writeFeatures=Jq.prototype.bc,Jq.prototype.writeFeaturesNode=Jq.prototype.cc,r("ol.format.IGC",tr),tr.prototype.readFeature=tr.prototype.Zb,tr.prototype.readFeatures=tr.prototype.Ua,tr.prototype.readProjection=tr.prototype.pb,r("ol.format.KML",Br),Br.prototype.readFeature=Br.prototype.Zb,Br.prototype.readFeatures=Br.prototype.Ua,Br.prototype.readName=Br.prototype.Iq,Br.prototype.readNetworkLinks=Br.prototype.Jq,Br.prototype.readRegion=Br.prototype.Mq,Br.prototype.readRegionFromNode=Br.prototype.Cf,Br.prototype.readProjection=Br.prototype.pb,Br.prototype.writeFeatures=Br.prototype.bc,Br.prototype.writeFeaturesNode=Br.prototype.cc,r("ol.format.MVT",Gt),Gt.prototype.getLastExtent=Gt.prototype.ng,Gt.prototype.readFeatures=Gt.prototype.Ua,Gt.prototype.readProjection=Gt.prototype.pb,Gt.prototype.setLayers=Gt.prototype.lo,r("ol.format.OSMXML",It),It.prototype.readFeatures=It.prototype.Ua,It.prototype.readProjection=It.prototype.pb,r("ol.format.Polyline",gu),r("ol.format.Polyline.encodeDeltas",hu),r("ol.format.Polyline.decodeDeltas",ju),r("ol.format.Polyline.encodeFloats",iu),r("ol.format.Polyline.decodeFloats",ku),gu.prototype.readFeature=gu.prototype.Zb,gu.prototype.readFeatures=gu.prototype.Ua,gu.prototype.readGeometry=gu.prototype.bd,gu.prototype.readProjection=gu.prototype.pb,gu.prototype.writeGeometry=gu.prototype.ld,r("ol.format.TopoJSON",lu),lu.prototype.readFeatures=lu.prototype.Ua;lu.prototype.readProjection=lu.prototype.pb,r("ol.format.WFS",ru),ru.prototype.readFeatures=ru.prototype.Ua,ru.prototype.readTransactionResponse=ru.prototype.j,ru.prototype.readFeatureCollectionMetadata=ru.prototype.g,r("ol.format.WFS.writeFilter",function(a){var b=Ho("http://www.opengis.net/ogc","Filter");return Xo({node:b},Gu,So(a.qc),[a],[]),b}),ru.prototype.writeGetFeature=ru.prototype.o,ru.prototype.writeTransaction=ru.prototype.s,ru.prototype.readProjection=ru.prototype.pb,r("ol.format.WKT",Mu),Mu.prototype.readFeature=Mu.prototype.Zb,Mu.prototype.readFeatures=Mu.prototype.Ua,Mu.prototype.readGeometry=Mu.prototype.bd,Mu.prototype.writeFeature=Mu.prototype.Nd,Mu.prototype.writeFeatures=Mu.prototype.bc,Mu.prototype.writeGeometry=Mu.prototype.ld,r("ol.format.WMSCapabilities",ev),ev.prototype.read=ev.prototype.read,r("ol.format.WMSGetFeatureInfo",Bv),Bv.prototype.readFeatures=Bv.prototype.Ua,r("ol.format.WMTSCapabilities",Cv),Cv.prototype.read=Cv.prototype.read,r("ol.format.filter.And",vp),r("ol.format.filter.Bbox",wp),r("ol.format.filter.Comparison",xp),r("ol.format.filter.ComparisonBinary",zp),r("ol.format.filter.During",yp),r("ol.format.filter.EqualTo",Bp),r("ol.format.filter.Filter",tp),r("ol.format.filter.GreaterThan",Cp),r("ol.format.filter.GreaterThanOrEqualTo",Dp),r("ol.format.filter.Intersects",Fp),r("ol.format.filter.IsBetween",Gp),r("ol.format.filter.IsLike",Hp),r("ol.format.filter.IsNull",Ip),r("ol.format.filter.LessThan",Jp),r("ol.format.filter.LessThanOrEqualTo",Kp),r("ol.format.filter.Not",Lp),r("ol.format.filter.NotEqualTo",Mp),r("ol.format.filter.Or",Np),r("ol.format.filter.Spatial",Ep),r("ol.format.filter.Within",Op),r("ol.events.condition.altKeyOnly",Lm),r("ol.events.condition.altShiftKeysOnly",Mm),r("ol.events.condition.always",Ed),r("ol.events.condition.click",function(a){return"click"==a.type}),r("ol.events.condition.never",Fd),r("ol.events.condition.pointerMove",Om),r("ol.events.condition.singleClick",Pm),r("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type}),r("ol.events.condition.noModifierKeys",Qm),r("ol.events.condition.platformModifierKeyOnly",function(a){return!(a=a.originalEvent).altKey&&(fe?a.metaKey:a.ctrlKey)&&!a.shiftKey}),r("ol.events.condition.shiftKeyOnly",Rm),r("ol.events.condition.targetNotEditable",Sm),r("ol.events.condition.mouseOnly",Tm),r("ol.events.condition.primaryAction",Um),Na.prototype.type=Na.prototype.type,Na.prototype.target=Na.prototype.target,Na.prototype.preventDefault=Na.prototype.preventDefault,Na.prototype.stopPropagation=Na.prototype.stopPropagation,r("ol.control.Attribution",Nk),r("ol.control.Attribution.render",Ok),Nk.prototype.getCollapsible=Nk.prototype.Sn,Nk.prototype.setCollapsible=Nk.prototype.Vn,Nk.prototype.setCollapsed=Nk.prototype.Un,Nk.prototype.getCollapsed=Nk.prototype.Rn,r("ol.control.Control",Mk),Mk.prototype.getMap=Mk.prototype.i,Mk.prototype.setMap=Mk.prototype.setMap,Mk.prototype.setTarget=Mk.prototype.c,r("ol.control.FullScreen",Xk),Xk.prototype.setMap=Xk.prototype.setMap,r("ol.control.MousePosition",bl),r("ol.control.MousePosition.render",cl),bl.prototype.getCoordinateFormat=bl.prototype.Wh,bl.prototype.getProjection=bl.prototype.Fi,bl.prototype.setMap=bl.prototype.setMap,bl.prototype.setCoordinateFormat=bl.prototype.Tj,bl.prototype.setProjection=bl.prototype.Gi,r("ol.control.OverviewMap",io),io.prototype.setMap=io.prototype.setMap,r("ol.control.OverviewMap.render",jo),io.prototype.getCollapsible=io.prototype.Yn,io.prototype.setCollapsible=io.prototype.ao,io.prototype.setCollapsed=io.prototype.$n,io.prototype.getCollapsed=io.prototype.Xn,io.prototype.getOverviewMap=io.prototype.Xl,r("ol.control.Rotate",Tk),r("ol.control.Rotate.render",Uk),r("ol.control.ScaleLine",no),no.prototype.getUnits=no.prototype.B,r("ol.control.ScaleLine.render",oo),no.prototype.setUnits=no.prototype.D,r("ol.control.Zoom",Vk),r("ol.control.ZoomSlider",so),r("ol.control.ZoomSlider.render",uo),r("ol.control.ZoomToExtent",xo),r("olcs.AbstractSynchronizer",Zb),Zb.prototype.synchronize=Zb.prototype.mh,ec.prototype.restartRenderLoop=ec.prototype.s,ec.prototype.setDebug=ec.prototype.Aa,r("olcs.Camera",oj),oj.prototype.setHeading=oj.prototype.hr,oj.prototype.getHeading=oj.prototype.Xp,oj.prototype.setTilt=oj.prototype.sr,oj.prototype.getTilt=oj.prototype.gm,oj.prototype.setDistance=oj.prototype.$p,oj.prototype.getDistance=oj.prototype.Wp,oj.prototype.setCenter=oj.prototype.cb,oj.prototype.getCenter=oj.prototype.ta,oj.prototype.setPosition=oj.prototype.aq,oj.prototype.getPosition=oj.prototype.Yp,oj.prototype.setAltitude=oj.prototype.br,oj.prototype.getAltitude=oj.prototype.Bj,oj.prototype.lookAt=oj.prototype.Zp,oj.prototype.readFromView=oj.prototype.ne,oj.prototype.updateView=oj.prototype.hd,r("olcs.core.computePixelSizeAtCoordinate",function(a,b){var c=a.camera;a=a.canvas;var d=c.frustum;return b=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(c.position,b,new Cesium.Cartesian3)),c=new Cesium.Cartesian2,d.getPixelDimensions(a.clientWidth,a.clientHeight,b,c)}),r("olcs.core.applyHeightOffsetToGeometry",function(a,b){a.rc(function(a,d,e){if(void 0!==e&&3<=e)for(a=0;a<d.length;a+=e)d[a+2]+=b;return d})}),r("olcs.core.rotateAroundAxis",aj),r("olcs.core.setHeadingUsingBottomCenter",function(a,b,c,d){var e=a.camera;a=fj(a,c),a=Cesium.Quaternion.fromAxisAngle(e.right,a);var f=Cesium.Matrix3.fromQuaternion(a),g=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(e.position,c,g),a=new Cesium.Cartesian3,Cesium.Matrix3.multiplyByVector(f,g,a),Cesium.Cartesian3.add(a,c,a),aj(e,b,a,c=Cesium.Matrix4.fromTranslation(a),d)}),r("olcs.core.pickOnTerrainOrEllipsoid",cj),r("olcs.core.pickBottomPoint",function(a){var b=a.canvas;return b=new Cesium.Cartesian2(b.clientWidth/2,b.clientHeight),cj(a,b)}),r("olcs.core.pickCenterPoint",dj),r("olcs.core.computeSignedTiltAngleOnGlobe",function(a){var b=a.camera,c=new Cesium.Ray(b.position,b.direction);if(!(a=a.globe.pick(c,a))){var d=Cesium.IntersectionTests.rayEllipsoid(c,Cesium.Ellipsoid.WGS84);d&&(a=Cesium.Ray.getPoint(c,d.start))}if(a)return c=new Cesium.Cartesian3,Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(a,c),b=ej(b.direction,c,b.right)-Math.PI,Cesium.Math.convertLongitudeRange(b)}),r("olcs.core.computeAngleToZenith",fj),r("olcs.core.lookAt",gj),r("olcs.core.extentToRectangle",hj),r("olcs.core.tileLayerToImageryLayer",ij),r("olcs.core.updateCesiumLayerProperties",jj),r("olcs.core.ol4326CoordinateToCesiumCartesian",kj),r("olcs.core.ol4326CoordinateArrayToCsCartesians",lj),r("olcs.core.olGeometryCloneTo4326",mj),r("olcs.core.convertColorToCesium",nj),r("olcs.core.convertUrlToCesium",function(a){var b="",c=/\{(\d|[a-z])-(\d|[a-z])\}/,d=c.exec(a);if(d)for(a=a.replace(c,"{s}"),c=d[2].charCodeAt(0),d=d[1].charCodeAt(0);d<=c;++d)b+=String.fromCharCode(d);return{url:a,subdomains:b}}),r("olcs.FeatureConverter",xj),xj.prototype.csAddBillboard=xj.prototype.Jh,xj.prototype.olCircleGeometryToCesium=xj.prototype.ti,xj.prototype.olLineStringGeometryToCesium=xj.prototype.wg,xj.prototype.olPolygonGeometryToCesium=xj.prototype.xg,xj.prototype.getHeightReference=xj.prototype.fe,xj.prototype.olPointGeometryToCesium=xj.prototype.af,xj.prototype.olMultiGeometryToCesium=xj.prototype.vi,xj.prototype.olGeometry4326TextPartToCesium=xj.prototype.ui,xj.prototype.olStyleToCesium=xj.prototype.wi,xj.prototype.computePlainStyle=xj.prototype.ag,xj.prototype.olFeatureToCesium=xj.prototype.$e,xj.prototype.olVectorLayerToCesium=xj.prototype.xi,xj.prototype.convert=xj.prototype.convert,r("olcs.OLCesium",Fk),Fk.prototype.getCamera=Fk.prototype.sl,Fk.prototype.getOlMap=Fk.prototype.Ul,Fk.prototype.getCesiumScene=Fk.prototype.tl,Fk.prototype.getDataSources=Fk.prototype.yl,Fk.prototype.getDataSourceDisplay=Fk.prototype.xl,Fk.prototype.getEnabled=Fk.prototype.Al,Fk.prototype.setEnabled=Fk.prototype.er,Fk.prototype.warmUp=Fk.prototype.Ir,Fk.prototype.setBlockCesiumRendering=Fk.prototype.hh,Fk.prototype.enableAutoRenderLoop=Fk.prototype.fl,Fk.prototype.getAutoRenderLoop=Fk.prototype.ql,Fk.prototype.setResolutionScale=Fk.prototype.pr,Fk.prototype.setTargetFrameRate=Fk.prototype.qr,r("olcs.RasterSynchronizer",Gj),r("olcs.VectorSynchronizer",Ek),Ua.prototype.changed=Ua.prototype.u,Ua.prototype.dispatchEvent=Ua.prototype.b,Ua.prototype.getRevision=Ua.prototype.M,Ua.prototype.on=Ua.prototype.I,Ua.prototype.once=Ua.prototype.once,Ua.prototype.un=Ua.prototype.L,$a.prototype.get=$a.prototype.get,$a.prototype.getKeys=$a.prototype.R,$a.prototype.getProperties=$a.prototype.K,$a.prototype.set=$a.prototype.set,$a.prototype.setProperties=$a.prototype.J,$a.prototype.unset=$a.prototype.S,$a.prototype.changed=$a.prototype.u,$a.prototype.dispatchEvent=$a.prototype.b,$a.prototype.getRevision=$a.prototype.M,$a.prototype.on=$a.prototype.I,$a.prototype.once=$a.prototype.once,$a.prototype.un=$a.prototype.L,db.prototype.type=db.prototype.type,db.prototype.target=db.prototype.target,db.prototype.preventDefault=db.prototype.preventDefault,db.prototype.stopPropagation=db.prototype.stopPropagation,yo.prototype.get=yo.prototype.get,yo.prototype.getKeys=yo.prototype.R,yo.prototype.getProperties=yo.prototype.K,yo.prototype.set=yo.prototype.set,yo.prototype.setProperties=yo.prototype.J,yo.prototype.unset=yo.prototype.S,yo.prototype.changed=yo.prototype.u,yo.prototype.dispatchEvent=yo.prototype.b,yo.prototype.getRevision=yo.prototype.M,yo.prototype.on=yo.prototype.I,yo.prototype.once=yo.prototype.once,yo.prototype.un=yo.prototype.L,Eo.prototype.get=Eo.prototype.get,Eo.prototype.getKeys=Eo.prototype.R,Eo.prototype.getProperties=Eo.prototype.K,Eo.prototype.set=Eo.prototype.set,Eo.prototype.setProperties=Eo.prototype.J,Eo.prototype.unset=Eo.prototype.S,Eo.prototype.changed=Eo.prototype.u,Eo.prototype.dispatchEvent=Eo.prototype.b,Eo.prototype.getRevision=Eo.prototype.M,Eo.prototype.on=Eo.prototype.I,Eo.prototype.once=Eo.prototype.once,Eo.prototype.un=Eo.prototype.L,Rv.prototype.get=Rv.prototype.get,Rv.prototype.getKeys=Rv.prototype.R,Rv.prototype.getProperties=Rv.prototype.K,Rv.prototype.set=Rv.prototype.set,Rv.prototype.setProperties=Rv.prototype.J,Rv.prototype.unset=Rv.prototype.S,Rv.prototype.changed=Rv.prototype.u,Rv.prototype.dispatchEvent=Rv.prototype.b,Rv.prototype.getRevision=Rv.prototype.M,Rv.prototype.on=Rv.prototype.I,Rv.prototype.once=Rv.prototype.once,Rv.prototype.un=Rv.prototype.L,ii.prototype.getTileCoord=ii.prototype.i,ii.prototype.load=ii.prototype.load,K.prototype.get=K.prototype.get,K.prototype.getKeys=K.prototype.R,K.prototype.getProperties=K.prototype.K,K.prototype.set=K.prototype.set,K.prototype.setProperties=K.prototype.J,K.prototype.unset=K.prototype.S,K.prototype.changed=K.prototype.u,K.prototype.dispatchEvent=K.prototype.b,K.prototype.getRevision=K.prototype.M,K.prototype.on=K.prototype.I,K.prototype.once=K.prototype.once,K.prototype.un=K.prototype.L,gl.prototype.type=gl.prototype.type,gl.prototype.target=gl.prototype.target,gl.prototype.preventDefault=gl.prototype.preventDefault,gl.prototype.stopPropagation=gl.prototype.stopPropagation,hl.prototype.map=hl.prototype.map,hl.prototype.frameState=hl.prototype.frameState,hl.prototype.type=hl.prototype.type,hl.prototype.target=hl.prototype.target,hl.prototype.preventDefault=hl.prototype.preventDefault,hl.prototype.stopPropagation=hl.prototype.stopPropagation,jl.prototype.originalEvent=jl.prototype.originalEvent,jl.prototype.pixel=jl.prototype.pixel,jl.prototype.coordinate=jl.prototype.coordinate,jl.prototype.dragging=jl.prototype.dragging,jl.prototype.preventDefault=jl.prototype.preventDefault,jl.prototype.stopPropagation=jl.prototype.stopPropagation,jl.prototype.map=jl.prototype.map,jl.prototype.frameState=jl.prototype.frameState,jl.prototype.type=jl.prototype.type,jl.prototype.target=jl.prototype.target,Ya.prototype.type=Ya.prototype.type,Ya.prototype.target=Ya.prototype.target,Ya.prototype.preventDefault=Ya.prototype.preventDefault,Ya.prototype.stopPropagation=Ya.prototype.stopPropagation,Zn.prototype.get=Zn.prototype.get,Zn.prototype.getKeys=Zn.prototype.R,Zn.prototype.getProperties=Zn.prototype.K,Zn.prototype.set=Zn.prototype.set,Zn.prototype.setProperties=Zn.prototype.J,Zn.prototype.unset=Zn.prototype.S,Zn.prototype.changed=Zn.prototype.u,Zn.prototype.dispatchEvent=Zn.prototype.b,Zn.prototype.getRevision=Zn.prototype.M,Zn.prototype.on=Zn.prototype.I,Zn.prototype.once=Zn.prototype.once,Zn.prototype.un=Zn.prototype.L,Yy.prototype.getTileCoord=Yy.prototype.i,Yy.prototype.load=Yy.prototype.load,$y.prototype.getTileCoord=$y.prototype.i,$y.prototype.load=$y.prototype.load,J.prototype.get=J.prototype.get,J.prototype.getKeys=J.prototype.R,J.prototype.getProperties=J.prototype.K,J.prototype.set=J.prototype.set,J.prototype.setProperties=J.prototype.J,J.prototype.unset=J.prototype.S,J.prototype.changed=J.prototype.u,J.prototype.dispatchEvent=J.prototype.b,J.prototype.getRevision=J.prototype.M,J.prototype.on=J.prototype.I,J.prototype.once=J.prototype.once,J.prototype.un=J.prototype.L,cz.prototype.forEachTileCoord=cz.prototype.gg,cz.prototype.getMaxZoom=cz.prototype.yj,cz.prototype.getMinZoom=cz.prototype.zj,cz.prototype.getOrigin=cz.prototype.Zc,cz.prototype.getResolution=cz.prototype.Ha,cz.prototype.getResolutions=cz.prototype.Aj,cz.prototype.getTileCoordExtent=cz.prototype.Ia,cz.prototype.getTileCoordForCoordAndResolution=cz.prototype.Re,cz.prototype.getTileCoordForCoordAndZ=cz.prototype.tg,cz.prototype.getTileSize=cz.prototype.eb,cz.prototype.getZForResolution=cz.prototype.zc,tk.prototype.getOpacity=tk.prototype.qf,tk.prototype.getRotateWithView=tk.prototype.rf,tk.prototype.getRotation=tk.prototype.sf,tk.prototype.getScale=tk.prototype.tf,tk.prototype.getSnapToPixel=tk.prototype.Qe,tk.prototype.setOpacity=tk.prototype.Fd,tk.prototype.setRotation=tk.prototype.uf,tk.prototype.setScale=tk.prototype.Gd,vk.prototype.clone=vk.prototype.clone,vk.prototype.getAngle=vk.prototype.uj,vk.prototype.getFill=vk.prototype.va,vk.prototype.getPoints=vk.prototype.vj,vk.prototype.getRadius=vk.prototype.wj,vk.prototype.getRadius2=vk.prototype.di,vk.prototype.getStroke=vk.prototype.ua,vk.prototype.getOpacity=vk.prototype.qf,vk.prototype.getRotateWithView=vk.prototype.rf,vk.prototype.getRotation=vk.prototype.sf,vk.prototype.getScale=vk.prototype.tf,vk.prototype.getSnapToPixel=vk.prototype.Qe,vk.prototype.setOpacity=vk.prototype.Fd,vk.prototype.setRotation=vk.prototype.uf,vk.prototype.setScale=vk.prototype.Gd,Dj.prototype.getOpacity=Dj.prototype.qf,Dj.prototype.getRotateWithView=Dj.prototype.rf,Dj.prototype.getRotation=Dj.prototype.sf,Dj.prototype.getScale=Dj.prototype.tf,Dj.prototype.getSnapToPixel=Dj.prototype.Qe,Dj.prototype.setOpacity=Dj.prototype.Fd,Dj.prototype.setRotation=Dj.prototype.uf,Dj.prototype.setScale=Dj.prototype.Gd,Ni.prototype.get=Ni.prototype.get,Ni.prototype.getKeys=Ni.prototype.R,Ni.prototype.getProperties=Ni.prototype.K,Ni.prototype.set=Ni.prototype.set,Ni.prototype.setProperties=Ni.prototype.J,Ni.prototype.unset=Ni.prototype.S,Ni.prototype.changed=Ni.prototype.u,Ni.prototype.dispatchEvent=Ni.prototype.b,Ni.prototype.getRevision=Ni.prototype.M,Ni.prototype.on=Ni.prototype.I,Ni.prototype.once=Ni.prototype.once,Ni.prototype.un=Ni.prototype.L,Qi.prototype.getAttributions=Qi.prototype.Fa,Qi.prototype.getLogo=Qi.prototype.Ea,Qi.prototype.getProjection=Qi.prototype.Ga,Qi.prototype.getState=Qi.prototype.getState,Qi.prototype.refresh=Qi.prototype.wa,Qi.prototype.setAttributions=Qi.prototype.za,Qi.prototype.get=Qi.prototype.get,Qi.prototype.getKeys=Qi.prototype.R,Qi.prototype.getProperties=Qi.prototype.K,Qi.prototype.set=Qi.prototype.set,Qi.prototype.setProperties=Qi.prototype.J,Qi.prototype.unset=Qi.prototype.S,Qi.prototype.changed=Qi.prototype.u,Qi.prototype.dispatchEvent=Qi.prototype.b,Qi.prototype.getRevision=Qi.prototype.M,Qi.prototype.on=Qi.prototype.I,Qi.prototype.once=Qi.prototype.once,Qi.prototype.un=Qi.prototype.L,Ui.prototype.getTileGrid=Ui.prototype.hb,Ui.prototype.refresh=Ui.prototype.wa,Ui.prototype.getAttributions=Ui.prototype.Fa,Ui.prototype.getLogo=Ui.prototype.Ea,Ui.prototype.getProjection=Ui.prototype.Ga,Ui.prototype.getState=Ui.prototype.getState,Ui.prototype.setAttributions=Ui.prototype.za,Ui.prototype.get=Ui.prototype.get,Ui.prototype.getKeys=Ui.prototype.R,Ui.prototype.getProperties=Ui.prototype.K,Ui.prototype.set=Ui.prototype.set,Ui.prototype.setProperties=Ui.prototype.J,Ui.prototype.unset=Ui.prototype.S,Ui.prototype.changed=Ui.prototype.u,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.M,Ui.prototype.on=Ui.prototype.I,Ui.prototype.once=Ui.prototype.once,Ui.prototype.un=Ui.prototype.L,D.prototype.getTileLoadFunction=D.prototype.ub,D.prototype.getTileUrlFunction=D.prototype.vb,D.prototype.getUrls=D.prototype.wb,D.prototype.setTileLoadFunction=D.prototype.Ab,D.prototype.setTileUrlFunction=D.prototype.kb,D.prototype.setUrl=D.prototype.ob,D.prototype.setUrls=D.prototype.lb,D.prototype.getTileGrid=D.prototype.hb,D.prototype.refresh=D.prototype.wa,D.prototype.getAttributions=D.prototype.Fa,D.prototype.getLogo=D.prototype.Ea,D.prototype.getProjection=D.prototype.Ga,D.prototype.getState=D.prototype.getState,D.prototype.setAttributions=D.prototype.za,D.prototype.get=D.prototype.get,D.prototype.getKeys=D.prototype.R,D.prototype.getProperties=D.prototype.K,D.prototype.set=D.prototype.set,D.prototype.setProperties=D.prototype.J,D.prototype.unset=D.prototype.S,D.prototype.changed=D.prototype.u,D.prototype.dispatchEvent=D.prototype.b,D.prototype.getRevision=D.prototype.M,D.prototype.on=D.prototype.I,D.prototype.once=D.prototype.once,D.prototype.un=D.prototype.L,hy.prototype.setRenderReprojectionEdges=hy.prototype.Qb,hy.prototype.setTileGridForProjection=hy.prototype.Rb,hy.prototype.getTileLoadFunction=hy.prototype.ub,hy.prototype.getTileUrlFunction=hy.prototype.vb,hy.prototype.getUrls=hy.prototype.wb,hy.prototype.setTileLoadFunction=hy.prototype.Ab,hy.prototype.setTileUrlFunction=hy.prototype.kb,hy.prototype.setUrl=hy.prototype.ob,hy.prototype.setUrls=hy.prototype.lb,hy.prototype.getTileGrid=hy.prototype.hb,hy.prototype.refresh=hy.prototype.wa,hy.prototype.getAttributions=hy.prototype.Fa,hy.prototype.getLogo=hy.prototype.Ea,hy.prototype.getProjection=hy.prototype.Ga,hy.prototype.getState=hy.prototype.getState,hy.prototype.setAttributions=hy.prototype.za,hy.prototype.get=hy.prototype.get,hy.prototype.getKeys=hy.prototype.R,hy.prototype.getProperties=hy.prototype.K,hy.prototype.set=hy.prototype.set,hy.prototype.setProperties=hy.prototype.J,hy.prototype.unset=hy.prototype.S,hy.prototype.changed=hy.prototype.u,hy.prototype.dispatchEvent=hy.prototype.b,hy.prototype.getRevision=hy.prototype.M,hy.prototype.on=hy.prototype.I,hy.prototype.once=hy.prototype.once,hy.prototype.un=hy.prototype.L,jy.prototype.setRenderReprojectionEdges=jy.prototype.Qb,jy.prototype.setTileGridForProjection=jy.prototype.Rb,jy.prototype.getTileLoadFunction=jy.prototype.ub,jy.prototype.getTileUrlFunction=jy.prototype.vb,jy.prototype.getUrls=jy.prototype.wb,jy.prototype.setTileLoadFunction=jy.prototype.Ab,jy.prototype.setTileUrlFunction=jy.prototype.kb,jy.prototype.setUrl=jy.prototype.ob,jy.prototype.setUrls=jy.prototype.lb,jy.prototype.getTileGrid=jy.prototype.hb,jy.prototype.refresh=jy.prototype.wa,jy.prototype.getAttributions=jy.prototype.Fa,jy.prototype.getLogo=jy.prototype.Ea,jy.prototype.getProjection=jy.prototype.Ga,jy.prototype.getState=jy.prototype.getState,jy.prototype.setAttributions=jy.prototype.za,jy.prototype.get=jy.prototype.get,jy.prototype.getKeys=jy.prototype.R,jy.prototype.getProperties=jy.prototype.K,jy.prototype.set=jy.prototype.set,jy.prototype.setProperties=jy.prototype.J,jy.prototype.unset=jy.prototype.S,jy.prototype.changed=jy.prototype.u,jy.prototype.dispatchEvent=jy.prototype.b,jy.prototype.getRevision=jy.prototype.M,jy.prototype.on=jy.prototype.I,jy.prototype.once=jy.prototype.once,jy.prototype.un=jy.prototype.L,ky.prototype.setRenderReprojectionEdges=ky.prototype.Qb,ky.prototype.setTileGridForProjection=ky.prototype.Rb,ky.prototype.getTileLoadFunction=ky.prototype.ub,ky.prototype.getTileUrlFunction=ky.prototype.vb,ky.prototype.getUrls=ky.prototype.wb,ky.prototype.setTileLoadFunction=ky.prototype.Ab,ky.prototype.setTileUrlFunction=ky.prototype.kb,ky.prototype.setUrl=ky.prototype.ob,ky.prototype.setUrls=ky.prototype.lb,ky.prototype.getTileGrid=ky.prototype.hb,ky.prototype.refresh=ky.prototype.wa,ky.prototype.getAttributions=ky.prototype.Fa,ky.prototype.getLogo=ky.prototype.Ea,ky.prototype.getProjection=ky.prototype.Ga,ky.prototype.getState=ky.prototype.getState,ky.prototype.setAttributions=ky.prototype.za,ky.prototype.get=ky.prototype.get,ky.prototype.getKeys=ky.prototype.R,ky.prototype.getProperties=ky.prototype.K,ky.prototype.set=ky.prototype.set,ky.prototype.setProperties=ky.prototype.J,ky.prototype.unset=ky.prototype.S,ky.prototype.changed=ky.prototype.u,ky.prototype.dispatchEvent=ky.prototype.b,ky.prototype.getRevision=ky.prototype.M,ky.prototype.on=ky.prototype.I,ky.prototype.once=ky.prototype.once,ky.prototype.un=ky.prototype.L,V.prototype.getAttributions=V.prototype.Fa,V.prototype.getLogo=V.prototype.Ea,V.prototype.getProjection=V.prototype.Ga,V.prototype.getState=V.prototype.getState,V.prototype.refresh=V.prototype.wa,V.prototype.setAttributions=V.prototype.za,V.prototype.get=V.prototype.get,V.prototype.getKeys=V.prototype.R,V.prototype.getProperties=V.prototype.K,V.prototype.set=V.prototype.set,V.prototype.setProperties=V.prototype.J,V.prototype.unset=V.prototype.S,V.prototype.changed=V.prototype.u,V.prototype.dispatchEvent=V.prototype.b,V.prototype.getRevision=V.prototype.M,V.prototype.on=V.prototype.I,V.prototype.once=V.prototype.once,V.prototype.un=V.prototype.L,X.prototype.addFeature=X.prototype.Db,X.prototype.addFeatures=X.prototype.Jc,X.prototype.clear=X.prototype.clear,X.prototype.forEachFeature=X.prototype.Rh,X.prototype.forEachFeatureInExtent=X.prototype.gc,X.prototype.forEachFeatureIntersectingExtent=X.prototype.Sh,X.prototype.getFeaturesCollection=X.prototype.Zh,X.prototype.getFeatures=X.prototype.Ed,X.prototype.getFeaturesAtCoordinate=X.prototype.Yh,X.prototype.getFeaturesInExtent=X.prototype.jg,X.prototype.getClosestFeatureToCoordinate=X.prototype.Uh,X.prototype.getExtent=X.prototype.G,X.prototype.getFeatureById=X.prototype.Xh,X.prototype.getFormat=X.prototype.rj,X.prototype.getUrl=X.prototype.sj,X.prototype.removeFeature=X.prototype.Hb,X.prototype.getAttributions=X.prototype.Fa,X.prototype.getLogo=X.prototype.Ea,X.prototype.getProjection=X.prototype.Ga,X.prototype.getState=X.prototype.getState,X.prototype.refresh=X.prototype.wa,X.prototype.setAttributions=X.prototype.za,X.prototype.get=X.prototype.get,X.prototype.getKeys=X.prototype.R,X.prototype.getProperties=X.prototype.K,X.prototype.set=X.prototype.set,X.prototype.setProperties=X.prototype.J,X.prototype.unset=X.prototype.S,X.prototype.changed=X.prototype.u,X.prototype.dispatchEvent=X.prototype.b,X.prototype.getRevision=X.prototype.M,X.prototype.on=X.prototype.I,X.prototype.once=X.prototype.once,X.prototype.un=X.prototype.L,Nx.prototype.getAttributions=Nx.prototype.Fa,Nx.prototype.getLogo=Nx.prototype.Ea,Nx.prototype.getProjection=Nx.prototype.Ga,Nx.prototype.getState=Nx.prototype.getState,Nx.prototype.refresh=Nx.prototype.wa,Nx.prototype.setAttributions=Nx.prototype.za,Nx.prototype.get=Nx.prototype.get,Nx.prototype.getKeys=Nx.prototype.R,Nx.prototype.getProperties=Nx.prototype.K,Nx.prototype.set=Nx.prototype.set,Nx.prototype.setProperties=Nx.prototype.J,Nx.prototype.unset=Nx.prototype.S,Nx.prototype.changed=Nx.prototype.u,Nx.prototype.dispatchEvent=Nx.prototype.b,Nx.prototype.getRevision=Nx.prototype.M,Nx.prototype.on=Nx.prototype.I,Nx.prototype.once=Nx.prototype.once,Nx.prototype.un=Nx.prototype.L,Px.prototype.type=Px.prototype.type,Px.prototype.target=Px.prototype.target,Px.prototype.preventDefault=Px.prototype.preventDefault,Px.prototype.stopPropagation=Px.prototype.stopPropagation,qy.prototype.getAttributions=qy.prototype.Fa,qy.prototype.getLogo=qy.prototype.Ea,qy.prototype.getProjection=qy.prototype.Ga,qy.prototype.getState=qy.prototype.getState,qy.prototype.refresh=qy.prototype.wa,qy.prototype.setAttributions=qy.prototype.za,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.R,qy.prototype.getProperties=qy.prototype.K,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.J,qy.prototype.unset=qy.prototype.S,qy.prototype.changed=qy.prototype.u,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.M,qy.prototype.on=qy.prototype.I,qy.prototype.once=qy.prototype.once,qy.prototype.un=qy.prototype.L,Ux.prototype.getAttributions=Ux.prototype.Fa,Ux.prototype.getLogo=Ux.prototype.Ea,Ux.prototype.getProjection=Ux.prototype.Ga,Ux.prototype.getState=Ux.prototype.getState,Ux.prototype.refresh=Ux.prototype.wa,Ux.prototype.setAttributions=Ux.prototype.za,Ux.prototype.get=Ux.prototype.get,Ux.prototype.getKeys=Ux.prototype.R,Ux.prototype.getProperties=Ux.prototype.K,Ux.prototype.set=Ux.prototype.set,Ux.prototype.setProperties=Ux.prototype.J,Ux.prototype.unset=Ux.prototype.S,Ux.prototype.changed=Ux.prototype.u,Ux.prototype.dispatchEvent=Ux.prototype.b,Ux.prototype.getRevision=Ux.prototype.M,Ux.prototype.on=Ux.prototype.I,Ux.prototype.once=Ux.prototype.once,Ux.prototype.un=Ux.prototype.L,ry.prototype.getAttributions=ry.prototype.Fa,ry.prototype.getLogo=ry.prototype.Ea,ry.prototype.getProjection=ry.prototype.Ga,ry.prototype.getState=ry.prototype.getState,ry.prototype.refresh=ry.prototype.wa,ry.prototype.setAttributions=ry.prototype.za,ry.prototype.get=ry.prototype.get,ry.prototype.getKeys=ry.prototype.R,ry.prototype.getProperties=ry.prototype.K,ry.prototype.set=ry.prototype.set,ry.prototype.setProperties=ry.prototype.J,ry.prototype.unset=ry.prototype.S,ry.prototype.changed=ry.prototype.u,ry.prototype.dispatchEvent=ry.prototype.b,ry.prototype.getRevision=ry.prototype.M,ry.prototype.on=ry.prototype.I,ry.prototype.once=ry.prototype.once,ry.prototype.un=ry.prototype.L,sy.prototype.getAttributions=sy.prototype.Fa,sy.prototype.getLogo=sy.prototype.Ea,sy.prototype.getProjection=sy.prototype.Ga,sy.prototype.getState=sy.prototype.getState,sy.prototype.refresh=sy.prototype.wa,sy.prototype.setAttributions=sy.prototype.za,sy.prototype.get=sy.prototype.get,sy.prototype.getKeys=sy.prototype.R,sy.prototype.getProperties=sy.prototype.K,sy.prototype.set=sy.prototype.set,sy.prototype.setProperties=sy.prototype.J,sy.prototype.unset=sy.prototype.S,sy.prototype.changed=sy.prototype.u,sy.prototype.dispatchEvent=sy.prototype.b,sy.prototype.getRevision=sy.prototype.M,sy.prototype.on=sy.prototype.I,sy.prototype.once=sy.prototype.once,sy.prototype.un=sy.prototype.L,Ej.prototype.getAttributions=Ej.prototype.Fa,Ej.prototype.getLogo=Ej.prototype.Ea,Ej.prototype.getProjection=Ej.prototype.Ga,Ej.prototype.getState=Ej.prototype.getState,Ej.prototype.refresh=Ej.prototype.wa,Ej.prototype.setAttributions=Ej.prototype.za,Ej.prototype.get=Ej.prototype.get,Ej.prototype.getKeys=Ej.prototype.R,Ej.prototype.getProperties=Ej.prototype.K,Ej.prototype.set=Ej.prototype.set,Ej.prototype.setProperties=Ej.prototype.J,Ej.prototype.unset=Ej.prototype.S,Ej.prototype.changed=Ej.prototype.u,Ej.prototype.dispatchEvent=Ej.prototype.b,Ej.prototype.getRevision=Ej.prototype.M,Ej.prototype.on=Ej.prototype.I,Ej.prototype.once=Ej.prototype.once,Ej.prototype.un=Ej.prototype.L,ty.prototype.getAttributions=ty.prototype.Fa,ty.prototype.getLogo=ty.prototype.Ea,ty.prototype.getProjection=ty.prototype.Ga,ty.prototype.getState=ty.prototype.getState,ty.prototype.refresh=ty.prototype.wa,ty.prototype.setAttributions=ty.prototype.za,ty.prototype.get=ty.prototype.get,ty.prototype.getKeys=ty.prototype.R,ty.prototype.getProperties=ty.prototype.K,ty.prototype.set=ty.prototype.set,ty.prototype.setProperties=ty.prototype.J,ty.prototype.unset=ty.prototype.S,ty.prototype.changed=ty.prototype.u,ty.prototype.dispatchEvent=ty.prototype.b,ty.prototype.getRevision=ty.prototype.M,ty.prototype.on=ty.prototype.I,ty.prototype.once=ty.prototype.once,ty.prototype.un=ty.prototype.L,xy.prototype.setRenderReprojectionEdges=xy.prototype.Qb,xy.prototype.setTileGridForProjection=xy.prototype.Rb,xy.prototype.getTileLoadFunction=xy.prototype.ub,xy.prototype.getTileUrlFunction=xy.prototype.vb,xy.prototype.getUrls=xy.prototype.wb,xy.prototype.setTileLoadFunction=xy.prototype.Ab,xy.prototype.setTileUrlFunction=xy.prototype.kb,xy.prototype.setUrl=xy.prototype.ob,xy.prototype.setUrls=xy.prototype.lb,xy.prototype.getTileGrid=xy.prototype.hb,xy.prototype.refresh=xy.prototype.wa,xy.prototype.getAttributions=xy.prototype.Fa,xy.prototype.getLogo=xy.prototype.Ea,xy.prototype.getProjection=xy.prototype.Ga,xy.prototype.getState=xy.prototype.getState,xy.prototype.setAttributions=xy.prototype.za,xy.prototype.get=xy.prototype.get,xy.prototype.getKeys=xy.prototype.R,xy.prototype.getProperties=xy.prototype.K,xy.prototype.set=xy.prototype.set,xy.prototype.setProperties=xy.prototype.J,xy.prototype.unset=xy.prototype.S,xy.prototype.changed=xy.prototype.u,xy.prototype.dispatchEvent=xy.prototype.b,xy.prototype.getRevision=xy.prototype.M,xy.prototype.on=xy.prototype.I,xy.prototype.once=xy.prototype.once,xy.prototype.un=xy.prototype.L,zy.prototype.getAttributions=zy.prototype.Fa,zy.prototype.getLogo=zy.prototype.Ea,zy.prototype.getProjection=zy.prototype.Ga,zy.prototype.getState=zy.prototype.getState,zy.prototype.refresh=zy.prototype.wa,zy.prototype.setAttributions=zy.prototype.za,zy.prototype.get=zy.prototype.get,zy.prototype.getKeys=zy.prototype.R,zy.prototype.getProperties=zy.prototype.K,zy.prototype.set=zy.prototype.set,zy.prototype.setProperties=zy.prototype.J,zy.prototype.unset=zy.prototype.S,zy.prototype.changed=zy.prototype.u,zy.prototype.dispatchEvent=zy.prototype.b,zy.prototype.getRevision=zy.prototype.M,zy.prototype.on=zy.prototype.I,zy.prototype.once=zy.prototype.once,zy.prototype.un=zy.prototype.L,Dy.prototype.type=Dy.prototype.type,Dy.prototype.target=Dy.prototype.target,Dy.prototype.preventDefault=Dy.prototype.preventDefault,Dy.prototype.stopPropagation=Dy.prototype.stopPropagation,Gy.prototype.setRenderReprojectionEdges=Gy.prototype.Qb,Gy.prototype.setTileGridForProjection=Gy.prototype.Rb,Gy.prototype.getTileLoadFunction=Gy.prototype.ub,Gy.prototype.getTileUrlFunction=Gy.prototype.vb,Gy.prototype.getUrls=Gy.prototype.wb,Gy.prototype.setTileLoadFunction=Gy.prototype.Ab,Gy.prototype.setTileUrlFunction=Gy.prototype.kb,Gy.prototype.setUrl=Gy.prototype.ob,Gy.prototype.setUrls=Gy.prototype.lb,Gy.prototype.getTileGrid=Gy.prototype.hb,Gy.prototype.refresh=Gy.prototype.wa,Gy.prototype.getAttributions=Gy.prototype.Fa,Gy.prototype.getLogo=Gy.prototype.Ea,Gy.prototype.getProjection=Gy.prototype.Ga,Gy.prototype.getState=Gy.prototype.getState,Gy.prototype.setAttributions=Gy.prototype.za,Gy.prototype.get=Gy.prototype.get,Gy.prototype.getKeys=Gy.prototype.R,Gy.prototype.getProperties=Gy.prototype.K,Gy.prototype.set=Gy.prototype.set,Gy.prototype.setProperties=Gy.prototype.J,Gy.prototype.unset=Gy.prototype.S,Gy.prototype.changed=Gy.prototype.u,Gy.prototype.dispatchEvent=Gy.prototype.b,Gy.prototype.getRevision=Gy.prototype.M,Gy.prototype.on=Gy.prototype.I,Gy.prototype.once=Gy.prototype.once,Gy.prototype.un=Gy.prototype.L,Ti.prototype.type=Ti.prototype.type,Ti.prototype.target=Ti.prototype.target,Ti.prototype.preventDefault=Ti.prototype.preventDefault,Ti.prototype.stopPropagation=Ti.prototype.stopPropagation,Ky.prototype.setRenderReprojectionEdges=Ky.prototype.Qb,Ky.prototype.setTileGridForProjection=Ky.prototype.Rb,Ky.prototype.getTileLoadFunction=Ky.prototype.ub,Ky.prototype.getTileUrlFunction=Ky.prototype.vb,Ky.prototype.getUrls=Ky.prototype.wb,Ky.prototype.setTileLoadFunction=Ky.prototype.Ab,Ky.prototype.setTileUrlFunction=Ky.prototype.kb,Ky.prototype.setUrl=Ky.prototype.ob,Ky.prototype.setUrls=Ky.prototype.lb,Ky.prototype.getTileGrid=Ky.prototype.hb,Ky.prototype.refresh=Ky.prototype.wa,Ky.prototype.getAttributions=Ky.prototype.Fa,Ky.prototype.getLogo=Ky.prototype.Ea,Ky.prototype.getProjection=Ky.prototype.Ga,Ky.prototype.getState=Ky.prototype.getState,Ky.prototype.setAttributions=Ky.prototype.za,Ky.prototype.get=Ky.prototype.get,Ky.prototype.getKeys=Ky.prototype.R,Ky.prototype.getProperties=Ky.prototype.K,Ky.prototype.set=Ky.prototype.set,Ky.prototype.setProperties=Ky.prototype.J,Ky.prototype.unset=Ky.prototype.S,Ky.prototype.changed=Ky.prototype.u,Ky.prototype.dispatchEvent=Ky.prototype.b,Ky.prototype.getRevision=Ky.prototype.M,Ky.prototype.on=Ky.prototype.I,Ky.prototype.once=Ky.prototype.once,Ky.prototype.un=Ky.prototype.L,My.prototype.getTileGrid=My.prototype.hb,My.prototype.refresh=My.prototype.wa,My.prototype.getAttributions=My.prototype.Fa,My.prototype.getLogo=My.prototype.Ea,My.prototype.getProjection=My.prototype.Ga,My.prototype.getState=My.prototype.getState,My.prototype.setAttributions=My.prototype.za,My.prototype.get=My.prototype.get,My.prototype.getKeys=My.prototype.R,My.prototype.getProperties=My.prototype.K,My.prototype.set=My.prototype.set,My.prototype.setProperties=My.prototype.J,My.prototype.unset=My.prototype.S,My.prototype.changed=My.prototype.u,My.prototype.dispatchEvent=My.prototype.b,My.prototype.getRevision=My.prototype.M,My.prototype.on=My.prototype.I,My.prototype.once=My.prototype.once;My.prototype.un=My.prototype.L,Oy.prototype.setRenderReprojectionEdges=Oy.prototype.Qb,Oy.prototype.setTileGridForProjection=Oy.prototype.Rb,Oy.prototype.getTileLoadFunction=Oy.prototype.ub,Oy.prototype.getTileUrlFunction=Oy.prototype.vb,Oy.prototype.getUrls=Oy.prototype.wb,Oy.prototype.setTileLoadFunction=Oy.prototype.Ab,Oy.prototype.setTileUrlFunction=Oy.prototype.kb,Oy.prototype.setUrl=Oy.prototype.ob,Oy.prototype.setUrls=Oy.prototype.lb,Oy.prototype.getTileGrid=Oy.prototype.hb,Oy.prototype.refresh=Oy.prototype.wa,Oy.prototype.getAttributions=Oy.prototype.Fa,Oy.prototype.getLogo=Oy.prototype.Ea,Oy.prototype.getProjection=Oy.prototype.Ga,Oy.prototype.getState=Oy.prototype.getState,Oy.prototype.setAttributions=Oy.prototype.za,Oy.prototype.get=Oy.prototype.get,Oy.prototype.getKeys=Oy.prototype.R,Oy.prototype.getProperties=Oy.prototype.K,Oy.prototype.set=Oy.prototype.set,Oy.prototype.setProperties=Oy.prototype.J,Oy.prototype.unset=Oy.prototype.S,Oy.prototype.changed=Oy.prototype.u,Oy.prototype.dispatchEvent=Oy.prototype.b,Oy.prototype.getRevision=Oy.prototype.M,Oy.prototype.on=Oy.prototype.I,Oy.prototype.once=Oy.prototype.once,Oy.prototype.un=Oy.prototype.L,Py.prototype.getTileGrid=Py.prototype.hb,Py.prototype.refresh=Py.prototype.wa,Py.prototype.getAttributions=Py.prototype.Fa,Py.prototype.getLogo=Py.prototype.Ea,Py.prototype.getProjection=Py.prototype.Ga,Py.prototype.getState=Py.prototype.getState,Py.prototype.setAttributions=Py.prototype.za,Py.prototype.get=Py.prototype.get,Py.prototype.getKeys=Py.prototype.R,Py.prototype.getProperties=Py.prototype.K,Py.prototype.set=Py.prototype.set,Py.prototype.setProperties=Py.prototype.J,Py.prototype.unset=Py.prototype.S,Py.prototype.changed=Py.prototype.u,Py.prototype.dispatchEvent=Py.prototype.b,Py.prototype.getRevision=Py.prototype.M,Py.prototype.on=Py.prototype.I,Py.prototype.once=Py.prototype.once,Py.prototype.un=Py.prototype.L,Ty.prototype.setRenderReprojectionEdges=Ty.prototype.Qb,Ty.prototype.setTileGridForProjection=Ty.prototype.Rb,Ty.prototype.getTileLoadFunction=Ty.prototype.ub,Ty.prototype.getTileUrlFunction=Ty.prototype.vb,Ty.prototype.getUrls=Ty.prototype.wb,Ty.prototype.setTileLoadFunction=Ty.prototype.Ab,Ty.prototype.setTileUrlFunction=Ty.prototype.kb,Ty.prototype.setUrl=Ty.prototype.ob,Ty.prototype.setUrls=Ty.prototype.lb,Ty.prototype.getTileGrid=Ty.prototype.hb,Ty.prototype.refresh=Ty.prototype.wa,Ty.prototype.getAttributions=Ty.prototype.Fa,Ty.prototype.getLogo=Ty.prototype.Ea,Ty.prototype.getProjection=Ty.prototype.Ga,Ty.prototype.getState=Ty.prototype.getState,Ty.prototype.setAttributions=Ty.prototype.za,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.R,Ty.prototype.getProperties=Ty.prototype.K,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.J,Ty.prototype.unset=Ty.prototype.S,Ty.prototype.changed=Ty.prototype.u,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.M,Ty.prototype.on=Ty.prototype.I,Ty.prototype.once=Ty.prototype.once,Ty.prototype.un=Ty.prototype.L,uw.prototype.type=uw.prototype.type,uw.prototype.target=uw.prototype.target,uw.prototype.preventDefault=uw.prototype.preventDefault,uw.prototype.stopPropagation=uw.prototype.stopPropagation,bz.prototype.getTileLoadFunction=bz.prototype.ub,bz.prototype.getTileUrlFunction=bz.prototype.vb,bz.prototype.getUrls=bz.prototype.wb,bz.prototype.setTileLoadFunction=bz.prototype.Ab,bz.prototype.setTileUrlFunction=bz.prototype.kb,bz.prototype.setUrl=bz.prototype.ob,bz.prototype.setUrls=bz.prototype.lb,bz.prototype.getTileGrid=bz.prototype.hb,bz.prototype.refresh=bz.prototype.wa,bz.prototype.getAttributions=bz.prototype.Fa,bz.prototype.getLogo=bz.prototype.Ea,bz.prototype.getProjection=bz.prototype.Ga,bz.prototype.getState=bz.prototype.getState,bz.prototype.setAttributions=bz.prototype.za,bz.prototype.get=bz.prototype.get,bz.prototype.getKeys=bz.prototype.R,bz.prototype.getProperties=bz.prototype.K,bz.prototype.set=bz.prototype.set,bz.prototype.setProperties=bz.prototype.J,bz.prototype.unset=bz.prototype.S,bz.prototype.changed=bz.prototype.u,bz.prototype.dispatchEvent=bz.prototype.b,bz.prototype.getRevision=bz.prototype.M,bz.prototype.on=bz.prototype.I,bz.prototype.once=bz.prototype.once,bz.prototype.un=bz.prototype.L,Y.prototype.setRenderReprojectionEdges=Y.prototype.Qb,Y.prototype.setTileGridForProjection=Y.prototype.Rb,Y.prototype.getTileLoadFunction=Y.prototype.ub,Y.prototype.getTileUrlFunction=Y.prototype.vb,Y.prototype.getUrls=Y.prototype.wb,Y.prototype.setTileLoadFunction=Y.prototype.Ab,Y.prototype.setTileUrlFunction=Y.prototype.kb,Y.prototype.setUrl=Y.prototype.ob,Y.prototype.setUrls=Y.prototype.lb,Y.prototype.getTileGrid=Y.prototype.hb,Y.prototype.refresh=Y.prototype.wa,Y.prototype.getAttributions=Y.prototype.Fa,Y.prototype.getLogo=Y.prototype.Ea,Y.prototype.getProjection=Y.prototype.Ga,Y.prototype.getState=Y.prototype.getState,Y.prototype.setAttributions=Y.prototype.za,Y.prototype.get=Y.prototype.get,Y.prototype.getKeys=Y.prototype.R,Y.prototype.getProperties=Y.prototype.K,Y.prototype.set=Y.prototype.set,Y.prototype.setProperties=Y.prototype.J,Y.prototype.unset=Y.prototype.S,Y.prototype.changed=Y.prototype.u,Y.prototype.dispatchEvent=Y.prototype.b,Y.prototype.getRevision=Y.prototype.M,Y.prototype.on=Y.prototype.I,Y.prototype.once=Y.prototype.once,Y.prototype.un=Y.prototype.L,fz.prototype.setRenderReprojectionEdges=fz.prototype.Qb,fz.prototype.setTileGridForProjection=fz.prototype.Rb,fz.prototype.getTileLoadFunction=fz.prototype.ub,fz.prototype.getTileUrlFunction=fz.prototype.vb,fz.prototype.getUrls=fz.prototype.wb,fz.prototype.setTileLoadFunction=fz.prototype.Ab,fz.prototype.setTileUrlFunction=fz.prototype.kb,fz.prototype.setUrl=fz.prototype.ob,fz.prototype.setUrls=fz.prototype.lb,fz.prototype.getTileGrid=fz.prototype.hb,fz.prototype.refresh=fz.prototype.wa,fz.prototype.getAttributions=fz.prototype.Fa,fz.prototype.getLogo=fz.prototype.Ea,fz.prototype.getProjection=fz.prototype.Ga,fz.prototype.getState=fz.prototype.getState,fz.prototype.setAttributions=fz.prototype.za,fz.prototype.get=fz.prototype.get,fz.prototype.getKeys=fz.prototype.R,fz.prototype.getProperties=fz.prototype.K,fz.prototype.set=fz.prototype.set,fz.prototype.setProperties=fz.prototype.J,fz.prototype.unset=fz.prototype.S,fz.prototype.changed=fz.prototype.u,fz.prototype.dispatchEvent=fz.prototype.b,fz.prototype.getRevision=fz.prototype.M,fz.prototype.on=fz.prototype.I,fz.prototype.once=fz.prototype.once,fz.prototype.un=fz.prototype.L,vi.prototype.getTileCoord=vi.prototype.i,vi.prototype.load=vi.prototype.load,Re.prototype.changed=Re.prototype.u,Re.prototype.dispatchEvent=Re.prototype.b,Re.prototype.getRevision=Re.prototype.M,Re.prototype.on=Re.prototype.I,Re.prototype.once=Re.prototype.once,Re.prototype.un=Re.prototype.L,Uh.prototype.changed=Uh.prototype.u,Uh.prototype.dispatchEvent=Uh.prototype.b,Uh.prototype.getRevision=Uh.prototype.M,Uh.prototype.on=Uh.prototype.I,Uh.prototype.once=Uh.prototype.once,Uh.prototype.un=Uh.prototype.L,Wx.prototype.changed=Wx.prototype.u,Wx.prototype.dispatchEvent=Wx.prototype.b,Wx.prototype.getRevision=Wx.prototype.M,Wx.prototype.on=Wx.prototype.I,Wx.prototype.once=Wx.prototype.once,Wx.prototype.un=Wx.prototype.L,di.prototype.changed=di.prototype.u,di.prototype.dispatchEvent=di.prototype.b,di.prototype.getRevision=di.prototype.M,di.prototype.on=di.prototype.I,di.prototype.once=di.prototype.once,di.prototype.un=di.prototype.L,rk.prototype.changed=rk.prototype.u,rk.prototype.dispatchEvent=rk.prototype.b,rk.prototype.getRevision=rk.prototype.M,rk.prototype.on=rk.prototype.I,rk.prototype.once=rk.prototype.once,rk.prototype.un=rk.prototype.L,bf.prototype.changed=bf.prototype.u,bf.prototype.dispatchEvent=bf.prototype.b,bf.prototype.getRevision=bf.prototype.M,bf.prototype.on=bf.prototype.I,bf.prototype.once=bf.prototype.once,bf.prototype.un=bf.prototype.L,ff.prototype.changed=ff.prototype.u,ff.prototype.dispatchEvent=ff.prototype.b,ff.prototype.getRevision=ff.prototype.M,ff.prototype.on=ff.prototype.I,ff.prototype.once=ff.prototype.once,ff.prototype.un=ff.prototype.L,Lx.prototype.changed=Lx.prototype.u,Lx.prototype.dispatchEvent=Lx.prototype.b,Lx.prototype.getRevision=Lx.prototype.M,Lx.prototype.on=Lx.prototype.I,Lx.prototype.once=Lx.prototype.once,Lx.prototype.un=Lx.prototype.L,gf.prototype.changed=gf.prototype.u,gf.prototype.dispatchEvent=gf.prototype.b,gf.prototype.getRevision=gf.prototype.M,gf.prototype.on=gf.prototype.I,gf.prototype.once=gf.prototype.once,gf.prototype.un=gf.prototype.L,pk.prototype.changed=pk.prototype.u,pk.prototype.dispatchEvent=pk.prototype.b,pk.prototype.getRevision=pk.prototype.M,pk.prototype.on=pk.prototype.I,pk.prototype.once=pk.prototype.once,pk.prototype.un=pk.prototype.L,Zx.prototype.changed=Zx.prototype.u,Zx.prototype.dispatchEvent=Zx.prototype.b,Zx.prototype.getRevision=Zx.prototype.M,Zx.prototype.on=Zx.prototype.I,Zx.prototype.once=Zx.prototype.once,Zx.prototype.un=Zx.prototype.L,Gd.prototype.type=Gd.prototype.type,Gd.prototype.target=Gd.prototype.target,Gd.prototype.preventDefault=Gd.prototype.preventDefault,Gd.prototype.stopPropagation=Gd.prototype.stopPropagation,vl.prototype.type=vl.prototype.type,vl.prototype.target=vl.prototype.target,vl.prototype.preventDefault=vl.prototype.preventDefault,vl.prototype.stopPropagation=vl.prototype.stopPropagation,Vb.prototype.get=Vb.prototype.get,Vb.prototype.getKeys=Vb.prototype.R,Vb.prototype.getProperties=Vb.prototype.K,Vb.prototype.set=Vb.prototype.set,Vb.prototype.setProperties=Vb.prototype.J,Vb.prototype.unset=Vb.prototype.S,Vb.prototype.changed=Vb.prototype.u,Vb.prototype.dispatchEvent=Vb.prototype.b,Vb.prototype.getRevision=Vb.prototype.M,Vb.prototype.on=Vb.prototype.I,Vb.prototype.once=Vb.prototype.once,Vb.prototype.un=Vb.prototype.L,Xb.prototype.getExtent=Xb.prototype.G,Xb.prototype.getMaxResolution=Xb.prototype.lc,Xb.prototype.getMinResolution=Xb.prototype.mc,Xb.prototype.getOpacity=Xb.prototype.Xb,Xb.prototype.getVisible=Xb.prototype.sb,Xb.prototype.getZIndex=Xb.prototype.Ca,Xb.prototype.setExtent=Xb.prototype.Cc,Xb.prototype.setMaxResolution=Xb.prototype.Fc,Xb.prototype.setMinResolution=Xb.prototype.Gc,Xb.prototype.setOpacity=Xb.prototype.Dc,Xb.prototype.setVisible=Xb.prototype.Yb,Xb.prototype.setZIndex=Xb.prototype.ac,Xb.prototype.get=Xb.prototype.get,Xb.prototype.getKeys=Xb.prototype.R,Xb.prototype.getProperties=Xb.prototype.K,Xb.prototype.set=Xb.prototype.set,Xb.prototype.setProperties=Xb.prototype.J,Xb.prototype.unset=Xb.prototype.S,Xb.prototype.changed=Xb.prototype.u,Xb.prototype.dispatchEvent=Xb.prototype.b,Xb.prototype.getRevision=Xb.prototype.M,Xb.prototype.on=Xb.prototype.I,Xb.prototype.once=Xb.prototype.once,Xb.prototype.un=Xb.prototype.L,Yc.prototype.getExtent=Yc.prototype.G,Yc.prototype.getMaxResolution=Yc.prototype.lc,Yc.prototype.getMinResolution=Yc.prototype.mc,Yc.prototype.getOpacity=Yc.prototype.Xb,Yc.prototype.getVisible=Yc.prototype.sb,Yc.prototype.getZIndex=Yc.prototype.Ca,Yc.prototype.setExtent=Yc.prototype.Cc,Yc.prototype.setMaxResolution=Yc.prototype.Fc,Yc.prototype.setMinResolution=Yc.prototype.Gc,Yc.prototype.setOpacity=Yc.prototype.Dc,Yc.prototype.setVisible=Yc.prototype.Yb,Yc.prototype.setZIndex=Yc.prototype.ac,Yc.prototype.get=Yc.prototype.get,Yc.prototype.getKeys=Yc.prototype.R,Yc.prototype.getProperties=Yc.prototype.K,Yc.prototype.set=Yc.prototype.set,Yc.prototype.setProperties=Yc.prototype.J,Yc.prototype.unset=Yc.prototype.S,Yc.prototype.changed=Yc.prototype.u,Yc.prototype.dispatchEvent=Yc.prototype.b,Yc.prototype.getRevision=Yc.prototype.M,Yc.prototype.on=Yc.prototype.I,Yc.prototype.once=Yc.prototype.once,Yc.prototype.un=Yc.prototype.L,G.prototype.setMap=G.prototype.setMap,G.prototype.setSource=G.prototype.ed,G.prototype.getExtent=G.prototype.G,G.prototype.getMaxResolution=G.prototype.lc,G.prototype.getMinResolution=G.prototype.mc,G.prototype.getOpacity=G.prototype.Xb,G.prototype.getVisible=G.prototype.sb,G.prototype.getZIndex=G.prototype.Ca,G.prototype.setExtent=G.prototype.Cc,G.prototype.setMaxResolution=G.prototype.Fc,G.prototype.setMinResolution=G.prototype.Gc,G.prototype.setOpacity=G.prototype.Dc,G.prototype.setVisible=G.prototype.Yb,G.prototype.setZIndex=G.prototype.ac,G.prototype.get=G.prototype.get,G.prototype.getKeys=G.prototype.R,G.prototype.getProperties=G.prototype.K,G.prototype.set=G.prototype.set,G.prototype.setProperties=G.prototype.J,G.prototype.unset=G.prototype.S,G.prototype.changed=G.prototype.u,G.prototype.dispatchEvent=G.prototype.b,G.prototype.getRevision=G.prototype.M,G.prototype.on=G.prototype.I,G.prototype.once=G.prototype.once,G.prototype.un=G.prototype.L,W.prototype.getSource=W.prototype.ca,W.prototype.getStyle=W.prototype.A,W.prototype.getStyleFunction=W.prototype.Ta,W.prototype.setStyle=W.prototype.i,W.prototype.setMap=W.prototype.setMap,W.prototype.setSource=W.prototype.ed,W.prototype.getExtent=W.prototype.G,W.prototype.getMaxResolution=W.prototype.lc,W.prototype.getMinResolution=W.prototype.mc,W.prototype.getOpacity=W.prototype.Xb,W.prototype.getVisible=W.prototype.sb,W.prototype.getZIndex=W.prototype.Ca,W.prototype.setExtent=W.prototype.Cc,W.prototype.setMaxResolution=W.prototype.Fc,W.prototype.setMinResolution=W.prototype.Gc,W.prototype.setOpacity=W.prototype.Dc,W.prototype.setVisible=W.prototype.Yb,W.prototype.setZIndex=W.prototype.ac,W.prototype.get=W.prototype.get,W.prototype.getKeys=W.prototype.R,W.prototype.getProperties=W.prototype.K,W.prototype.set=W.prototype.set,W.prototype.setProperties=W.prototype.J,W.prototype.unset=W.prototype.S,W.prototype.changed=W.prototype.u,W.prototype.dispatchEvent=W.prototype.b,W.prototype.getRevision=W.prototype.M,W.prototype.on=W.prototype.I,W.prototype.once=W.prototype.once,W.prototype.un=W.prototype.L,Fj.prototype.setMap=Fj.prototype.setMap,Fj.prototype.setSource=Fj.prototype.ed,Fj.prototype.getExtent=Fj.prototype.G,Fj.prototype.getMaxResolution=Fj.prototype.lc,Fj.prototype.getMinResolution=Fj.prototype.mc,Fj.prototype.getOpacity=Fj.prototype.Xb,Fj.prototype.getVisible=Fj.prototype.sb,Fj.prototype.getZIndex=Fj.prototype.Ca,Fj.prototype.setExtent=Fj.prototype.Cc,Fj.prototype.setMaxResolution=Fj.prototype.Fc,Fj.prototype.setMinResolution=Fj.prototype.Gc,Fj.prototype.setOpacity=Fj.prototype.Dc,Fj.prototype.setVisible=Fj.prototype.Yb,Fj.prototype.setZIndex=Fj.prototype.ac,Fj.prototype.get=Fj.prototype.get,Fj.prototype.getKeys=Fj.prototype.R,Fj.prototype.getProperties=Fj.prototype.K,Fj.prototype.set=Fj.prototype.set,Fj.prototype.setProperties=Fj.prototype.J,Fj.prototype.unset=Fj.prototype.S,Fj.prototype.changed=Fj.prototype.u,Fj.prototype.dispatchEvent=Fj.prototype.b,Fj.prototype.getRevision=Fj.prototype.M,Fj.prototype.on=Fj.prototype.I,Fj.prototype.once=Fj.prototype.once,Fj.prototype.un=Fj.prototype.L,fi.prototype.setMap=fi.prototype.setMap,fi.prototype.setSource=fi.prototype.ed,fi.prototype.getExtent=fi.prototype.G,fi.prototype.getMaxResolution=fi.prototype.lc,fi.prototype.getMinResolution=fi.prototype.mc,fi.prototype.getOpacity=fi.prototype.Xb,fi.prototype.getVisible=fi.prototype.sb,fi.prototype.getZIndex=fi.prototype.Ca,fi.prototype.setExtent=fi.prototype.Cc,fi.prototype.setMaxResolution=fi.prototype.Fc,fi.prototype.setMinResolution=fi.prototype.Gc,fi.prototype.setOpacity=fi.prototype.Dc,fi.prototype.setVisible=fi.prototype.Yb,fi.prototype.setZIndex=fi.prototype.ac,fi.prototype.get=fi.prototype.get,fi.prototype.getKeys=fi.prototype.R,fi.prototype.getProperties=fi.prototype.K,fi.prototype.set=fi.prototype.set,fi.prototype.setProperties=fi.prototype.J,fi.prototype.unset=fi.prototype.S,fi.prototype.changed=fi.prototype.u,fi.prototype.dispatchEvent=fi.prototype.b,fi.prototype.getRevision=fi.prototype.M,fi.prototype.on=fi.prototype.I,fi.prototype.once=fi.prototype.once,fi.prototype.un=fi.prototype.L,fy.prototype.getStyle=fy.prototype.A,fy.prototype.getStyleFunction=fy.prototype.Ta,fy.prototype.setStyle=fy.prototype.i,fy.prototype.setMap=fy.prototype.setMap,fy.prototype.setSource=fy.prototype.ed,fy.prototype.getExtent=fy.prototype.G,fy.prototype.getMaxResolution=fy.prototype.lc,fy.prototype.getMinResolution=fy.prototype.mc,fy.prototype.getOpacity=fy.prototype.Xb,fy.prototype.getVisible=fy.prototype.sb,fy.prototype.getZIndex=fy.prototype.Ca,fy.prototype.setExtent=fy.prototype.Cc,fy.prototype.setMaxResolution=fy.prototype.Fc,fy.prototype.setMinResolution=fy.prototype.Gc,fy.prototype.setOpacity=fy.prototype.Dc,fy.prototype.setVisible=fy.prototype.Yb,fy.prototype.setZIndex=fy.prototype.ac,fy.prototype.get=fy.prototype.get,fy.prototype.getKeys=fy.prototype.R,fy.prototype.getProperties=fy.prototype.K,fy.prototype.set=fy.prototype.set,fy.prototype.setProperties=fy.prototype.J,fy.prototype.unset=fy.prototype.S,fy.prototype.changed=fy.prototype.u,fy.prototype.dispatchEvent=fy.prototype.b,fy.prototype.getRevision=fy.prototype.M,fy.prototype.on=fy.prototype.I,fy.prototype.once=fy.prototype.once,fy.prototype.un=fy.prototype.L,Fm.prototype.get=Fm.prototype.get,Fm.prototype.getKeys=Fm.prototype.R,Fm.prototype.getProperties=Fm.prototype.K,Fm.prototype.set=Fm.prototype.set,Fm.prototype.setProperties=Fm.prototype.J,Fm.prototype.unset=Fm.prototype.S,Fm.prototype.changed=Fm.prototype.u,Fm.prototype.dispatchEvent=Fm.prototype.b,Fm.prototype.getRevision=Fm.prototype.M,Fm.prototype.on=Fm.prototype.I,Fm.prototype.once=Fm.prototype.once,Fm.prototype.un=Fm.prototype.L,Jm.prototype.getActive=Jm.prototype.c,Jm.prototype.getMap=Jm.prototype.i,Jm.prototype.setActive=Jm.prototype.La,Jm.prototype.get=Jm.prototype.get,Jm.prototype.getKeys=Jm.prototype.R,Jm.prototype.getProperties=Jm.prototype.K,Jm.prototype.set=Jm.prototype.set,Jm.prototype.setProperties=Jm.prototype.J,Jm.prototype.unset=Jm.prototype.S,Jm.prototype.changed=Jm.prototype.u,Jm.prototype.dispatchEvent=Jm.prototype.b,Jm.prototype.getRevision=Jm.prototype.M,Jm.prototype.on=Jm.prototype.I,Jm.prototype.once=Jm.prototype.once,Jm.prototype.un=Jm.prototype.L,ew.prototype.getActive=ew.prototype.c,ew.prototype.getMap=ew.prototype.i,ew.prototype.setActive=ew.prototype.La,ew.prototype.get=ew.prototype.get,ew.prototype.getKeys=ew.prototype.R,ew.prototype.getProperties=ew.prototype.K,ew.prototype.set=ew.prototype.set,ew.prototype.setProperties=ew.prototype.J,ew.prototype.unset=ew.prototype.S,ew.prototype.changed=ew.prototype.u,ew.prototype.dispatchEvent=ew.prototype.b,ew.prototype.getRevision=ew.prototype.M,ew.prototype.on=ew.prototype.I,ew.prototype.once=ew.prototype.once,ew.prototype.un=ew.prototype.L,hw.prototype.type=hw.prototype.type,hw.prototype.target=hw.prototype.target,hw.prototype.preventDefault=hw.prototype.preventDefault,hw.prototype.stopPropagation=hw.prototype.stopPropagation,Vm.prototype.getActive=Vm.prototype.c,Vm.prototype.getMap=Vm.prototype.i,Vm.prototype.setActive=Vm.prototype.La,Vm.prototype.get=Vm.prototype.get,Vm.prototype.getKeys=Vm.prototype.R,Vm.prototype.getProperties=Vm.prototype.K,Vm.prototype.set=Vm.prototype.set,Vm.prototype.setProperties=Vm.prototype.J,Vm.prototype.unset=Vm.prototype.S,Vm.prototype.changed=Vm.prototype.u,Vm.prototype.dispatchEvent=Vm.prototype.b,Vm.prototype.getRevision=Vm.prototype.M,Vm.prototype.on=Vm.prototype.I,Vm.prototype.once=Vm.prototype.once,Vm.prototype.un=Vm.prototype.L,jn.prototype.getActive=jn.prototype.c,jn.prototype.getMap=jn.prototype.i,jn.prototype.setActive=jn.prototype.La,jn.prototype.get=jn.prototype.get,jn.prototype.getKeys=jn.prototype.R,jn.prototype.getProperties=jn.prototype.K,jn.prototype.set=jn.prototype.set,jn.prototype.setProperties=jn.prototype.J,jn.prototype.unset=jn.prototype.S,jn.prototype.changed=jn.prototype.u,jn.prototype.dispatchEvent=jn.prototype.b,jn.prototype.getRevision=jn.prototype.M,jn.prototype.on=jn.prototype.I,jn.prototype.once=jn.prototype.once,jn.prototype.un=jn.prototype.L,on.prototype.type=on.prototype.type,on.prototype.target=on.prototype.target,on.prototype.preventDefault=on.prototype.preventDefault,on.prototype.stopPropagation=on.prototype.stopPropagation,Ym.prototype.getActive=Ym.prototype.c,Ym.prototype.getMap=Ym.prototype.i,Ym.prototype.setActive=Ym.prototype.La,Ym.prototype.get=Ym.prototype.get,Ym.prototype.getKeys=Ym.prototype.R,Ym.prototype.getProperties=Ym.prototype.K,Ym.prototype.set=Ym.prototype.set,Ym.prototype.setProperties=Ym.prototype.J,Ym.prototype.unset=Ym.prototype.S,Ym.prototype.changed=Ym.prototype.u,Ym.prototype.dispatchEvent=Ym.prototype.b,Ym.prototype.getRevision=Ym.prototype.M,Ym.prototype.on=Ym.prototype.I,Ym.prototype.once=Ym.prototype.once,Ym.prototype.un=Ym.prototype.L,bn.prototype.getActive=bn.prototype.c,bn.prototype.getMap=bn.prototype.i,bn.prototype.setActive=bn.prototype.La,bn.prototype.get=bn.prototype.get,bn.prototype.getKeys=bn.prototype.R,bn.prototype.getProperties=bn.prototype.K,bn.prototype.set=bn.prototype.set,bn.prototype.setProperties=bn.prototype.J,bn.prototype.unset=bn.prototype.S,bn.prototype.changed=bn.prototype.u,bn.prototype.dispatchEvent=bn.prototype.b,bn.prototype.getRevision=bn.prototype.M,bn.prototype.on=bn.prototype.I,bn.prototype.once=bn.prototype.once,bn.prototype.un=bn.prototype.L,lw.prototype.getActive=lw.prototype.c,lw.prototype.getMap=lw.prototype.i,lw.prototype.setActive=lw.prototype.La,lw.prototype.get=lw.prototype.get,lw.prototype.getKeys=lw.prototype.R,lw.prototype.getProperties=lw.prototype.K,lw.prototype.set=lw.prototype.set,lw.prototype.setProperties=lw.prototype.J,lw.prototype.unset=lw.prototype.S,lw.prototype.changed=lw.prototype.u,lw.prototype.dispatchEvent=lw.prototype.b,lw.prototype.getRevision=lw.prototype.M,lw.prototype.on=lw.prototype.I,lw.prototype.once=lw.prototype.once,lw.prototype.un=lw.prototype.L,sn.prototype.getGeometry=sn.prototype.W,sn.prototype.getActive=sn.prototype.c,sn.prototype.getMap=sn.prototype.i,sn.prototype.setActive=sn.prototype.La,sn.prototype.get=sn.prototype.get,sn.prototype.getKeys=sn.prototype.R,sn.prototype.getProperties=sn.prototype.K,sn.prototype.set=sn.prototype.set,sn.prototype.setProperties=sn.prototype.J,sn.prototype.unset=sn.prototype.S,sn.prototype.changed=sn.prototype.u,sn.prototype.dispatchEvent=sn.prototype.b,sn.prototype.getRevision=sn.prototype.M,sn.prototype.on=sn.prototype.I,sn.prototype.once=sn.prototype.once,sn.prototype.un=sn.prototype.L,xw.prototype.getActive=xw.prototype.c,xw.prototype.getMap=xw.prototype.i,xw.prototype.setActive=xw.prototype.La,xw.prototype.get=xw.prototype.get,xw.prototype.getKeys=xw.prototype.R,xw.prototype.getProperties=xw.prototype.K,xw.prototype.set=xw.prototype.set,xw.prototype.setProperties=xw.prototype.J,xw.prototype.unset=xw.prototype.S,xw.prototype.changed=xw.prototype.u,xw.prototype.dispatchEvent=xw.prototype.b,xw.prototype.getRevision=xw.prototype.M,xw.prototype.on=xw.prototype.I,xw.prototype.once=xw.prototype.once,xw.prototype.un=xw.prototype.L,Nw.prototype.type=Nw.prototype.type,Nw.prototype.target=Nw.prototype.target,Nw.prototype.preventDefault=Nw.prototype.preventDefault,Nw.prototype.stopPropagation=Nw.prototype.stopPropagation,Ow.prototype.getActive=Ow.prototype.c,Ow.prototype.getMap=Ow.prototype.i,Ow.prototype.setActive=Ow.prototype.La,Ow.prototype.get=Ow.prototype.get,Ow.prototype.getKeys=Ow.prototype.R,Ow.prototype.getProperties=Ow.prototype.K,Ow.prototype.set=Ow.prototype.set,Ow.prototype.setProperties=Ow.prototype.J,Ow.prototype.unset=Ow.prototype.S,Ow.prototype.changed=Ow.prototype.u,Ow.prototype.dispatchEvent=Ow.prototype.b,Ow.prototype.getRevision=Ow.prototype.M,Ow.prototype.on=Ow.prototype.I,Ow.prototype.once=Ow.prototype.once,Ow.prototype.un=Ow.prototype.L,Zw.prototype.type=Zw.prototype.type,Zw.prototype.target=Zw.prototype.target,Zw.prototype.preventDefault=Zw.prototype.preventDefault,Zw.prototype.stopPropagation=Zw.prototype.stopPropagation,tn.prototype.getActive=tn.prototype.c,tn.prototype.getMap=tn.prototype.i,tn.prototype.setActive=tn.prototype.La,tn.prototype.get=tn.prototype.get,tn.prototype.getKeys=tn.prototype.R,tn.prototype.getProperties=tn.prototype.K,tn.prototype.set=tn.prototype.set,tn.prototype.setProperties=tn.prototype.J,tn.prototype.unset=tn.prototype.S,tn.prototype.changed=tn.prototype.u,tn.prototype.dispatchEvent=tn.prototype.b,tn.prototype.getRevision=tn.prototype.M,tn.prototype.on=tn.prototype.I,tn.prototype.once=tn.prototype.once,tn.prototype.un=tn.prototype.L,vn.prototype.getActive=vn.prototype.c,vn.prototype.getMap=vn.prototype.i,vn.prototype.setActive=vn.prototype.La,vn.prototype.get=vn.prototype.get,vn.prototype.getKeys=vn.prototype.R,vn.prototype.getProperties=vn.prototype.K,vn.prototype.set=vn.prototype.set,vn.prototype.setProperties=vn.prototype.J,vn.prototype.unset=vn.prototype.S,vn.prototype.changed=vn.prototype.u,vn.prototype.dispatchEvent=vn.prototype.b,vn.prototype.getRevision=vn.prototype.M,vn.prototype.on=vn.prototype.I,vn.prototype.once=vn.prototype.once,vn.prototype.un=vn.prototype.L,$w.prototype.getActive=$w.prototype.c,$w.prototype.getMap=$w.prototype.i,$w.prototype.setActive=$w.prototype.La,$w.prototype.get=$w.prototype.get,$w.prototype.getKeys=$w.prototype.R,$w.prototype.getProperties=$w.prototype.K,$w.prototype.set=$w.prototype.set,$w.prototype.setProperties=$w.prototype.J,$w.prototype.unset=$w.prototype.S,$w.prototype.changed=$w.prototype.u,$w.prototype.dispatchEvent=$w.prototype.b,$w.prototype.getRevision=$w.prototype.M,$w.prototype.on=$w.prototype.I,$w.prototype.once=$w.prototype.once,$w.prototype.un=$w.prototype.L,hx.prototype.type=hx.prototype.type,hx.prototype.target=hx.prototype.target,hx.prototype.preventDefault=hx.prototype.preventDefault,hx.prototype.stopPropagation=hx.prototype.stopPropagation,xn.prototype.getActive=xn.prototype.c,xn.prototype.getMap=xn.prototype.i,xn.prototype.setActive=xn.prototype.La,xn.prototype.get=xn.prototype.get,xn.prototype.getKeys=xn.prototype.R,xn.prototype.getProperties=xn.prototype.K,xn.prototype.set=xn.prototype.set,xn.prototype.setProperties=xn.prototype.J,xn.prototype.unset=xn.prototype.S,xn.prototype.changed=xn.prototype.u,xn.prototype.dispatchEvent=xn.prototype.b,xn.prototype.getRevision=xn.prototype.M,xn.prototype.on=xn.prototype.I,xn.prototype.once=xn.prototype.once,xn.prototype.un=xn.prototype.L,Bn.prototype.getActive=Bn.prototype.c,Bn.prototype.getMap=Bn.prototype.i,Bn.prototype.setActive=Bn.prototype.La,Bn.prototype.get=Bn.prototype.get,Bn.prototype.getKeys=Bn.prototype.R,Bn.prototype.getProperties=Bn.prototype.K,Bn.prototype.set=Bn.prototype.set,Bn.prototype.setProperties=Bn.prototype.J,Bn.prototype.unset=Bn.prototype.S,Bn.prototype.changed=Bn.prototype.u,Bn.prototype.dispatchEvent=Bn.prototype.b,Bn.prototype.getRevision=Bn.prototype.M,Bn.prototype.on=Bn.prototype.I,Bn.prototype.once=Bn.prototype.once,Bn.prototype.un=Bn.prototype.L,Fn.prototype.getActive=Fn.prototype.c,Fn.prototype.getMap=Fn.prototype.i,Fn.prototype.setActive=Fn.prototype.La,Fn.prototype.get=Fn.prototype.get,Fn.prototype.getKeys=Fn.prototype.R,Fn.prototype.getProperties=Fn.prototype.K,Fn.prototype.set=Fn.prototype.set,Fn.prototype.setProperties=Fn.prototype.J,Fn.prototype.unset=Fn.prototype.S,Fn.prototype.changed=Fn.prototype.u,Fn.prototype.dispatchEvent=Fn.prototype.b,Fn.prototype.getRevision=Fn.prototype.M,Fn.prototype.on=Fn.prototype.I,Fn.prototype.once=Fn.prototype.once,Fn.prototype.un=Fn.prototype.L,px.prototype.getActive=px.prototype.c,px.prototype.getMap=px.prototype.i,px.prototype.setActive=px.prototype.La,px.prototype.get=px.prototype.get,px.prototype.getKeys=px.prototype.R,px.prototype.getProperties=px.prototype.K,px.prototype.set=px.prototype.set,px.prototype.setProperties=px.prototype.J,px.prototype.unset=px.prototype.S,px.prototype.changed=px.prototype.u,px.prototype.dispatchEvent=px.prototype.b,px.prototype.getRevision=px.prototype.M,px.prototype.on=px.prototype.I,px.prototype.once=px.prototype.once,px.prototype.un=px.prototype.L,sx.prototype.type=sx.prototype.type,sx.prototype.target=sx.prototype.target,sx.prototype.preventDefault=sx.prototype.preventDefault,sx.prototype.stopPropagation=sx.prototype.stopPropagation,ux.prototype.getActive=ux.prototype.c,ux.prototype.getMap=ux.prototype.i,ux.prototype.setActive=ux.prototype.La,ux.prototype.get=ux.prototype.get,ux.prototype.getKeys=ux.prototype.R,ux.prototype.getProperties=ux.prototype.K,ux.prototype.set=ux.prototype.set,ux.prototype.setProperties=ux.prototype.J,ux.prototype.unset=ux.prototype.S,ux.prototype.changed=ux.prototype.u,ux.prototype.dispatchEvent=ux.prototype.b,ux.prototype.getRevision=ux.prototype.M,ux.prototype.on=ux.prototype.I,ux.prototype.once=ux.prototype.once,ux.prototype.un=ux.prototype.L,zx.prototype.getActive=zx.prototype.c,zx.prototype.getMap=zx.prototype.i,zx.prototype.setActive=zx.prototype.La,zx.prototype.get=zx.prototype.get,zx.prototype.getKeys=zx.prototype.R,zx.prototype.getProperties=zx.prototype.K,zx.prototype.set=zx.prototype.set,zx.prototype.setProperties=zx.prototype.J,zx.prototype.unset=zx.prototype.S,zx.prototype.changed=zx.prototype.u,zx.prototype.dispatchEvent=zx.prototype.b,zx.prototype.getRevision=zx.prototype.M,zx.prototype.on=zx.prototype.I,zx.prototype.once=zx.prototype.once,zx.prototype.un=zx.prototype.L,Fx.prototype.type=Fx.prototype.type,Fx.prototype.target=Fx.prototype.target,Fx.prototype.preventDefault=Fx.prototype.preventDefault,Fx.prototype.stopPropagation=Fx.prototype.stopPropagation,Td.prototype.get=Td.prototype.get,Td.prototype.getKeys=Td.prototype.R,Td.prototype.getProperties=Td.prototype.K,Td.prototype.set=Td.prototype.set,Td.prototype.setProperties=Td.prototype.J,Td.prototype.unset=Td.prototype.S,Td.prototype.changed=Td.prototype.u,Td.prototype.dispatchEvent=Td.prototype.b,Td.prototype.getRevision=Td.prototype.M,Td.prototype.on=Td.prototype.I,Td.prototype.once=Td.prototype.once,Td.prototype.un=Td.prototype.L,C.prototype.getClosestPoint=C.prototype.Fb,C.prototype.intersectsCoordinate=C.prototype.xb,C.prototype.getExtent=C.prototype.G,C.prototype.rotate=C.prototype.rotate,C.prototype.scale=C.prototype.scale,C.prototype.simplify=C.prototype.Sb,C.prototype.transform=C.prototype.transform,C.prototype.get=C.prototype.get,C.prototype.getKeys=C.prototype.R,C.prototype.getProperties=C.prototype.K,C.prototype.set=C.prototype.set,C.prototype.setProperties=C.prototype.J,C.prototype.unset=C.prototype.S,C.prototype.changed=C.prototype.u,C.prototype.dispatchEvent=C.prototype.b,C.prototype.getRevision=C.prototype.M,C.prototype.on=C.prototype.I,C.prototype.once=C.prototype.once,C.prototype.un=C.prototype.L,Sv.prototype.getFirstCoordinate=Sv.prototype.Ub,Sv.prototype.getLastCoordinate=Sv.prototype.hc,Sv.prototype.getLayout=Sv.prototype.ic,Sv.prototype.rotate=Sv.prototype.rotate,Sv.prototype.scale=Sv.prototype.scale,Sv.prototype.getClosestPoint=Sv.prototype.Fb,Sv.prototype.intersectsCoordinate=Sv.prototype.xb,Sv.prototype.getExtent=Sv.prototype.G;Sv.prototype.simplify=Sv.prototype.Sb,Sv.prototype.get=Sv.prototype.get,Sv.prototype.getKeys=Sv.prototype.R,Sv.prototype.getProperties=Sv.prototype.K,Sv.prototype.set=Sv.prototype.set,Sv.prototype.setProperties=Sv.prototype.J,Sv.prototype.unset=Sv.prototype.S,Sv.prototype.changed=Sv.prototype.u,Sv.prototype.dispatchEvent=Sv.prototype.b,Sv.prototype.getRevision=Sv.prototype.M,Sv.prototype.on=Sv.prototype.I,Sv.prototype.once=Sv.prototype.once,Sv.prototype.un=Sv.prototype.L,Rp.prototype.getClosestPoint=Rp.prototype.Fb,Rp.prototype.intersectsCoordinate=Rp.prototype.xb,Rp.prototype.getExtent=Rp.prototype.G,Rp.prototype.rotate=Rp.prototype.rotate,Rp.prototype.scale=Rp.prototype.scale,Rp.prototype.simplify=Rp.prototype.Sb,Rp.prototype.transform=Rp.prototype.transform,Rp.prototype.get=Rp.prototype.get,Rp.prototype.getKeys=Rp.prototype.R,Rp.prototype.getProperties=Rp.prototype.K,Rp.prototype.set=Rp.prototype.set,Rp.prototype.setProperties=Rp.prototype.J,Rp.prototype.unset=Rp.prototype.S,Rp.prototype.changed=Rp.prototype.u,Rp.prototype.dispatchEvent=Rp.prototype.b,Rp.prototype.getRevision=Rp.prototype.M,Rp.prototype.on=Rp.prototype.I,Rp.prototype.once=Rp.prototype.once,Rp.prototype.un=Rp.prototype.L,jm.prototype.getFirstCoordinate=jm.prototype.Ub,jm.prototype.getLastCoordinate=jm.prototype.hc,jm.prototype.getLayout=jm.prototype.ic,jm.prototype.rotate=jm.prototype.rotate,jm.prototype.scale=jm.prototype.scale,jm.prototype.getClosestPoint=jm.prototype.Fb,jm.prototype.intersectsCoordinate=jm.prototype.xb,jm.prototype.getExtent=jm.prototype.G,jm.prototype.simplify=jm.prototype.Sb,jm.prototype.transform=jm.prototype.transform,jm.prototype.get=jm.prototype.get,jm.prototype.getKeys=jm.prototype.R,jm.prototype.getProperties=jm.prototype.K,jm.prototype.set=jm.prototype.set,jm.prototype.setProperties=jm.prototype.J,jm.prototype.unset=jm.prototype.S,jm.prototype.changed=jm.prototype.u,jm.prototype.dispatchEvent=jm.prototype.b,jm.prototype.getRevision=jm.prototype.M,jm.prototype.on=jm.prototype.I,jm.prototype.once=jm.prototype.once,jm.prototype.un=jm.prototype.L,R.prototype.getFirstCoordinate=R.prototype.Ub,R.prototype.getLastCoordinate=R.prototype.hc,R.prototype.getLayout=R.prototype.ic,R.prototype.rotate=R.prototype.rotate,R.prototype.scale=R.prototype.scale,R.prototype.getClosestPoint=R.prototype.Fb,R.prototype.intersectsCoordinate=R.prototype.xb,R.prototype.getExtent=R.prototype.G,R.prototype.simplify=R.prototype.Sb,R.prototype.transform=R.prototype.transform,R.prototype.get=R.prototype.get,R.prototype.getKeys=R.prototype.R,R.prototype.getProperties=R.prototype.K,R.prototype.set=R.prototype.set,R.prototype.setProperties=R.prototype.J,R.prototype.unset=R.prototype.S,R.prototype.changed=R.prototype.u,R.prototype.dispatchEvent=R.prototype.b,R.prototype.getRevision=R.prototype.M,R.prototype.on=R.prototype.I,R.prototype.once=R.prototype.once,R.prototype.un=R.prototype.L,S.prototype.getFirstCoordinate=S.prototype.Ub,S.prototype.getLastCoordinate=S.prototype.hc,S.prototype.getLayout=S.prototype.ic,S.prototype.rotate=S.prototype.rotate,S.prototype.scale=S.prototype.scale,S.prototype.getClosestPoint=S.prototype.Fb,S.prototype.intersectsCoordinate=S.prototype.xb,S.prototype.getExtent=S.prototype.G,S.prototype.simplify=S.prototype.Sb,S.prototype.transform=S.prototype.transform,S.prototype.get=S.prototype.get,S.prototype.getKeys=S.prototype.R,S.prototype.getProperties=S.prototype.K,S.prototype.set=S.prototype.set,S.prototype.setProperties=S.prototype.J,S.prototype.unset=S.prototype.S,S.prototype.changed=S.prototype.u,S.prototype.dispatchEvent=S.prototype.b,S.prototype.getRevision=S.prototype.M,S.prototype.on=S.prototype.I,S.prototype.once=S.prototype.once,S.prototype.un=S.prototype.L,jp.prototype.getFirstCoordinate=jp.prototype.Ub,jp.prototype.getLastCoordinate=jp.prototype.hc,jp.prototype.getLayout=jp.prototype.ic,jp.prototype.rotate=jp.prototype.rotate,jp.prototype.scale=jp.prototype.scale,jp.prototype.getClosestPoint=jp.prototype.Fb,jp.prototype.intersectsCoordinate=jp.prototype.xb,jp.prototype.getExtent=jp.prototype.G,jp.prototype.simplify=jp.prototype.Sb,jp.prototype.transform=jp.prototype.transform,jp.prototype.get=jp.prototype.get,jp.prototype.getKeys=jp.prototype.R,jp.prototype.getProperties=jp.prototype.K,jp.prototype.set=jp.prototype.set,jp.prototype.setProperties=jp.prototype.J,jp.prototype.unset=jp.prototype.S,jp.prototype.changed=jp.prototype.u,jp.prototype.dispatchEvent=jp.prototype.b,jp.prototype.getRevision=jp.prototype.M,jp.prototype.on=jp.prototype.I,jp.prototype.once=jp.prototype.once,jp.prototype.un=jp.prototype.L,T.prototype.getFirstCoordinate=T.prototype.Ub,T.prototype.getLastCoordinate=T.prototype.hc,T.prototype.getLayout=T.prototype.ic,T.prototype.rotate=T.prototype.rotate,T.prototype.scale=T.prototype.scale,T.prototype.getClosestPoint=T.prototype.Fb,T.prototype.intersectsCoordinate=T.prototype.xb,T.prototype.getExtent=T.prototype.G,T.prototype.simplify=T.prototype.Sb,T.prototype.transform=T.prototype.transform,T.prototype.get=T.prototype.get,T.prototype.getKeys=T.prototype.R,T.prototype.getProperties=T.prototype.K,T.prototype.set=T.prototype.set,T.prototype.setProperties=T.prototype.J,T.prototype.unset=T.prototype.S,T.prototype.changed=T.prototype.u,T.prototype.dispatchEvent=T.prototype.b,T.prototype.getRevision=T.prototype.M,T.prototype.on=T.prototype.I,T.prototype.once=T.prototype.once,T.prototype.un=T.prototype.L,H.prototype.getFirstCoordinate=H.prototype.Ub,H.prototype.getLastCoordinate=H.prototype.hc,H.prototype.getLayout=H.prototype.ic,H.prototype.rotate=H.prototype.rotate,H.prototype.scale=H.prototype.scale,H.prototype.getClosestPoint=H.prototype.Fb,H.prototype.intersectsCoordinate=H.prototype.xb,H.prototype.getExtent=H.prototype.G,H.prototype.simplify=H.prototype.Sb,H.prototype.transform=H.prototype.transform,H.prototype.get=H.prototype.get,H.prototype.getKeys=H.prototype.R,H.prototype.getProperties=H.prototype.K,H.prototype.set=H.prototype.set,H.prototype.setProperties=H.prototype.J,H.prototype.unset=H.prototype.S,H.prototype.changed=H.prototype.u,H.prototype.dispatchEvent=H.prototype.b,H.prototype.getRevision=H.prototype.M,H.prototype.on=H.prototype.I,H.prototype.once=H.prototype.once,H.prototype.un=H.prototype.L,I.prototype.getFirstCoordinate=I.prototype.Ub,I.prototype.getLastCoordinate=I.prototype.hc,I.prototype.getLayout=I.prototype.ic,I.prototype.rotate=I.prototype.rotate,I.prototype.scale=I.prototype.scale,I.prototype.getClosestPoint=I.prototype.Fb,I.prototype.intersectsCoordinate=I.prototype.xb,I.prototype.getExtent=I.prototype.G,I.prototype.simplify=I.prototype.Sb,I.prototype.transform=I.prototype.transform,I.prototype.get=I.prototype.get,I.prototype.getKeys=I.prototype.R,I.prototype.getProperties=I.prototype.K,I.prototype.set=I.prototype.set,I.prototype.setProperties=I.prototype.J,I.prototype.unset=I.prototype.S,I.prototype.changed=I.prototype.u,I.prototype.dispatchEvent=I.prototype.b,I.prototype.getRevision=I.prototype.M,I.prototype.on=I.prototype.I,I.prototype.once=I.prototype.once,I.prototype.un=I.prototype.L,pq.prototype.readFeatures=pq.prototype.Ua,yq.prototype.readFeatures=yq.prototype.Ua,pq.prototype.readFeatures=pq.prototype.Ua,Mk.prototype.get=Mk.prototype.get,Mk.prototype.getKeys=Mk.prototype.R,Mk.prototype.getProperties=Mk.prototype.K,Mk.prototype.set=Mk.prototype.set,Mk.prototype.setProperties=Mk.prototype.J,Mk.prototype.unset=Mk.prototype.S,Mk.prototype.changed=Mk.prototype.u,Mk.prototype.dispatchEvent=Mk.prototype.b,Mk.prototype.getRevision=Mk.prototype.M,Mk.prototype.on=Mk.prototype.I,Mk.prototype.once=Mk.prototype.once,Mk.prototype.un=Mk.prototype.L,Nk.prototype.getMap=Nk.prototype.i,Nk.prototype.setMap=Nk.prototype.setMap,Nk.prototype.setTarget=Nk.prototype.c,Nk.prototype.get=Nk.prototype.get,Nk.prototype.getKeys=Nk.prototype.R,Nk.prototype.getProperties=Nk.prototype.K,Nk.prototype.set=Nk.prototype.set,Nk.prototype.setProperties=Nk.prototype.J,Nk.prototype.unset=Nk.prototype.S,Nk.prototype.changed=Nk.prototype.u,Nk.prototype.dispatchEvent=Nk.prototype.b,Nk.prototype.getRevision=Nk.prototype.M,Nk.prototype.on=Nk.prototype.I,Nk.prototype.once=Nk.prototype.once,Nk.prototype.un=Nk.prototype.L,Xk.prototype.getMap=Xk.prototype.i,Xk.prototype.setMap=Xk.prototype.setMap,Xk.prototype.setTarget=Xk.prototype.c,Xk.prototype.get=Xk.prototype.get,Xk.prototype.getKeys=Xk.prototype.R,Xk.prototype.getProperties=Xk.prototype.K,Xk.prototype.set=Xk.prototype.set,Xk.prototype.setProperties=Xk.prototype.J,Xk.prototype.unset=Xk.prototype.S,Xk.prototype.changed=Xk.prototype.u,Xk.prototype.dispatchEvent=Xk.prototype.b,Xk.prototype.getRevision=Xk.prototype.M,Xk.prototype.on=Xk.prototype.I,Xk.prototype.once=Xk.prototype.once,Xk.prototype.un=Xk.prototype.L,bl.prototype.getMap=bl.prototype.i,bl.prototype.setMap=bl.prototype.setMap,bl.prototype.setTarget=bl.prototype.c,bl.prototype.get=bl.prototype.get,bl.prototype.getKeys=bl.prototype.R,bl.prototype.getProperties=bl.prototype.K,bl.prototype.set=bl.prototype.set,bl.prototype.setProperties=bl.prototype.J,bl.prototype.unset=bl.prototype.S,bl.prototype.changed=bl.prototype.u,bl.prototype.dispatchEvent=bl.prototype.b,bl.prototype.getRevision=bl.prototype.M,bl.prototype.on=bl.prototype.I,bl.prototype.once=bl.prototype.once,bl.prototype.un=bl.prototype.L,io.prototype.getMap=io.prototype.i,io.prototype.setMap=io.prototype.setMap,io.prototype.setTarget=io.prototype.c,io.prototype.get=io.prototype.get,io.prototype.getKeys=io.prototype.R,io.prototype.getProperties=io.prototype.K,io.prototype.set=io.prototype.set,io.prototype.setProperties=io.prototype.J,io.prototype.unset=io.prototype.S,io.prototype.changed=io.prototype.u,io.prototype.dispatchEvent=io.prototype.b,io.prototype.getRevision=io.prototype.M,io.prototype.on=io.prototype.I,io.prototype.once=io.prototype.once,io.prototype.un=io.prototype.L,Tk.prototype.getMap=Tk.prototype.i,Tk.prototype.setMap=Tk.prototype.setMap,Tk.prototype.setTarget=Tk.prototype.c,Tk.prototype.get=Tk.prototype.get,Tk.prototype.getKeys=Tk.prototype.R,Tk.prototype.getProperties=Tk.prototype.K,Tk.prototype.set=Tk.prototype.set,Tk.prototype.setProperties=Tk.prototype.J,Tk.prototype.unset=Tk.prototype.S,Tk.prototype.changed=Tk.prototype.u,Tk.prototype.dispatchEvent=Tk.prototype.b,Tk.prototype.getRevision=Tk.prototype.M,Tk.prototype.on=Tk.prototype.I,Tk.prototype.once=Tk.prototype.once,Tk.prototype.un=Tk.prototype.L,no.prototype.getMap=no.prototype.i,no.prototype.setMap=no.prototype.setMap,no.prototype.setTarget=no.prototype.c,no.prototype.get=no.prototype.get,no.prototype.getKeys=no.prototype.R,no.prototype.getProperties=no.prototype.K,no.prototype.set=no.prototype.set,no.prototype.setProperties=no.prototype.J,no.prototype.unset=no.prototype.S,no.prototype.changed=no.prototype.u,no.prototype.dispatchEvent=no.prototype.b,no.prototype.getRevision=no.prototype.M,no.prototype.on=no.prototype.I,no.prototype.once=no.prototype.once,no.prototype.un=no.prototype.L,Vk.prototype.getMap=Vk.prototype.i,Vk.prototype.setMap=Vk.prototype.setMap,Vk.prototype.setTarget=Vk.prototype.c,Vk.prototype.get=Vk.prototype.get,Vk.prototype.getKeys=Vk.prototype.R,Vk.prototype.getProperties=Vk.prototype.K,Vk.prototype.set=Vk.prototype.set,Vk.prototype.setProperties=Vk.prototype.J,Vk.prototype.unset=Vk.prototype.S,Vk.prototype.changed=Vk.prototype.u,Vk.prototype.dispatchEvent=Vk.prototype.b,Vk.prototype.getRevision=Vk.prototype.M,Vk.prototype.on=Vk.prototype.I,Vk.prototype.once=Vk.prototype.once,Vk.prototype.un=Vk.prototype.L,so.prototype.getMap=so.prototype.i,so.prototype.setMap=so.prototype.setMap,so.prototype.setTarget=so.prototype.c,so.prototype.get=so.prototype.get,so.prototype.getKeys=so.prototype.R,so.prototype.getProperties=so.prototype.K,so.prototype.set=so.prototype.set,so.prototype.setProperties=so.prototype.J,so.prototype.unset=so.prototype.S,so.prototype.changed=so.prototype.u,so.prototype.dispatchEvent=so.prototype.b,so.prototype.getRevision=so.prototype.M,so.prototype.on=so.prototype.I,so.prototype.once=so.prototype.once,so.prototype.un=so.prototype.L,xo.prototype.getMap=xo.prototype.i,xo.prototype.setMap=xo.prototype.setMap,xo.prototype.setTarget=xo.prototype.c,xo.prototype.get=xo.prototype.get,xo.prototype.getKeys=xo.prototype.R,xo.prototype.getProperties=xo.prototype.K,xo.prototype.set=xo.prototype.set,xo.prototype.setProperties=xo.prototype.J,xo.prototype.unset=xo.prototype.S,xo.prototype.changed=xo.prototype.u,xo.prototype.dispatchEvent=xo.prototype.b,xo.prototype.getRevision=xo.prototype.M,xo.prototype.on=xo.prototype.I,xo.prototype.once=xo.prototype.once,xo.prototype.un=xo.prototype.L}.call(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.ratingLocales={},e.fn.ratingThemes={};var t,i,l,s,o,c,u,h;t=".rating",i=function(t,a){return null===t||void 0===t||0===t.length||a&&""===e.trim(t)},l=function(e,t){return e?" "+t:""},s=function(e,t){e.removeClass(t).addClass(t)},o=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},c=function(e,t){return parseFloat(e.toFixed(t))},u=function(e,a,n,r){var i=r?a:a.split(" ").join(t+" ")+t;e.off(i).on(i,n)},(h=function(t,a){var n=this;n.$element=e(t),n._init(a)}).prototype={constructor:h,_parseAttr:function(e,t){var l,s,o,c,h=this.$element,d=h.attr("type");if("range"===d||"number"===d){switch(s=t[e]||h.data(e)||h.attr(e),e){case"min":o=0;break;case"max":o=5;break;default:o=.5}l=i(s)?o:s,c=parseFloat(l)}else c=parseFloat(t[e]);return isNaN(c)?o:c},_setDefault:function(e,t){var a=this;i(a[e])&&(a[e]=t)},_listenClick:function(e,t){return e.stopPropagation(),e.preventDefault(),!0!==e.handled&&(t(e),void(e.handled=!0))},_starClick:function(e){var t,a=this;a._listenClick(e,function(e){return!a.inactive&&(t=a._getTouchPosition(e),a._setStars(t),a.$element.trigger("change").trigger("rating.change",[a.$element.val(),a._getCaption()]),void(a.starClicked=!0))})},_starMouseMove:function(e){var t,a,n=this;!n.hoverEnabled||n.inactive||e&&e.isDefaultPrevented()||(n.starClicked=!1,t=n._getTouchPosition(e),a=n.calculate(t),n._toggleHover(a),n.$element.trigger("rating.hover",[a.val,a.caption,"stars"]))},_starMouseLeave:function(e){var t,a=this;!a.hoverEnabled||a.inactive||a.starClicked||e&&e.isDefaultPrevented()||(t=a.cache,a._toggleHover(t),a.$element.trigger("rating.hoverleave",["stars"]))},_clearClick:function(e){var t=this;t._listenClick(e,function(){t.inactive||(t.clear(),t.clearClicked=!0)})},_clearMouseMove:function(e){var t,a,n,r,i=this;!i.hoverEnabled||i.inactive||!i.hoverOnClear||e&&e.isDefaultPrevented()||(i.clearClicked=!1,t='<span class="'+i.clearCaptionClass+'">'+i.clearCaption+"</span>",a=i.clearValue,n=i.getWidthFromValue(a)||0,r={caption:t,width:n,val:a},i._toggleHover(r),i.$element.trigger("rating.hover",[a,t,"clear"]))},_clearMouseLeave:function(e){var t,a=this;!a.hoverEnabled||a.inactive||a.clearClicked||!a.hoverOnClear||e&&e.isDefaultPrevented()||(t=a.cache,a._toggleHover(t),a.$element.trigger("rating.hoverleave",["clear"]))},_resetForm:function(e){var t=this;e&&e.isDefaultPrevented()||t.inactive||t.reset()},_setTouch:function(e,t){var a,n,r,l,s,o,c,u=this;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!u.inactive&&(a=e.originalEvent,n=i(a.touches)?a.changedTouches:a.touches,r=u._getTouchPosition(n[0]),t?(u._setStars(r),u.$element.trigger("change").trigger("rating.change",[u.$element.val(),u._getCaption()]),u.starClicked=!0):(l=u.calculate(r),s=l.val<=u.clearValue?u.fetchCaption(u.clearValue):l.caption,o=u.getWidthFromValue(u.clearValue),c=l.val<=u.clearValue?o+"%":l.width,u._setCaption(s),u.$filledStars.css("width",c)))},_initTouch:function(e){var t=this,a="touchend"===e.type;t._setTouch(e,a)},_initSlider:function(e){var t=this;i(t.$element.val())&&t.$element.val(0),t.initialValue=t.$element.val(),t._setDefault("min",t._parseAttr("min",e)),t._setDefault("max",t._parseAttr("max",e)),t._setDefault("step",t._parseAttr("step",e)),(isNaN(t.min)||i(t.min))&&(t.min=0),(isNaN(t.max)||i(t.max))&&(t.max=5),(isNaN(t.step)||i(t.step)||0===t.step)&&(t.step=.5),t.diff=t.max-t.min},_initHighlight:function(e){var t,a=this,n=a._getCaption();e||(e=a.$element.val()),t=a.getWidthFromValue(e)+"%",a.$filledStars.width(t),a.cache={caption:n,width:t,val:e}},_getContainerCss:function(){var e=this;return"rating-container"+l(e.theme,"theme-"+e.theme)+l(e.rtl,"rating-rtl")+l(e.size,"rating-"+e.size)+l(e.animate,"rating-animate")+l(e.disabled||e.readonly,"rating-disabled")+l(e.containerClass,e.containerClass)},_checkDisabled:function(){var e=this,t=e.$element,a=e.options;e.disabled=void 0===a.disabled?t.attr("disabled")||!1:a.disabled,e.readonly=void 0===a.readonly?t.attr("readonly")||!1:a.readonly,e.inactive=e.disabled||e.readonly,t.attr({disabled:e.disabled,readonly:e.readonly})},_addContent:function(e,t){var a=this,n=a.$container,r="clear"===e;return a.rtl?r?n.append(t):n.prepend(t):r?n.prepend(t):n.append(t)},_generateRating:function(){var t,a,n,r=this,i=r.$element;a=r.$container=e(document.createElement("div")).insertBefore(i),s(a,r._getContainerCss()),r.$rating=t=e(document.createElement("div")).attr("class","rating").appendTo(a).append(r._getStars("empty")).append(r._getStars("filled")),r.$emptyStars=t.find(".empty-stars"),r.$filledStars=t.find(".filled-stars"),r._renderCaption(),r._renderClear(),r._initHighlight(),a.append(i),r.rtl&&(n=Math.max(r.$emptyStars.outerWidth(),r.$filledStars.outerWidth()),r.$emptyStars.width(n))},_getCaption:function(){var e=this;return e.$caption&&e.$caption.length?e.$caption.html():e.defaultCaption},_setCaption:function(e){var t=this;t.$caption&&t.$caption.length&&t.$caption.html(e)},_renderCaption:function(){var t,a=this,n=a.$element.val(),r=a.captionElement?e(a.captionElement):"";if(a.showCaption){if(t=a.fetchCaption(n),r&&r.length)return s(r,"caption"),r.html(t),void(a.$caption=r);a._addContent("caption",'<div class="caption">'+t+"</div>"),a.$caption=a.$container.find(".caption")}},_renderClear:function(){var t,a=this,n=a.clearElement?e(a.clearElement):"";if(a.showClear){if(t=a._getClearClass(),n.length)return s(n,t),n.attr({title:a.clearButtonTitle}).html(a.clearButton),void(a.$clear=n);a._addContent("clear",'<div class="'+t+'" title="'+a.clearButtonTitle+'">'+a.clearButton+"</div>"),a.$clear=a.$container.find("."+a.clearButtonBaseClass)}},_getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},_getTouchPosition:function(e){return(i(e.pageX)?e.originalEvent.touches[0].pageX:e.pageX)-this.$rating.offset().left},_toggleHover:function(e){var t,a,n,r=this;e&&(r.hoverChangeStars&&(t=r.getWidthFromValue(r.clearValue),a=e.val<=r.clearValue?t+"%":e.width,r.$filledStars.css("width",a)),r.hoverChangeCaption&&(n=e.val<=r.clearValue?r.fetchCaption(r.clearValue):e.caption)&&r._setCaption(n+""))},_init:function(t){var a=this,n=a.$element.addClass("hide");return a.options=t,e.each(t,function(e,t){a[e]=t}),(a.rtl||"rtl"===n.attr("dir"))&&(a.rtl=!0,n.attr("dir","rtl")),a.starClicked=!1,a.clearClicked=!1,a._initSlider(t),a._checkDisabled(),a.displayOnly&&(a.inactive=!0,a.showClear=!1,a.showCaption=!1),a._generateRating(),a._listen(),n.removeClass("rating-loading")},_listen:function(){var t=this,a=t.$element,n=a.closest("form"),r=t.$rating,i=t.$clear;return u(r,"touchstart touchmove touchend",e.proxy(t._initTouch,t)),u(r,"click touchstart",e.proxy(t._starClick,t)),u(r,"mousemove",e.proxy(t._starMouseMove,t)),u(r,"mouseleave",e.proxy(t._starMouseLeave,t)),t.showClear&&i.length&&(u(i,"click touchstart",e.proxy(t._clearClick,t)),u(i,"mousemove",e.proxy(t._clearMouseMove,t)),u(i,"mouseleave",e.proxy(t._clearMouseLeave,t))),n.length&&u(n,"reset",e.proxy(t._resetForm,t)),a},_getStars:function(e){var t,a=this,n='<span class="'+e+'-stars">';for(t=1;t<=a.stars;t++)n+='<span class="star">'+a[e+"Star"]+"</span>";return n+"</span>"},_setStars:function(e){var t=this,a=arguments.length?t.calculate(e):t.calculate(),n=t.$element;return n.val(a.val),t.$filledStars.css("width",a.width),t._setCaption(a.caption),t.cache=a,n},showStars:function(e){var t=this,a=parseFloat(e);return t.$element.val(isNaN(a)?t.clearValue:a),t._setStars()},calculate:function(e){var t=this,a=i(t.$element.val())?0:t.$element.val(),n=arguments.length?t.getValueFromPosition(e):a,r=t.fetchCaption(n),l=t.getWidthFromValue(n);return l+="%",{caption:r,width:l,val:n}},getValueFromPosition:function(e){var t,a,n=this,r=o(n.step),i=n.$rating.width();return a=n.diff*e/(i*n.step),a=n.rtl?Math.floor(a):Math.ceil(a),t=c(parseFloat(n.min+a*n.step),r),t=Math.max(Math.min(t,n.max),n.min),n.rtl?n.max-t:t},getWidthFromValue:function(e){var t,a,n=this,r=n.min,i=n.max,l=n.$emptyStars;return!e||r>=e||r===i?0:(a=l.outerWidth(),t=a?l.width()/a:1,e>=i?100:(e-r)*t*100/(i-r))},fetchCaption:function(e){var t,a,n,r,l,s=this,u=parseFloat(e)||s.clearValue,h=s.starCaptions,d=s.starCaptionClasses;return u&&u!==s.clearValue&&(u=c(u,o(s.step))),r="function"==typeof d?d(u):d[u],n="function"==typeof h?h(u):h[u],a=i(n)?s.defaultCaption.replace(/\{rating}/g,u):n,t=i(r)?s.clearCaptionClass:r,l=u===s.clearValue?s.clearCaption:a,'<span class="'+t+'">'+l+"</span>"},destroy:function(){var t=this,a=t.$element;return i(t.$container)||t.$container.before(a).remove(),e.removeData(a.get(0)),a.off("rating").removeClass("hide")},create:function(e){var t=this,a=e||t.options||{};return t.destroy().rating(a)},clear:function(){var e=this,t='<span class="'+e.clearCaptionClass+'">'+e.clearCaption+"</span>";return e.inactive||e._setCaption(t),e.showStars(e.clearValue).trigger("change").trigger("rating.clear")},reset:function(){var e=this;return e.showStars(e.initialValue).trigger("rating.reset")},update:function(e){var t=this;return arguments.length?t.showStars(e):t.$element},refresh:function(t){var a=this,n=a.$element;return t?a.destroy().rating(e.extend(!0,a.options,t)).trigger("rating.refresh"):n}},e.fn.rating=function(t){var a=Array.apply(null,arguments),n=[];switch(a.shift(),this.each(function(){var r,l=e(this),s=l.data("rating"),o="object"==typeof t&&t,c=o.theme||l.data("theme"),u=o.language||l.data("language")||"en",d={},g={};s||(c&&(d=e.fn.ratingThemes[c]||{}),"en"===u||i(e.fn.ratingLocales[u])||(g=e.fn.ratingLocales[u]),r=e.extend(!0,{},e.fn.rating.defaults,d,e.fn.ratingLocales.en,g,o,l.data()),s=new h(this,r),l.data("rating",s)),"string"==typeof t&&n.push(s[t].apply(s,a))}),n.length){case 0:return this;case 1:return void 0===n[0]?this:n[0];default:return n}},e.fn.rating.defaults={theme:"",language:"en",stars:5,filledStar:'<i class="glyphicon glyphicon-star"></i>',emptyStar:'<i class="glyphicon glyphicon-star-empty"></i>',containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0},e.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{},clearButtonTitle:"Clear",clearCaption:"0"},e.fn.rating.Constructor=h,e(document).ready(function(){var t=e("input.rating");t.length&&t.removeClass("rating-loading").addClass("rating-loading").rating()})});var Survey;!function(e){var t=function(){function e(e,t){void 0===t&&(t=null),this.text=t,this.value=e}return e.setData=function(t,n){t.length=0;for(var o=0;o<n.length;o++){var i=n[o],r=new e(null);void 0!==i.value?(r.text=void 0!==i.hasText?i.itemText:i.text,r.value=i.value):r.value=i,t.push(r)}},e.getData=function(e){for(var t=new Array,n=0;n<e.length;n++){var o=e[n];o.hasText?t.push({value:o.value,text:o.text}):t.push(o.value)}return t},e.prototype.getType=function(){return"itemvalue"},Object.defineProperty(e.prototype,"value",{get:function(){return this.itemValue},set:function(t){if(this.itemValue=t,this.itemValue){var n=this.itemValue.toString(),o=n.indexOf(e.Separator);o>-1&&(this.itemValue=n.slice(0,o),this.text=n.slice(o+1))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasText",{get:function(){return!!this.itemText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.hasText?this.itemText:this.value?this.value.toString():null},set:function(e){this.itemText=e},enumerable:!0,configurable:!0}),e.Separator="|",e}();e.ItemValue=t;var n=function(){function e(){}return e.prototype.getType=function(){throw new Error("This method is abstract")},e}();e.Base=n;var o=function(){function e(){}return e.prototype.getText=function(){throw new Error("This method is abstract")},e}();e.SurveyError=o;var i=function(){function e(){}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return null==this.callbacks||0==this.callbacks.length},enumerable:!0,configurable:!0}),e.prototype.fire=function(e,t){if(null!=this.callbacks)for(var n=0;n<this.callbacks.length;n++)this.callbacks[n](e,t)},e.prototype.add=function(e){null==this.callbacks&&(this.callbacks=new Array),this.callbacks.push(e)},e.prototype.remove=function(e){if(null!=this.callbacks){var t=this.callbacks.indexOf(e,0);void 0!=t&&this.callbacks.splice(t,1)}},e}();e.Event=i}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(){function e(e){this.name=e,this.typeValue=null,this.choicesValue=null,this.choicesfunc=null,this.className=null,this.classNamePart=null,this.baseClassName=null,this.defaultValue=null,this.onGetValue=null}return Object.defineProperty(e.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(e){this.typeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue},enumerable:!0,configurable:!0}),e.prototype.isDefaultValue=function(e){return this.defaultValue?this.defaultValue==e:!e},e.prototype.getValue=function(e){return this.onGetValue?this.onGetValue(e):null},Object.defineProperty(e.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t,n){this.onSetValue&&this.onSetValue(e,t,n)},e.prototype.getObjType=function(e){return this.classNamePart?e.replace(this.classNamePart,""):e},e.prototype.getClassName=function(e){return this.classNamePart&&e.indexOf(this.classNamePart)<0?e+this.classNamePart:e},Object.defineProperty(e.prototype,"choices",{get:function(){return null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc():null},enumerable:!0,configurable:!0}),e.prototype.setChoices=function(e,t){this.choicesValue=e,this.choicesfunc=t},e}();e.JsonObjectProperty=t;var n=function(){function e(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=null),this.name=e,this.creator=n,this.parentName=o,this.properties=null,this.requiredProperties=null,this.properties=new Array;for(var i=0;i<t.length;i++){var r=this.createProperty(t[i]);r&&this.properties.push(r)}}return e.prototype.find=function(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null},e.prototype.createProperty=function(n){var o="string"==typeof n?n:n.name;if(o){var i=null,r=o.indexOf(e.typeSymbol);r>-1&&(i=o.substring(r+1),o=o.substring(0,r)),o=this.getPropertyName(o);var s=new t(o);if(i&&(s.type=i),"object"==typeof n){if(n.type&&(s.type=n.type),n.default&&(s.defaultValue=n.default),n.isRequired&&this.makePropertyRequired(s.name),n.choices){var a="function"==typeof n.choices?n.choices:null,u="function"!=typeof n.choices?n.choices:null;s.setChoices(u,a)}n.onGetValue&&(s.onGetValue=n.onGetValue),n.onSetValue&&(s.onSetValue=n.onSetValue),n.className&&(s.className=n.className),n.baseClassName&&(s.baseClassName=n.baseClassName),n.classNamePart&&(s.classNamePart=n.classNamePart)}return s}},e.prototype.getPropertyName=function(t){return 0==t.length||t[0]!=e.requiredSymbol?t:(t=t.slice(1),this.makePropertyRequired(t),t)},e.prototype.makePropertyRequired=function(e){this.requiredProperties||(this.requiredProperties=new Array),this.requiredProperties.push(e)},e.requiredSymbol="!",e.typeSymbol=":",e}();e.JsonMetadataClass=n;var o=function(){function e(){this.classes={},this.childrenClasses={},this.classProperties={},this.classRequiredProperties={}}return e.prototype.addClass=function(e,t,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var r=new n(e,t,o,i);return this.classes[e]=r,i&&(this.childrenClasses[i]||(this.childrenClasses[i]=[]),this.childrenClasses[i].push(r)),r},e.prototype.overrideClassCreatore=function(e,t){var n=this.findClass(e);n&&(n.creator=t)},e.prototype.getProperties=function(e){var t=this.classProperties[e];return t||(t=new Array,this.fillProperties(e,t),this.classProperties[e]=t),t},e.prototype.createClass=function(e){var t=this.findClass(e);return t?t.creator():null},e.prototype.getChildrenClasses=function(e,t){void 0===t&&(t=!1);var n=[];return this.fillChildrenClasses(e,t,n),n},e.prototype.getRequiredProperties=function(e){var t=this.classRequiredProperties[e];return t||(t=new Array,this.fillRequiredProperties(e,t),this.classRequiredProperties[e]=t),t},e.prototype.fillChildrenClasses=function(e,t,n){var o=this.childrenClasses[e];if(o)for(var i=0;i<o.length;i++)t&&!o[i].creator||n.push(o[i]),this.fillChildrenClasses(o[i].name,t,n)},e.prototype.findClass=function(e){return this.classes[e]},e.prototype.fillProperties=function(e,t){var n=this.findClass(e);if(n){n.parentName&&this.fillProperties(n.parentName,t);for(var o=0;o<n.properties.length;o++)this.addProperty(n.properties[o],t,t.length)}},e.prototype.addProperty=function(e,t,n){for(var o=-1,i=0;n>i;i++)if(t[i].name==e.name){o=i;break}0>o?t.push(e):t[o]=e},e.prototype.fillRequiredProperties=function(e,t){var n=this.findClass(e);n&&(n.requiredProperties&&Array.prototype.push.apply(t,n.requiredProperties),n.parentName&&this.fillRequiredProperties(n.parentName,t))},e}();e.JsonMetadata=o;var i=function(){function e(e,t){this.type=e,this.message=t,this.description="",this.at=-1}return e.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},e}();e.JsonError=i;var r=function(e){function t(t,n){e.call(this,"unknownproperty","The property '"+t+"' in class '"+n+"' is unknown."),this.propertyName=t,this.className=n;var o=c.metaData.getProperties(n);if(o){this.description="The list of available properties are: ";for(var i=0;i<o.length;i++)i>0&&(this.description+=", "),this.description+=o[i].name;this.description+="."}}return __extends(t,e),t}(i);e.JsonUnknownPropertyError=r;var s=function(e){function t(t,n,o){e.call(this,n,o),this.baseClassName=t,this.type=n,this.message=o,this.description="The following types are available: ";for(var i=c.metaData.getChildrenClasses(t,!0),r=0;r<i.length;r++)r>0&&(this.description+=", "),this.description+="'"+i[r].name+"'";this.description+="."}return __extends(t,e),t}(i);e.JsonMissingTypeErrorBase=s;var a=function(e){function t(t,n){e.call(this,n,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+t+"'."),this.propertyName=t,this.baseClassName=n}return __extends(t,e),t}(s);e.JsonMissingTypeError=a;var u=function(e){function t(t,n){e.call(this,n,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+t+"'."),this.propertyName=t,this.baseClassName=n}return __extends(t,e),t}(s);e.JsonIncorrectTypeError=u;var l=function(e){function t(t,n){e.call(this,"requiredproperty","The property '"+t+"' is required in class '"+n+"'."),this.propertyName=t,this.className=n}return __extends(t,e),t}(i);e.JsonRequiredPropertyError=l;var c=function(){function e(){this.errors=new Array}return Object.defineProperty(e,"metaData",{get:function(){return e.metaDataValue},enumerable:!0,configurable:!0}),e.prototype.toJsonObject=function(e){return this.toJsonObjectCore(e,null)},e.prototype.toObject=function(t,n){if(t){var o=null;if(n.getType&&(o=e.metaData.getProperties(n.getType())),o)for(var i in t)if(i!=e.typePropertyName)if(i!=e.positionPropertyName){var s=this.findProperty(o,i);s?this.valueToObj(t[i],n,i,s):this.addNewError(new r(i.toString(),n.getType()),t)}else n[i]=t[i]}},e.prototype.toJsonObjectCore=function(t,n){if(!t.getType)return t;var o={};null==n||n.className||(o[e.typePropertyName]=n.getObjType(t.getType()));for(var i=e.metaData.getProperties(t.getType()),r=0;r<i.length;r++)this.valueToJson(t,o,i[r]);return o},e.prototype.valueToJson=function(e,t,n){var o=null;if(o=n.hasToUseGetValue?n.getValue(e):e[n.name],!n.isDefaultValue(o)){if(this.isValueArray(o)){for(var i=[],r=0;r<o.length;r++)i.push(this.toJsonObjectCore(o[r],n));o=i.length>0?i:null}else o=this.toJsonObjectCore(o,n);n.isDefaultValue(o)||(t[n.name]=o)}},e.prototype.valueToObj=function(e,t,n,o){if(null!=e){if(null!=o&&o.hasToUseSetValue)return void o.setValue(t,e,this);if(this.isValueArray(e))return void this.valueToArray(e,t,n,o);var i=this.createNewObj(e,o);i.newObj&&(this.toObject(e,i.newObj),e=i.newObj),i.error||(t[n]=e)}},e.prototype.isValueArray=function(e){return e.constructor.toString().indexOf("Array")>-1},e.prototype.createNewObj=function(t,n){var o={newObj:null,error:null},i=t[e.typePropertyName];return!i&&null!=n&&n.className&&(i=n.className),i=n.getClassName(i),o.newObj=i?e.metaData.createClass(i):null,o.error=this.checkNewObjectOnErrors(o.newObj,t,n,i),o},e.prototype.checkNewObjectOnErrors=function(t,n,o,i){var r=null;if(t){var s=e.metaData.getRequiredProperties(i);if(s)for(var c=0;c<s.length;c++)if(!n[s[c]]){r=new l(s[c],i);break}}else o.baseClassName&&(r=i?new u(o.name,o.baseClassName):new a(o.name,o.baseClassName));return r&&this.addNewError(r,n),r},e.prototype.addNewError=function(t,n){n&&n[e.positionPropertyName]&&(t.at=n[e.positionPropertyName].start),this.errors.push(t)},e.prototype.valueToArray=function(e,t,n,o){this.isValueArray(t[n])||(t[n]=[]);for(var i=0;i<e.length;i++){var r=this.createNewObj(e[i],o);r.newObj?(t[n].push(r.newObj),this.toObject(e[i],r.newObj)):r.error||t[n].push(e[i])}},e.prototype.findProperty=function(e,t){if(!e)return null;for(var n=0;n<e.length;n++)if(e[n].name==t)return e[n];return null},e.typePropertyName="type",e.positionPropertyName="pos",e.metaDataValue=new o,e}();e.JsonObject=c}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(){t.call(this),this.url="",this.path="",this.valueName="",this.titleName="",this.error=null}return __extends(n,t),n.prototype.run=function(){if(this.url&&this.getResultCallback){this.error=null;var e=new XMLHttpRequest;e.open("GET",this.url),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=this;e.onload=function(){200==e.status?t.onLoad(JSON.parse(e.response)):t.onError(e.statusText,e.responseText)},e.send()}},n.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!(this.url||this.path||this.valueName||this.titleName)},enumerable:!0,configurable:!0}),n.prototype.setData=function(e){this.clear(),e.url&&(this.url=e.url),e.path&&(this.path=e.path),e.valueName&&(this.valueName=e.valueName),e.titleName&&(this.titleName=e.titleName)},n.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName=""},n.prototype.onLoad=function(t){var n=[];if((t=this.getResultAfterPath(t))&&t.length)for(var o=0;o<t.length;o++){var i=t[o];if(i){var r=this.getValue(i),s=this.getTitle(i);n.push(new e.ItemValue(r,s))}}else this.error=new e.CustomError(e.surveyLocalization.getString("urlGetChoicesError"));this.getResultCallback(n)},n.prototype.onError=function(t,n){this.error=new e.CustomError(e.surveyLocalization.getString("urlRequestError").format(t,n)),this.getResultCallback([])},n.prototype.getResultAfterPath=function(e){if(!e)return e;if(!this.path)return e;for(var t=this.getPathes(),n=0;n<t.length;n++)if(!(e=e[t[n]]))return null;return e},n.prototype.getPathes=function(){var e=[];return 0==(e=this.path.indexOf(";")>-1?this.path.split(";"):this.path.split(",")).length&&e.push(this.path),e},n.prototype.getValue=function(e){return this.valueName?e[this.valueName]:1>Object.keys(e).length?null:e[Object.keys(e)[0]]},n.prototype.getTitle=function(e){return this.titleName?e[this.titleName]:null},n}(e.Base);e.ChoicesRestfull=t,e.JsonObject.metaData.addClass("choicesByUrl",["url","path","valueName","titleName"],function(){return new t})}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function t(){}return t.prototype.parse=function(e,t){return this.text=e,this.root=t,this.root.clear(),this.at=0,this.length=this.text.length,this.parseText()},t.prototype.toString=function(e){return this.root=e,this.nodeToString(e)},t.prototype.toStringCore=function(e){return e?e.children?this.nodeToString(e):e.left?this.conditionToString(e):"":""},t.prototype.nodeToString=function(e){if(e.isEmpty)return"";for(var t="",n=0;n<e.children.length;n++){var o=this.toStringCore(e.children[n]);o&&(t&&(t+=" "+e.connective+" "),t+=o)}return e!=this.root&&e.children.length>1&&(t="("+t+")"),t},t.prototype.conditionToString=function(e){if(!e.right||!e.operator)return"";var t=e.left;t&&!this.isNumeric(t)&&(t="'"+t+"'");var n=t+" "+this.operationToString(e.operator);if(this.isNoRightOperation(e.operator))return n;var o=e.right;return o&&!this.isNumeric(o)&&(o="'"+o+"'"),n+" "+o},t.prototype.operationToString=function(e){return"equal"==e?"=":"notequal"==e?"!=":"greater"==e?">":"less"==e?"<":"greaterorequal"==e?">=":"lessorequal"==e?"<=":e},t.prototype.isNumeric=function(e){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)},t.prototype.parseText=function(){return this.node=this.root,this.expressionNodes=[],this.expressionNodes.push(this.node),this.readConditions()&&this.at>=this.length},t.prototype.readConditions=function(){var e=this.readCondition();if(!e)return e;var t=this.readConnective();return!t||(this.addConnective(t),this.readConditions())},t.prototype.readCondition=function(){if(!this.readExpression())return!1;var t=this.readString();if(!t)return!1;var n=this.readOperator();if(!n)return!1;var o=new e.Condition;if(o.left=t,o.operator=n,!this.isNoRightOperation(n)){var i=this.readString();if(!i)return!1;o.right=i}return this.addCondition(o),!0},t.prototype.readExpression=function(){if(this.skip(),this.at>=this.length||"("!=this.ch)return!0;this.at++,this.pushExpression();var e=this.readConditions();return e&&(this.skip(),e=")"==this.ch,this.at++,this.popExpression()),e},Object.defineProperty(t.prototype,"ch",{get:function(){return this.text.charAt(this.at)},enumerable:!0,configurable:!0}),t.prototype.skip=function(){for(;this.at<this.length&&this.isSpace(this.ch);)this.at++},t.prototype.isSpace=function(e){return" "==e||"\n"==e||"\t"==e||"\r"==e},t.prototype.isQuotes=function(e){return"'"==e||'"'==e},t.prototype.isOperatorChar=function(e){return">"==e||"<"==e||"="==e||"!"==e},t.prototype.isBrackets=function(e){return"("==e||")"==e},t.prototype.readString=function(){if(this.skip(),this.at>=this.length)return null;var e=this.at,t=this.isQuotes(this.ch);t&&this.at++;for(var n=this.isOperatorChar(this.ch);this.at<this.length&&(t||!this.isSpace(this.ch));){if(this.isQuotes(this.ch)){t&&this.at++;break}if(!t){if(n!=this.isOperatorChar(this.ch))break;if(this.isBrackets(this.ch))break}this.at++}if(this.at<=e)return null;var o=this.text.substr(e,this.at-e);if(o&&o.length>1&&this.isQuotes(o[0])){var i=o.length-1;this.isQuotes(o[o.length-1])&&i--,o=o.substr(1,i)}return o},t.prototype.isNoRightOperation=function(e){return"empty"==e||"notempty"==e},t.prototype.readOperator=function(){var e=this.readString();return e?(">"==(e=e.toLowerCase())&&(e="greater"),"<"==e&&(e="less"),">="!=e&&"=>"!=e||(e="greaterorequal"),"<="!=e&&"=<"!=e||(e="lessorequal"),"="!=e&&"=="!=e||(e="equal"),"<>"!=e&&"!="!=e||(e="notequal"),"contain"==e&&(e="contains"),"notcontain"==e&&(e="notcontains"),e):null},t.prototype.readConnective=function(){var e=this.readString();return e?("&"!=(e=e.toLowerCase())&&"&&"!=e||(e="and"),"|"!=e&&"||"!=e||(e="or"),"and"!=e&&"or"!=e&&(e=null),e):null},t.prototype.pushExpression=function(){var t=new e.ConditionNode;this.expressionNodes.push(t),this.node=t},t.prototype.popExpression=function(){var e=this.expressionNodes.pop();this.node=this.expressionNodes[this.expressionNodes.length-1],this.node.children.push(e)},t.prototype.addCondition=function(e){this.node.children.push(e)},t.prototype.addConnective=function(t){if(this.node.children.length<2)this.node.connective=t;else if(this.node.connective!=t){var n=this.node.connective,o=this.node.children;this.node.clear(),this.node.connective=t;var i=new e.ConditionNode;i.connective=n,i.children=o,this.node.children.push(i);var r=new e.ConditionNode;this.node.children.push(r),this.node=r}},t}();e.ConditionsParser=t}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function e(){this.opValue="equal"}return Object.defineProperty(e,"operators",{get:function(){return null!=e.operatorsValue?e.operatorsValue:e.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||-1==e.indexOf(t)},greater:function(e,t){return e>t},less:function(e,t){return t>e},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return t>=e}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.opValue},set:function(t){t&&(t=t.toLowerCase(),e.operators[t]&&(this.opValue=t))},enumerable:!0,configurable:!0}),e.prototype.perform=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t||(t=this.left),n||(n=this.right),e.operators[this.operator](this.getPureValue(t),this.getPureValue(n))},e.prototype.getPureValue=function(e){if(!e||"string"!=typeof e)return e;e.length>0&&("'"==e[0]||'"'==e[0])&&(e=e.substr(1));var t=e.length;return t>0&&("'"==e[t-1]||'"'==e[t-1])&&(e=e.substr(0,t-1)),e},e.operatorsValue=null,e}();e.Condition=t;var n=function(){function e(){this.connectiveValue="and",this.children=[]}return Object.defineProperty(e.prototype,"connective",{get:function(){return this.connectiveValue},set:function(e){e&&("&"!=(e=e.toLowerCase())&&"&&"!=e||(e="and"),"|"!=e&&"||"!=e||(e="or"),"and"!=e&&"or"!=e||(this.connectiveValue=e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0==this.children.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.children=[],this.connective="and"},e}();e.ConditionNode=n;var o=function(){function t(e){this.root=new n,this.expression=e}return Object.defineProperty(t.prototype,"expression",{get:function(){return this.expressionValue},set:function(t){this.expression!=t&&(this.expressionValue=t,(new e.ConditionsParser).parse(this.expressionValue,this.root))},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.values=e,this.runNode(this.root)},t.prototype.runNode=function(e){for(var t="and"==e.connective,n=0;n<e.children.length;n++){var o=this.runNodeCondition(e.children[n]);if(!o&&t)return!1;if(o&&!t)return!0}return t},t.prototype.runNodeCondition=function(e){return!!e&&(e.children?this.runNode(e):!!e.left&&this.runCondition(e))},t.prototype.runCondition=function(e){var t=e.left,n=this.getValueName(t);if(n){if(!(n in this.values))return!1;t=this.values[n]}var o=e.right;if(n=this.getValueName(o)){if(!(n in this.values))return!1;o=this.values[n]}return e.perform(t,o)},t.prototype.getValueName=function(e){return e?"string"!=typeof e?null:e.length<3||"{"!=e[0]||"}"!=e[e.length-1]?null:e.substr(1,e.length-2):null},t}();e.ConditionRunner=o}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function e(){}return e.prototype.loadSurvey=function(t,n){var o=new XMLHttpRequest;o.open("GET",e.serviceUrl+"/getSurvey?surveyId="+t),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var e=JSON.parse(o.response);n(200==o.status,e,o.response)},o.send()},e.prototype.sendResult=function(t,n,o,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var s=new XMLHttpRequest;s.open("POST",e.serviceUrl+"/post/"),s.setRequestHeader("Content-Type","application/json; charset=utf-8");var a={postId:t,surveyResult:JSON.stringify(n)};i&&(a.clientId=i),r&&(a.isPartialCompleted=!0);var u=JSON.stringify(a);s.onload=s.onerror=function(){o&&o(200==s.status,s.response)},s.send(u)},e.prototype.sendFile=function(t,n,o){var i=new XMLHttpRequest;i.onload=i.onerror=function(){o&&o(200==i.status,JSON.parse(i.response))},i.open("POST",e.serviceUrl+"/upload/",!0);var r=new FormData;r.append("file",n),r.append("postId",t),i.send(r)},e.prototype.getResult=function(t,n,o){var i=new XMLHttpRequest,r="resultId="+t+"&name="+n;i.open("GET",e.serviceUrl+"/getResult?"+r),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onload=function(){var e=null,t=null;if(200==i.status){e=JSON.parse(i.response),t=[];for(var n in e.QuestionResult){var r={name:n,value:e.QuestionResult[n]};t.push(r)}}o(200==i.status,e,t,i.response)},i.send()},e.prototype.isCompleted=function(t,n,o){var i=new XMLHttpRequest,r="resultId="+t+"&clientId="+n;i.open("GET",e.serviceUrl+"/isCompleted?"+r),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onload=function(){var e=null;200==i.status&&(e=JSON.parse(i.response)),o(200==i.status,e,i.response)},i.send()},e.serviceUrl="https://dxsurveyapi.azurewebsites.net/api/Survey",e}();e.dxSurveyService=t}(Survey||(Survey={}));var Survey;!function(e){e.surveyLocalization={currentLocale:"",locales:{},getString:function(t){var n=this.currentLocale?this.locales[this.currentLocale]:e.surveyStrings;return n&&n[t]||(n=e.surveyStrings),n[t]},getLocales:function(){var e=[];e.push("");for(var t in this.locales)e.push(t);return e.sort(),e}},e.surveyStrings={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",otherItemText:"Other (describe)",progressText:"",emptySurvey:"There is no any visible page or visible question in the survey.",completingSurvey:"Thank You for Completing the Survey!",loadingSurvey:"Survey is loading from the server...",optionsCaption:"Choose...",requiredError:"Please answer the question.",numericError:"The value should be a numeric.",textMinLength:"Please enter at least {0} symbols.",minRowCountError:"Please fill at least {0} rows.",minSelectError:"Please select at least {0} variants.",maxSelectError:"Please select not more than {0} variants.",numericMinMax:"The '{0}' should be equal or more than {1} and equal or less than {2}",numericMin:"The '{0}' should be equal or more than {1}",numericMax:"The '{0}' should be equal or less than {1}",invalidEmail:"Please enter a valid e-mail.",urlRequestError:"The request return error '{0}'. {1}",urlGetChoicesError:"The request returns empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Please enter the others value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",addRow:"Add Row",removeRow:"Remove"},e.surveyLocalization.locales.en=e.surveyStrings,String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getText=function(){return e.surveyLocalization.getString("requiredError")},n}(e.SurveyError);e.AnswerRequiredError=t;var n=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getText=function(){return e.surveyLocalization.getString("numericError")},n}(e.SurveyError);e.RequreNumericError=n;var o=function(t){function n(e){t.call(this),this.maxSize=e}return __extends(n,t),n.prototype.getText=function(){return e.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},n.prototype.getTextSize=function(){var e=["Bytes","KB","MB","GB","TB"],t=[0,0,2,3,3];if(0==this.maxSize)return"0 Byte";var n=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,n)).toFixed(t[n])+" "+e[n]},n}(e.SurveyError);e.ExceedSizeError=o;var i=function(e){function t(t){e.call(this),this.text=t}return __extends(t,e),t.prototype.getText=function(){return this.text},t}(e.SurveyError);e.CustomError=i}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this),this.name=e,this.conditionRunner=null,this.visibleIf="",this.visibleValue=!0,this.startWithNewLine=!0,this.visibleIndexValue=-1,this.width="",this.renderWidthValue="",this.rightIndentValue=0,this.indent=0,this.idValue=n.getQuestionId(),this.onCreating()}return __extends(n,t),n.getQuestionId=function(){return"sq_"+n.questionCounter++},Object.defineProperty(n.prototype,"visible",{get:function(){return this.visibleValue},set:function(e){e!=this.visible&&(this.visibleValue=e,this.fireCallback(this.visibilityChangedCallback),this.fireCallback(this.rowVisibilityChangedCallback),this.survey&&this.survey.questionVisibilityChanged(this,this.visible))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleIndex",{get:function(){return this.visibleIndexValue},enumerable:!0,configurable:!0}),n.prototype.hasErrors=function(e){return void 0===e&&(e=!0),!1},Object.defineProperty(n.prototype,"hasTitle",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasComment",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this.idValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderWidth",{get:function(){return this.renderWidthValue},set:function(e){e!=this.renderWidth&&(this.renderWidthValue=e,this.fireCallback(this.renderWidthChangedCallback))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightIndent",{get:function(){return this.rightIndentValue},set:function(e){e!=this.rightIndent&&(this.rightIndentValue=e,this.fireCallback(this.renderWidthChangedCallback))},enumerable:!0,configurable:!0}),n.prototype.focus=function(){var e=document.getElementById(this.id);e&&e.scrollIntoView&&0>e.getBoundingClientRect().top&&(e.scrollIntoView(),this.fireCallback(this.focusCallback))},n.prototype.setData=function(e){this.data=e,this.survey=e&&e.questionAdded?e:null,this.onSetData()},n.prototype.fireCallback=function(e){e&&e()},n.prototype.onSetData=function(){},n.prototype.onCreating=function(){},n.prototype.runCondition=function(t){this.visibleIf&&(this.conditionRunner||(this.conditionRunner=new e.ConditionRunner(this.visibleIf)),this.conditionRunner.expression=this.visibleIf,this.visible=this.conditionRunner.run(t))},n.prototype.onSurveyValueChanged=function(e){},n.prototype.onSurveyLoad=function(){},n.prototype.setVisibleIndex=function(e){this.visibleIndexValue!=e&&(this.visibleIndexValue=e,this.fireCallback(this.visibleIndexChangedCallback))},n.prototype.supportGoNextPageAutomatic=function(){return!1},n.questionCounter=100,n}(e.Base);e.QuestionBase=t,e.JsonObject.metaData.addClass("questionbase",["!name",{name:"visible:boolean",default:!0},"visibleIf:text",{name:"width"},{name:"startWithNewLine:boolean",default:!0},{name:"indent:number",default:0,choices:[0,1,2,3]}])}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function e(){this.creatorHash={}}return e.prototype.registerQuestion=function(e,t){this.creatorHash[e]=t},e.prototype.getAllTypes=function(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()},e.prototype.createQuestion=function(e,t){var n=this.creatorHash[e];return null==n?null:n(t)},e.Instance=new e,e.DefaultChoices=["one","two|second value","three|third value"],e}();e.QuestionFactory=t}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(){function e(e,t){this.page=e,this.question=t,this.visibleValue=!1,this.questions=[];var n=this;this.question.rowVisibilityChangedCallback=function(){n.onRowVisibilityChanged()}}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.visibleValue},set:function(e){e!=this.visible&&(this.visibleValue=e,this.onVisibleChanged())},enumerable:!0,configurable:!0}),e.prototype.updateVisible=function(){this.visible=this.calcVisible(),this.setWidth()},e.prototype.addQuestion=function(e){this.questions.push(e),this.updateVisible()},e.prototype.onVisibleChanged=function(){this.visibilityChangedCallback&&this.visibilityChangedCallback()},e.prototype.setWidth=function(){var e=this.getVisibleCount();if(0!=e)for(var t=0,n=0;n<this.questions.length;n++)this.isQuestionVisible(this.questions[n])&&(this.questions[n].renderWidth=this.question.width?this.question.width:Math.floor(100/e)+"%",this.questions[n].rightIndent=e-1>t?1:0,t++)},e.prototype.onRowVisibilityChanged=function(){this.page.onRowVisibilityChanged(this)},e.prototype.getVisibleCount=function(){for(var e=0,t=0;t<this.questions.length;t++)this.isQuestionVisible(this.questions[t])&&e++;return e},e.prototype.isQuestionVisible=function(e){return this.page.isQuestionVisible(e)},e.prototype.calcVisible=function(){return this.getVisibleCount()>0},e}();e.QuestionRowModel=t;var n=function(n){function o(e){void 0===e&&(e=""),n.call(this),this.name=e,this.rowValues=null,this.conditionRunner=null,this.questions=new Array,this.data=null,this.visibleIf="",this.title="",this.visibleIndex=-1,this.numValue=-1,this.visibleValue=!0;var t=this;this.questions.push=function(e){return null!=t.data&&e.setData(t.data),Array.prototype.push.call(this,e)}}return __extends(o,n),Object.defineProperty(o.prototype,"rows",{get:function(){return this.rowValues=this.buildRows(),this.rowValues},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isActive",{get:function(){return!this.data||this.data.currentPage==this},enumerable:!0,configurable:!0}),o.prototype.isQuestionVisible=function(e){return e.visible||this.isDesignMode},o.prototype.createRow=function(e){return new t(this,e)},Object.defineProperty(o.prototype,"isDesignMode",{get:function(){return this.data&&this.data.isDesignMode},enumerable:!0,configurable:!0}),o.prototype.buildRows=function(){for(var e=new Array,t=-1,n=0;n<this.questions.length;n++){var o=this.questions[n];e.push(this.createRow(o)),o.startWithNewLine?(t=n,e[n].addQuestion(o)):(0>t&&(t=n),e[t].addQuestion(o))}for(n=0;n<e.length;n++)e[n].setWidth();return e},o.prototype.onRowVisibilityChanged=function(e){if(this.isActive&&this.rowValues)for(var t=this.rowValues.indexOf(e),n=t;n>=0;n--)if(this.rowValues[n].questions.indexOf(e.question)>-1){this.rowValues[n].updateVisible();break}},Object.defineProperty(o.prototype,"processedTitle",{get:function(){return null!=this.data?this.data.processText(this.title):this.title},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"num",{get:function(){return this.numValue},set:function(e){this.numValue!=e&&(this.numValue=e,this.onNumChanged(e))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this.visibleValue},set:function(e){e!==this.visible&&(this.visibleValue=e,null!=this.data&&this.data.pageVisibilityChanged(this,this.visible))},enumerable:!0,configurable:!0}),o.prototype.getType=function(){return"page"},Object.defineProperty(o.prototype,"isVisible",{get:function(){if(!this.visible)return!1;for(var e=0;e<this.questions.length;e++)if(this.questions[e].visible)return!0;return!1},enumerable:!0,configurable:!0}),o.prototype.addQuestion=function(e,t){void 0===t&&(t=-1),null!=e&&(0>t||t>=this.questions.length?this.questions.push(e):this.questions.splice(t,0,e),null!=this.data&&(e.setData(this.data),this.data.questionAdded(e,t)))},o.prototype.addNewQuestion=function(t,n){var o=e.QuestionFactory.Instance.createQuestion(t,n);return this.addQuestion(o),o},o.prototype.removeQuestion=function(e){var t=this.questions.indexOf(e);0>t||(this.questions.splice(t,1),null!=this.data&&this.data.questionRemoved(e))},o.prototype.scrollToFirstQuestion=function(){for(var e=0;e<this.questions.length;e++)if(this.questions[e].visible){this.questions[e].focus();break}},o.prototype.hasErrors=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var n=!1,o=null,i=0;i<this.questions.length;i++)this.questions[i].visible&&this.questions[i].hasErrors(e)&&(t&&null==o&&(o=this.questions[i]),n=!0);return o&&o.focus(),n},o.prototype.addQuestionsToList=function(e,t){if(void 0===t&&(t=!1),!t||this.visible)for(var n=0;n<this.questions.length;n++)t&&!this.questions[n].visible||e.push(this.questions[n])},o.prototype.runCondition=function(t){this.visibleIf&&(this.conditionRunner||(this.conditionRunner=new e.ConditionRunner(this.visibleIf)),this.conditionRunner.expression=this.visibleIf,this.visible=this.conditionRunner.run(t))},o.prototype.onNumChanged=function(e){},o}(e.Base);e.PageModel=n,e.JsonObject.metaData.addClass("page",["name",{name:"questions",baseClassName:"question"},{name:"visible:boolean",default:!0},"visibleIf","title"],function(){return new n})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(){return function(e,t){void 0===t&&(t=null),this.value=e,this.error=t}}();e.ValidatorResult=t;var n=function(e){function t(){e.call(this),this.text=""}return __extends(t,e),t.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},t.prototype.getDefaultErrorText=function(e){return""},t.prototype.validate=function(e,t){return void 0===t&&(t=null),null},t}(e.Base);e.SurveyValidator=n;var o=function(){function e(){}return e.prototype.run=function(e){for(var t=0;t<e.validators.length;t++){var n=e.validators[t].validate(e.value,e.getValidatorTitle());if(null!=n){if(n.error)return n.error;n.value&&(e.value=n.value)}}return null},e}();e.ValidatorRunner=o;var i=function(n){function o(e,t){void 0===e&&(e=null),void 0===t&&(t=null),n.call(this),this.minValue=e,this.maxValue=t}return __extends(o,n),o.prototype.getType=function(){return"numericvalidator"},o.prototype.validate=function(n,o){if(void 0===o&&(o=null),!n||!this.isNumber(n))return new t(null,new e.RequreNumericError);var i=new t(parseFloat(n));return this.minValue&&this.minValue>i.value?(i.error=new e.CustomError(this.getErrorText(o)),i):this.maxValue&&this.maxValue<i.value?(i.error=new e.CustomError(this.getErrorText(o)),i):"number"==typeof n?null:i},o.prototype.getDefaultErrorText=function(t){var n=t||"value";return this.minValue&&this.maxValue?e.surveyLocalization.getString("numericMinMax").format(n,this.minValue,this.maxValue):this.minValue?e.surveyLocalization.getString("numericMin").format(n,this.minValue):e.surveyLocalization.getString("numericMax").format(n,this.maxValue)},o.prototype.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o}(n);e.NumericValidator=i;var r=function(n){function o(e){void 0===e&&(e=0),n.call(this),this.minLength=e}return __extends(o,n),o.prototype.getType=function(){return"textvalidator"},o.prototype.validate=function(n,o){return void 0===o&&(o=null),this.minLength<=0?void 0:n.length<this.minLength?new t(null,new e.CustomError(this.getErrorText(o))):null},o.prototype.getDefaultErrorText=function(t){return e.surveyLocalization.getString("textMinLength").format(this.minLength)},o}(n);e.TextValidator=r;var s=function(n){function o(e,t){void 0===e&&(e=null),void 0===t&&(t=null),n.call(this),this.minCount=e,this.maxCount=t}return __extends(o,n),o.prototype.getType=function(){return"answercountvalidator"},o.prototype.validate=function(n,o){if(void 0===o&&(o=null),null==n||n.constructor!=Array)return null;var i=n.length;return this.minCount&&i<this.minCount?new t(null,new e.CustomError(this.getErrorText(e.surveyLocalization.getString("minSelectError").format(this.minCount)))):this.maxCount&&i>this.maxCount?new t(null,new e.CustomError(this.getErrorText(e.surveyLocalization.getString("maxSelectError").format(this.maxCount)))):null},o.prototype.getDefaultErrorText=function(e){return e},o}(n);e.AnswerCountValidator=s;var a=function(n){function o(e){void 0===e&&(e=null),n.call(this),this.regex=e}return __extends(o,n),o.prototype.getType=function(){return"regexvalidator"},o.prototype.validate=function(n,o){return void 0===o&&(o=null),this.regex&&n?new RegExp(this.regex).test(n)?null:new t(n,new e.CustomError(this.getErrorText(o))):null},o}(n);e.RegexValidator=a;var u=function(n){function o(){n.call(this),this.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i}return __extends(o,n),o.prototype.getType=function(){return"emailvalidator"},o.prototype.validate=function(n,o){return void 0===o&&(o=null),n?this.re.test(n)?null:new t(n,new e.CustomError(this.getErrorText(o))):null},o.prototype.getDefaultErrorText=function(t){return e.surveyLocalization.getString("invalidEmail")},o}(n);e.EmailValidator=u,e.JsonObject.metaData.addClass("surveyvalidator",["text"]),e.JsonObject.metaData.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new i},"surveyvalidator"),e.JsonObject.metaData.addClass("textvalidator",["minLength:number"],function(){return new r},"surveyvalidator"),e.JsonObject.metaData.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new s},"surveyvalidator"),e.JsonObject.metaData.addClass("regexvalidator",["regex"],function(){return new a},"surveyvalidator"),e.JsonObject.metaData.addClass("emailvalidator",[],function(){return new u},"surveyvalidator")}(Survey||(Survey={}));var Survey;!function(e){var t=function(){return function(){}}(),n=function(){function e(){}return e.prototype.process=function(e){if(!e)return e;if(!this.onProcess)return e;for(var t=this.getItems(e),n=t.length-1;n>=0;n--){var o=t[n],i=this.getName(e.substring(o.start+1,o.end));if(this.canProcessName(i)&&(!this.onHasValue||this.onHasValue(i))){var r=this.onProcess(i);null==r&&(r=""),e=e.substr(0,o.start)+r+e.substr(o.end+1)}}return e},e.prototype.getItems=function(e){for(var n=[],o=e.length,i=-1,r="",s=0;o>s;s++)if("{"==(r=e[s])&&(i=s),"}"==r){if(i>-1){var a=new t;a.start=i,a.end=s,n.push(a)}i=-1}return n},e.prototype.getName=function(e){return e?e.trim():void 0},e.prototype.canProcessName=function(e){if(!e)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(" "==n||"-"==n||"&"==n)return!1}return!0},e}();e.TextPreProcessor=n}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e),this.name=e,this.titleValue=null,this.isRequiredValue=!1,this.hasCommentValue=!1,this.hasOtherValue=!1,this.commentTextValue="",this.errors=[],this.validators=new Array,this.isValueChangedInSurvey=!1}return __extends(n,t),Object.defineProperty(n.prototype,"hasTitle",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.titleValue?this.titleValue:this.name},set:function(e){this.titleValue=e,this.fireCallback(this.titleChangedCallback)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"processedTitle",{get:function(){return null!=this.survey?this.survey.processText(this.title):this.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullTitle",{get:function(){if(this.survey&&this.survey.questionTitleTemplate){if(!this.textPreProcessor){var t=this;this.textPreProcessor=new e.TextPreProcessor,this.textPreProcessor.onHasValue=function(e){return t.canProcessedTextValues(e.toLowerCase())},this.textPreProcessor.onProcess=function(e){return t.getProcessedTextValue(e)}}return this.textPreProcessor.process(this.survey.questionTitleTemplate)}var n=this.requiredText;n&&(n+=" ");var o=this.no;return o&&(o+=". "),o+n+this.processedTitle},enumerable:!0,configurable:!0}),n.prototype.canProcessedTextValues=function(e){return"no"==e||"title"==e||"require"==e},n.prototype.getProcessedTextValue=function(e){return"no"==e?this.no:"title"==e?this.processedTitle:"require"==e?this.requiredText:null},n.prototype.supportComment=function(){return!1},n.prototype.supportOther=function(){return!1},Object.defineProperty(n.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(e){this.isRequired!=e&&(this.isRequiredValue=e,this.fireCallback(this.titleChangedCallback))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasComment",{get:function(){return this.hasCommentValue},set:function(e){this.supportComment()&&(this.hasCommentValue=e,this.hasComment&&(this.hasOther=!1))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commentText",{get:function(){return this.commentTextValue?this.commentTextValue:e.surveyLocalization.getString("otherItemText")},set:function(e){this.commentTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasOther",{get:function(){return this.hasOtherValue},set:function(e){this.supportOther()&&this.hasOther!=e&&(this.hasOtherValue=e,this.hasOther&&(this.hasComment=!1),this.hasOtherChanged())},enumerable:!0,configurable:!0}),n.prototype.hasOtherChanged=function(){},Object.defineProperty(n.prototype,"no",{get:function(){if(this.visibleIndex<0)return"";var e=1,t=!0,n="";return this.survey&&this.survey.questionStartIndex&&(n=this.survey.questionStartIndex,parseInt(n)?e=parseInt(n):1==n.length&&(t=!1)),t?(this.visibleIndex+e).toString():String.fromCharCode(n.charCodeAt(0)+this.visibleIndex)},enumerable:!0,configurable:!0}),n.prototype.onSetData=function(){t.prototype.onSetData.call(this),this.onSurveyValueChanged(this.value)},Object.defineProperty(n.prototype,"value",{get:function(){return this.valueFromData(this.getValueCore())},set:function(e){this.setNewValue(e),this.fireCallback(this.valueChangedCallback)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"comment",{get:function(){return this.getComment()},set:function(e){this.comment!=e&&(this.setComment(e),this.fireCallback(this.commentChangedCallback))},enumerable:!0,configurable:!0}),n.prototype.getComment=function(){return null!=this.data?this.data.getComment(this.name):this.questionComment},n.prototype.setComment=function(e){this.setNewComment(e)},n.prototype.isEmpty=function(){return null==this.value},n.prototype.hasErrors=function(e){return void 0===e&&(e=!0),this.checkForErrors(e),this.errors.length>0},Object.defineProperty(n.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!0,configurable:!0}),n.prototype.checkForErrors=function(e){var t=this.errors?this.errors.length:0;if(this.errors=[],this.onCheckForErrors(this.errors),0==this.errors.length&&this.value&&(n=this.runValidators())&&this.errors.push(n),this.survey&&0==this.errors.length){var n=this.survey.validateQuestion(this.name);n&&this.errors.push(n)}e&&(t!=this.errors.length||t>0)&&this.fireCallback(this.errorsChangedCallback)},n.prototype.onCheckForErrors=function(t){this.hasRequiredError()&&this.errors.push(new e.AnswerRequiredError)},n.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},n.prototype.runValidators=function(){return(new e.ValidatorRunner).run(this)},n.prototype.setNewValue=function(e){this.setNewValueInData(e),this.onValueChanged()},n.prototype.setNewValueInData=function(e){this.isValueChangedInSurvey||(e=this.valueToData(e),this.setValueCore(e))},n.prototype.getValueCore=function(){return null!=this.data?this.data.getValue(this.name):this.questionValue},n.prototype.setValueCore=function(e){null!=this.data?this.data.setValue(this.name,e):this.questionValue=e},n.prototype.valueFromData=function(e){return e},n.prototype.valueToData=function(e){return e},n.prototype.onValueChanged=function(){},n.prototype.setNewComment=function(e){null!=this.data?this.data.setComment(this.name,e):this.questionComment=e},n.prototype.onSurveyValueChanged=function(e){this.isValueChangedInSurvey=!0,this.value=this.valueFromData(e),this.fireCallback(this.commentChangedCallback),this.isValueChangedInSurvey=!1},n.prototype.getValidatorTitle=function(){return null},n}(e.QuestionBase);e.Question=t,e.JsonObject.metaData.addClass("question",[{name:"title:text",onGetValue:function(e){return e.titleValue}},{name:"commentText",onGetValue:function(e){return e.commentTextValue}},"isRequired:boolean",{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],null,"questionbase")}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.otherItem=new e.ItemValue("other",e.surveyLocalization.getString("otherItemText")),this.choicesFromUrl=null,this.choicesValues=new Array,this.otherErrorText=null,this.storeOthersAsComment=!0,this.choicesOrderValue="none",this.isSettingComment=!1,this.choicesByUrl=this.createRestfull();var o=this;this.choicesByUrl.getResultCallback=function(e){o.onLoadChoicesFromUrl(e)}}return __extends(n,t),Object.defineProperty(n.prototype,"isOtherSelected",{get:function(){return this.getStoreOthersAsComment()?this.getHasOther(this.value):this.getHasOther(this.cachedValue)},enumerable:!0,configurable:!0}),n.prototype.getHasOther=function(e){return e==this.otherItem.value},n.prototype.createRestfull=function(){return new e.ChoicesRestfull},n.prototype.getComment=function(){return this.getStoreOthersAsComment()?t.prototype.getComment.call(this):this.commentValue},n.prototype.setComment=function(e){this.getStoreOthersAsComment()?t.prototype.setComment.call(this,e):this.isSettingComment||e==this.commentValue||(this.isSettingComment=!0,this.commentValue=e,this.isOtherSelected&&this.setNewValueInData(this.cachedValue),this.isSettingComment=!1)},n.prototype.valueFromData=function(e){return this.getStoreOthersAsComment()?t.prototype.valueFromData.call(this,e):(this.cachedValue=this.valueFromDataCore(e),this.cachedValue)},n.prototype.valueToData=function(e){return this.getStoreOthersAsComment()?t.prototype.valueToData.call(this,e):(this.cachedValue=e,this.valueToDataCore(e))},n.prototype.valueFromDataCore=function(e){return this.hasUnknownValue(e)?e==this.otherItem.value?e:(this.comment=e,this.otherItem.value):e},n.prototype.valueToDataCore=function(e){return e==this.otherItem.value&&this.getComment()&&(e=this.getComment()),e},n.prototype.hasUnknownValue=function(e){if(!e)return!1;for(var t=this.activeChoices,n=0;n<t.length;n++)if(t[n].value==e)return!1;return!0},Object.defineProperty(n.prototype,"choices",{get:function(){return this.choicesValues},set:function(t){e.ItemValue.setData(this.choicesValues,t),this.fireCallback(this.choicesChangedCallback)},enumerable:!0,configurable:!0}),n.prototype.hasOtherChanged=function(){this.fireCallback(this.choicesChangedCallback)},Object.defineProperty(n.prototype,"choicesOrder",{get:function(){return this.choicesOrderValue},set:function(e){e!=this.choicesOrderValue&&(this.choicesOrderValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"otherText",{get:function(){return this.otherItem.text},set:function(e){this.otherItem.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleChoices",{get:function(){if(!this.hasOther&&"none"==this.choicesOrder)return this.activeChoices;var e=this.sortVisibleChoices(this.activeChoices.slice());return this.hasOther&&e.push(this.otherItem),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeChoices",{get:function(){return this.choicesFromUrl?this.choicesFromUrl:this.choices},enumerable:!0,configurable:!0}),n.prototype.supportComment=function(){return!0},n.prototype.supportOther=function(){return!0},n.prototype.onCheckForErrors=function(n){if(t.prototype.onCheckForErrors.call(this,n),this.isOtherSelected&&!this.comment){var o=this.otherErrorText;o||(o=e.surveyLocalization.getString("otherRequiredError")),n.push(new e.CustomError(o))}},n.prototype.getStoreOthersAsComment=function(){return this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)},n.prototype.onSurveyLoad=function(){this.choicesByUrl&&this.choicesByUrl.run()},n.prototype.onLoadChoicesFromUrl=function(t){var n=this.errors.length;this.errors=[],this.choicesByUrl&&this.choicesByUrl.error&&this.errors.push(this.choicesByUrl.error),(n>0||this.errors.length>0)&&this.fireCallback(this.errorsChangedCallback);var o=null;t&&t.length>0&&(o=new Array,e.ItemValue.setData(o,t)),this.choicesFromUrl=o,this.fireCallback(this.choicesChangedCallback)},n.prototype.sortVisibleChoices=function(e){var t=this.choicesOrder.toLowerCase();return"asc"==t?this.sortArray(e,1):"desc"==t?this.sortArray(e,-1):"random"==t?this.randomizeArray(e):e},n.prototype.sortArray=function(e,t){return e.sort(function(e,n){return e.text<n.text?-1*t:e.text>n.text?1*t:0})},n.prototype.randomizeArray=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e},n}(e.Question);e.QuestionSelectBase=t;var n=function(e){function t(t){e.call(this,t),this.name=t,this.colCountValue=1}return __extends(t,e),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.colCountValue},set:function(e){0>e||e>4||(this.colCountValue=e,this.fireCallback(this.colCountChangedCallback))},enumerable:!0,configurable:!0}),t}(t);e.QuestionCheckboxBase=n,e.JsonObject.metaData.addClass("selectbase",["hasComment:boolean","hasOther:boolean",{name:"choices:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.choices)},onSetValue:function(e,t){e.choices=t}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"]},{name:"choicesByUrl:restfull",className:"ChoicesRestfull",onGetValue:function(e){return e.choicesByUrl.isEmpty?null:e.choicesByUrl},onSetValue:function(e,t){e.choicesByUrl.setData(t)}},{name:"otherText",default:e.surveyLocalization.getString("otherItemText")},"otherErrorText",{name:"storeOthersAsComment:boolean",default:!0}],null,"question"),e.JsonObject.metaData.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4]}],null,"selectbase")}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.name=t}return __extends(t,e),t.prototype.getHasOther=function(e){return!!e&&e.indexOf(this.otherItem.value)>=0},t.prototype.valueFromDataCore=function(e){if(!e||!e.length)return e;for(var t=0;t<e.length;t++){if(e[t]==this.otherItem.value)return e;if(this.hasUnknownValue(e[t])){this.comment=e[t];var n=e.slice();return n[t]=this.otherItem.value,n}}return e},t.prototype.valueToDataCore=function(e){if(!e||!e.length)return e;for(var t=0;t<e.length;t++)if(e[t]==this.otherItem.value&&this.getComment()){var n=e.slice();return n[t]=this.getComment(),n}return e},t.prototype.getType=function(){return"checkbox"},t}(e.QuestionCheckboxBase);e.QuestionCheckboxModel=t,e.JsonObject.metaData.addClass("checkbox",[],function(){return new t("")},"checkboxbase"),e.QuestionFactory.Instance.registerQuestion("checkbox",function(n){var o=new t(n);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.name=t,this.rows=4,this.cols=50}return __extends(t,e),t.prototype.getType=function(){return"comment"},t.prototype.isEmpty=function(){return e.prototype.isEmpty.call(this)||""==this.value},t}(e.Question);e.QuestionCommentModel=t,e.JsonObject.metaData.addClass("comment",[{name:"cols:number",default:50},{name:"rows:number",default:4}],function(){return new t("")},"question"),e.QuestionFactory.Instance.registerQuestion("comment",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e),this.name=e}return __extends(n,t),Object.defineProperty(n.prototype,"optionsCaption",{get:function(){return this.optionsCaptionValue?this.optionsCaptionValue:e.surveyLocalization.getString("optionsCaption")},set:function(e){this.optionsCaptionValue=e},enumerable:!0,configurable:!0}),n.prototype.getType=function(){return"dropdown"},n.prototype.supportGoNextPageAutomatic=function(){return!0},n}(e.QuestionSelectBase);e.QuestionDropdownModel=t,e.JsonObject.metaData.addClass("dropdown",[{name:"optionsCaption",onGetValue:function(e){return e.optionsCaptionValue}}],function(){return new t("")},"selectbase"),e.QuestionFactory.Instance.registerQuestion("dropdown",function(n){var o=new t(n);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e),this.name=e,this.showPreviewValue=!1,this.isUploading=!1}return __extends(n,t),n.prototype.getType=function(){return"file"},Object.defineProperty(n.prototype,"showPreview",{get:function(){return this.showPreviewValue},set:function(e){this.showPreviewValue=e},enumerable:!0,configurable:!0}),n.prototype.loadFile=function(e){var t=this;this.survey&&!this.survey.uploadFile(this.name,e,this.storeDataAsText,function(e){t.isUploading="uploading"==e})||this.setFileValue(e)},n.prototype.setFileValue=function(e){if(FileReader&&(this.showPreview||this.storeDataAsText)&&!this.checkFileForErrors(e)){var t=new FileReader,n=this;t.onload=function(o){n.showPreview&&(n.previewValue=n.isFileImage(e)?t.result:null,n.fireCallback(n.previewValueLoadedCallback)),n.storeDataAsText&&(n.value=t.result)},t.readAsDataURL(e)}},n.prototype.onCheckForErrors=function(n){t.prototype.onCheckForErrors.call(this,n),this.isUploading&&this.errors.push(new e.CustomError(e.surveyLocalization.getString("uploadingFile")))},n.prototype.checkFileForErrors=function(t){var n=this.errors?this.errors.length:0;return this.errors=[],this.maxSize>0&&t.size>this.maxSize&&this.errors.push(new e.ExceedSizeError(this.maxSize)),(n!=this.errors.length||this.errors.length>0)&&this.fireCallback(this.errorsChangedCallback),this.errors.length>0},n.prototype.isFileImage=function(e){if(e&&e.type)return 0==e.type.toLowerCase().indexOf("image")},n}(e.Question);e.QuestionFileModel=t,e.JsonObject.metaData.addClass("file",["showPreview:boolean","imageHeight","imageWidth","storeDataAsText:boolean","maxSize:number"],function(){return new t("")},"question"),e.QuestionFactory.Instance.registerQuestion("file",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.name=t}return __extends(t,e),t.prototype.getType=function(){return"html"},Object.defineProperty(t.prototype,"html",{get:function(){return this.htmlValue},set:function(e){this.htmlValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processedHtml",{get:function(){return this.survey?this.survey.processHtml(this.html):this.html},enumerable:!0,configurable:!0}),t}(e.QuestionBase);e.QuestionHtmlModel=t,e.JsonObject.metaData.addClass("html",["html:html"],function(){return new t("")},"questionbase"),e.QuestionFactory.Instance.registerQuestion("html",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n,o,i,r){e.call(this),this.name=t,this.text=n,this.fullName=o,this.data=i,this.rowValue=r}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.rowValue},set:function(e){this.rowValue=e,this.data&&this.data.onMatrixRowChanged(this),this.onValueChanged()},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(){},t}(e.Base);e.MatrixRowModel=t;var n=function(n){function o(e){n.call(this,e),this.name=e,this.columnsValue=[],this.rowsValue=[],this.isRowChanging=!1}return __extends(o,n),o.prototype.getType=function(){return"matrix"},Object.defineProperty(o.prototype,"hasRows",{get:function(){return this.rowsValue.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columns",{get:function(){return this.columnsValue},set:function(t){e.ItemValue.setData(this.columnsValue,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rows",{get:function(){return this.rowsValue},set:function(t){e.ItemValue.setData(this.rowsValue,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"visibleRows",{get:function(){var e=new Array,t=this.value;t||(t={});for(var n=0;n<this.rows.length;n++)this.rows[n].value&&e.push(this.createMatrixRow(this.rows[n].value,this.rows[n].text,this.name+"_"+this.rows[n].value.toString(),t[this.rows[n].value]));return 0==e.length&&e.push(this.createMatrixRow(null,"",this.name,t)),this.generatedVisibleRows=e,e},enumerable:!0,configurable:!0}),o.prototype.createMatrixRow=function(e,n,o,i){return new t(e,n,o,this,i)},o.prototype.onValueChanged=function(){if(!this.isRowChanging&&this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var e=this.value;if(e||(e={}),0==this.rows.length)this.generatedVisibleRows[0].value=e;else for(var t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t],o=e[n.name]?e[n.name]:null;this.generatedVisibleRows[t].value=o}this.isRowChanging=!1}},o.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var t=this.value;t||(t={}),t[e.name]=e.value,this.setNewValue(t)}else this.setNewValue(e.value);this.isRowChanging=!1}},o}(e.Question);e.QuestionMatrixModel=n,e.JsonObject.metaData.addClass("matrix",[{name:"columns:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.columns)},onSetValue:function(e,t){e.columns=t}},{name:"rows:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.rows)},onSetValue:function(e,t){e.rows=t}}],function(){return new n("")},"question"),e.QuestionFactory.Instance.registerQuestion("matrix",function(e){var t=new n(e);return t.rows=["Row 1","Row 2"],t.columns=["Column 1","Column 2","Column 3"],t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.name=t}return __extends(t,e),t.prototype.getType=function(){return"radiogroup"},t.prototype.supportGoNextPageAutomatic=function(){return!0},t}(e.QuestionCheckboxBase);e.QuestionRadiogroupModel=t,e.JsonObject.metaData.addClass("radiogroup",[],function(){return new t("")},"checkboxbase"),e.QuestionFactory.Instance.registerQuestion("radiogroup",function(n){var o=new t(n);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.name=t,this.size=25}return __extends(t,e),t.prototype.getType=function(){return"text"},t.prototype.isEmpty=function(){return e.prototype.isEmpty.call(this)||""==this.value},t.prototype.supportGoNextPageAutomatic=function(){return!0},t}(e.Question);e.QuestionTextModel=t,e.JsonObject.metaData.addClass("text",[{name:"size:number",default:25}],function(){return new t("")},"question"),e.QuestionFactory.Instance.registerQuestion("text",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e,n){void 0===n&&(n=null),t.call(this),this.name=e,this.choicesValue=[],this.isRequired=!1,this.hasOther=!1,this.minWidth="",this.cellType="default",this.colCountValue=-1}return __extends(n,t),n.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(n.prototype,"title",{get:function(){return this.titleValue?this.titleValue:this.name},set:function(e){this.titleValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"choices",{get:function(){return this.choicesValue},set:function(t){e.ItemValue.setData(this.choicesValue,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colCount",{get:function(){return this.colCountValue},set:function(e){-1>e||e>4||(this.colCountValue=e)},enumerable:!0,configurable:!0}),n}(e.Base);e.MatrixDropdownColumn=t;var n=function(){function e(e,t,n){this.column=e,this.row=t,this.questionValue=n.createQuestion(this.row,this.column),this.questionValue.setData(t)}return Object.defineProperty(e.prototype,"question",{get:function(){return this.questionValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.question.value},set:function(e){this.question.value=e},enumerable:!0,configurable:!0}),e}();e.MatrixDropdownCell=n;var o=function(){function e(e,t){this.rowValues={},this.rowComments={},this.isSettingValue=!1,this.cells=[],this.data=e,this.value=t,this.buildCells()}return Object.defineProperty(e.prototype,"rowName",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.rowValues},set:function(e){if(this.isSettingValue=!0,this.rowValues={},null!=e)for(var t in e)this.rowValues[t]=e[t];for(var n=0;n<this.cells.length;n++)this.cells[n].question.onSurveyValueChanged(this.getValue(this.cells[n].column.name));this.isSettingValue=!1},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){return this.rowValues[e]},e.prototype.setValue=function(e,t){this.isSettingValue||(""===t&&(t=null),null!=t?this.rowValues[e]=t:delete this.rowValues[e],this.data.onRowChanged(this,this.value))},e.prototype.getComment=function(e){return this.rowComments[e]},e.prototype.setComment=function(e,t){this.rowComments[e]=t},Object.defineProperty(e.prototype,"isEmpty",{get:function(){var e=this.value;if(!e)return!0;for(var t in e)return!1;return!0},enumerable:!0,configurable:!0}),e.prototype.buildCells=function(){for(var e=this.data.columns,t=0;t<e.length;t++){var n=e[t];this.cells.push(this.createCell(n))}},e.prototype.createCell=function(e){return new n(e,this,this.data)},e}();e.MatrixDropdownRowModelBase=o;var i=function(n){function o(e){n.call(this,e),this.name=e,this.columnsValue=[],this.choicesValue=[],this.isRowChanging=!1,this.cellTypeValue="dropdown",this.columnColCountValue=0,this.columnMinWidth="",this.horizontalScroll=!1}return __extends(o,n),o.prototype.getType=function(){return"matrixdropdownbase"},Object.defineProperty(o.prototype,"columns",{get:function(){return this.columnsValue},set:function(e){this.columnsValue=e,this.fireCallback(this.columnsChangedCallback)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"cellType",{get:function(){return this.cellTypeValue},set:function(e){this.cellType!=e&&(this.cellTypeValue=e,this.fireCallback(this.updateCellsCallbak))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnColCount",{get:function(){return this.columnColCountValue},set:function(e){0>e||e>4||(this.columnColCountValue=e,this.fireCallback(this.updateCellsCallbak))},enumerable:!0,configurable:!0}),o.prototype.getColumnTitle=function(e){var t=e.title;if(e.isRequired&&this.survey){var n=this.survey.requiredText;n&&(n+=" "),t=n+t}return t},o.prototype.getColumnWidth=function(e){return e.minWidth?e.minWidth:this.columnMinWidth},Object.defineProperty(o.prototype,"choices",{get:function(){return this.choicesValue},set:function(t){e.ItemValue.setData(this.choicesValue,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"optionsCaption",{get:function(){return this.optionsCaptionValue?this.optionsCaptionValue:e.surveyLocalization.getString("optionsCaption")},set:function(e){this.optionsCaptionValue=e},enumerable:!0,configurable:!0}),o.prototype.addColumn=function(e,n){void 0===n&&(n=null);var o=new t(e,n);return this.columnsValue.push(o),o},Object.defineProperty(o.prototype,"visibleRows",{get:function(){return this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows},enumerable:!0,configurable:!0}),o.prototype.generateRows=function(){return null},o.prototype.createMatrixRow=function(e,t,n){return null},o.prototype.createNewValue=function(e){return e||{}},o.prototype.getRowValue=function(e,t,n){void 0===n&&(n=!1);var o=t[e.rowName]?t[e.rowName]:null;return!o&&n&&(o={},t[e.rowName]=o),o},o.prototype.onValueChanged=function(){if(!this.isRowChanging&&this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;for(var e=this.createNewValue(this.value),t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValue(n,e)}this.isRowChanging=!1}},o.prototype.hasErrors=function(e){void 0===e&&(e=!0);var t=this.hasErrorInColumns(e);return n.prototype.hasErrors.call(this,e)||t},o.prototype.hasErrorInColumns=function(e){if(!this.generatedVisibleRows)return!1;for(var t=!1,n=0;n<this.columns.length;n++)for(var o=0;o<this.generatedVisibleRows.length;o++){var i=this.generatedVisibleRows[o].cells;t=i&&i[n]&&i[n].question&&i[n].question.hasErrors(e)||t}return t},o.prototype.createQuestion=function(t,n){var o=this.createQuestionCore(t,n);return o.name=n.name,o.isRequired=n.isRequired,o.hasOther=n.hasOther,n.hasOther&&o instanceof e.QuestionSelectBase&&(o.storeOthersAsComment=!1),o},o.prototype.createQuestionCore=function(e,t){var n="default"==t.cellType?this.cellType:t.cellType,o=this.getQuestionName(e,t);return"checkbox"==n?this.createCheckbox(o,t):"radiogroup"==n?this.createRadiogroup(o,t):"text"==n?this.createText(o,t):"comment"==n?this.createComment(o,t):this.createDropdown(o,t)},o.prototype.getQuestionName=function(e,t){return e.rowName+"_"+t.name},o.prototype.getColumnChoices=function(e){return e.choices&&e.choices.length>0?e.choices:this.choices},o.prototype.getColumnOptionsCaption=function(e){return e.optionsCaption?e.optionsCaption:this.optionsCaption},o.prototype.createDropdown=function(e,t){var n=this.createCellQuestion("dropdown",e);return n.choices=this.getColumnChoices(t),n.optionsCaption=this.getColumnOptionsCaption(t),n},o.prototype.createCheckbox=function(e,t){var n=this.createCellQuestion("checkbox",e);return n.choices=this.getColumnChoices(t),n.colCount=t.colCount>-1?t.colCount:this.columnColCount,n},o.prototype.createRadiogroup=function(e,t){var n=this.createCellQuestion("radiogroup",e);return n.choices=this.getColumnChoices(t),n.colCount=t.colCount>-1?t.colCount:this.columnColCount,n},o.prototype.createText=function(e,t){return this.createCellQuestion("text",e)},o.prototype.createComment=function(e,t){return this.createCellQuestion("comment",e)},o.prototype.createCellQuestion=function(t,n){return e.QuestionFactory.Instance.createQuestion(t,n)},o.prototype.deleteRowValue=function(e,t){return delete e[t.rowName],0==Object.keys(e).length?null:e},o.prototype.onRowChanged=function(e,t){var n=this.createNewValue(this.value),o=this.getRowValue(e,n,!0);for(var i in o)delete o[i];if(t){t=JSON.parse(JSON.stringify(t));for(var i in t)o[i]=t[i]}0==Object.keys(o).length&&(n=this.deleteRowValue(n,e)),this.isRowChanging=!0,this.setNewValue(n),this.isRowChanging=!1},o}(e.Question);e.QuestionMatrixDropdownModelBase=i,e.JsonObject.metaData.addClass("matrixdropdowncolumn",["name",{name:"title",onGetValue:function(e){return e.titleValue}},{name:"choices:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.choices)},onSetValue:function(e,t){e.choices=t}},"optionsCaption",{name:"cellType",default:"default",choices:["default","dropdown","checkbox","radiogroup","text","comment"]},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","hasOther:boolean","minWidth"],function(){return new t("")}),e.JsonObject.metaData.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},"horizontalScroll:boolean",{name:"choices:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.choices)},onSetValue:function(e,t){e.choices=t}},{name:"optionsCaption",onGetValue:function(e){return e.optionsCaptionValue}},{name:"cellType",default:"dropdown",choices:["dropdown","checkbox","radiogroup","text","comment"]},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth"],function(){return new i("")},"question")}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n,o,i){e.call(this,o,i),this.name=t,this.text=n}return __extends(t,e),Object.defineProperty(t.prototype,"rowName",{get:function(){return this.name},enumerable:!0,configurable:!0}),t}(e.MatrixDropdownRowModelBase);e.MatrixDropdownRowModel=t;var n=function(n){function o(e){n.call(this,e),this.name=e,this.rowsValue=[]}return __extends(o,n),o.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(o.prototype,"rows",{get:function(){return this.rowsValue},set:function(t){e.ItemValue.setData(this.rowsValue,t)},enumerable:!0,configurable:!0}),o.prototype.generateRows=function(){var e=new Array;if(!this.rows||0===this.rows.length)return e;var t=this.value;t||(t={});for(var n=0;n<this.rows.length;n++)this.rows[n].value&&e.push(this.createMatrixRow(this.rows[n].value,this.rows[n].text,t[this.rows[n].value]));return e},o.prototype.createMatrixRow=function(e,n,o){return new t(e,n,this,o)},o}(e.QuestionMatrixDropdownModelBase);e.QuestionMatrixDropdownModel=n,e.JsonObject.metaData.addClass("matrixdropdown",[{name:"rows:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.rows)},onSetValue:function(e,t){e.rows=t}}],function(){return new n("")},"matrixdropdownbase"),e.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(e){var t=new n(e);return t.choices=[1,2,3,4,5],t.rows=["Row 1","Row 2"],t.addColumn("Column 1"),t.addColumn("Column 2"),t.addColumn("Column 3"),t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n,o){e.call(this,n,o),this.index=t}return __extends(t,e),Object.defineProperty(t.prototype,"rowName",{get:function(){return"row"+this.index},enumerable:!0,configurable:!0}),t}(e.MatrixDropdownRowModelBase);e.MatrixDynamicRowModel=t;var n=function(n){function o(e){n.call(this,e),this.name=e,this.rowCounter=0,this.rowCountValue=2,this.addRowTextValue=null,this.removeRowTextValue=null,this.minRowCount=0}return __extends(o,n),o.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(o.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(!(0>e||e>o.MaxRowCount)){if(this.rowCountValue=e,this.value&&this.value.length>e){var t=this.value;t.splice(e),this.value=t}this.fireCallback(this.rowCountChangedCallback)}},enumerable:!0,configurable:!0}),o.prototype.addRow=function(){this.generatedVisibleRows&&this.generatedVisibleRows.push(this.createMatrixRow(null)),this.rowCount++},o.prototype.removeRow=function(e){if(!(0>e||e>=this.rowCount)){if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.value){var t=this.createNewValue(this.value);t.splice(e,1),t=this.deleteRowValue(t,null),this.value=t}this.rowCount--}},Object.defineProperty(o.prototype,"addRowText",{get:function(){return this.addRowTextValue?this.addRowTextValue:e.surveyLocalization.getString("addRow")},set:function(e){this.addRowTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"removeRowText",{get:function(){return this.removeRowTextValue?this.removeRowTextValue:e.surveyLocalization.getString("removeRow")},set:function(e){this.removeRowTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"cachedVisibleRows",{get:function(){return this.generatedVisibleRows&&this.generatedVisibleRows.length==this.rowCount?this.generatedVisibleRows:this.visibleRows},enumerable:!0,configurable:!0}),o.prototype.onCheckForErrors=function(t){n.prototype.onCheckForErrors.call(this,t),this.hasErrorInRows()&&t.push(new e.CustomError(e.surveyLocalization.getString("minRowCountError").format(this.minRowCount)))},o.prototype.hasErrorInRows=function(){if(this.minRowCount<=0||!this.generatedVisibleRows)return!1;for(var e=0,t=0;t<this.generatedVisibleRows.length;t++)this.generatedVisibleRows[t].isEmpty||e++;return e<this.minRowCount},o.prototype.generateRows=function(){var e=new Array;if(0===this.rowCount)return e;for(var t=this.createNewValue(this.value),n=0;n<this.rowCount;n++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,n)));return e},o.prototype.createMatrixRow=function(e){return new t(this.rowCounter++,this,e)},o.prototype.createNewValue=function(e){var t=e;t||(t=[]),t.length>this.rowCount&&t.splice(this.rowCount-1);for(var n=t.length;n<this.rowCount;n++)t.push({});return t},o.prototype.deleteRowValue=function(e,t){for(var n=!0,o=0;o<e.length;o++)if(Object.keys(e[o]).length>0){n=!1;break}return n?null:e},o.prototype.getRowValueByIndex=function(e,t){return t>=0&&t<e.length?e[t]:null},o.prototype.getRowValue=function(e,t,n){return void 0===n&&(n=!1),this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e))},o.MaxRowCount=100,o}(e.QuestionMatrixDropdownModelBase);e.QuestionMatrixDynamicModel=n,e.JsonObject.metaData.addClass("matrixdynamic",[{name:"rowCount:number",default:2},{name:"minRowCount:number",default:0},{name:"addRowText",onGetValue:function(e){return e.addRowTextValue}},{name:"removeRowText",onGetValue:function(e){return e.removeRowTextValue}}],function(){return new n("")},"matrixdropdownbase"),e.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(e){var t=new n(e);return t.choices=[1,2,3,4,5],t.addColumn("Column 1"),t.addColumn("Column 2"),t.addColumn("Column 3"),t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this),this.name=t,this.validators=new Array,this.title=n}return __extends(t,e),t.prototype.getType=function(){return"multipletextitem"},t.prototype.setData=function(e){this.data=e},Object.defineProperty(t.prototype,"title",{get:function(){return this.titleValue?this.titleValue:this.name},set:function(e){this.titleValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){null!=this.data&&this.data.setMultipleTextValue(this.name,e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){},t.prototype.getValidatorTitle=function(){return this.title},t}(e.Base);e.MultipleTextItemModel=t;var n=function(n){function o(e){n.call(this,e),this.name=e,this.colCountValue=1,this.itemSize=25,this.itemsValues=new Array,this.isMultipleItemValueChanging=!1;var t=this;this.items.push=function(e){e.setData(t);var n=Array.prototype.push.call(this,e);return t.fireCallback(t.colCountChangedCallback),n}}return __extends(o,n),o.prototype.getType=function(){return"multipletext"},Object.defineProperty(o.prototype,"items",{get:function(){return this.itemsValues},set:function(e){this.itemsValues=e,this.fireCallback(this.colCountChangedCallback)},enumerable:!0,configurable:!0}),o.prototype.AddItem=function(e,t){void 0===t&&(t=null);var n=this.createTextItem(e,t);return this.items.push(n),n},Object.defineProperty(o.prototype,"colCount",{get:function(){return this.colCountValue},set:function(e){1>e||e>4||(this.colCountValue=e,this.fireCallback(this.colCountChangedCallback))},enumerable:!0,configurable:!0}),o.prototype.getRows=function(){for(var e=this.colCount,t=this.items,n=[],o=0,i=0;i<t.length;i++)0==o&&n.push([]),n[n.length-1].push(t[i]),++o>=e&&(o=0);return n},o.prototype.onValueChanged=function(){n.prototype.onValueChanged.call(this),this.onItemValueChanged()},o.prototype.createTextItem=function(e,n){return new t(e,n)},o.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}},o.prototype.runValidators=function(){var t=n.prototype.runValidators.call(this);if(null!=t)return t;for(var o=0;o<this.items.length;o++)if(null!=(t=(new e.ValidatorRunner).run(this.items[o])))return t;return null},o.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},o.prototype.setMultipleTextValue=function(e,t){this.isMultipleItemValueChanging=!0;var n=this.value;n||(n={}),n[e]=t,this.setNewValue(n),this.isMultipleItemValueChanging=!1},o}(e.Question);e.QuestionMultipleTextModel=n,e.JsonObject.metaData.addClass("multipletextitem",["name",{name:"title",onGetValue:function(e){return e.titleValue}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new t("")}),e.JsonObject.metaData.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",default:25},{name:"colCount:number",default:1,choices:[1,2,3,4]}],function(){return new n("")},"question"),e.QuestionFactory.Instance.registerQuestion("multipletext",function(e){var t=new n(e);return t.AddItem("text1"),t.AddItem("text2"),t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e),this.name=e,this.rates=[],this.mininumRateDescription=null,this.maximumRateDescription=null}return __extends(n,t),Object.defineProperty(n.prototype,"rateValues",{get:function(){return this.rates},set:function(t){e.ItemValue.setData(this.rates,t),this.fireCallback(this.rateValuesChangedCallback)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleRateValues",{get:function(){return this.rateValues.length>0?this.rateValues:n.defaultRateValues},enumerable:!0,configurable:!0}),n.prototype.getType=function(){return"rating"},n.prototype.supportComment=function(){return!0},n.prototype.supportOther=function(){return!0},n.prototype.supportGoNextPageAutomatic=function(){return!0},n.defaultRateValues=[],n}(e.Question);e.QuestionRatingModel=t,e.ItemValue.setData(t.defaultRateValues,[1,2,3,4,5]),e.JsonObject.metaData.addClass("rating",["hasComment:boolean",{name:"rateValues:itemvalues",onGetValue:function(t){return e.ItemValue.getData(t.rateValues)},onSetValue:function(e,t){e.rateValues=t}},"mininumRateDescription","maximumRateDescription"],function(){return new t("")},"question"),e.QuestionFactory.Instance.registerQuestion("rating",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(){e.call(this),this.opValue="equal"}return __extends(t,e),Object.defineProperty(t,"operators",{get:function(){return null!=t.operatorsValue?t.operatorsValue:t.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||-1==e.indexOf(t)},greater:function(e,t){return e>t},less:function(e,t){return t>e},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return t>=e}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.opValue},set:function(e){e&&(e=e.toLowerCase(),t.operators[e]&&(this.opValue=e))},enumerable:!0,configurable:!0}),t.prototype.check=function(e){t.operators[this.operator](e,this.value)?this.onSuccess():this.onFailure()},t.prototype.onSuccess=function(){},t.prototype.onFailure=function(){},t.operatorsValue=null,t}(e.Base);e.Trigger=t;var n=function(e){function t(){e.call(this),this.owner=null}return __extends(t,e),t.prototype.setOwner=function(e){this.owner=e},Object.defineProperty(t.prototype,"isOnNextPage",{get:function(){return!1},enumerable:!0,configurable:!0}),t}(t);e.SurveyTrigger=n;var o=function(e){function t(){e.call(this),this.pages=[],this.questions=[]}return __extends(t,e),t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),n=0;n<t.length;n++)e(t[n])},t.prototype.onItemSuccess=function(e){e.visible=!0},t.prototype.onItemFailure=function(e){e.visible=!1},t}(n);e.SurveyTriggerVisible=o;var i=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"isOnNextPage",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.onSuccess=function(){this.owner&&this.owner.doComplete()},t}(n);e.SurveyTriggerComplete=i;var r=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getType=function(){return"setvaluetrigger"},t.prototype.onSuccess=function(){this.setToName&&this.owner&&this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(n);e.SurveyTriggerSetValue=r,e.JsonObject.metaData.addClass("trigger",["operator","!value"]),e.JsonObject.metaData.addClass("surveytrigger",["!name"],null,"trigger"),e.JsonObject.metaData.addClass("visibletrigger",["pages","questions"],function(){return new o},"surveytrigger"),e.JsonObject.metaData.addClass("completetrigger",[],function(){return new i},"surveytrigger"),e.JsonObject.metaData.addClass("setvaluetrigger",["!setToName","setValue","isVariable:boolean"],function(){return new r},"surveytrigger")}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){void 0===n&&(n=null),t.call(this),this.surveyId=null,this.surveyPostId=null,this.clientId=null,this.cookieName=null,this.sendResultOnPageNext=!1,this.commentPrefix="-Comment",this.title="",this.showNavigationButtons=!0,this.showTitle=!0,this.showPageTitles=!0,this.completedHtml="",this.requiredText="*",this.questionStartIndex="",this.questionTitleTemplate="",this.showProgressBar="off",this.storeOthersAsComment=!0,this.goNextPageAutomatic=!1,this.pages=new Array,this.triggers=new Array,this.clearInvisibleValues=!1,this.currentPageValue=null,this.valuesHash={},this.variablesHash={},this.showPageNumbersValue=!1,this.showQuestionNumbersValue="on",this.questionTitleLocationValue="top",this.localeValue="",this.isCompleted=!1,this.isLoading=!1,this.processedTextValues={},this.onComplete=new e.Event,this.onCurrentPageChanged=new e.Event,this.onValueChanged=new e.Event,this.onVisibleChanged=new e.Event,this.onPageVisibleChanged=new e.Event,this.onQuestionAdded=new e.Event,this.onQuestionRemoved=new e.Event,this.onValidateQuestion=new e.Event,this.onProcessHtml=new e.Event,this.onSendResult=new e.Event,this.onGetResult=new e.Event,this.onUploadFile=new e.Event,this.jsonErrors=null,this.mode="normal";var o=this;this.textPreProcessor=new e.TextPreProcessor,this.textPreProcessor.onHasValue=function(e){return o.processedTextValues[e.toLowerCase()]},this.textPreProcessor.onProcess=function(e){return o.getProcessedTextValue(e)},this.pages.push=function(e){return e.data=o,Array.prototype.push.call(this,e)},this.triggers.push=function(e){return e.setOwner(o),Array.prototype.push.call(this,e)},this.updateProcessedTextValues(),this.onBeforeCreating(),n&&(this.setJsonObject(n),this.surveyId&&this.loadSurveyFromService(this.surveyId)),this.onCreating()}return __extends(n,t),n.prototype.getType=function(){return"survey"},Object.defineProperty(n.prototype,"locale",{get:function(){return this.localeValue},set:function(t){this.localeValue=t,e.surveyLocalization.currentLocale=t},enumerable:!0,configurable:!0}),n.prototype.getLocString=function(t){return e.surveyLocalization.getString(t)},Object.defineProperty(n.prototype,"emptySurveyText",{get:function(){return this.getLocString("emptySurvey")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pagePrevText",{get:function(){return this.pagePrevTextValue?this.pagePrevTextValue:this.getLocString("pagePrevText")},set:function(e){this.pagePrevTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageNextText",{get:function(){return this.pageNextTextValue?this.pageNextTextValue:this.getLocString("pageNextText")},set:function(e){this.pageNextTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"completeText",{get:function(){return this.completeTextValue?this.completeTextValue:this.getLocString("completeText")},set:function(e){this.completeTextValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showPageNumbers",{get:function(){return this.showPageNumbersValue},set:function(e){e!==this.showPageNumbers&&(this.showPageNumbersValue=e,this.updateVisibleIndexes())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showQuestionNumbers",{get:function(){return this.showQuestionNumbersValue},set:function(e){e!==this.showQuestionNumbers&&(this.showQuestionNumbersValue=e,this.updateVisibleIndexes())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"questionTitleLocation",{get:function(){return this.questionTitleLocationValue},set:function(e){e!==this.questionTitleLocationValue&&(this.questionTitleLocationValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){var e={};for(var t in this.valuesHash)e[t]=this.valuesHash[t];return e},set:function(e){if(this.valuesHash={},e)for(var t in e)this.valuesHash[t]=e[t],this.checkTriggers(t,e[t],!1);this.notifyAllQuestionsOnValueChanged(),this.runConditions()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"comments",{get:function(){var e={};for(var t in this.valuesHash)t.indexOf(this.commentPrefix)>0&&(e[t]=this.valuesHash[t]);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var e=new Array,t=0;t<this.pages.length;t++)this.pages[t].isVisible&&e.push(this.pages[t]);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"PageCount",{get:function(){return this.pages.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPage",{get:function(){var e=this.visiblePages;return null!=this.currentPageValue&&e.indexOf(this.currentPageValue)<0&&(this.currentPage=null),null==this.currentPageValue&&e.length>0&&(this.currentPage=e[0]),this.currentPageValue},set:function(e){var t=this.visiblePages;if(!(null!=e&&t.indexOf(e)<0)&&e!=this.currentPageValue){var n=this.currentPageValue;this.currentPageValue=e,this.currentPageChanged(e,n),this.currentPageValue&&this.currentPageValue.scrollToFirstQuestion()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this.isLoading?"loading":this.isCompleted?"completed":this.currentPage?"running":"empty"},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.data=null,this.variablesHash={},this.isCompleted=!1,this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0])},n.prototype.mergeValues=function(e,t){if(t&&e)for(var n in e){var o=e[n];o&&"object"==typeof o?(t[n]||(t[n]={}),this.mergeValues(o,t[n])):t[n]=o}},n.prototype.currentPageChanged=function(e,t){this.onCurrentPageChanged.fire(this,{oldCurrentPage:t,newCurrentPage:e})},n.prototype.getProgress=function(){if(null==this.currentPage)return 0;var e=this.visiblePages.indexOf(this.currentPage)+1;return Math.ceil(100*e/this.visiblePageCount)},Object.defineProperty(n.prototype,"isDesignMode",{get:function(){return"designer"==this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasCookie",{get:function(){if(!this.cookieName)return!1;var e=document.cookie;return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!0,configurable:!0}),n.prototype.setCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},n.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},n.prototype.nextPage=function(){if(this.isLastPage)return!1;if(this.isCurrentPageHasErrors)return!1;this.checkOnPageTriggers(),this.sendResultOnPageNext&&this.clientId&&this.sendResult(this.surveyPostId,this.clientId,!0);var e=this.visiblePages,t=e.indexOf(this.currentPage);return this.currentPage=e[t+1],!0},Object.defineProperty(n.prototype,"isCurrentPageHasErrors",{get:function(){return null==this.currentPage||this.currentPage.hasErrors(!0,!0)},enumerable:!0,configurable:!0}),n.prototype.prevPage=function(){if(this.isFirstPage)return!1;var e=this.visiblePages,t=e.indexOf(this.currentPage);this.currentPage=e[t-1]},n.prototype.completeLastPage=function(){return!this.isCurrentPageHasErrors&&(this.doComplete(),!0)},Object.defineProperty(n.prototype,"isFirstPage",{get:function(){return null==this.currentPage||0==this.visiblePages.indexOf(this.currentPage)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLastPage",{get:function(){if(null==this.currentPage)return!0;var e=this.visiblePages;return e.indexOf(this.currentPage)==e.length-1},enumerable:!0,configurable:!0}),n.prototype.doComplete=function(){this.clearInvisibleValues&&this.clearInvisibleQuestionValues(),this.setCookie(),this.setCompleted(),this.onComplete.fire(this,null),this.surveyPostId&&this.sendResult()},n.prototype.setCompleted=function(){this.isCompleted=!0},Object.defineProperty(n.prototype,"processedCompletedHtml",{get:function(){return this.completedHtml?this.processHtml(this.completedHtml):"<h3>"+this.getLocString("completingSurvey")+"</h3>"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"processedLoadingHtml",{get:function(){return"<h3>"+this.getLocString("loadingSurvey")+"</h3>"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"progressText",{get:function(){if(null==this.currentPage)return"";var e=this.visiblePages,t=e.indexOf(this.currentPage)+1;return this.getLocString("progressText").format(t,e.length)},enumerable:!0,configurable:!0}),n.prototype.uploadFile=function(e,t,n,o){return this.onUploadFile.fire(this,{name:e,file:t,accept:!0}),!n&&this.surveyPostId&&this.uploadFileCore(e,t,o),!0},n.prototype.uploadFileCore=function(t,n,o){var i=this;o&&o("uploading"),(new e.dxSurveyService).sendFile(this.surveyPostId,n,function(e,n){o&&o(e?"success":"error"),e&&i.setValue(t,n)})},n.prototype.getPage=function(e){return this.pages[e]},n.prototype.addPage=function(e){null!=e&&(this.pages.push(e),this.updateVisibleIndexes())},n.prototype.addNewPage=function(e){var t=this.createNewPage(e);return this.addPage(t),t},n.prototype.removePage=function(e){var t=this.pages.indexOf(e);0>t||(this.pages.splice(t,1),this.currentPageValue==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null),this.updateVisibleIndexes())},n.prototype.getQuestionByName=function(e,t){void 0===t&&(t=!1);var n=this.getAllQuestions();t&&(e=e.toLowerCase());for(var o=0;o<n.length;o++){var i=n[o].name;if(t&&(i=i.toLowerCase()),i==e)return n[o]}return null},n.prototype.getQuestionsByNames=function(e,t){void 0===t&&(t=!1);var n=[];if(!e)return n;for(var o=0;o<e.length;o++)if(e[o]){var i=this.getQuestionByName(e[o],t);i&&n.push(i)}return n},n.prototype.getPageByQuestion=function(e){for(var t=0;t<this.pages.length;t++){var n=this.pages[t];if(n.questions.indexOf(e)>-1)return n}return null},n.prototype.getPageByName=function(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null},n.prototype.getPagesByNames=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)if(e[n]){var o=this.getPageByName(e[n]);o&&t.push(o)}return t},n.prototype.getAllQuestions=function(e){void 0===e&&(e=!1);for(var t=new Array,n=0;n<this.pages.length;n++)this.pages[n].addQuestionsToList(t,e);return t},n.prototype.createNewPage=function(t){return new e.PageModel(t)},n.prototype.notifyQuestionOnValueChanged=function(e,t){for(var n=this.getAllQuestions(),o=null,i=0;i<n.length;i++)n[i].name==e&&(o=n[i],this.doSurveyValueChanged(o,t));this.onValueChanged.fire(this,{name:e,question:o,value:t})},n.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)this.doSurveyValueChanged(e[t],this.getValue(e[t].name))},n.prototype.doSurveyValueChanged=function(e,t){e.onSurveyValueChanged(t)},n.prototype.checkOnPageTriggers=function(){for(var e=this.getCurrentPageQuestions(),t=0;t<e.length;t++){var n=e[t],o=this.getValue(n.name);this.checkTriggers(n.name,o,!0)}},n.prototype.getCurrentPageQuestions=function(){var e=[],t=this.currentPage;if(!t)return e;for(var n=0;n<t.questions.length;n++){var o=t.questions[n];o.visible&&o.name&&e.push(o)}return e},n.prototype.checkTriggers=function(e,t,n){for(var o=0;o<this.triggers.length;o++){var i=this.triggers[o];i.name==e&&i.isOnNextPage==n&&i.check(t)}},n.prototype.doQuestionsOnLoad=function(){for(var e=this.getAllQuestions(!1),t=0;t<e.length;t++)e[t].onSurveyLoad()},n.prototype.runConditions=function(){this.runConditionsForList(this.getAllQuestions(!1)),this.runConditionsForList(this.pages)},n.prototype.runConditionsForList=function(e){for(var t=0;t<e.length;t++)e[t].runCondition(this.valuesHash)},n.prototype.sendResult=function(t,n,o){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=!1),!t&&this.surveyPostId&&(t=this.surveyPostId),t){n&&(this.clientId=n);var i=this;(new e.dxSurveyService).sendResult(t,this.data,function(e,t){i.onSendResult.fire(i,{success:e,response:t})},this.clientId,o)}},n.prototype.getResult=function(t,n){var o=this;(new e.dxSurveyService).getResult(t,n,function(e,t,n,i){o.onGetResult.fire(o,{success:e,data:t,dataList:n,response:i})})},n.prototype.loadSurveyFromService=function(t){void 0===t&&(t=null),t&&(this.surveyId=t);var n=this;this.isLoading=!0,this.onLoadingSurveyFromService(),(new e.dxSurveyService).loadSurvey(this.surveyId,function(e,t,o){n.isLoading=!1,e&&t&&(n.setJsonObject(t),n.notifyAllQuestionsOnValueChanged(),n.onLoadSurveyFromService())})},n.prototype.onLoadingSurveyFromService=function(){},n.prototype.onLoadSurveyFromService=function(){},n.prototype.updateVisibleIndexes=function(){if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var e=this.visiblePages,t=0;t<e.length;t++)this.updateQuestionVisibleIndexes(e[t].questions,!0);else this.updateQuestionVisibleIndexes(this.getAllQuestions(!1),"on"==this.showQuestionNumbers)},n.prototype.updatePageVisibleIndexes=function(e){for(var t=0,n=0;n<this.pages.length;n++)this.pages[n].visibleIndex=this.pages[n].visible?t++:-1,this.pages[n].num=e&&this.pages[n].visible?this.pages[n].visibleIndex+1:-1},n.prototype.updateQuestionVisibleIndexes=function(e,t){for(var n=0,o=0;o<e.length;o++)e[o].setVisibleIndex(t&&e[o].visible&&e[o].hasTitle?n++:-1)},n.prototype.setJsonObject=function(t){if(t){this.jsonErrors=null;var n=new e.JsonObject;n.toObject(t,this),n.errors.length>0&&(this.jsonErrors=n.errors),this.updateProcessedTextValues(),this.hasCookie&&this.doComplete(),this.doQuestionsOnLoad(),this.runConditions(),this.updateVisibleIndexes()}},n.prototype.onBeforeCreating=function(){},n.prototype.onCreating=function(){},n.prototype.updateProcessedTextValues=function(){this.processedTextValues={};var e=this;this.processedTextValues.pageno=function(t){return null!=e.currentPage?e.visiblePages.indexOf(e.currentPage)+1:0},this.processedTextValues.pagecount=function(t){return e.visiblePageCount};for(var t=this.getAllQuestions(),n=0;n<t.length;n++)this.addQuestionToProcessedTextValues(t[n])},n.prototype.addQuestionToProcessedTextValues=function(e){this.processedTextValues[e.name.toLowerCase()]="question"},n.prototype.getProcessedTextValue=function(e){var e=e.toLowerCase(),t=this.processedTextValues[e];if(!t)return null;if("question"==t){var n=this.getQuestionByName(e,!0);return null!=n?this.getValue(n.name):null}return"value"==t?this.getValue(e):"variable"==t?this.getVariable(e):t(e)},n.prototype.clearInvisibleQuestionValues=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].visible||this.setValue(e[t].name,null)},n.prototype.getVariable=function(e){return e?this.variablesHash[e]:null},n.prototype.setVariable=function(e,t){e&&(this.variablesHash[e]=t,this.processedTextValues[e.toLowerCase()]="variable")},n.prototype.getUnbindValue=function(e){return e&&e instanceof Object?JSON.parse(JSON.stringify(e)):e},n.prototype.getValue=function(e){if(!e||0==e.length)return null;var t=this.valuesHash[e];return this.getUnbindValue(t)},n.prototype.setValue=function(e,t){this.isValueEqual(e,t)||(""==t||null==t?delete this.valuesHash[e]:(t=this.getUnbindValue(t),this.valuesHash[e]=t,this.processedTextValues[e.toLowerCase()]="value"),this.notifyQuestionOnValueChanged(e,t),this.checkTriggers(e,t,!1),this.runConditions(),this.tryGoNextPageAutomatic(e))},n.prototype.isValueEqual=function(e,t){""==t&&(t=null);var n=this.getValue(e);return null===t||null===n?t===n:this.isTwoValueEquals(t,n)},n.prototype.isTwoValueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]!==t[n]){if("object"!=typeof e[n])return!1;if(!this.isTwoValueEquals(e[n],t[n]))return!1}}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0},n.prototype.tryGoNextPageAutomatic=function(e){if(this.goNextPageAutomatic&&this.currentPage){var t=this.getQuestionByName(e);if(!t||t.supportGoNextPageAutomatic()){for(var n=this.getCurrentPageQuestions(),o=0;o<n.length;o++)if(!this.getValue(n[o].name))return;this.currentPage.hasErrors(!1,!1)||(this.isLastPage?this.doComplete():this.nextPage())}}},n.prototype.getComment=function(e){var t=this.data[e+this.commentPrefix];return null==t&&(t=""),t},n.prototype.setComment=function(e,t){e+=this.commentPrefix,""==t||null==t?delete this.valuesHash[e]:(this.valuesHash[e]=t,this.tryGoNextPageAutomatic(e))},n.prototype.questionVisibilityChanged=function(e,t){this.updateVisibleIndexes(),this.onVisibleChanged.fire(this,{question:e,name:e.name,visible:t})},n.prototype.pageVisibilityChanged=function(e,t){this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:t})},n.prototype.questionAdded=function(e,t){this.updateVisibleIndexes(),this.addQuestionToProcessedTextValues(e),this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t})},n.prototype.questionRemoved=function(e){this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:e,name:e.name})},n.prototype.validateQuestion=function(t){if(this.onValidateQuestion.isEmpty)return null;var n={name:t,value:this.getValue(t),error:null};return this.onValidateQuestion.fire(this,n),n.error?new e.CustomError(n.error):null},n.prototype.processHtml=function(e){var t={html:e};return this.onProcessHtml.fire(this,t),this.processText(t.html)},n.prototype.processText=function(e){return this.textPreProcessor.process(e)},n.prototype.getObjects=function(e,t){var n=[];return Array.prototype.push.apply(n,this.getPagesByNames(e)),Array.prototype.push.apply(n,this.getQuestionsByNames(t)),n},n.prototype.setTriggerValue=function(e,t,n){e&&(n?this.setVariable(e,t):this.setValue(e,t))},n}(e.Base);e.SurveyModel=t,e.JsonObject.metaData.addClass("survey",[{name:"locale",choices:function(){return e.surveyLocalization.getLocales()}},"title","completedHtml:html",{name:"pages",className:"page"},{name:"questions",baseClassName:"question",onGetValue:function(e){return null},onSetValue:function(e,t,n){var o=e.addNewPage("");n.toObject({questions:t},o)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},"surveyId","surveyPostId","cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom"]},{name:"storeOthersAsComment:boolean",default:!0},"goNextPageAutomatic:boolean","clearInvisibleValues:boolean",{name:"pagePrevText",onGetValue:function(e){return e.pagePrevTextValue}},{name:"pageNextText",onGetValue:function(e){return e.pageNextTextValue}},{name:"completeText",onGetValue:function(e){return e.completeTextValue}},{name:"requiredText",default:"*"},"questionStartIndex","questionTitleTemplate"])}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this),this.surveyValue=this.createSurvey(e),this.surveyValue.showTitle=!1,this.windowElement=document.createElement("div")}return __extends(n,t),n.prototype.getType=function(){return"window"},Object.defineProperty(n.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isShowing",{get:function(){return this.isShowingValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isExpanded",{get:function(){return this.isExpandedValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.titleValue?this.titleValue:this.survey.title},set:function(e){this.titleValue=e},enumerable:!0,configurable:!0}),n.prototype.expand=function(){this.expandcollapse(!0)},n.prototype.collapse=function(){this.expandcollapse(!1)},n.prototype.createSurvey=function(t){return new e.SurveyModel(t)},n.prototype.expandcollapse=function(e){this.isExpandedValue=e},n.surveyElementName="windowSurveyJS",n}(e.Base);e.SurveyWindowModel=t}(Survey||(Survey={}));var Survey;!function(e){var t={pagePrevText:"Edellinen",pageNextText:"Seuraava",completeText:"Valmis",otherItemText:"Muu (kuvaile)",progressText:"Sivu {0}/{1}",emptySurvey:"Tässä kyselyssä ei ole yhtäkään näkyvillä olevaa sivua tai kysymystä.",completingSurvey:"Kiitos kyselyyn vastaamisesta!",loadingSurvey:"Kyselyä ladataan palvelimelta...",optionsCaption:"Valitse...",requiredError:"Vastaa kysymykseen, kiitos.",numericError:"Arvon tulee olla numeerinen.",textMinLength:"Ole hyvä ja syötä vähintään {0} merkkiä.",minSelectError:"Ole hyvä ja valitse vähintään {0} vaihtoehtoa.",maxSelectError:"Ole hyvä ja valitse enintään {0} vaihtoehtoa.",numericMinMax:"'{0}' täytyy olla enemmän tai yhtä suuri kuin {1} ja vähemmän tai yhtä suuri kuin {2}",numericMin:"'{0}' täytyy olla enemmän tai yhtä suuri kuin {1}",numericMax:"'{0}' täytyy olla vähemmän tai yhtä suuri kuin {1}",invalidEmail:"Syötä validi sähköpostiosoite.",otherRequiredError:'Ole hyvä ja syötä "Muu (kuvaile)"'};(Survey||(Survey={})).surveyLocalization.locales.fi=t}();var Survey;!function(e){var t={pagePrevText:"Précédent",pageNextText:"Suivant",completeText:"Terminer",otherItemText:"Autre (préciser)",progressText:"Page {0} sur {1}",emptySurvey:"Il n'y a ni page visible ni question visible dansce questionnaire",completingSurvey:"Merci d'avoir répondu au questionnaire!",loadingSurvey:"Le questionnaire est en cours de chargement...",optionsCaption:"Choisissez...",requiredError:"La réponse à cette question est obligatoire.",numericError:"La réponse doit être un nombre.",textMinLength:"Merci d'entrer au moins {0} symboles.",minSelectError:"Merci de sélectionner au moins {0}réponses.",maxSelectError:"Merci de sélectionner au plus {0}réponses.",numericMinMax:"Votre réponse '{0}' doit êtresupérieure ou égale à {1} et inférieure ouégale à {2}",numericMin:"Votre réponse '{0}' doit êtresupérieure ou égale à {1}",numericMax:"Votre réponse '{0}' doit êtreinférieure ou égale à {1}",invalidEmail:"Merci d'entrer une adresse mail valide.",exceedMaxSize:"La taille du fichier ne doit pas excéder {0}.",otherRequiredError:"Merci de préciser le champ 'Autre'."};(Survey||(Survey={})).surveyLocalization.locales.fr=t}();var Survey;!function(e){var t={pagePrevText:"Zurück",pageNextText:"Weiter",completeText:"Fertig",progressText:"Seite {0} von {1}",emptySurvey:"Es gibt keine sichtbare Frage.",completingSurvey:"Vielen Dank für das Ausfüllen des Fragebogens!",loadingSurvey:"Der Fragebogen wird vom Server geladen...",otherItemText:"Benutzerdefinierte Antwort...",optionsCaption:"Wählen...",requiredError:"Bitte antworten Sie auf die Frage.",numericError:"Der Wert sollte eine Zahl sein.",textMinLength:"Bitte geben Sie mindestens {0} Symbole.",minSelectError:"Bitte wählen Sie mindestens {0} Varianten.",maxSelectError:"Bitte wählen Sie nicht mehr als {0} Varianten.",numericMinMax:"'{0}' solte gleich oder größer sein als {1} und gleich oder kleiner als {2}",numericMin:"'{0}' solte gleich oder größer sein als {1}",numericMax:"'{0}' solte gleich oder kleiner als {1}",invalidEmail:"Bitte geben Sie eine gültige Email-Adresse ein.",exceedMaxSize:"Die Dateigröße soll nicht mehr als {0}.",otherRequiredError:"Bitte geben Sie einen Wert für Ihre benutzerdefinierte Antwort ein."};(Survey||(Survey={})).surveyLocalization.locales.de=t}();var Survey;!function(e){var t={pagePrevText:"Назад",pageNextText:"Далее",completeText:"Готово",progressText:"Страница {0} из {1}",emptySurvey:"Нет ни одного вопроса.",completingSurvey:"Благодарим Вас за заполнение анкеты!",loadingSurvey:"Загрузка с сервера...",otherItemText:"Другое (пожалуйста, опишите)",optionsCaption:"Выбрать...",requiredError:"Пожалуйста, ответьте на вопрос.",numericError:"Ответ должен быть числом.",textMinLength:"Пожалуйста, введите хотя бы {0} символов.",minSelectError:"Пожалуйста, выберите хотя бы {0} вариантов.",maxSelectError:"Пожалуйста, выберите не более {0} вариантов.",numericMinMax:"'{0}' должно быть равным или больше, чем {1}, и равным или меньше, чем {2}",numericMin:"'{0}' должно быть равным или больше, чем {1}",numericMax:"'{0}' должно быть равным или меньше, чем {1}",invalidEmail:"Пожалуйста, введите действительный адрес электронной почты.",otherRequiredError:'Пожалуйста, введите данные в поле "Другое"'};(Survey||(Survey={})).surveyLocalization.locales.ru=t}();var Survey;!function(e){var t={pagePrevText:"Geri",pageNextText:"İleri",completeText:"Anketi Tamamla",otherItemText:"Diğer (açıklayınız)",progressText:"Sayfa {0} / {1}",emptySurvey:"Ankette görüntülenecek sayfa ya da soru mevcut değil.",completingSurvey:"Anketimizi tamamladığınız için teşekkür ederiz.",loadingSurvey:"Anket sunucudan yükleniyor ...",optionsCaption:"Seçiniz ...",requiredError:"Lütfen soruya cevap veriniz",numericError:"Girilen değer numerik olmalıdır",textMinLength:"En az {0} sembol giriniz.",minRowCountError:"Lütfen en az {0} satırı doldurun.",minSelectError:"Lütfen en az {0} seçeneği seçiniz.",maxSelectError:"Lütfen {0} adetten fazla seçmeyiniz.",numericMinMax:"The '{0}' should be equal or more than {1} and equal or less than {2}",numericMin:"'{0}' değeri {1} değerine eşit veya büyük olmalıdır",numericMax:"'{0}' değeri {1} değerine eşit ya da küçük olmalıdır.",invalidEmail:"Lütfen geçerli bir eposta adresi giriniz.",urlRequestError:"Talebi şu hatayı döndü '{0}'. {1}",urlGetChoicesError:"Talep herhangi bir veri dönmedi ya da 'path' özelliği hatalı.",exceedMaxSize:"Dosya boyutu {0} değerini geçemez.",otherRequiredError:"Lütfen diğer değerleri giriniz.",uploadingFile:"Dosyanız yükleniyor. LÜtfen birkaç saniye bekleyin ve tekrar deneyin.",addRow:"Satır Ekle",removeRow:"Kaldır"};(Survey||(Survey={})).surveyLocalization.locales.tr=t}();var Survey;(Survey||(Survey={})).defaultBootstrapCss={root:"",header:"panel-heading",body:"panel-body",footer:"panel-footer",navigationButton:"",navigation:{complete:"",prev:"",next:""},progress:"progress center-block",progressBar:"progress-bar",pageTitle:"",row:"",question:{root:"",title:"",comment:"form-control",indent:20},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:""},checkbox:{root:"form-inline",item:"checkbox",other:""},comment:"form-control",dropdown:"form-control",matrix:{root:"table"},matrixdropdown:{root:"table"},matrixdynamic:{root:"table",button:"button"},multipletext:{root:"table",itemTitle:"",itemValue:"form-control"},radiogroup:{root:"form-inline",item:"radio",other:""},rating:{root:"btn-group",item:"btn btn-default"},text:"form-control"};var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n){e.call(this,t,n),this.page=t,this.question=n,this.koVisible=ko.observable(this.visible)}return __extends(t,e),t.prototype.onVisibleChanged=function(){this.koVisible(this.visible)},t.prototype.koAfterRender=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];"#text"==o.nodeName&&(o.data="")}},t}(e.QuestionRowModel);e.QuestionRow=t;var n=function(e){function n(t){void 0===t&&(t=""),e.call(this,t),this.koNo=ko.observable(""),this.onCreating()}return __extends(n,e),n.prototype.createRow=function(e){return new t(this,e)},n.prototype.onCreating=function(){},n.prototype.onNumChanged=function(e){this.koNo(e>0?e+". ":"")},n}(e.PageModel);e.Page=n,e.JsonObject.metaData.overrideClassCreatore("page",function(){return new n})}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function e(e){this.question=e;var t=this;e.visibilityChangedCallback=function(){t.onVisibilityChanged()},e.renderWidthChangedCallback=function(){t.onRenderWidthChanged()},this.koVisible=ko.observable(this.question.visible),this.koRenderWidth=ko.observable(this.question.renderWidth),this.koErrors=ko.observableArray(),this.koMarginLeft=ko.pureComputed(function(){return t.koRenderWidth(),t.getIndentSize(t.question.indent)}),this.koPaddingRight=ko.observable(t.getIndentSize(t.question.rightIndent)),this.question.koVisible=this.koVisible,this.question.koRenderWidth=this.koRenderWidth,this.question.koErrors=this.koErrors,this.question.koMarginLeft=this.koMarginLeft,this.question.koPaddingRight=this.koPaddingRight}return e.prototype.onVisibilityChanged=function(){this.koVisible(this.question.visible)},e.prototype.onRenderWidthChanged=function(){this.koRenderWidth(this.question.renderWidth),this.koPaddingRight(this.getIndentSize(this.question.rightIndent))},e.prototype.getIndentSize=function(e){if(1>e)return"";if(!this.question.data)return"";var t=this.question.data.css;return t?e*t.question.indent+"px":""},e}();e.QuestionImplementorBase=t}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.question=t,this.isUpdating=!1;var n=this;t.valueChangedCallback=function(){n.onValueChanged()},t.commentChangedCallback=function(){n.onCommentChanged()},t.errorsChangedCallback=function(){n.onErrorsChanged()},t.titleChangedCallback=function(){n.onVisibleIndexChanged()},t.visibleIndexChangedCallback=function(){n.onVisibleIndexChanged()},this.koDummy=ko.observable(0),this.koValue=this.createkoValue(),this.koComment=ko.observable(this.question.comment),this.koTitle=ko.pureComputed(function(){return n.koDummy(),n.question.fullTitle}),this.koErrors(this.question.errors),this.koValue.subscribe(function(e){n.updateValue(e)}),this.koComment.subscribe(function(e){n.updateComment(e)}),this.question.koValue=this.koValue,this.question.koComment=this.koComment,this.question.koTitle=this.koTitle}return __extends(t,e),t.prototype.onValueChanged=function(){this.isUpdating||this.setkoValue(this.question.value)},t.prototype.onCommentChanged=function(){this.isUpdating||this.koComment(this.question.comment)},t.prototype.onVisibilityChanged=function(){this.koVisible(this.question.visible)},t.prototype.onVisibleIndexChanged=function(){this.koDummy(this.koDummy()+1)},t.prototype.onErrorsChanged=function(){this.koErrors(this.question.errors)},t.prototype.createkoValue=function(){return ko.observable(this.question.value)},t.prototype.setkoValue=function(e){this.koValue(e)},t.prototype.updateValue=function(e){this.isUpdating=!0,this.question.value=e,this.isUpdating=!1},t.prototype.updateComment=function(e){this.isUpdating=!0,this.question.comment=e,this.isUpdating=!1},t.prototype.getNo=function(){return this.question.visibleIndex>-1?this.question.visibleIndex+1+". ":""},t}(e.QuestionImplementorBase);e.QuestionImplementor=t}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t);var n=this;this.koOtherVisible=ko.computed(function(){return n.koValue(),n.isOtherSelected}),this.koVisibleChoices=ko.observableArray(n.question.visibleChoices),t.choicesChangedCallback=function(){n.koVisibleChoices(n.question.visibleChoices)},this.question.koOtherVisible=this.koOtherVisible,this.question.koVisibleChoices=this.koVisibleChoices}return __extends(t,e),Object.defineProperty(t.prototype,"isOtherSelected",{get:function(){return this.question.isOtherSelected},enumerable:!0,configurable:!0}),t}(e.QuestionImplementor);e.QuestionSelectBaseImplementor=t;var n=function(e){function t(t){e.call(this,t),this.koWidth=ko.observable(this.colWidth),this.question.koWidth=this.koWidth,this.question.koAfterRender=this.koAfterRender;var n=this;this.question.colCountChangedCallback=function(){n.onColCountChanged()}}return __extends(t,e),t.prototype.onColCountChanged=function(){this.question.koWidth=ko.observable(this.colWidth)},Object.defineProperty(t.prototype,"colWidth",{get:function(){var e=this.question.colCount;return e>0?100/e+"%":""},enumerable:!0,configurable:!0}),t.prototype.koAfterRender=function(e,t){var n=e[0];"#text"==n.nodeName&&(n.data=""),"#text"==(n=e[e.length-1]).nodeName&&(n.data="")},t}(t);e.QuestionCheckboxBaseImplementor=n}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.createkoValue=function(){return this.question.value?ko.observableArray(this.question.value):ko.observableArray()},t.prototype.setkoValue=function(e){e?this.koValue([].concat(e)):this.koValue([])},t}(e.QuestionCheckboxBaseImplementor),n=function(e){function n(n){e.call(this,n),this.name=n,new t(this)}return __extends(n,e),n}(e.QuestionCheckboxModel);e.QuestionCheckbox=n,e.JsonObject.metaData.overrideClassCreatore("checkbox",function(){return new n("")}),e.QuestionFactory.Instance.registerQuestion("checkbox",function(t){var o=new n(t);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionImplementor(this)}return __extends(n,t),n}(e.QuestionCommentModel);e.QuestionComment=t,e.JsonObject.metaData.overrideClassCreatore("comment",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("comment",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionSelectBaseImplementor(this)}return __extends(n,t),n}(e.QuestionDropdownModel);e.QuestionDropdown=t,e.JsonObject.metaData.overrideClassCreatore("dropdown",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("dropdown",function(n){var o=new t(n);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t);var n=this;this.koDataUpdater=ko.observable(0),this.koData=ko.computed(function(){return n.koDataUpdater(),n.question.previewValue}),this.koHasValue=ko.observable(!1),this.question.koData=this.koData,this.question.koHasValue=this.koHasValue,this.question.previewValueLoadedCallback=function(){n.onLoadPreview()},this.question.dochange=function(e,t){var o=t.target||t.srcElement;n.onChange(o)}}return __extends(t,e),t.prototype.onChange=function(e){window.FileReader&&(!e||!e.files||e.files.length<1||this.question.loadFile(e.files[0]))},t.prototype.onLoadPreview=function(){this.koDataUpdater(this.koDataUpdater()+1),this.koHasValue(!0)},t}(e.QuestionImplementor),n=function(e){function n(n){e.call(this,n),this.name=n,new t(this)}return __extends(n,e),n}(e.QuestionFileModel);e.QuestionFile=n,e.JsonObject.metaData.overrideClassCreatore("file",function(){return new n("")}),e.QuestionFactory.Instance.registerQuestion("file",function(e){return new n(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionImplementorBase(this)}return __extends(n,t),n}(e.QuestionHtmlModel);e.QuestionHtml=t,e.JsonObject.metaData.overrideClassCreatore("html",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("html",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n,o,i,r){e.call(this,t,n,o,i,r),this.name=t,this.text=n,this.fullName=o,this.isValueUpdating=!1,this.koValue=ko.observable(this.value);var s=this;this.koValue.subscribe(function(e){s.isValueUpdating,s.value=e})}return __extends(t,e),t.prototype.onValueChanged=function(){this.isValueUpdating=!0,this.koValue(this.value),this.isValueUpdating=!1},t}(e.MatrixRowModel);e.MatrixRow=t;var n=function(n){function o(t){n.call(this,t),this.name=t,new e.QuestionImplementor(this)}return __extends(o,n),o.prototype.createMatrixRow=function(e,n,o,i){return new t(e,n,o,this,i)},o}(e.QuestionMatrixModel);e.QuestionMatrix=n,e.JsonObject.metaData.overrideClassCreatore("matrix",function(){return new n("")}),e.QuestionFactory.Instance.registerQuestion("matrix",function(e){var t=new n(e);return t.rows=["Row 1","Row 2"],t.columns=["Column 1","Column 2","Column 3"],t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionImplementor(this)}return __extends(n,t),n}(e.QuestionMatrixDropdownModel);e.QuestionMatrixDropdown=t,e.JsonObject.metaData.overrideClassCreatore("matrixdropdown",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(e){var n=new t(e);return n.choices=[1,2,3,4,5],n.rows=["Row 1","Row 2"],n.addColumn("Column 1"),n.addColumn("Column 2"),n.addColumn("Column 3"),n})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.koRecalc=ko.observable(0),this.koRows=ko.pureComputed(function(){return this.koRecalc(),this.question.cachedVisibleRows},this),this.koOverflowX=ko.pureComputed(function(){return this.question.horizontalScroll?"scroll":"none"},this),this.question.koRows=this.koRows;var n=this;this.koAddRowClick=function(){n.addRow()},this.koRemoveRowClick=function(e){n.removeRow(e)},this.question.koAddRowClick=this.koAddRowClick,this.question.koRemoveRowClick=this.koRemoveRowClick,this.question.koOverflowX=this.koOverflowX,this.question.rowCountChangedCallback=function(){n.onRowCountChanged()},this.question.columnsChangedCallback=function(){n.onColumnChanged()},this.question.updateCellsCallbak=function(){n.onUpdateCells()}}return __extends(t,e),t.prototype.onUpdateCells=function(){var e=this.question.generatedVisibleRows,t=this.question.columns;e&&e.length>0&&t&&t.length>0&&this.onColumnChanged()},t.prototype.onColumnChanged=function(){this.question.visibleRows,this.onRowCountChanged()},t.prototype.onRowCountChanged=function(){this.koRecalc(this.koRecalc()+1)},t.prototype.addRow=function(){this.question.addRow()},t.prototype.removeRow=function(e){var n=this.question.cachedVisibleRows.indexOf(e);n>-1&&this.question.removeRow(n)},t}(e.QuestionImplementor);e.QuestionMatrixDynamicImplementor=t;var n=function(e){function n(n){e.call(this,n),this.name=n,new t(this)}return __extends(n,e),n}(e.QuestionMatrixDynamicModel);e.QuestionMatrixDynamic=n,e.JsonObject.metaData.overrideClassCreatore("matrixdynamic",function(){return new n("")}),e.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(e){var t=new n(e);return t.choices=[1,2,3,4,5],t.rowCount=2,t.addColumn("Column 1"),t.addColumn("Column 2"),t.addColumn("Column 3"),t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this,t,n),this.name=t,this.isKOValueUpdating=!1,this.koValue=ko.observable(this.value);var o=this;this.koValue.subscribe(function(e){o.isKOValueUpdating||(o.value=e)})}return __extends(t,e),t.prototype.onValueChanged=function(e){this.isKOValueUpdating=!0,this.koValue(e),this.isKOValueUpdating=!1},t}(e.MultipleTextItemModel);e.MultipleTextItem=t;var n=function(e){function t(t){e.call(this,t),this.koRows=ko.observableArray(this.question.getRows()),this.question.koRows=this.koRows,this.onColCountChanged();var n=this;this.question.colCountChangedCallback=function(){n.onColCountChanged()}}return __extends(t,e),t.prototype.onColCountChanged=function(){this.koRows(this.question.getRows())},t}(e.QuestionImplementor);e.QuestionMultipleTextImplementor=n;var o=function(e){function o(t){e.call(this,t),this.name=t,new n(this)}return __extends(o,e),o.prototype.createTextItem=function(e,n){return new t(e,n)},o}(e.QuestionMultipleTextModel);e.QuestionMultipleText=o,e.JsonObject.metaData.overrideClassCreatore("multipletextitem",function(){return new t("")}),e.JsonObject.metaData.overrideClassCreatore("multipletext",function(){return new o("")}),e.QuestionFactory.Instance.registerQuestion("multipletext",function(e){var t=new o(e);return t.AddItem("text1"),t.AddItem("text2"),t})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionCheckboxBaseImplementor(this)}return __extends(n,t),n}(e.QuestionRadiogroupModel);e.QuestionRadiogroup=t,e.JsonObject.metaData.overrideClassCreatore("radiogroup",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("radiogroup",function(n){var o=new t(n);return o.choices=e.QuestionFactory.DefaultChoices,o})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(t){e.call(this,t),this.koVisibleRateValues=ko.observableArray(this.getValues()),this.question.koVisibleRateValues=this.koVisibleRateValues;var n=this;this.koChange=function(e){n.koValue(e.itemValue)},this.question.koChange=this.koChange,this.question.rateValuesChangedCallback=function(){n.onRateValuesChanged()},this.question.koGetCss=function(e){var t=n.question.itemCss;return n.question.koValue()==e.value?t+" active":t}}return __extends(t,e),t.prototype.onRateValuesChanged=function(){this.koVisibleRateValues(this.getValues())},t.prototype.getValues=function(){return this.question.visibleRateValues},t}(e.QuestionImplementor),n=function(e){function n(n){e.call(this,n),this.name=n,new t(this)}return __extends(n,e),n.prototype.onSetData=function(){this.itemCss=this.data.css.rating.item},n}(e.QuestionRatingModel);e.QuestionRating=n,e.JsonObject.metaData.overrideClassCreatore("rating",function(){return new n("")}),e.QuestionFactory.Instance.registerQuestion("rating",function(e){return new n(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n){t.call(this,n),this.name=n,new e.QuestionImplementor(this)}return __extends(n,t),n}(e.QuestionTextModel);e.QuestionText=t,e.JsonObject.metaData.overrideClassCreatore("text",function(){return new t("")}),e.QuestionFactory.Instance.registerQuestion("text",function(e){return new t(e)})}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(n,o,i){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),t.call(this,n),this.onRendered=new e.Event,i&&(this.css=i),o&&(this.renderedElement=o),"undefined"==typeof ko)throw new Error("knockoutjs library is not loaded.");this.render(o)}return __extends(n,t),Object.defineProperty(n.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.complete)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.prev)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.next)},enumerable:!0,configurable:!0}),n.prototype.getNavigationCss=function(e,t){var n="";return e&&(n=e),t&&(n+=" "+t),n},Object.defineProperty(n.prototype,"css",{get:function(){return this.cssValue},set:function(e){this.mergeValues(e,this.cssValue)},enumerable:!0,configurable:!0}),n.prototype.render=function(e){void 0===e&&(e=null);var t=this;e&&"string"==typeof e&&(e=document.getElementById(e)),e&&(this.renderedElement=e),(e=this.renderedElement)&&(e.innerHTML=this.getTemplate(),t.applyBinding(),t.onRendered.fire(t,{}))},n.prototype.loadSurveyFromService=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null),n&&(this.renderedElement=n),t.prototype.loadSurveyFromService.call(this,e)},n.prototype.setCompleted=function(){t.prototype.setCompleted.call(this),this.updateKoCurrentPage()},n.prototype.createNewPage=function(t){return new e.Page(t)},n.prototype.createCssObject=function(){return null},n.prototype.getTemplate=function(){throw new Error("Please override this method")},n.prototype.onBeforeCreating=function(){var e=this;this.cssValue=this.createCssObject(),this.dummyObservable=ko.observable(0),this.koCurrentPage=ko.computed(function(){return e.dummyObservable(),e.currentPage}),this.koIsFirstPage=ko.computed(function(){return e.dummyObservable(),e.isFirstPage}),this.koIsLastPage=ko.computed(function(){return e.dummyObservable(),e.isLastPage}),this.koProgressText=ko.computed(function(){return e.dummyObservable(),e.progressText}),this.koProgress=ko.computed(function(){return e.dummyObservable(),e.getProgress()}),this.koState=ko.computed(function(){return e.dummyObservable(),e.state})},n.prototype.currentPageChanged=function(e,n){this.updateKoCurrentPage(),t.prototype.currentPageChanged.call(this,e,n)},n.prototype.onLoadSurveyFromService=function(){this.render()},n.prototype.onLoadingSurveyFromService=function(){this.render()},n.prototype.applyBinding=function(){this.renderedElement&&(this.updateKoCurrentPage(),ko.cleanNode(this.renderedElement),ko.applyBindings(this,this.renderedElement))},n.prototype.updateKoCurrentPage=function(){this.dummyObservable(this.dummyObservable()+1)},n}(e.SurveyModel);e.SurveyBase=t}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e),this.koExpanded=ko.observable(!1);var n=this;this.doExpand=function(){n.changeExpanded()},this.survey.onComplete.add(function(e){n.onComplete()})}return __extends(n,t),n.prototype.createSurvey=function(t){return new e.SurveyBase(t)},n.prototype.expandcollapse=function(e){t.prototype.expandcollapse.call(this,e),this.koExpanded(this.isExpandedValue)},Object.defineProperty(n.prototype,"template",{get:function(){return this.templateValue?this.templateValue:this.getDefaultTemplate()},set:function(e){this.templateValue=e},enumerable:!0,configurable:!0}),n.prototype.show=function(){this.windowElement.innerHTML=this.template,ko.cleanNode(this.windowElement),ko.applyBindings(this,this.windowElement),document.body.appendChild(this.windowElement),this.survey.render(e.SurveyWindow.surveyElementName),this.isShowingValue=!0},n.prototype.getDefaultTemplate=function(){throw new Error("Please override this method")},n.prototype.hide=function(){document.body.removeChild(this.windowElement),this.windowElement.innerHTML="",this.isShowingValue=!1},n.prototype.changeExpanded=function(){this.expandcollapse(!this.isExpanded)},n.prototype.onComplete=function(){this.hide()},n}(e.SurveyWindowModel);e.SurveyWindowBase=t}(Survey||(Survey={}));var Survey;!function(e){var t=function(){function e(){}return e.prototype.replaceText=function(e,t,n){void 0===n&&(n=null),t=this.getId(t,n);var o=this.text.indexOf(t);if(!(0>o||0>(o=this.text.indexOf(">",o)))){var i=o+1;0>(o=this.text.indexOf("<\/script>",i))||(this.text=this.text.substr(0,i)+e+this.text.substr(o))}},e.prototype.getId=function(e,t){var n='id="survey-'+e;return t&&(n+="-"+t),n+'"'},Object.defineProperty(e.prototype,"text",{get:function(){return""},set:function(e){},enumerable:!0,configurable:!0}),e}();e.SurveyTemplateTextBase=t}(Survey||(Survey={}));var template;!function(e){!function(e){e.html='<script type="text/html" id="survey-comment">  <input data-bind="value:$data.question.koComment, visible:$data.visible, css: $root.css.question.comment" /><\/script><div data-bind="css: $root.css.root">    <div data-bind="visible: (title.length > 0) && showTitle && koState() != \'completed\', css: $root.css.header">        <h3 data-bind="text:title"></h3>    </div>    \x3c!-- ko if: koState() == "running" --\x3e    <div data-bind="css: $root.css.body">        <div data-bind="visible: showProgressBar ==\'top\', template: { name: \'survey-progress\', data: $data }"></div>        <div data-bind="template: { name: \'survey-page\', data: koCurrentPage }"></div>        <div style="margin-top:10px" data-bind="visible: showProgressBar ==\'bottom\', template: { name: \'survey-progress\', data: $data }"></div>    </div>    <div data-bind="visible: showNavigationButtons && !isDesignMode, css: $root.css.footer">        <input type="button" data-bind="value: pagePrevText, click: prevPage, visible: !koIsFirstPage(), css: $root.cssNavigationPrev" />        <input type="button" data-bind="value: pageNextText, click: nextPage, visible: !koIsLastPage(), css: $root.cssNavigationNext" />        <input type="button" data-bind="value: completeText, click: completeLastPage, visible: koIsLastPage(), css: $root.cssNavigationComplete" />    </div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: koState() == "completed" --\x3e    <div data-bind="html: processedCompletedHtml"></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: koState() == "loading" --\x3e    <div data-bind="html: processedLoadingHtml"></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: koState() == "empty" --\x3e    <div data-bind="text:emptySurveyText, css: $root.css.body"></div>    \x3c!-- /ko --\x3e</div><script type="text/html" id="survey-page">    <h4 data-bind="visible: (title.length > 0) && data.showPageTitles, text: koNo() + processedTitle, css: $root.css.pageTitle"></h4>    \x3c!-- ko foreach: { data: rows, as: \'row\'} --\x3e    <div data-bind="visible: row.koVisible, css: $root.css.row">        \x3c!-- ko foreach: { data: row.questions, as: \'question\' , afterRender: row.koAfterRender } --\x3e            \x3c!-- ko template: { name: \'survey-question\', data: question } --\x3e\x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>    \x3c!-- /ko --\x3e<\/script><script type="text/html" id="survey-progress">    <div style="width:60%;" data-bind="css: $root.css.progress">        <div data-bind="css: $root.css.progressBar, style:{width: koProgress() + \'%\'}"             role="progressbar" aria-valuemin="0"             aria-valuemax="100">            <span data-bind="text:koProgressText"></span>        </div>    </div><\/script><script type="text/html" id="survey-question-checkbox">    <form data-bind="css: $root.css.checkbox.root">        \x3c!-- ko foreach: { data: question.koVisibleChoices, as: \'item\', afterRender: question.koAfterRender}  --\x3e        <div data-bind="style:{width: question.koWidth, \'margin-right\': question.colCount == 0 ? \'5px\': \'0px\'}, css: $root.css.checkbox.item">            <label data-bind="css: $root.css.checkbox.item">                <input type="checkbox" data-bind="attr: {name: question.name, value: item.value}, checked: question.koValue" />                <span data-bind="text: item.text"></span>            </label>            <div data-bind="visible: question.hasOther && ($index() == question.koVisibleChoices().length-1)">                <div data-bind="template: { name: \'survey-comment\', data: {\'question\': question, \'visible\': question.koOtherVisible } }, css: $root.css.checkbox.other"></div>            </div>        </div>        \x3c!-- /ko --\x3e    </form><\/script><script type="text/html" id="survey-question-comment">    <textarea type="text" data-bind="attr: {cols: question.cols, rows: question.rows}, value:question.koValue, css: $root.css.comment" /><\/script><script type="text/html" id="survey-question-dropdown">    <select data-bind="options: question.koVisibleChoices, optionsText: \'text\', optionsValue: \'value\', value: question.koValue, optionsCaption: question.optionsCaption, css: $root.css.dropdown"></select>    <div data-bind="visible: question.hasOther">        <div data-bind="template: { name: \'survey-comment\', data: {\'question\': question, \'visible\': question.koOtherVisible } }"></div>    </div><\/script><script type="text/html" id="survey-question-errors">    <div role="alert" data-bind="visible: koErrors().length > 0, foreach: { data: koErrors, as: \'error\'}, css: $root.css.error.root">        <div>            <span aria-hidden="true" data-bind="css: $root.css.error.icon"></span>            <span data-bind="text:error.getText(), css: $root.css.error.item"></span>        </div>    </div><\/script><script type="text/html" id="survey-question-file">    <input type="file" data-bind="event: {change: dochange}">    <div>        <img data-bind="attr: { src: question.koData, height: question.imageHeight, width: question.imageWidth }, visible: question.koHasValue">    </div><\/script><script type="text/html" id="survey-question-html">    <div data-bind="html: question.processedHtml"></div><\/script><script type="text/html" id="survey-question-matrix">    <table data-bind="css: $root.css.matrix.root">        <thead>            <tr>                <th data-bind="visible: question.hasRows"></th>                \x3c!-- ko foreach: question.columns --\x3e                <th data-bind="text:$data.text"></th>                \x3c!-- /ko --\x3e            </tr>        </thead>        <tbody>            \x3c!-- ko foreach: { data: question.visibleRows, as: \'row\' } --\x3e            <tr>                <td data-bind="visible: question.hasRows, text:row.text"></td>                \x3c!-- ko foreach: question.columns --\x3e                <td>                    <input type="radio" data-bind="attr: {name: row.fullName, value: $data.value}, checked: row.koValue"/>                </td>                \x3c!-- /ko --\x3e            </tr>            \x3c!-- /ko --\x3e        </tbody>    </table><\/script><script type="text/html" id="survey-question-matrixdropdown">    <div data-bind="style: {overflowX: question.horizontalScroll? \'scroll\': \'\'}">        <table data-bind="css: $root.css.matrixdropdown.root">            <thead>                <tr>                    <th></th>                    \x3c!-- ko foreach: question.columns --\x3e                    <th data-bind="text: question.getColumnTitle($data), style: { minWidth: question.getColumnWidth($data) }"></th>                    \x3c!-- /ko --\x3e                </tr>            </thead>            <tbody>                \x3c!-- ko foreach: { data: question.visibleRows, as: \'row\' } --\x3e                <tr>                    <td data-bind="text:row.text"></td>                    \x3c!-- ko foreach: row.cells--\x3e                    <td>                        \x3c!-- ko template: { name: \'survey-question-\' + $data.question.getType(), data: $data.question, as: \'question\' } --\x3e                        \x3c!-- /ko --\x3e                    </td>                    \x3c!-- /ko --\x3e                </tr>                \x3c!-- /ko --\x3e            </tbody>        </table>    </div><\/script><script type="text/html" id="survey-question-matrixdynamic">    <div data-bind="style: {overflowX: question.horizontalScroll? \'scroll\': \'\'}">        <table data-bind="css: $root.css.matrixdynamic.root">            <thead>                <tr>                    \x3c!-- ko foreach: question.columns --\x3e                    <th data-bind="text: question.getColumnTitle($data), style: { minWidth: question.getColumnWidth($data) }"></th>                    \x3c!-- /ko --\x3e                    <th></th>                </tr>            </thead>            <tbody>                \x3c!-- ko foreach: { data: question.koRows, as: \'row\' } --\x3e                <tr>                    \x3c!-- ko foreach: row.cells--\x3e                    <td>                        \x3c!-- ko template: { name: \'survey-question-errors\', data: $data.question } --\x3e                        \x3c!-- /ko --\x3e                        \x3c!-- ko template: { name: \'survey-question-\' + $data.question.getType(), data: $data.question, as: \'question\' } --\x3e                        \x3c!-- /ko --\x3e                    </td>                    \x3c!-- /ko --\x3e                    <td><input type="button" data-bind="click:question.koRemoveRowClick, css: $root.css.matrixdynamic.button, value: question.removeRowText" /></td>                </tr>                \x3c!-- /ko --\x3e            </tbody>        </table>    </div>    <input type="button" data-bind="click:question.koAddRowClick, css: $root.css.matrixdynamic.button, value: question.addRowText" /><\/script><script type="text/html" id="survey-question-multipletext">    <table data-bind="css: $root.css.multipletext.root, foreach: { data:  question.koRows, as: \'row\' }">        <tr data-bind="foreach: { data: row, as: \'item\' }">            <td data-bind="text: item.title, css: $root.css.multipletext.itemTitle"></td>            <td><input type="text" style="float:left" data-bind="attr: {size: question.itemSize}, value: item.koValue, css: $root.css.multipletext.itemValue" /></td>        </tr>    </table><\/script><script type="text/html" id="survey-question-radiogroup">    <form data-bind="css: $root.css.radiogroup.root">        \x3c!-- ko foreach: { data: question.koVisibleChoices, as: \'item\', afterRender: question.koAfterRender}  --\x3e        <div  data-bind="style:{width: question.koWidth, \'margin-right\': question.colCount == 0 ? \'5px\': \'0px\'}, css: $root.css.radiogroup.item">            <label data-bind="css: $root.css.radiogroup.item">                <input type="radio" data-bind="attr: {name: question.name, value: item.value}, checked: question.koValue" />                <span data-bind="text: item.text"></span>            </label>            <div data-bind="visible: question.hasOther && ($index() == question.koVisibleChoices().length-1)">                <div data-bind="template: { name: \'survey-comment\', data: {\'question\': question, \'visible\': question.koOtherVisible}}, css: $root.css.radiogroup.other"></div>            </div>        </div>        \x3c!-- /ko --\x3e    </form><\/script><script type="text/html" id="survey-question-text">    <input type="text" data-bind="attr: {size: question.size}, value:question.koValue, css: $root.css.text"/><\/script><script type="text/html" id="survey-question">    <div style="vertical-align:top" data-bind="css: $root.css.question.root, style: {display: question.koVisible() ? \'inline-block\': \'none\', marginLeft: question.koMarginLeft, paddingRight: question.koPaddingRight, width: question.koRenderWidth }, attr: {id: id}">        \x3c!-- ko if: question.hasTitle --\x3e        <h5 data-bind="visible: $root.questionTitleLocation == \'top\', text: question.koTitle(), css: $root.css.question.title"></h5>        \x3c!-- /ko --\x3e        \x3c!-- ko template: { name: \'survey-question-errors\', data: question } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko template: { name: \'survey-question-\' + question.getType(), data: question } --\x3e        \x3c!-- /ko --\x3e        <div data-bind="visible: question.hasComment">            <div data-bind="text:question.commentText"></div>            <div data-bind="template: { name: \'survey-comment\', data: {\'question\': question, \'visible\': true } }"></div>        </div>        \x3c!-- ko if: question.hasTitle --\x3e        <h5 data-bind="visible: $root.questionTitleLocation == \'bottom\', text: question.koTitle(), css: $root.css.question.title"></h5>        \x3c!-- /ko --\x3e    </div><\/script><script type="text/html" id="survey-question-rating">    <div data-toggle="buttons" data-bind="css: $root.css.rating.root">        \x3c!-- ko foreach: question.koVisibleRateValues --\x3e        <label data-bind="css: question.koGetCss($data)">            <input type="radio"                    data-bind="attr: {name: question.name, id: question.name + $index(), value: $data.value}, event: { change: question.koChange}" />            <span data-bind="visible: $index() == 0, text: question.mininumRateDescription"></span>            <span data-bind="text: $data.text"></span>            <span data-bind="visible: $index() == (question.koVisibleRateValues().length-1), text: question.maximumRateDescription"></span>        </label>        \x3c!-- /ko --\x3e    </div>    <div data-bind="visible: question.hasOther">        <div data-bind="template: { name: \'survey-comment\', data: {\'question\': question } }"></div>    </div><\/script>'}(e.ko||(e.ko={}))}(template||(template={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e,n,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),t.call(this,e,n,o)}return __extends(n,t),n.prototype.getTemplate=function(){return template.ko.html},n.prototype.createCssObject=function(){return e.defaultBootstrapCss},n}(e.SurveyBase);e.Survey=t}(Survey||(Survey={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.prototype.createSurvey=function(t){return new e.Survey(t)},n.prototype.getDefaultTemplate=function(){return template.window.ko.html},n}(e.SurveyWindowBase);e.SurveyWindow=t}(Survey||(Survey={}));var template;!function(e){!function(e){!function(e){e.html='<div class="modal-content" style="position: fixed; bottom: 3px; right: 10px;">    <div class="modal-header panel-title">        <a href="#" data-bind="click:doExpand" style="width:100%">            <span class="pull-left" style="padding-right:10px" data-bind="text:title"></span>            <span class="glyphicon pull-right" aria-hidden="true" data-bind="css:{\'glyphicon-chevron-down\': koExpanded(), \'glyphicon-chevron-up\': !koExpanded()}"></span>        </a>    </div>    <div class="modal-body" data-bind="visible:koExpanded">        <div id="windowSurveyJS"></div>    </div></div>'}(e.ko||(e.ko={}))}(e.window||(e.window={}))}(template||(template={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Survey;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return template.ko.html},set:function(e){template.ko.html=e},enumerable:!0,configurable:!0}),t}(e.SurveyTemplateTextBase);e.SurveyTemplateText=t}(Survey||(Survey={})),function(){function regexSupplant(regex,flags){return flags=flags||"","string"!=typeof regex&&(regex.global&&flags.indexOf("g")<0&&(flags+="g"),regex.ignoreCase&&flags.indexOf("i")<0&&(flags+="i"),regex.multiline&&flags.indexOf("m")<0&&(flags+="m"),regex=regex.source),new RegExp(regex.replace(/#\{(\w+)\}/g,function(match,name){var newRegex=twttr.txt.regexen[name]||"";return"string"!=typeof newRegex&&(newRegex=newRegex.source),newRegex}),flags)}function stringSupplant(str,values){return str.replace(/#\{(\w+)\}/g,function(match,name){return values[name]||""})}function addCharsToCharClass(charClass,start,end){var s=String.fromCharCode(start);return end!==start&&(s+="-"+String.fromCharCode(end)),charClass.push(s),charClass}function clone(o){var r={};for(var k in o)o.hasOwnProperty(k)&&(r[k]=o[k]);return r}function isValidMatch(string,regex,optional){return optional?!string||string.match(regex)&&RegExp["$&"]===string:"string"==typeof string&&string.match(regex)&&RegExp["$&"]===string}if(void 0===twttr||null===twttr)var twttr={};twttr.txt={},twttr.txt.regexen={};var HTML_ENTITIES={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(text){return text&&text.replace(/[&"'><]/g,function(character){return HTML_ENTITIES[character]})},twttr.txt.regexSupplant=regexSupplant,twttr.txt.stringSupplant=stringSupplant,twttr.txt.addCharsToCharClass=addCharsToCharClass;var fromCode=String.fromCharCode,UNICODE_SPACES=[fromCode(32),fromCode(133),fromCode(160),fromCode(5760),fromCode(6158),fromCode(8232),fromCode(8233),fromCode(8239),fromCode(8287),fromCode(12288)];addCharsToCharClass(UNICODE_SPACES,9,13),addCharsToCharClass(UNICODE_SPACES,8192,8202);var INVALID_CHARS=[fromCode(65534),fromCode(65279),fromCode(65535)];addCharsToCharClass(INVALID_CHARS,8234,8238),twttr.txt.regexen.spaces_group=regexSupplant(UNICODE_SPACES.join("")),twttr.txt.regexen.spaces=regexSupplant("["+UNICODE_SPACES.join("")+"]"),twttr.txt.regexen.invalid_chars_group=regexSupplant(INVALID_CHARS.join("")),twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,twttr.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,twttr.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var latinAccentChars=[];addCharsToCharClass(latinAccentChars,192,214),addCharsToCharClass(latinAccentChars,216,246),addCharsToCharClass(latinAccentChars,248,255),addCharsToCharClass(latinAccentChars,256,591),addCharsToCharClass(latinAccentChars,595,596),addCharsToCharClass(latinAccentChars,598,599),addCharsToCharClass(latinAccentChars,601,601),addCharsToCharClass(latinAccentChars,603,603),addCharsToCharClass(latinAccentChars,611,611),addCharsToCharClass(latinAccentChars,616,616),addCharsToCharClass(latinAccentChars,623,623),addCharsToCharClass(latinAccentChars,626,626),addCharsToCharClass(latinAccentChars,649,649),addCharsToCharClass(latinAccentChars,651,651),addCharsToCharClass(latinAccentChars,699,699),addCharsToCharClass(latinAccentChars,768,879),addCharsToCharClass(latinAccentChars,7680,7935),twttr.txt.regexen.latinAccentChars=regexSupplant(latinAccentChars.join(""));var unicodeLettersAndMarks="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︭",unicodeNumbers="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９";twttr.txt.regexen.hashSigns=/[#＃]/,twttr.txt.regexen.hashtagAlpha=new RegExp("["+unicodeLettersAndMarks+"]"),twttr.txt.regexen.hashtagAlphaNumeric=new RegExp("["+unicodeLettersAndMarks+unicodeNumbers+"_‌‍꙾־׳״～〜゛゜゠・〃་༌·]"),twttr.txt.regexen.endHashtagMatch=regexSupplant(/^(?:#{hashSigns}|:\/\/)/),twttr.txt.regexen.hashtagBoundary=new RegExp("(?:^|$|[^&"+unicodeLettersAndMarks+unicodeNumbers+"_‌‍꙾־׳״～〜゛゜゠・〃་༌·])"),twttr.txt.regexen.validHashtag=regexSupplant(/(#{hashtagBoundary})(#{hashSigns})(?!\ufe0f|\u20e3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),twttr.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,twttr.txt.regexen.atSigns=/[@＠]/,twttr.txt.regexen.validMentionOrList=regexSupplant("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),twttr.txt.regexen.validReply=regexSupplant(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),twttr.txt.regexen.endMentionMatch=regexSupplant(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),twttr.txt.regexen.validUrlPrecedingChars=regexSupplant(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,twttr.txt.regexen.invalidDomainChars=stringSupplant("#{punct}#{spaces_group}#{invalid_chars_group}",twttr.txt.regexen),twttr.txt.regexen.validDomainChars=regexSupplant(/[^#{invalidDomainChars}]/),twttr.txt.regexen.validSubdomain=regexSupplant(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validDomainName=regexSupplant(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validGTLD=regexSupplant(RegExp("(?:(?:abb|abbott|abogado|academy|accenture|accountant|accountants|aco|active|actor|ads|adult|aeg|aero|afl|agency|aig|airforce|airtel|allfinanz|alsace|amsterdam|android|apartments|app|aquarelle|archi|army|arpa|asia|associates|attorney|auction|audio|auto|autos|axa|azure|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bbc|bbva|bcn|beer|bentley|berlin|best|bet|bharti|bible|bid|bike|bing|bingo|bio|biz|black|blackfriday|bloomberg|blue|bmw|bnl|bnpparibas|boats|bond|boo|boots|boutique|bradesco|bridgestone|broker|brother|brussels|budapest|build|builders|business|buzz|bzh|cab|cafe|cal|camera|camp|cancerresearch|canon|capetown|capital|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|ceb|center|ceo|cern|cfa|cfd|chanel|channel|chat|cheap|chloe|christmas|chrome|church|cisco|citic|city|claims|cleaning|click|clinic|clothing|cloud|club|coach|codes|coffee|college|cologne|com|commbank|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|corsica|country|coupons|courses|credit|creditcard|cricket|crown|crs|cruises|cuisinella|cymru|cyou|dabur|dad|dance|date|dating|datsun|day|dclk|deals|degree|delivery|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dnp|docs|dog|doha|domains|doosan|download|drive|durban|dvag|earth|eat|edu|education|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|erni|esq|estate|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|faith|family|fan|fans|farm|fashion|feedback|film|finance|financial|firmdale|fish|fishing|fit|fitness|flights|florist|flowers|flsmidth|fly|foo|football|forex|forsale|forum|foundation|frl|frogans|fund|furniture|futbol|fyi|gal|gallery|game|garden|gbiz|gdn|gent|genting|ggee|gift|gifts|gives|giving|glass|gle|global|globo|gmail|gmo|gmx|gold|goldpoint|golf|goo|goog|google|gop|gov|graphics|gratis|green|gripe|group|guge|guide|guitars|guru|hamburg|hangout|haus|healthcare|help|here|hermes|hiphop|hitachi|hiv|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hsbc|ibm|icbc|ice|icu|ifm|iinet|immo|immobilien|industries|infiniti|info|ing|ink|institute|insure|int|international|investments|ipiranga|irish|ist|istanbul|itau|iwc|java|jcb|jetzt|jewelry|jlc|jll|jobs|joburg|jprs|juegos|kaufen|kddi|kim|kitchen|kiwi|koeln|komatsu|krd|kred|kyoto|lacaixa|lancaster|land|lasalle|lat|latrobe|law|lawyer|lds|lease|leclerc|legal|lexus|lgbt|liaison|lidl|life|lighting|limited|limo|link|live|lixil|loan|loans|lol|london|lotte|lotto|love|ltda|lupin|luxe|luxury|madrid|maif|maison|man|management|mango|market|marketing|markets|marriott|mba|media|meet|melbourne|meme|memorial|men|menu|miami|microsoft|mil|mini|mma|mobi|moda|moe|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mtn|mtpc|museum|nadex|nagoya|name|navy|nec|net|netbank|network|neustar|new|news|nexus|ngo|nhk|nico|ninja|nissan|nokia|nra|nrw|ntt|nyc|office|okinawa|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|osaka|otsuka|ovh|page|panerai|paris|partners|parts|party|pet|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pink|pizza|place|play|plumbing|plus|pohl|poker|porn|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|racing|realtor|realty|recipes|red|redstone|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rich|ricoh|rio|rip|rocks|rodeo|rsvp|ruhr|run|ryukyu|saarland|sakura|sale|samsung|sandvik|sandvikcoromant|sanofi|sap|sarl|saxo|sca|scb|schmidt|scholarships|school|schule|schwarz|science|scor|scot|seat|seek|sener|services|sew|sex|sexy|shiksha|shoes|show|shriram|singles|site|ski|sky|skype|sncf|soccer|social|software|sohu|solar|solutions|sony|soy|space|spiegel|spreadbetting|srl|starhub|statoil|studio|study|style|sucks|supplies|supply|support|surf|surgery|suzuki|swatch|swiss|sydney|systems|taipei|tatamotors|tatar|tattoo|tax|taxi|team|tech|technology|tel|telefonica|temasek|tennis|thd|theater|tickets|tienda|tips|tires|tirol|today|tokyo|tools|top|toray|toshiba|tours|town|toyota|toys|trade|trading|training|travel|trust|tui|ubs|university|uno|uol|vacations|vegas|ventures|vermögensberater|vermögensberatung|versicherung|vet|viajes|video|villas|vin|vision|vista|vistaprint|vlaanderen|vodka|vote|voting|voto|voyage|wales|walter|wang|watch|webcam|website|wed|wedding|weir|whoswho|wien|wiki|williamhill|win|windows|wine|wme|work|works|world|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yandex|yodobashi|yoga|yokohama|youtube|zip|zone|zuerich|дети|ком|москва|онлайн|орг|рус|сайт|קום|بازار|شبكة|كوم|موقع|कॉम|नेट|संगठन|คอม|みんな|グーグル|コム|世界|中信|中文网|企业|佛山|信息|健康|八卦|公司|公益|商城|商店|商标|在线|大拿|娱乐|工行|广东|慈善|我爱你|手机|政务|政府|新闻|时尚|机构|淡马锡|游戏|点看|移动|组织机构|网址|网店|网络|谷歌|集团|飞利浦|餐厅|닷넷|닷컴|삼성|onion)(?=[^0-9a-zA-Z@]|$))")),twttr.txt.regexen.validCCTLD=regexSupplant(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бел|мкд|мон|рф|срб|укр|қаз|հայ|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عراق|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|澳門|香港|한국)(?=[^0-9a-zA-Z@]|$))")),twttr.txt.regexen.validPunycode=regexSupplant(/(?:xn--[0-9a-z]+)/),twttr.txt.regexen.validSpecialCCTLD=regexSupplant(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),twttr.txt.regexen.validDomain=regexSupplant(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),twttr.txt.regexen.validAsciiDomain=regexSupplant(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),twttr.txt.regexen.invalidShortDomain=regexSupplant(/^#{validDomainName}#{validCCTLD}$/i),twttr.txt.regexen.validSpecialShortDomain=regexSupplant(/^#{validDomainName}#{validSpecialCCTLD}$/i),twttr.txt.regexen.validPortNumber=regexSupplant(/[0-9]+/),twttr.txt.regexen.cyrillicLettersAndMarks=regexSupplant("Ѐ-ӿ"),twttr.txt.regexen.validGeneralUrlPathChars=regexSupplant(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),twttr.txt.regexen.validUrlBalancedParens=regexSupplant("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),twttr.txt.regexen.validUrlPathEndingChars=regexSupplant(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),twttr.txt.regexen.validUrlPath=regexSupplant("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,twttr.txt.regexen.extractUrl=regexSupplant("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),twttr.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,twttr.txt.regexen.urlHasProtocol=/^https?:\/\//i,twttr.txt.regexen.urlHasHttps=/^https:\/\//i,twttr.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,twttr.txt.regexen.validCashtag=regexSupplant("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),twttr.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,twttr.txt.regexen.validateUrlPchar=regexSupplant("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,twttr.txt.regexen.validateUrlUserinfo=regexSupplant("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),twttr.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,twttr.txt.regexen.validateUrlIpv4=regexSupplant(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,twttr.txt.regexen.validateUrlIp=regexSupplant("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomain=regexSupplant(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),twttr.txt.regexen.validateUrlHost=regexSupplant("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomain=regexSupplant(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),twttr.txt.regexen.validateUrlUnicodeHost=regexSupplant("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/,twttr.txt.regexen.validateUrlUnicodeAuthority=regexSupplant("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlAuthority=regexSupplant("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlPath=regexSupplant(/(\/#{validateUrlPchar}*)*/i),twttr.txt.regexen.validateUrlQuery=regexSupplant(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlFragment=regexSupplant(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlUnencoded=regexSupplant("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var OPTIONS_NOT_ATTRIBUTES={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},BOOLEAN_ATTRIBUTES={disabled:!0,readonly:!0,multiple:!0,checked:!0};twttr.txt.tagAttrs=function(attributes){var htmlAttrs="";for(var k in attributes){var v=attributes[k];BOOLEAN_ATTRIBUTES[k]&&(v=v?k:null),null!=v&&(htmlAttrs+=" "+twttr.txt.htmlEscape(k)+'="'+twttr.txt.htmlEscape(v.toString())+'"')}return htmlAttrs},twttr.txt.linkToText=function(entity,text,attributes,options){return options.suppressNoFollow||(attributes.rel="nofollow"),options.linkAttributeBlock&&options.linkAttributeBlock(entity,attributes),options.linkTextBlock&&(text=options.linkTextBlock(entity,text)),stringSupplant("<a#{attr}>#{text}</a>",{text:text,attr:twttr.txt.tagAttrs(attributes)})},twttr.txt.linkToTextWithSymbol=function(entity,symbol,text,attributes,options){var taggedSymbol=options.symbolTag?"<"+options.symbolTag+">"+symbol+"</"+options.symbolTag+">":symbol;text=twttr.txt.htmlEscape(text);var taggedText=options.textWithSymbolTag?"<"+options.textWithSymbolTag+">"+text+"</"+options.textWithSymbolTag+">":text;return options.usernameIncludeSymbol||!symbol.match(twttr.txt.regexen.atSigns)?twttr.txt.linkToText(entity,taggedSymbol+taggedText,attributes,options):taggedSymbol+twttr.txt.linkToText(entity,taggedText,attributes,options)},twttr.txt.linkToHashtag=function(entity,text,options){var hash=text.substring(entity.indices[0],entity.indices[0]+1),hashtag=twttr.txt.htmlEscape(entity.hashtag),attrs=clone(options.htmlAttrs||{});return options.cordova?(attrs.href="#",attrs.onclick="window.open('"+options.hashtagUrlBase+hashtag+"', '_system');"):attrs.href=options.hashtagUrlBase+hashtag,attrs.title="#"+hashtag,attrs.class=options.hashtagClass,hashtag.charAt(0).match(twttr.txt.regexen.rtl_chars)&&(attrs.class+=" rtl"),options.targetBlank&&(attrs.target="_blank"),twttr.txt.linkToTextWithSymbol(entity,hash,hashtag,attrs,options)},twttr.txt.linkToCashtag=function(entity,text,options){var cashtag=twttr.txt.htmlEscape(entity.cashtag),attrs=clone(options.htmlAttrs||{});return options.cordova?(attrs.href="#",attrs.onclick="window.open('"+options.cashtagUrlBase+cashtag+"', '_system');"):attrs.href=options.cashtagUrlBase+cashtag,attrs.title="$"+cashtag,attrs.class=options.cashtagClass,options.targetBlank&&(attrs.target="_blank"),twttr.txt.linkToTextWithSymbol(entity,"$",cashtag,attrs,options)},twttr.txt.linkToMentionAndList=function(entity,text,options){var at=text.substring(entity.indices[0],entity.indices[0]+1),user=twttr.txt.htmlEscape(entity.screenName),slashListname=twttr.txt.htmlEscape(entity.listSlug),isList=entity.listSlug&&!options.suppressLists,attrs=clone(options.htmlAttrs||{});attrs.class=isList?options.listClass:options.usernameClass;var url=isList?options.listUrlBase+user+slashListname:options.usernameUrlBase+user;return options.cordova?(attrs.href="#",attrs.onclick="window.open('"+url+"', '_system');"):attrs.href=url,isList||options.suppressDataScreenName||(attrs["data-screen-name"]=user),options.targetBlank&&(attrs.target="_blank"),twttr.txt.linkToTextWithSymbol(entity,at,isList?user+slashListname:user,attrs,options)},twttr.txt.linkToUrl=function(entity,text,options){var url=entity.url,displayUrl=url,linkText=twttr.txt.htmlEscape(displayUrl),urlEntity=options.urlEntities&&options.urlEntities[url]||entity;urlEntity.display_url&&(linkText=twttr.txt.linkTextWithEntity(urlEntity,options));var attrs=clone(options.htmlAttrs||{});return url.match(twttr.txt.regexen.urlHasProtocol)||(url="http://"+url),options.cordova?(attrs.href="#",attrs.onclick="window.open('"+url+"', '_system');"):attrs.href=url,options.targetBlank&&(attrs.target="_blank"),options.urlClass&&(attrs.class=options.urlClass),options.urlTarget&&(attrs.target=options.urlTarget),!options.title&&urlEntity.display_url&&(attrs.title=urlEntity.expanded_url),twttr.txt.linkToText(entity,linkText,attrs,options)},twttr.txt.linkTextWithEntity=function(entity,options){var displayUrl=entity.display_url,expandedUrl=entity.expanded_url,displayUrlSansEllipses=displayUrl.replace(/…/g,"");if(-1!=expandedUrl.indexOf(displayUrlSansEllipses)){var displayUrlIndex=expandedUrl.indexOf(displayUrlSansEllipses),v={displayUrlSansEllipses:displayUrlSansEllipses,beforeDisplayUrl:expandedUrl.substr(0,displayUrlIndex),afterDisplayUrl:expandedUrl.substr(displayUrlIndex+displayUrlSansEllipses.length),precedingEllipsis:displayUrl.match(/^…/)?"…":"",followingEllipsis:displayUrl.match(/…$/)?"…":""};for(var k in v)v.hasOwnProperty(k)&&(v[k]=twttr.txt.htmlEscape(v[k]));return v.invisible=options.invisibleTagAttrs,stringSupplant("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",v)}return displayUrl},twttr.txt.autoLinkEntities=function(text,entities,options){(options=clone(options||{})).hashtagClass=options.hashtagClass||"tweet-url hashtag",options.hashtagUrlBase=options.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",options.cashtagClass=options.cashtagClass||"tweet-url cashtag",options.cashtagUrlBase=options.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",options.listClass=options.listClass||"tweet-url list-slug",options.usernameClass=options.usernameClass||"tweet-url username",options.usernameUrlBase=options.usernameUrlBase||"https://twitter.com/",options.listUrlBase=options.listUrlBase||"https://twitter.com/",options.htmlAttrs=twttr.txt.extractHtmlAttrsFromOptions(options),options.invisibleTagAttrs=options.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var urlEntities,len;if(options.urlEntities){for(urlEntities={},i=0,len=options.urlEntities.length;i<len;i++)urlEntities[options.urlEntities[i].url]=options.urlEntities[i];options.urlEntities=urlEntities}var result="",beginIndex=0;entities.sort(function(a,b){return a.indices[0]-b.indices[0]});for(var nonEntity=options.htmlEscapeNonEntities?twttr.txt.htmlEscape:function(text){return text},i=0;i<entities.length;i++){var entity=entities[i];result+=nonEntity(text.substring(beginIndex,entity.indices[0])),entity.url?result+=twttr.txt.linkToUrl(entity,text,options):entity.hashtag?result+=twttr.txt.linkToHashtag(entity,text,options):entity.screenName?result+=twttr.txt.linkToMentionAndList(entity,text,options):entity.cashtag&&(result+=twttr.txt.linkToCashtag(entity,text,options)),beginIndex=entity.indices[1]}return result+=nonEntity(text.substring(beginIndex,text.length))},twttr.txt.autoLinkWithJSON=function(text,json,options){if(json.user_mentions)for(i=0;i<json.user_mentions.length;i++)json.user_mentions[i].screenName=json.user_mentions[i].screen_name;if(json.hashtags)for(i=0;i<json.hashtags.length;i++)json.hashtags[i].hashtag=json.hashtags[i].text;if(json.symbols)for(var i=0;i<json.symbols.length;i++)json.symbols[i].cashtag=json.symbols[i].text;var entities=[];for(var key in json)entities=entities.concat(json[key]);return twttr.txt.modifyIndicesFromUnicodeToUTF16(text,entities),twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.extractHtmlAttrsFromOptions=function(options){var htmlAttrs={};for(var k in options){var v=options[k];OPTIONS_NOT_ATTRIBUTES[k]||(BOOLEAN_ATTRIBUTES[k]&&(v=v?k:null),null!=v&&(htmlAttrs[k]=v))}return htmlAttrs},twttr.txt.autoLink=function(text,options){var entities=twttr.txt.extractEntitiesWithIndices(text,{extractUrlsWithoutProtocol:!1});return twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.autoLinkUsernamesOrLists=function(text,options){var entities=twttr.txt.extractMentionsOrListsWithIndices(text);return twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.autoLinkHashtags=function(text,options){var entities=twttr.txt.extractHashtagsWithIndices(text);return twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.autoLinkCashtags=function(text,options){var entities=twttr.txt.extractCashtagsWithIndices(text);return twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.autoLinkUrlsCustom=function(text,options){var entities=twttr.txt.extractUrlsWithIndices(text,{extractUrlsWithoutProtocol:!1});return twttr.txt.autoLinkEntities(text,entities,options)},twttr.txt.removeOverlappingEntities=function(entities){entities.sort(function(a,b){return a.indices[0]-b.indices[0]});for(var prev=entities[0],i=1;i<entities.length;i++)prev.indices[1]>entities[i].indices[0]?(entities.splice(i,1),i--):prev=entities[i]},twttr.txt.extractEntitiesWithIndices=function(text,options){var entities=twttr.txt.extractUrlsWithIndices(text,options).concat(twttr.txt.extractMentionsOrListsWithIndices(text)).concat(twttr.txt.extractHashtagsWithIndices(text,{checkUrlOverlap:!1})).concat(twttr.txt.extractCashtagsWithIndices(text));return 0==entities.length?[]:(twttr.txt.removeOverlappingEntities(entities),entities)},twttr.txt.extractMentions=function(text){for(var screenNamesOnly=[],screenNamesWithIndices=twttr.txt.extractMentionsWithIndices(text),i=0;i<screenNamesWithIndices.length;i++){var screenName=screenNamesWithIndices[i].screenName;screenNamesOnly.push(screenName)}return screenNamesOnly},twttr.txt.extractMentionsWithIndices=function(text){for(var mentionOrList,mentions=[],mentionsOrLists=twttr.txt.extractMentionsOrListsWithIndices(text),i=0;i<mentionsOrLists.length;i++)""==(mentionOrList=mentionsOrLists[i]).listSlug&&mentions.push({screenName:mentionOrList.screenName,indices:mentionOrList.indices});return mentions},twttr.txt.extractMentionsOrListsWithIndices=function(text){if(!text||!text.match(twttr.txt.regexen.atSigns))return[];var possibleNames=[];return text.replace(twttr.txt.regexen.validMentionOrList,function(match,before,atSign,screenName,slashListname,offset,chunk){if(!chunk.slice(offset+match.length).match(twttr.txt.regexen.endMentionMatch)){slashListname=slashListname||"";var startPosition=offset+before.length,endPosition=startPosition+screenName.length+slashListname.length+1;possibleNames.push({screenName:screenName,listSlug:slashListname,indices:[startPosition,endPosition]})}}),possibleNames},twttr.txt.extractReplies=function(text){if(!text)return null;var possibleScreenName=text.match(twttr.txt.regexen.validReply);return!possibleScreenName||RegExp.rightContext.match(twttr.txt.regexen.endMentionMatch)?null:possibleScreenName[1]},twttr.txt.extractUrls=function(text,options){for(var urlsOnly=[],urlsWithIndices=twttr.txt.extractUrlsWithIndices(text,options),i=0;i<urlsWithIndices.length;i++)urlsOnly.push(urlsWithIndices[i].url);return urlsOnly},twttr.txt.extractUrlsWithIndices=function(text,options){if(options||(options={extractUrlsWithoutProtocol:!0}),!text||(options.extractUrlsWithoutProtocol?!text.match(/\./):!text.match(/:/)))return[];for(var urls=[];twttr.txt.regexen.extractUrl.exec(text);){var before=RegExp.$2,url=RegExp.$3,protocol=RegExp.$4,domain=RegExp.$5,path=RegExp.$7,endPosition=twttr.txt.regexen.extractUrl.lastIndex,startPosition=endPosition-url.length;if(protocol)url.match(twttr.txt.regexen.validTcoUrl)&&(url=RegExp.lastMatch,endPosition=startPosition+url.length),urls.push({url:url,indices:[startPosition,endPosition]});else{if(!options.extractUrlsWithoutProtocol||before.match(twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var lastUrl=null,asciiEndPosition=0;if(domain.replace(twttr.txt.regexen.validAsciiDomain,function(asciiDomain){var asciiStartPosition=domain.indexOf(asciiDomain,asciiEndPosition);asciiEndPosition=asciiStartPosition+asciiDomain.length,lastUrl={url:asciiDomain,indices:[startPosition+asciiStartPosition,startPosition+asciiEndPosition]},(path||asciiDomain.match(twttr.txt.regexen.validSpecialShortDomain)||!asciiDomain.match(twttr.txt.regexen.invalidShortDomain))&&urls.push(lastUrl)}),null==lastUrl)continue;path&&(lastUrl.url=url.replace(domain,lastUrl.url),lastUrl.indices[1]=endPosition)}}return urls},twttr.txt.extractHashtags=function(text){for(var hashtagsOnly=[],hashtagsWithIndices=twttr.txt.extractHashtagsWithIndices(text),i=0;i<hashtagsWithIndices.length;i++)hashtagsOnly.push(hashtagsWithIndices[i].hashtag);return hashtagsOnly},twttr.txt.extractHashtagsWithIndices=function(text,options){if(options||(options={checkUrlOverlap:!0}),!text||!text.match(twttr.txt.regexen.hashSigns))return[];var tags=[];if(text.replace(twttr.txt.regexen.validHashtag,function(match,before,hash,hashText,offset,chunk){if(!chunk.slice(offset+match.length).match(twttr.txt.regexen.endHashtagMatch)){var startPosition=offset+before.length,endPosition=startPosition+hashText.length+1;tags.push({hashtag:hashText,indices:[startPosition,endPosition]})}}),options.checkUrlOverlap){var urls=twttr.txt.extractUrlsWithIndices(text);if(urls.length>0){var entities=tags.concat(urls);twttr.txt.removeOverlappingEntities(entities),tags=[];for(var i=0;i<entities.length;i++)entities[i].hashtag&&tags.push(entities[i])}}return tags},twttr.txt.extractCashtags=function(text){for(var cashtagsOnly=[],cashtagsWithIndices=twttr.txt.extractCashtagsWithIndices(text),i=0;i<cashtagsWithIndices.length;i++)cashtagsOnly.push(cashtagsWithIndices[i].cashtag);return cashtagsOnly},twttr.txt.extractCashtagsWithIndices=function(text){if(!text||-1==text.indexOf("$"))return[];var tags=[];return text.replace(twttr.txt.regexen.validCashtag,function(match,before,dollar,cashtag,offset,chunk){var startPosition=offset+before.length,endPosition=startPosition+cashtag.length+1;tags.push({cashtag:cashtag,indices:[startPosition,endPosition]})}),tags},twttr.txt.modifyIndicesFromUnicodeToUTF16=function(text,entities){twttr.txt.convertUnicodeIndices(text,entities,!1)},twttr.txt.modifyIndicesFromUTF16ToUnicode=function(text,entities){twttr.txt.convertUnicodeIndices(text,entities,!0)},twttr.txt.getUnicodeTextLength=function(text){return text.replace(twttr.txt.regexen.non_bmp_code_pairs," ").length},twttr.txt.convertUnicodeIndices=function(text,entities,indicesInUTF16){if(0!=entities.length){var charIndex=0,codePointIndex=0;entities.sort(function(a,b){return a.indices[0]-b.indices[0]});for(var entityIndex=0,entity=entities[0];charIndex<text.length;){if(entity.indices[0]==(indicesInUTF16?charIndex:codePointIndex)){var len=entity.indices[1]-entity.indices[0];if(entity.indices[0]=indicesInUTF16?codePointIndex:charIndex,entity.indices[1]=entity.indices[0]+len,++entityIndex==entities.length)break;entity=entities[entityIndex]}var c=text.charCodeAt(charIndex);55296<=c&&c<=56319&&charIndex<text.length-1&&56320<=(c=text.charCodeAt(charIndex+1))&&c<=57343&&charIndex++,codePointIndex++,charIndex++}}},twttr.txt.splitTags=function(text){for(var secondSplits,split,firstSplits=text.split("<"),allSplits=[],i=0;i<firstSplits.length;i+=1)if(split=firstSplits[i]){secondSplits=split.split(">");for(var j=0;j<secondSplits.length;j+=1)allSplits.push(secondSplits[j])}else allSplits.push("");return allSplits},twttr.txt.hitHighlight=function(text,hits,options){if(hits=hits||[],options=options||{},0===hits.length)return text;var i,j,index,hit,tag,placed,hitSpot,tagName=options.tag||"em",tags=["<"+tagName+">","</"+tagName+">"],chunks=twttr.txt.splitTags(text),result="",chunkIndex=0,chunk=chunks[0],prevChunksLen=0,chunkCursor=0,startInChunk=!1,chunkChars=chunk,flatHits=[];for(i=0;i<hits.length;i+=1)for(j=0;j<hits[i].length;j+=1)flatHits.push(hits[i][j]);for(index=0;index<flatHits.length;index+=1){for(hit=flatHits[index],tag=tags[index%2],placed=!1;null!=chunk&&hit>=prevChunksLen+chunk.length;)result+=chunkChars.slice(chunkCursor),startInChunk&&hit===prevChunksLen+chunkChars.length&&(result+=tag,placed=!0),chunks[chunkIndex+1]&&(result+="<"+chunks[chunkIndex+1]+">"),prevChunksLen+=chunkChars.length,chunkCursor=0,chunkChars=chunk=chunks[chunkIndex+=2],startInChunk=!1;placed||null==chunk?placed||(placed=!0,result+=tag):(hitSpot=hit-prevChunksLen,result+=chunkChars.slice(chunkCursor,hitSpot)+tag,chunkCursor=hitSpot,startInChunk=index%2==0)}if(null!=chunk)for(chunkCursor<chunkChars.length&&(result+=chunkChars.slice(chunkCursor)),index=chunkIndex+1;index<chunks.length;index+=1)result+=index%2==0?chunks[index]:"<"+chunks[index]+">";return result};var INVALID_CHARACTERS=[fromCode(65534),fromCode(65279),fromCode(65535),fromCode(8234),fromCode(8235),fromCode(8236),fromCode(8237),fromCode(8238)];twttr.txt.getTweetLength=function(text,options){options||(options={short_url_length:23,short_url_length_https:23});var textLength=twttr.txt.getUnicodeTextLength(text),urlsWithIndices=twttr.txt.extractUrlsWithIndices(text);twttr.txt.modifyIndicesFromUTF16ToUnicode(text,urlsWithIndices);for(var i=0;i<urlsWithIndices.length;i++)textLength+=urlsWithIndices[i].indices[0]-urlsWithIndices[i].indices[1],urlsWithIndices[i].url.toLowerCase().match(twttr.txt.regexen.urlHasHttps)?textLength+=options.short_url_length_https:textLength+=options.short_url_length;return textLength},twttr.txt.isInvalidTweet=function(text){return text?twttr.txt.getTweetLength(text)>140?"too_long":!!twttr.txt.hasInvalidCharacters(text)&&"invalid_characters":"empty"},twttr.txt.hasInvalidCharacters=function(text){for(var i=0;i<INVALID_CHARACTERS.length;i++)if(text.indexOf(INVALID_CHARACTERS[i])>=0)return!0;return!1},twttr.txt.isValidTweetText=function(text){return!twttr.txt.isInvalidTweet(text)},twttr.txt.isValidUsername=function(username){if(!username)return!1;var extracted=twttr.txt.extractMentions(username);return 1===extracted.length&&extracted[0]===username.slice(1)};var VALID_LIST_RE=regexSupplant(/^#{validMentionOrList}$/);if(twttr.txt.isValidList=function(usernameList){var match=usernameList.match(VALID_LIST_RE);return!(!match||""!=match[1]||!match[4])},twttr.txt.isValidHashtag=function(hashtag){if(!hashtag)return!1;var extracted=twttr.txt.extractHashtags(hashtag);return 1===extracted.length&&extracted[0]===hashtag.slice(1)},twttr.txt.isValidUrl=function(url,unicodeDomains,requireProtocol){if(null==unicodeDomains&&(unicodeDomains=!0),null==requireProtocol&&(requireProtocol=!0),!url)return!1;var urlParts=url.match(twttr.txt.regexen.validateUrlUnencoded);if(!urlParts||urlParts[0]!==url)return!1;var scheme=urlParts[1],authority=urlParts[2],path=urlParts[3],query=urlParts[4],fragment=urlParts[5];return!!((!requireProtocol||isValidMatch(scheme,twttr.txt.regexen.validateUrlScheme)&&scheme.match(/^https?$/i))&&isValidMatch(path,twttr.txt.regexen.validateUrlPath)&&isValidMatch(query,twttr.txt.regexen.validateUrlQuery,!0)&&isValidMatch(fragment,twttr.txt.regexen.validateUrlFragment,!0))&&(unicodeDomains&&isValidMatch(authority,twttr.txt.regexen.validateUrlUnicodeAuthority)||!unicodeDomains&&isValidMatch(authority,twttr.txt.regexen.validateUrlAuthority))},"undefined"!=typeof module&&module.exports&&(module.exports=twttr.txt),"function"==typeof define&&define.amd&&define([],twttr.txt),"undefined"!=typeof window)if(window.twttr)for(var prop in twttr)window.twttr[prop]=twttr[prop];else window.twttr=twttr}();var XXH=function(t){function r(e){if(i[e])return i[e].exports;var h=i[e]={exports:{},id:e,loaded:!1};return t[e].call(h.exports,h,h.exports,r),h.loaded=!0,h.exports}var i={};return r.m=t,r.c=i,r.p="",r(0)}([function(t,r,i){t.exports={h32:i(1),h64:i(9)}},function(t,r,i){(function(r){function e(t){for(var r=[],i=0,e=t.length;e>i;i++){var h=t.charCodeAt(i);128>h?r.push(h):2048>h?r.push(192|h>>6,128|63&h):55296>h||h>=57344?r.push(224|h>>12,128|h>>6&63,128|63&h):(i++,h=65536+((1023&h)<<10|1023&t.charCodeAt(i)),r.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|63&h))}return new Uint8Array(r)}function h(){return 2==arguments.length?new h(arguments[1]).update(arguments[0]).digest():this instanceof h?void o.call(this,arguments[0]):new h(arguments[0])}function o(t){return this.seed=t instanceof n?t.clone():n(t),this.v1=this.seed.clone().add(s).add(a),this.v2=this.seed.clone().add(a),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(s),this.total_len=0,this.memsize=0,this.memory=null,this}var n=i(6).UINT32;n.prototype.xxh_update=function(t,r){var i,e,h=a._low,o=a._high;i=(e=t*h)>>>16,i+=r*h,i&=65535,i+=t*o;var n=this._low+(65535&e),u=n>>>16,f=(u+=this._high+(65535&i))<<16|65535&n;u=(f=f<<13|f>>>19)>>>16,i=(e=(n=65535&f)*(h=s._low))>>>16,i+=u*h,i&=65535,i+=n*(o=s._high),this._low=65535&e,this._high=65535&i};var s=n("2654435761"),a=n("2246822519"),u=n("3266489917"),f=n("668265263"),l=n("374761393");h.prototype.init=o,h.prototype.update=function(t){var i,h="string"==typeof t;h&&(t=e(t),h=!1,i=!0),"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&(i=!0,t=new Uint8Array(t));var o=0,n=t.length,s=o+n;if(0==n)return this;if(this.total_len+=n,0==this.memsize&&(this.memory=h?"":i?new Uint8Array(16):new r(16)),this.memsize+n<16)return h?this.memory+=t:i?this.memory.set(t.subarray(0,n),this.memsize):t.copy(this.memory,this.memsize,0,n),this.memsize+=n,this;if(this.memsize>0){h?this.memory+=t.slice(0,16-this.memsize):i?this.memory.set(t.subarray(0,16-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,16-this.memsize);var a=0;h?(this.v1.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v2.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v3.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v4.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2))):(this.v1.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v2.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v3.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v4.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2])),o+=16-this.memsize,this.memsize=0,h&&(this.memory="")}if(s-16>=o){var u=s-16;do{h?(this.v1.xxh_update(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2)),o+=4,this.v2.xxh_update(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2)),o+=4,this.v3.xxh_update(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2)),o+=4,this.v4.xxh_update(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2))):(this.v1.xxh_update(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2]),o+=4,this.v2.xxh_update(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2]),o+=4,this.v3.xxh_update(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2]),o+=4,this.v4.xxh_update(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2])),o+=4}while(u>=o)}return s>o&&(h?this.memory+=t.slice(o):i?this.memory.set(t.subarray(o,s),this.memsize):t.copy(this.memory,this.memsize,o,s),this.memsize=s-o),this},h.prototype.digest=function(){var t,r,i=this.memory,e="string"==typeof i,h=0,o=this.memsize,c=new n;for((t=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(l)).add(c.fromNumber(this.total_len));o-4>=h;)e?c.fromBits(i.charCodeAt(h+1)<<8|i.charCodeAt(h),i.charCodeAt(h+3)<<8|i.charCodeAt(h+2)):c.fromBits(i[h+1]<<8|i[h],i[h+3]<<8|i[h+2]),t.add(c.multiply(u)).rotl(17).multiply(f),h+=4;for(;o>h;)c.fromBits(e?i.charCodeAt(h++):i[h++],0),t.add(c.multiply(l)).rotl(11).multiply(s);return r=t.clone().shiftRight(15),t.xor(r).multiply(a),r=t.clone().shiftRight(13),t.xor(r).multiply(u),r=t.clone().shiftRight(16),t.xor(r),this.init(this.seed),t},t.exports=h}).call(r,i(2).Buffer)},function(t,r,i){(function(t,e){"use strict";function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(r){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof r?n(this,r):"string"==typeof r?s(this,r,arguments.length>1?arguments[1]:"utf8"):a(this,r)):arguments.length>1?new t(r,arguments[1]):new t(r)}function n(r,i){if(r=d(r,0>i?0:0|_(i)),!t.TYPED_ARRAY_SUPPORT)for(var e=0;i>e;e++)r[e]=0;return r}function s(t,r,i){return("string"!=typeof i||""===i)&&(i="utf8"),(t=d(t,0|g(r,i))).write(r,i),t}function a(r,i){if(t.isBuffer(i))return u(r,i);if(Q(i))return f(r,i);if(null==i)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(i.buffer instanceof ArrayBuffer)return l(r,i);if(i instanceof ArrayBuffer)return c(r,i)}return i.length?m(r,i):p(r,i)}function u(t,r){var i=0|_(r.length);return t=d(t,i),r.copy(t,0,0,i),t}function f(t,r){var i=0|_(r.length);t=d(t,i);for(var e=0;i>e;e+=1)t[e]=255&r[e];return t}function l(t,r){var i=0|_(r.length);t=d(t,i);for(var e=0;i>e;e+=1)t[e]=255&r[e];return t}function c(r,i){return t.TYPED_ARRAY_SUPPORT?(i.byteLength,r=t._augment(new Uint8Array(i))):r=l(r,new Uint8Array(i)),r}function m(t,r){var i=0|_(r.length);t=d(t,i);for(var e=0;i>e;e+=1)t[e]=255&r[e];return t}function p(t,r){var i,e=0;"Buffer"===r.type&&Q(r.data)&&(i=r.data,e=0|_(i.length)),t=d(t,e);for(var h=0;e>h;h+=1)t[h]=255&i[h];return t}function d(r,i){return t.TYPED_ARRAY_SUPPORT?(r=t._augment(new Uint8Array(i)),r.__proto__=t.prototype):(r.length=i,r._isBuffer=!0),0!==i&&i<=t.poolSize>>>1&&(r.parent=V),r}function _(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function y(r,i){if(!(this instanceof y))return new y(r,i);var e=new t(r,i);return delete e.parent,e}function g(t,r){"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var e=!1;;)switch(r){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(t).length;default:if(e)return j(t).length;r=(""+r).toLowerCase(),e=!0}}function w(t,r,i){var e=!1;if(r|=0,i=void 0===i||i===1/0?this.length:0|i,t||(t="utf8"),0>r&&(r=0),i>this.length&&(i=this.length),r>=i)return"";for(;;)switch(t){case"hex":return T(this,r,i);case"utf8":case"utf-8":return R(this,r,i);case"ascii":return x(this,r,i);case"binary":return P(this,r,i);case"base64":return b(this,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,r,i);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function A(t,r,i,e){i=Number(i)||0;var h=t.length-i;e?(e=Number(e))>h&&(e=h):e=h;var o=r.length;if(o%2!=0)throw new Error("Invalid hex string");e>o/2&&(e=o/2);for(var n=0;e>n;n++){var s=parseInt(r.substr(2*n,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[i+n]=s}return n}function v(t,r,i,e){return Z(j(r,t.length-i),t,i,e)}function E(t,r,i,e){return Z(X(r),t,i,e)}function C(t,r,i,e){return E(t,r,i,e)}function B(t,r,i,e){return Z(H(r),t,i,e)}function I(t,r,i,e){return Z(J(r,t.length-i),t,i,e)}function b(t,r,i){return G.fromByteArray(0===r&&i===t.length?t:t.slice(r,i))}function R(t,r,i){i=Math.min(t.length,i);for(var e=[],h=r;i>h;){var o=t[h],n=null,s=o>239?4:o>223?3:o>191?2:1;if(i>=h+s){var a,u,f,l;switch(s){case 1:128>o&&(n=o);break;case 2:128==(192&(a=t[h+1]))&&(l=(31&o)<<6|63&a)>127&&(n=l);break;case 3:a=t[h+1],u=t[h+2],128==(192&a)&&128==(192&u)&&(l=(15&o)<<12|(63&a)<<6|63&u)>2047&&(55296>l||l>57343)&&(n=l);break;case 4:a=t[h+1],u=t[h+2],f=t[h+3],128==(192&a)&&128==(192&u)&&128==(192&f)&&(l=(15&o)<<18|(63&a)<<12|(63&u)<<6|63&f)>65535&&1114112>l&&(n=l)}}null===n?(n=65533,s=1):n>65535&&(n-=65536,e.push(n>>>10&1023|55296),n=56320|1023&n),e.push(n),h+=s}return U(e)}function U(t){var r=t.length;if(W>=r)return String.fromCharCode.apply(String,t);for(var i="",e=0;r>e;)i+=String.fromCharCode.apply(String,t.slice(e,e+=W));return i}function x(t,r,i){var e="";i=Math.min(t.length,i);for(var h=r;i>h;h++)e+=String.fromCharCode(127&t[h]);return e}function P(t,r,i){var e="";i=Math.min(t.length,i);for(var h=r;i>h;h++)e+=String.fromCharCode(t[h]);return e}function T(t,r,i){var e=t.length;(!r||0>r)&&(r=0),(!i||0>i||i>e)&&(i=e);for(var h="",o=r;i>o;o++)h+=q(t[o]);return h}function S(t,r,i){for(var e=t.slice(r,i),h="",o=0;o<e.length;o+=2)h+=String.fromCharCode(e[o]+256*e[o+1]);return h}function L(t,r,i){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+r>i)throw new RangeError("Trying to access beyond buffer length")}function Y(r,i,e,h,o,n){if(!t.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");if(i>o||n>i)throw new RangeError("value is out of bounds");if(e+h>r.length)throw new RangeError("index out of range")}function z(t,r,i,e){0>r&&(r=65535+r+1);for(var h=0,o=Math.min(t.length-i,2);o>h;h++)t[i+h]=(r&255<<8*(e?h:1-h))>>>8*(e?h:1-h)}function M(t,r,i,e){0>r&&(r=4294967295+r+1);for(var h=0,o=Math.min(t.length-i,4);o>h;h++)t[i+h]=r>>>8*(e?h:3-h)&255}function D(t,r,i,e,h,o){if(r>h||o>r)throw new RangeError("value is out of bounds");if(i+e>t.length)throw new RangeError("index out of range");if(0>i)throw new RangeError("index out of range")}function O(t,r,i,e,h){return h||D(t,r,i,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,i,e,23,4),i+4}function N(t,r,i,e,h){return h||D(t,r,i,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,i,e,52,8),i+8}function F(t){if((t=k(t).replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return 16>t?"0"+t.toString(16):t.toString(16)}function j(t,r){r=r||1/0;for(var i,e=t.length,h=null,o=[],n=0;e>n;n++){if((i=t.charCodeAt(n))>55295&&57344>i){if(!h){if(i>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(n+1===e){(r-=3)>-1&&o.push(239,191,189);continue}h=i;continue}if(56320>i){(r-=3)>-1&&o.push(239,191,189),h=i;continue}i=65536+(h-55296<<10|i-56320)}else h&&(r-=3)>-1&&o.push(239,191,189);if(h=null,128>i){if((r-=1)<0)break;o.push(i)}else if(2048>i){if((r-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(65536>i){if((r-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function X(t){for(var r=[],i=0;i<t.length;i++)r.push(255&t.charCodeAt(i));return r}function J(t,r){for(var i,e,h,o=[],n=0;n<t.length&&!((r-=2)<0);n++)i=t.charCodeAt(n),e=i>>8,h=i%256,o.push(h),o.push(e);return o}function H(t){return G.toByteArray(F(t))}function Z(t,r,i,e){for(var h=0;e>h&&!(h+i>=r.length||h>=t.length);h++)r[h+i]=t[h];return h}var G=i(3),K=i(4),Q=i(5);r.Buffer=t,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,t.poolSize=8192;var V={};t.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){function t(){}try{var r=new Uint8Array(1);return r.foo=function(){return 42},r.constructor=t,42===r.foo()&&r.constructor===t&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(i){return!1}}(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,i){if(!t.isBuffer(r)||!t.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(r===i)return 0;for(var e=r.length,h=i.length,o=0,n=Math.min(e,h);n>o&&r[o]===i[o];)++o;return o!==n&&(e=r[o],h=i[o]),h>e?-1:e>h?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(r,i){if(!Q(r))throw new TypeError("list argument must be an Array of Buffers.");if(0===r.length)return new t(0);var e;if(void 0===i)for(i=0,e=0;e<r.length;e++)i+=r[e].length;var h=new t(i),o=0;for(e=0;e<r.length;e++){var n=r[e];n.copy(h,o),o+=n.length}return h},t.byteLength=g,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var t="",i=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?0:t.compare(this,r)},t.prototype.indexOf=function(r,i){function e(t,r,i){for(var e=-1,h=0;i+h<t.length;h++)if(t[i+h]===r[-1===e?0:h-e]){if(-1===e&&(e=h),h-e+1===r.length)return i+e}else e=-1;return-1}if(i>2147483647?i=2147483647:-2147483648>i&&(i=-2147483648),i>>=0,0===this.length)return-1;if(i>=this.length)return-1;if(0>i&&(i=Math.max(this.length+i,0)),"string"==typeof r)return 0===r.length?-1:String.prototype.indexOf.call(this,r,i);if(t.isBuffer(r))return e(this,r,i);if("number"==typeof r)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,r,i):e(this,[r],i);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},t.prototype.write=function(t,r,i,e){if(void 0===r)e="utf8",i=this.length,r=0;else if(void 0===i&&"string"==typeof r)e=r,i=this.length,r=0;else if(isFinite(r))r|=0,isFinite(i)?(i|=0,void 0===e&&(e="utf8")):(e=i,i=void 0);else{var h=e;e=r,r=0|i,i=h}var o=this.length-r;if((void 0===i||i>o)&&(i=o),t.length>0&&(0>i||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");e||(e="utf8");for(var n=!1;;)switch(e){case"hex":return A(this,t,r,i);case"utf8":case"utf-8":return v(this,t,r,i);case"ascii":return E(this,t,r,i);case"binary":return C(this,t,r,i);case"base64":return B(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),n=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;t.prototype.slice=function(r,i){var e=this.length;r=~~r,i=void 0===i?e:~~i,0>r?0>(r+=e)&&(r=0):r>e&&(r=e),0>i?0>(i+=e)&&(i=0):i>e&&(i=e),r>i&&(i=r);var h;if(t.TYPED_ARRAY_SUPPORT)h=t._augment(this.subarray(r,i));else{var o=i-r;h=new t(o,void 0);for(var n=0;o>n;n++)h[n]=this[n+r]}return h.length&&(h.parent=this.parent||this),h},t.prototype.readUIntLE=function(t,r,i){t|=0,r|=0,i||L(t,r,this.length);for(var e=this[t],h=1,o=0;++o<r&&(h*=256);)e+=this[t+o]*h;return e},t.prototype.readUIntBE=function(t,r,i){t|=0,r|=0,i||L(t,r,this.length);for(var e=this[t+--r],h=1;r>0&&(h*=256);)e+=this[t+--r]*h;return e},t.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,i){t|=0,r|=0,i||L(t,r,this.length);for(var e=this[t],h=1,o=0;++o<r&&(h*=256);)e+=this[t+o]*h;return h*=128,e>=h&&(e-=Math.pow(2,8*r)),e},t.prototype.readIntBE=function(t,r,i){t|=0,r|=0,i||L(t,r,this.length);for(var e=r,h=1,o=this[t+--e];e>0&&(h*=256);)o+=this[t+--e]*h;return h*=128,o>=h&&(o-=Math.pow(2,8*r)),o},t.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,i,e){t=+t,r|=0,i|=0,e||Y(this,t,r,i,Math.pow(2,8*i),0);var h=1,o=0;for(this[r]=255&t;++o<i&&(h*=256);)this[r+o]=t/h&255;return r+i},t.prototype.writeUIntBE=function(t,r,i,e){t=+t,r|=0,i|=0,e||Y(this,t,r,i,Math.pow(2,8*i),0);var h=i-1,o=1;for(this[r+h]=255&t;--h>=0&&(o*=256);)this[r+h]=t/o&255;return r+i},t.prototype.writeUInt8=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[i]=255&r,i+1},t.prototype.writeUInt16LE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=255&r,this[i+1]=r>>>8):z(this,r,i,!0),i+2},t.prototype.writeUInt16BE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=r>>>8,this[i+1]=255&r):z(this,r,i,!1),i+2},t.prototype.writeUInt32LE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i+3]=r>>>24,this[i+2]=r>>>16,this[i+1]=r>>>8,this[i]=255&r):M(this,r,i,!0),i+4},t.prototype.writeUInt32BE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=255&r):M(this,r,i,!1),i+4},t.prototype.writeIntLE=function(t,r,i,e){if(t=+t,r|=0,!e){var h=Math.pow(2,8*i-1);Y(this,t,r,i,h-1,-h)}var o=0,n=1,s=0>t?1:0;for(this[r]=255&t;++o<i&&(n*=256);)this[r+o]=(t/n>>0)-s&255;return r+i},t.prototype.writeIntBE=function(t,r,i,e){if(t=+t,r|=0,!e){var h=Math.pow(2,8*i-1);Y(this,t,r,i,h-1,-h)}var o=i-1,n=1,s=0>t?1:0;for(this[r+o]=255&t;--o>=0&&(n*=256);)this[r+o]=(t/n>>0)-s&255;return r+i},t.prototype.writeInt8=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),0>r&&(r=255+r+1),this[i]=255&r,i+1},t.prototype.writeInt16LE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=255&r,this[i+1]=r>>>8):z(this,r,i,!0),i+2},t.prototype.writeInt16BE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=r>>>8,this[i+1]=255&r):z(this,r,i,!1),i+2},t.prototype.writeInt32LE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[i]=255&r,this[i+1]=r>>>8,this[i+2]=r>>>16,this[i+3]=r>>>24):M(this,r,i,!0),i+4},t.prototype.writeInt32BE=function(r,i,e){return r=+r,i|=0,e||Y(this,r,i,4,2147483647,-2147483648),0>r&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=255&r):M(this,r,i,!1),i+4},t.prototype.writeFloatLE=function(t,r,i){return O(this,t,r,!0,i)},t.prototype.writeFloatBE=function(t,r,i){return O(this,t,r,!1,i)},t.prototype.writeDoubleLE=function(t,r,i){return N(this,t,r,!0,i)},t.prototype.writeDoubleBE=function(t,r,i){return N(this,t,r,!1,i)},t.prototype.copy=function(r,i,e,h){if(e||(e=0),h||0===h||(h=this.length),i>=r.length&&(i=r.length),i||(i=0),h>0&&e>h&&(h=e),h===e)return 0;if(0===r.length||0===this.length)return 0;if(0>i)throw new RangeError("targetStart out of bounds");if(0>e||e>=this.length)throw new RangeError("sourceStart out of bounds");if(0>h)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),r.length-i<h-e&&(h=r.length-i+e);var o,n=h-e;if(this===r&&i>e&&h>i)for(o=n-1;o>=0;o--)r[o+i]=this[o+e];else if(1e3>n||!t.TYPED_ARRAY_SUPPORT)for(o=0;n>o;o++)r[o+i]=this[o+e];else r._set(this.subarray(e,e+n),i);return n},t.prototype.fill=function(t,r,i){if(t||(t=0),r||(r=0),i||(i=this.length),r>i)throw new RangeError("end < start");if(i!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>i||i>this.length)throw new RangeError("end out of bounds");var e;if("number"==typeof t)for(e=r;i>e;e++)this[e]=t;else{var h=j(t.toString()),o=h.length;for(e=r;i>e;e++)this[e]=h[e%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var r=new Uint8Array(this.length),i=0,e=r.length;e>i;i+=1)r[i]=this[i];return r.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=t.prototype;t._augment=function(r){return r.constructor=t,r._isBuffer=!0,r._set=r.set,r.get=$.get,r.set=$.set,r.write=$.write,r.toString=$.toString,r.toLocaleString=$.toString,r.toJSON=$.toJSON,r.equals=$.equals,r.compare=$.compare,r.indexOf=$.indexOf,r.copy=$.copy,r.slice=$.slice,r.readUIntLE=$.readUIntLE,r.readUIntBE=$.readUIntBE,r.readUInt8=$.readUInt8,r.readUInt16LE=$.readUInt16LE,r.readUInt16BE=$.readUInt16BE,r.readUInt32LE=$.readUInt32LE,r.readUInt32BE=$.readUInt32BE,r.readIntLE=$.readIntLE,r.readIntBE=$.readIntBE,r.readInt8=$.readInt8,r.readInt16LE=$.readInt16LE,r.readInt16BE=$.readInt16BE,r.readInt32LE=$.readInt32LE,r.readInt32BE=$.readInt32BE,r.readFloatLE=$.readFloatLE,r.readFloatBE=$.readFloatBE,r.readDoubleLE=$.readDoubleLE,r.readDoubleBE=$.readDoubleBE,r.writeUInt8=$.writeUInt8,r.writeUIntLE=$.writeUIntLE,r.writeUIntBE=$.writeUIntBE,r.writeUInt16LE=$.writeUInt16LE,r.writeUInt16BE=$.writeUInt16BE,r.writeUInt32LE=$.writeUInt32LE,r.writeUInt32BE=$.writeUInt32BE,r.writeIntLE=$.writeIntLE,r.writeIntBE=$.writeIntBE,r.writeInt8=$.writeInt8,r.writeInt16LE=$.writeInt16LE,r.writeInt16BE=$.writeInt16BE,r.writeInt32LE=$.writeInt32LE,r.writeInt32BE=$.writeInt32BE,r.writeFloatLE=$.writeFloatLE,r.writeFloatBE=$.writeFloatBE,r.writeDoubleLE=$.writeDoubleLE,r.writeDoubleBE=$.writeDoubleBE,r.fill=$.fill,r.inspect=$.inspect,r.toArrayBuffer=$.toArrayBuffer,r};var tt=/[^+\/0-9A-Za-z-_]/g}).call(r,i(2).Buffer,function(){return this}())},function(t,r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===n||r===l?62:r===s||r===c?63:a>r?-1:a+10>r?r-a+26+26:f+26>r?r-f:u+26>r?r-u+26:void 0}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),u="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),c="_".charCodeAt(0);t.toByteArray=function(t){function i(t){u[l++]=t}var e,h,n,s,a,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;a="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,u=new o(3*t.length/4-a),n=a>0?t.length-4:t.length;var l=0;for(e=0,h=0;n>e;e+=4,h+=3)s=r(t.charAt(e))<<18|r(t.charAt(e+1))<<12|r(t.charAt(e+2))<<6|r(t.charAt(e+3)),i((16711680&s)>>16),i((65280&s)>>8),i(255&s);return 2===a?(s=r(t.charAt(e))<<2|r(t.charAt(e+1))>>4,i(255&s)):1===a&&(s=r(t.charAt(e))<<10|r(t.charAt(e+1))<<4|r(t.charAt(e+2))>>2,i(s>>8&255),i(255&s)),u},t.fromByteArray=function(t){function r(t){return i.charAt(t)}var h,o,n,s=t.length%3,a="";for(h=0,n=t.length-s;n>h;h+=3)o=(t[h]<<16)+(t[h+1]<<8)+t[h+2],a+=function(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}(o);switch(s){case 1:a+=r((o=t[t.length-1])>>2),a+=r(o<<4&63),a+="==";break;case 2:a+=r((o=(t[t.length-2]<<8)+t[t.length-1])>>10),a+=r(o>>4&63),a+=r(o<<2&63),a+="="}return a}}(r)},function(t,r){r.read=function(t,r,i,e,h){var o,n,s=8*h-e-1,a=(1<<s)-1,u=a>>1,f=-7,l=i?h-1:0,c=i?-1:1,m=t[r+l];for(l+=c,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=256*o+t[r+l],l+=c,f-=8);for(n=o&(1<<-f)-1,o>>=-f,f+=e;f>0;n=256*n+t[r+l],l+=c,f-=8);if(0===o)o=1-u;else{if(o===a)return n?NaN:1/0*(m?-1:1);n+=Math.pow(2,e),o-=u}return(m?-1:1)*n*Math.pow(2,o-e)},r.write=function(t,r,i,e,h,o){var n,s,a,u=8*o-h-1,f=(1<<u)-1,l=f>>1,c=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,m=e?0:o-1,p=e?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,n=f):(n=Math.floor(Math.log(r)/Math.LN2),r*(a=Math.pow(2,-n))<1&&(n--,a*=2),(r+=n+l>=1?c/a:c*Math.pow(2,1-l))*a>=2&&(n++,a/=2),n+l>=f?(s=0,n=f):n+l>=1?(s=(r*a-1)*Math.pow(2,h),n+=l):(s=r*Math.pow(2,l-1)*Math.pow(2,h),n=0));h>=8;t[i+m]=255&s,m+=p,s/=256,h-=8);for(n=n<<h|s,u+=h;u>0;t[i+m]=255&n,m+=p,n/=256,u-=8);t[i+m-p]|=128*d}},function(t){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,r,i){r.UINT32=i(7),r.UINT64=i(8)},function(t,r){var i,e;!function(h){function o(t,r){return this instanceof o?(this._low=0,this._high=0,this.remainder=null,void 0===r?s.call(this,t):"string"==typeof t?a.call(this,t,r):void n.call(this,t,r)):new o(t,r)}function n(t,r){return this._low=0|t,this._high=0|r,this}function s(t){return this._low=65535&t,this._high=t>>>16,this}function a(t,r){var i=parseInt(t,r||10);return this._low=65535&i,this._high=i>>>16,this}var u=(o(Math.pow(36,5)),o(Math.pow(16,7)),o(Math.pow(10,9)),o(Math.pow(2,30)),{36:o(36),16:o(16),10:o(10),2:o(2)});o.prototype.fromBits=n,o.prototype.fromNumber=s,o.prototype.fromString=a,o.prototype.toNumber=function(){return this._high<<16|this._low},o.prototype.toString=function(t){var r=u[t=t||10]||new o(t);if(!this.gt(r))return this.toNumber().toString(t);for(var i=this.clone(),e=new Array(32),h=31;h>=0&&(i.div(r),e[h]=i.remainder.toNumber().toString(t),i.gt(r));h--);return e[h-1]=i.toNumber().toString(t),e.join("")},o.prototype.add=function(t){var r=this._low+t._low,i=r>>>16;return i+=this._high+t._high,this._low=65535&r,this._high=65535&i,this},o.prototype.subtract=function(t){return this.add(t.clone().negate())},o.prototype.multiply=function(t){var r,i,e=this._high,h=this._low,o=t._high,n=t._low;return i=h*n,r=i>>>16,r+=e*n,r&=65535,r+=h*o,this._low=65535&i,this._high=65535&r,this},o.prototype.div=function(t){if(0==t._low&&0==t._high)throw Error("division by zero");if(0==t._high&&1==t._low)return this.remainder=new o(0),this;if(t.gt(this))return this.remainder=new o(0),this._low=0,this._high=0,this;if(this.eq(t))return this.remainder=new o(0),this._low=1,this._high=0,this;for(var r=t.clone(),i=-1;!this.lt(r);)r.shiftLeft(1,!0),i++;for(this.remainder=this.clone(),this._low=0,this._high=0;i>=0;i--)r.shiftRight(1),this.remainder.lt(r)||(this.remainder.subtract(r),i>=16?this._high|=1<<i-16:this._low|=1<<i);return this},o.prototype.negate=o.prototype.not=function(){var t=1+(65535&~this._low);return this._low=65535&t,this._high=~this._high+(t>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(t){return this._low==t._low&&this._high==t._high},o.prototype.greaterThan=o.prototype.gt=function(t){return this._high>t._high||!(this._high<t._high)&&this._low>t._low},o.prototype.lessThan=o.prototype.lt=function(t){return this._high<t._high||!(this._high>t._high)&&this._low<t._low},o.prototype.or=function(t){return this._low|=t._low,this._high|=t._high,this},o.prototype.and=function(t){return this._low&=t._low,this._high&=t._high,this},o.prototype.xor=function(t){return this._low^=t._low,this._high^=t._high,this},o.prototype.shiftRight=o.prototype.shiftr=function(t){return t>16?(this._low=this._high>>t-16,this._high=0):16==t?(this._low=this._high,this._high=0):(this._low=this._low>>t|this._high<<16-t&65535,this._high>>=t),this},o.prototype.shiftLeft=o.prototype.shiftl=function(t,r){return t>16?(this._high=this._low<<t-16,this._low=0,r||(this._high&=65535)):16==t?(this._high=this._low,this._low=0):(this._high=this._high<<t|this._low>>16-t,this._low=this._low<<t&65535,r||(this._high&=65535)),this},o.prototype.rotateLeft=o.prototype.rotl=function(t){var r=this._high<<16|this._low;return r=r<<t|r>>>32-t,this._low=65535&r,this._high=r>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(t){var r=this._high<<16|this._low;return r=r>>>t|r<<32-t,this._low=65535&r,this._high=r>>>16,this},o.prototype.clone=function(){return new o(this._low,this._high)},i=[],void 0!==(e=function(){return o}.apply(r,i))&&(t.exports=e)}()},function(t,r){var i,e;!function(h){function o(t,r,i,e){return this instanceof o?(this.remainder=null,"string"==typeof t?a.call(this,t,r):void 0===r?s.call(this,t):void n.apply(this,arguments)):new o(t,r,i,e)}function n(t,r,i,e){return void 0===i?(this._a00=65535&t,this._a16=t>>>16,this._a32=65535&r,this._a48=r>>>16,this):(this._a00=0|t,this._a16=0|r,this._a32=0|i,this._a48=0|e,this)}function s(t){return this._a00=65535&t,this._a16=t>>>16,this._a32=0,this._a48=0,this}function a(t,r){r=r||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var i=u[r]||new o(Math.pow(r,5)),e=0,h=t.length;h>e;e+=5){var n=Math.min(5,h-e),s=parseInt(t.slice(e,e+n),r);this.multiply(5>n?new o(Math.pow(r,n)):i).add(new o(s))}return this}var u={16:o(Math.pow(16,5)),10:o(Math.pow(10,5)),2:o(Math.pow(2,5))},f={16:o(16),10:o(10),2:o(2)};o.prototype.fromBits=n,o.prototype.fromNumber=s,o.prototype.fromString=a,o.prototype.toNumber=function(){return this._a16<<16|this._a00},o.prototype.toString=function(t){var r=f[t=t||10]||new o(t);if(!this.gt(r))return this.toNumber().toString(t);for(var i=this.clone(),e=new Array(64),h=63;h>=0&&(i.div(r),e[h]=i.remainder.toNumber().toString(t),i.gt(r));h--);return e[h-1]=i.toNumber().toString(t),e.join("")},o.prototype.add=function(t){var r=this._a00+t._a00,i=r>>>16,e=(i+=this._a16+t._a16)>>>16,h=(e+=this._a32+t._a32)>>>16;return h+=this._a48+t._a48,this._a00=65535&r,this._a16=65535&i,this._a32=65535&e,this._a48=65535&h,this},o.prototype.subtract=function(t){return this.add(t.clone().negate())},o.prototype.multiply=function(t){var r=this._a00,i=this._a16,e=this._a32,h=this._a48,o=t._a00,n=t._a16,s=t._a32,u=r*o,f=u>>>16,l=(f+=r*n)>>>16;f&=65535,l+=(f+=i*o)>>>16;var c=(l+=r*s)>>>16;return l&=65535,l+=i*n,c+=l>>>16,l&=65535,l+=e*o,c+=l>>>16,c+=r*t._a48,c&=65535,c+=i*s,c&=65535,c+=e*n,c&=65535,c+=h*o,this._a00=65535&u,this._a16=65535&f,this._a32=65535&l,this._a48=65535&c,this},o.prototype.div=function(t){if(0==t._a16&&0==t._a32&&0==t._a48){if(0==t._a00)throw Error("division by zero");if(1==t._a00)return this.remainder=new o(0),this}if(t.gt(this))return this.remainder=new o(0),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(t))return this.remainder=new o(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var r=t.clone(),i=-1;!this.lt(r);)r.shiftLeft(1,!0),i++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;i>=0;i--)r.shiftRight(1),this.remainder.lt(r)||(this.remainder.subtract(r),i>=48?this._a48|=1<<i-48:i>=32?this._a32|=1<<i-32:i>=16?this._a16|=1<<i-16:this._a00|=1<<i);return this},o.prototype.negate=o.prototype.not=function(){var t=1+(65535&~this._a00);return this._a00=65535&t,t=(65535&~this._a16)+(t>>>16),this._a16=65535&t,t=(65535&~this._a32)+(t>>>16),this._a32=65535&t,this._a48=~this._a48+(t>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(t){return this._a48==t._a48&&this._a00==t._a00&&this._a32==t._a32&&this._a16==t._a16},o.prototype.greaterThan=o.prototype.gt=function(t){return this._a48>t._a48||!(this._a48<t._a48)&&(this._a32>t._a32||!(this._a32<t._a32)&&(this._a16>t._a16||!(this._a16<t._a16)&&this._a00>t._a00))},o.prototype.lessThan=o.prototype.lt=function(t){return this._a48<t._a48||!(this._a48>t._a48)&&(this._a32<t._a32||!(this._a32>t._a32)&&(this._a16<t._a16||!(this._a16>t._a16)&&this._a00<t._a00))},o.prototype.or=function(t){return this._a00|=t._a00,this._a16|=t._a16,this._a32|=t._a32,this._a48|=t._a48,this},o.prototype.and=function(t){return this._a00&=t._a00,this._a16&=t._a16,this._a32&=t._a32,this._a48&=t._a48,this},o.prototype.xor=function(t){return this._a00^=t._a00,this._a16^=t._a16,this._a32^=t._a32,this._a48^=t._a48,this},o.prototype.shiftRight=o.prototype.shiftr=function(t){return(t%=64)>=48?(this._a00=this._a48>>t-48,this._a16=0,this._a32=0,this._a48=0):t>=32?(t-=32,this._a00=65535&(this._a32>>t|this._a48<<16-t),this._a16=this._a48>>t&65535,this._a32=0,this._a48=0):t>=16?(t-=16,this._a00=65535&(this._a16>>t|this._a32<<16-t),this._a16=65535&(this._a32>>t|this._a48<<16-t),this._a32=this._a48>>t&65535,this._a48=0):(this._a00=65535&(this._a00>>t|this._a16<<16-t),this._a16=65535&(this._a16>>t|this._a32<<16-t),this._a32=65535&(this._a32>>t|this._a48<<16-t),this._a48=this._a48>>t&65535),this},o.prototype.shiftLeft=o.prototype.shiftl=function(t,r){return(t%=64)>=48?(this._a48=this._a00<<t-48,this._a32=0,this._a16=0,this._a00=0):t>=32?(t-=32,this._a48=this._a16<<t|this._a00>>16-t,this._a32=this._a00<<t&65535,this._a16=0,this._a00=0):t>=16?(t-=16,this._a48=this._a32<<t|this._a16>>16-t,this._a32=65535&(this._a16<<t|this._a00>>16-t),this._a16=this._a00<<t&65535,this._a00=0):(this._a48=this._a48<<t|this._a32>>16-t,this._a32=65535&(this._a32<<t|this._a16>>16-t),this._a16=65535&(this._a16<<t|this._a00>>16-t),this._a00=this._a00<<t&65535),r||(this._a48&=65535),this},o.prototype.rotateLeft=o.prototype.rotl=function(t){if(0==(t%=64))return this;if(t>=32){var r=this._a00;if(this._a00=this._a32,this._a32=r,r=this._a48,this._a48=this._a16,this._a16=r,32==t)return this;t-=32}var i=this._a48<<16|this._a32,e=this._a16<<16|this._a00,h=i<<t|e>>>32-t,o=e<<t|i>>>32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&h,this._a48=h>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(t){if(0==(t%=64))return this;if(t>=32){var r=this._a00;if(this._a00=this._a32,this._a32=r,r=this._a48,this._a48=this._a16,this._a16=r,32==t)return this;t-=32}var i=this._a48<<16|this._a32,e=this._a16<<16|this._a00,h=i>>>t|e<<32-t,o=e>>>t|i<<32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&h,this._a48=h>>>16,this},o.prototype.clone=function(){return new o(this._a00,this._a16,this._a32,this._a48)},i=[],void 0!==(e=function(){return o}.apply(r,i))&&(t.exports=e)}()},function(t,r,i){(function(r){function e(t){for(var r=[],i=0,e=t.length;e>i;i++){var h=t.charCodeAt(i);128>h?r.push(h):2048>h?r.push(192|h>>6,128|63&h):55296>h||h>=57344?r.push(224|h>>12,128|h>>6&63,128|63&h):(i++,h=65536+((1023&h)<<10|1023&t.charCodeAt(i)),r.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|63&h))}return new Uint8Array(r)}function h(){return 2==arguments.length?new h(arguments[1]).update(arguments[0]).digest():this instanceof h?void o.call(this,arguments[0]):new h(arguments[0])}function o(t){return this.seed=t instanceof n?t.clone():n(t),this.v1=this.seed.clone().add(s).add(a),this.v2=this.seed.clone().add(a),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(s),this.total_len=0,this.memsize=0,this.memory=null,this}var n=i(6).UINT64,s=n("11400714785074694791"),a=n("14029467366897019727"),u=n("1609587929392839161"),f=n("9650029242287828579"),l=n("2870177450012600261");h.prototype.init=o,h.prototype.update=function(t){var i,h="string"==typeof t;h&&(t=e(t),h=!1,i=!0),"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&(i=!0,t=new Uint8Array(t));var o=0,u=t.length,f=o+u;if(0==u)return this;if(this.total_len+=u,0==this.memsize&&(this.memory=h?"":i?new Uint8Array(32):new r(32)),this.memsize+u<32)return h?this.memory+=t:i?this.memory.set(t.subarray(0,u),this.memsize):t.copy(this.memory,this.memsize,0,u),this.memsize+=u,this;if(this.memsize>0){h?this.memory+=t.slice(0,32-this.memsize):i?this.memory.set(t.subarray(0,32-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,32-this.memsize);var l=0;if(h){c=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v1.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v2.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v3.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v4.add(c.multiply(a)).rotl(31).multiply(s)}else{c=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v1.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v2.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v3.add(c.multiply(a)).rotl(31).multiply(s),l+=8,c=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v4.add(c.multiply(a)).rotl(31).multiply(s)}o+=32-this.memsize,this.memsize=0,h&&(this.memory="")}if(f-32>=o){var m=f-32;do{if(h){c=n(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2),t.charCodeAt(o+5)<<8|t.charCodeAt(o+4),t.charCodeAt(o+7)<<8|t.charCodeAt(o+6)),this.v1.add(c.multiply(a)).rotl(31).multiply(s),o+=8,c=n(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2),t.charCodeAt(o+5)<<8|t.charCodeAt(o+4),t.charCodeAt(o+7)<<8|t.charCodeAt(o+6)),this.v2.add(c.multiply(a)).rotl(31).multiply(s),o+=8,c=n(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2),t.charCodeAt(o+5)<<8|t.charCodeAt(o+4),t.charCodeAt(o+7)<<8|t.charCodeAt(o+6)),this.v3.add(c.multiply(a)).rotl(31).multiply(s),o+=8,c=n(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2),t.charCodeAt(o+5)<<8|t.charCodeAt(o+4),t.charCodeAt(o+7)<<8|t.charCodeAt(o+6)),this.v4.add(c.multiply(a)).rotl(31).multiply(s)}else{var c;c=n(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2],t[o+5]<<8|t[o+4],t[o+7]<<8|t[o+6]),this.v1.add(c.multiply(a)).rotl(31).multiply(s),c=n(t[(o+=8)+1]<<8|t[o],t[o+3]<<8|t[o+2],t[o+5]<<8|t[o+4],t[o+7]<<8|t[o+6]),this.v2.add(c.multiply(a)).rotl(31).multiply(s),c=n(t[(o+=8)+1]<<8|t[o],t[o+3]<<8|t[o+2],t[o+5]<<8|t[o+4],t[o+7]<<8|t[o+6]),this.v3.add(c.multiply(a)).rotl(31).multiply(s),c=n(t[(o+=8)+1]<<8|t[o],t[o+3]<<8|t[o+2],t[o+5]<<8|t[o+4],t[o+7]<<8|t[o+6]),this.v4.add(c.multiply(a)).rotl(31).multiply(s)}o+=8}while(m>=o)}return f>o&&(h?this.memory+=t.slice(o):i?this.memory.set(t.subarray(o,f),this.memsize):t.copy(this.memory,this.memsize,o,f),this.memsize=f-o),this},h.prototype.digest=function(){var t,r,i=this.memory,e="string"==typeof i,h=0,o=this.memsize,c=new n;for(this.total_len>=32?((t=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),t.add(this.v3.clone().rotl(12)),t.add(this.v4.clone().rotl(18)),t.xor(this.v1.multiply(a).rotl(31).multiply(s)),t.multiply(s).add(f),t.xor(this.v2.multiply(a).rotl(31).multiply(s)),t.multiply(s).add(f),t.xor(this.v3.multiply(a).rotl(31).multiply(s)),t.multiply(s).add(f),t.xor(this.v4.multiply(a).rotl(31).multiply(s)),t.multiply(s).add(f)):t=this.seed.clone().add(l),t.add(c.fromNumber(this.total_len));o-8>=h;)e?c.fromBits(i.charCodeAt(h+1)<<8|i.charCodeAt(h),i.charCodeAt(h+3)<<8|i.charCodeAt(h+2),i.charCodeAt(h+5)<<8|i.charCodeAt(h+4),i.charCodeAt(h+7)<<8|i.charCodeAt(h+6)):c.fromBits(i[h+1]<<8|i[h],i[h+3]<<8|i[h+2],i[h+5]<<8|i[h+4],i[h+7]<<8|i[h+6]),c.multiply(a).rotl(31).multiply(s),t.xor(c).rotl(27).multiply(s).add(f),h+=8;for(o>=h+4&&(e?c.fromBits(i.charCodeAt(h+1)<<8|i.charCodeAt(h),i.charCodeAt(h+3)<<8|i.charCodeAt(h+2),0,0):c.fromBits(i[h+1]<<8|i[h],i[h+3]<<8|i[h+2],0,0),t.xor(c.multiply(s)).rotl(23).multiply(a).add(u),h+=4);o>h;)c.fromBits(e?i.charCodeAt(h++):i[h++],0,0,0),t.xor(c.multiply(l)).rotl(11).multiply(s);return r=t.clone().shiftRight(33),t.xor(r).multiply(a),r=t.clone().shiftRight(29),t.xor(r).multiply(u),r=t.clone().shiftRight(32),t.xor(r),this.init(this.seed),t},t.exports=h}).call(r,i(2).Buffer)}]);;var CompassManager={checkCompass:null,watchID:null,isAvailable:!1,timeout:8e3,heading:null,compassStarted:!1,initializeHeading:function(){void 0!==navigator.compass&&navigator.compass.getCurrentHeading(CompassManager.onSuccessInit,CompassManager.onErrorInit)},onSuccessInit:function(heading){null!=CompassManager.checkCompass&&clearInterval(CompassManager.checkCompass),CompassManager.heading=Math.round(heading.magneticHeading),CompassManager.watchingCompass(),MapManager.updateRotation(CompassManager.heading),CompassManager.compassStarted=!0},onErrorInit:function(error){null===CompassManager.checkCompass&&3!=error.code&&20!=error.code&&(CompassManager.checkCompass=setInterval(function(){CompassManager.initializeHeading()},CompassManager.timeout))},watchingCompass:function(){CompassManager.watchID=navigator.compass.watchHeading(CompassManager.onSuccessUpdate,CompassManager.onErrorUpdate)},onSuccessUpdate:function(heading){var newHeading=Math.round(heading.magneticHeading);Math.abs(newHeading-CompassManager.heading)>6&&(CompassManager.heading=newHeading,0==CompassManager.heading||null==CompassManager.heading||isNaN(CompassManager.heading)||(CompassManager.isAvailable=!0,MapManager.updateRotation(CompassManager.heading)))},onErrorUpdate:function(error){},stopWatchingCompass:function(){void 0!==navigator.compass&&navigator.compass.clearWatch(CompassManager.watchID)},currentHeading:function(){return null!=CompassManager.heading?CompassManager.heading:null}},FeedbackManager={modalOpen:!1,currentServiceUri:null,sendStars:function(){var starsFeedback=$("#inputStarsFeedbackModal").val(),starsSendPhoto=$("#inputStarsSendPhotoModal").val(),starsSendPhotoAlbum=$("#inputStarsSendPhotoAlbumModal").val();if(0!=starsFeedback||0!=starsSendPhoto){var feedbackQuery="";0!=starsFeedback?feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,null,starsFeedback,"user"):0!=starsSendPhoto?feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,null,starsSendPhoto,"user"):0!=starsSendPhotoAlbum&&(feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,null,starsSendPhotoAlbum,"user")),""!=feedbackQuery&&APIClient.executeQueryText(feedbackQuery,FeedbackManager.successStars,FeedbackManager.errorStars),FeedbackManager.hideModal()}else FeedbackManager.sendComments()},sendDirectStars:function(stars){if(0!=stars){var feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,null,stars,"user");APIClient.executeQueryText(feedbackQuery,function(){},function(){})}},sendDirectComment:function(){var comment=$("#serviceTextAreaComment").val();if(0!=comment){var feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,comment,null,"user");APIClient.executeQueryText(feedbackQuery,FeedbackManager.successComments,FeedbackManager.errorComments)}},successStars:function(response){$("#inputStarsFeedbackModal").rating("clear"),$("#inputStarsSendPhotoModal").rating("clear"),$("#inputStarsSendPhotoAlbumModal").rating("clear"),FeedbackManager.sendComments(),navigator.notification.alert(Globalization.alerts.sendStarsDone.message,function(){},Globalization.alerts.sendStarsDone.title)},errorStars:function(error){navigator.notification.alert(Globalization.alerts.sendStarsError.message,function(){},Globalization.alerts.sendStarsError.title)},sendComments:function(){PersonalAssistant.removeMessage(PersonalAssistant.currentIdToRemove);var commentFeedback=$("#textAreaCommentsFeedbackModal").val(),commentSendPhoto=$("#textAreaCommentsSendPhotoModal").val(),commentSendPhoto=$("#textAreaCommentsSendPhotoAlbumModal").val();if(0!=commentFeedback||0!=commentSendPhoto){var feedbackQuery="";0!=commentFeedback?feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,commentFeedback,null,"user"):0!=commentSendPhoto&&(feedbackQuery=QueryManager.createFeedbackQuery(FeedbackManager.currentServiceUri,commentSendPhoto,null,"user")),""!=feedbackQuery&&APIClient.executeQueryText(feedbackQuery,FeedbackManager.successComments,FeedbackManager.errorComments)}FeedbackManager.hideModal()},successComments:function(response){PersonalAssistant.removeMessage(PersonalAssistant.currentIdToRemove),$("#textAreaCommentsFeedbackModal").val(""),$("#textAreaCommentsSendPhotoModal").val(""),$("#textAreaCommentsSendPhotoAlbumModal").val(""),navigator.notification.alert(Globalization.alerts.sendCommentDone.message,function(){},Globalization.alerts.sendCommentDone.title)},errorComments:function(error){console.log(error),navigator.notification.alert(Globalization.alerts.sendCommentError.message,function(){},Globalization.alerts.sendCommentError.title)},sendVoteSuggestion:function(serviceUri,genID,vote,suggType){var voteSuggestionQuery=QueryManager.createVoteSuggestion(serviceUri,genID,vote,suggType);APIClient.executeRecommenderQueryWithoutAlert(voteSuggestionQuery,FeedbackManager.successVoteSuggestion,FeedbackManager.errorVoteSuggestion)},successVoteSuggestion:function(data){console.log("SUCCESS VOTE"),console.log(JSON.stringify(data))},errorVoteSuggestion:function(data){console.log("ERROR VOTE"),console.log(JSON.stringify(data))},showModal:function(serviceUri){FeedbackManager.currentServiceUri=serviceUri,$("#starsModalCancelButton").html(Globalization.labels.commonLabels.cancel),$("#starsModalSendButton").html(Globalization.labels.commonLabels.send),$("#userStarsLabelSendFeedbackModal").html(Globalization.labels.infoMenu.userStars),$("#commentLabelSendFeedbackModal").html(Globalization.labels.infoMenu.comment),$("#buttonUploadPhotoFeedbackModal").html(Globalization.labels.feedbackModal.uploadPhoto),$("#buttonTakePhotoFeedbackModal").html(Globalization.labels.feedbackModal.takePhoto),$("#starsModal").modal("show"),$("#starsModal").on("hide.bs.modal",function(e){FeedbackManager.modalOpen=!1}),$("#inputStarsFeedbackModal").parent().children("div.rating").children("span.empty-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),$("#inputStarsFeedbackModal").parent().children("div.rating").children("span.filled-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),FeedbackManager.modalOpen=!0,"Web"==device.platform&&($("#buttonUploadPhotoFeedbackModal").hide(),$("#buttonTakePhotoFeedbackModal").hide(),$("#inputUploadPhotoFeedbackModal").filestyle({buttonText:Globalization.labels.feedbackModal.uploadPhoto,buttonBefore:!0,icon:!1,input:!1}),$("#inputUploadPhotoFeedbackModal").filestyle("clear"),$("#inputUploadPhotoFeedbackModal").show(),$("#inputUploadPhotoFeedbackModal").change(function(input){if(FeedbackManager.hideModal(),null!=input.target.files){for(var filesReadedArray=[],formDataArray=[],i=0;i<input.target.files.length;i++){var reader=new FileReader;FeedbackManager.currentType=input.target.files[i].type,FeedbackManager.currentFileName=input.target.files[i].name,reader.onload=function(e){var blob=new Blob([e.target.result],{type:FeedbackManager.currentType}),fd=new FormData;fd.append("file",blob,FeedbackManager.currentFileName),formDataArray.push(fd),formDataArray.length==input.target.files.length&&(PictureManager.formDataArrayToUpload=formDataArray)},reader.readAsArrayBuffer(input.target.files[i])}for(i=0;i<input.target.files.length;i++)(reader=new FileReader).onload=function(e){filesReadedArray.push(e.target.result),filesReadedArray.length==input.target.files.length&&(PictureManager.currentServiceUri=FeedbackManager.currentServiceUri,PictureManager.successPickArray(filesReadedArray))},reader.readAsDataURL(input.target.files[i])}}))},hideModal:function(){$("#starsModal").modal("hide"),FeedbackManager.modalOpen=!1},takePhoto:function(){$("#inputStarsSendPhotoModal").rating("update",$("#inputStarsFeedbackModal").val()),$("#inputStarsFeedbackModal").rating("clear"),$("#textAreaCommentsSendPhotoModal").val($("#textAreaCommentsFeedbackModal").val()),$("#textAreaCommentsFeedbackModal").val(""),FeedbackManager.hideModal(),PictureManager.takePhoto(FeedbackManager.currentServiceUri)},pickPhotoFromAlbum:function(){$("#inputStarsSendPhotoAlbumModal").rating("update",$("#inputStarsFeedbackModal").val()),$("#inputStarsFeedbackModal").rating("clear"),$("#textAreaCommentsSendPhotoAlbumModal").val($("#textAreaCommentsFeedbackModal").val()),$("#textAreaCommentsFeedbackModal").val(""),FeedbackManager.hideModal(),PictureManager.pickPhotoFromAlbum(FeedbackManager.currentServiceUri)},setServiceUri:function(serviceUri){FeedbackManager.currentServiceUri=Utility.unescapeHtml(serviceUri)}},GpsManager={checkGPS:null,timeout:Parameters.timeoutGPS,mode:null,status:!1,latitude:null,longitude:null,heading:null,accuracy:null,altitude:null,speed:null,timestamp:null,gpsStarted:!1,watchID:null,refresh:function(){"true"==SettingsManager.gpsPosition&&0==GpsManager.gpsStarted?GpsManager.initializePosition():"false"==SettingsManager.gpsPosition&&1==GpsManager.gpsStarted&&(GpsManager.stopWatchingPosition(),MapManager.removeGpsMarker(),GpsManager.gpsStarted=!1)},initializePosition:function(){0==GpsManager.gpsStarted&&("Android"!=device.platform&&"iOS"!=device.platform||("iOS"==device.platform&&setInterval(function(){CheckGPS.check(function(){GpsManager.status=!0},function(){GpsManager.status=!1})},2e4),CheckGPS.check(function(){var options={timeout:GpsManager.timeout,enableHighAccuracy:!0};navigator.geolocation.getCurrentPosition(GpsManager.onSuccessInit,GpsManager.onErrorInit,options)},function(){null===GpsManager.checkGPS&&(MapManager.disableGpsZoom(),GpsManager.checkGPS=setInterval(function(){GpsManager.initializePosition()},GpsManager.timeout))})),"Win32NT"!=device.platform&&"windows"!=device.platform&&"Web"!=device.platform||navigator.geolocation.getCurrentPosition(GpsManager.onSuccessInit,GpsManager.onErrorInit,{timeout:GpsManager.timeout}))},onSuccessInit:function(position){null!=GpsManager.checkGPS&&clearInterval(GpsManager.checkGPS),GpsManager.status=!0,GpsManager.latitude=position.coords.latitude,GpsManager.longitude=position.coords.longitude,GpsManager.heading=Math.round(position.coords.heading),GpsManager.accuracy=position.coords.accuracy,GpsManager.timestamp=position.timestamp,null!=position.coords.altitude&&null!=position.coords.speed?(GpsManager.altitude=position.coords.altitude,GpsManager.speed=position.coords.speed,GpsManager.mode="gps"):GpsManager.mode="network",GpsManager.watchingPosition(),GpsManager.gpsStarted=!0,MapManager.initializeGpsMarker(GpsManager.latitude,GpsManager.longitude),"undefined"!=typeof Notificator&&Notificator.startNotifySuggestions()},onErrorInit:function(error){null===GpsManager.checkGPS&&1!=error.code&&(GpsManager.checkGPS=setInterval(function(){GpsManager.initializePosition()},GpsManager.timeout))},watchingPosition:function(){var options={timeout:GpsManager.timeout,enableHighAccuracy:!0};GpsManager.watchID=navigator.geolocation.watchPosition(GpsManager.onSuccessUpdate,GpsManager.onErrorUpdate,options)},stopWatchingPosition:function(){navigator.geolocation.clearWatch(GpsManager.watchID),GpsManager.watchID=null},onSuccessUpdate:function(position){GpsManager.status=!0,GpsManager.latitude=position.coords.latitude,GpsManager.longitude=position.coords.longitude,GpsManager.heading=Math.round(position.coords.heading),GpsManager.accuracy=position.coords.accuracy,GpsManager.timestamp=position.timestamp,null!=position.coords.altitude&&null!=position.coords.speed?(GpsManager.altitude=position.coords.altitude,GpsManager.speed=position.coords.speed,GpsManager.mode="gps"):GpsManager.mode="network",null==GpsManager.heading||isNaN(GpsManager.heading)||1==CompassManager.isAvailable||MapManager.updateRotation(GpsManager.heading,"gps"),MapManager.updateGpsMarker(GpsManager.latitude,GpsManager.longitude)},onErrorUpdate:function(error){},currentCoordinates:function(){return null!=GpsManager.latitude&&null!=GpsManager.longitude?[GpsManager.latitude,GpsManager.longitude]:null},getDistanceFromLatLonInM:function(lat1,lon1,lat2,lon2){var dLat=GpsManager.deg2rad(lat2-lat1),dLon=GpsManager.deg2rad(lon2-lon1),a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(GpsManager.deg2rad(lat1))*Math.cos(GpsManager.deg2rad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);return 1e3*(6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))))},getDistanceFromGPSInM:function(latitude,longitude){if(null!=GpsManager.latitude&&null!=GpsManager.longitude){var dLat=GpsManager.deg2rad(GpsManager.latitude-latitude),dLon=GpsManager.deg2rad(GpsManager.longitude-longitude),a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(GpsManager.deg2rad(latitude))*Math.cos(GpsManager.deg2rad(GpsManager.latitude))*Math.sin(dLon/2)*Math.sin(dLon/2);return 1e3*(6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))))}return null},deg2rad:function(deg){return deg*(Math.PI/180)}},InfoManager={open:!1,modalImageOpen:!1,expanded:!1,latitude:null,longitude:null,lockSharing:!1,currentResponse:null,currentTimetable:null,menuToManageList:[],lastRemovedMenu:null,idMenu:"infoMenu",singleTemplatesList:[],showImageModal:function(){var backupExpanded=InfoManager.expanded;InfoManager.expanded&&(InfoManager.collapseInfoAboutOneMarker(),InfoManager.expanded=backupExpanded),ViewManager.render(InfoManager.currentResponse,"#serviceImageModal","CarouselPhotoModal"),$("#serviceImageModal").modal("show"),$("#serviceImageModalBody").css("height",.8*$(window).height()+"px"),$("#serviceImageModalFooterButton").html(Globalization.labels.commonLabels.close),$("#serviceCarouselPhotosModal").swiperight(function(){$("#serviceCarouselPhotosModal").carousel("prev")}),$("#serviceCarouselPhotosModal").swipeleft(function(){$("#serviceCarouselPhotosModal").carousel("next")}),$("#serviceImageModal").on("hide.bs.modal",function(e){InfoManager.modalImageOpen=!1,InfoManager.expanded&&InfoManager.expandInfoAboutOneMarker()}),InfoManager.modalImageOpen=!0},hideImageModal:function(){$("#serviceImageModal").modal("hide"),$("#serviceImagePreview").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP//&‌​#47;ywAAAAAAQABAAACA‌​UwAOw=="),InfoManager.modalImageOpen=!1,InfoManager.expanded&&InfoManager.expandInfoAboutOneMarker()},rescaleModalHeight:function(){InfoManager.modalImageOpen&&$("#serviceImageModalBody").css("height",.8*$(window).height()+"px"),InfoManager.modalTimetableOpen&&($("div.dataTables_scrollBody").css("max-height",$(window).height()-210+"px"),$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust())},showInfoAboutOneMarker:function(serviceUri,latitude,longitude){InfoManager.latitude=latitude,InfoManager.longitude=longitude,PrincipalMenu.hide();var serviceQuery=QueryManager.createServiceQuery(serviceUri,"user");APIClient.executeQuery(serviceQuery,InfoManager.successQuery,InfoManager.errorQuery)},expandInfoAboutOneMarker:function(){null!=InfoManager.currentResponse&&InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselContent),Utility.expandMenu("#infoMenu","#expandInfoMenu","#collapseInfoMenu"),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.4*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.4*$(window).width()+"px"),InfoManager.expanded=!0},collapseInfoAboutOneMarker:function(){InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselThumbContent),Utility.collapseMenu("#infoMenu","#expandInfoMenu","#collapseInfoMenu"),$("#infoMenu").css({"z-index":"1002"}),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.2*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.2*$(window).width()+"px"),InfoManager.expanded=!1},hideInfoAboutOneMarker:function(latitude,longitude){$("#infoMenu").css({bottom:"-100%",top:"auto",right:"auto",width:"100%",height:"35%","z-index":"1002"}),$("#infoMenu").empty(),InfoManager.open=!1,MapManager.reduceMenuShowMap("#infoMenu"),$("#categorySearchMenu").css("height",$("#content").height()+"px"),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.2*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.2*$(window).width()+"px"),MapManager.updateMap(),MapManager.centerMapOnCoordinates(latitude,longitude),0!=InfoManager.menuToManageList.length&&null!=window[InfoManager.menuToManageList[0]].idMenu&&Utility.checkAxisToDrag("#"+window[InfoManager.menuToManageList[0]].idMenu),"Web"==device.platform&&""!=window.location.search&&(window.location.search=""),application.removingMenuToCheck("InfoManager"),InfoManager.expanded=!1},checkForBackButton:function(){InfoManager.open&&(PictureManager.sendPhotoModalOpen?PictureManager.hideSendPhotoModal():PictureManager.sendPhotoAlbumModalOpen?PictureManager.hideSendPhotoAlbumModal():FeedbackManager.modalOpen?FeedbackManager.hideModal():InfoManager.modalImageOpen?InfoManager.hideImageModal():BusRoutesSearcher.infoRouteModalOpen?BusRoutesSearcher.hideInfoRouteModal():InfoManager.hideInfoAboutOneMarker.apply(this,MapManager.mapCenterCoordinates()))},refreshMenuPosition:function(){InfoManager.open&&(MapManager.showMenuReduceMap("#infoMenu"),Utility.checkAxisToDrag("#infoMenu"),InfoManager.expanded&&InfoManager.expandInfoAboutOneMarker()),InfoManager.rescaleCarouselHeight(),InfoManager.rescaleModalHeight(),0!=InfoManager.menuToManageList.length&&null!=window[InfoManager.menuToManageList[0]].idMenu&&Utility.checkAxisToDragReduced("#"+window[InfoManager.menuToManageList[0]].idMenu)},closeAll:function(){PictureManager.hideSendPhotoModal(),PictureManager.hideSendPhotoAlbumModal(),FeedbackManager.hideModal(),InfoManager.hideImageModal(),BusRoutesSearcher.hideInfoRouteModal(),InfoManager.hideInfoAboutOneMarker.apply(this,MapManager.mapCenterCoordinates())},rescaleCarouselHeight:function(){InfoManager.expanded?($("#serviceCarouselPhotos .carousel-inner .item").css("height",.4*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.4*$(window).width()+"px")):($("#serviceCarouselPhotos .carousel-inner .item").css("height",.2*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.2*$(window).width()+"px"))},successQuery:function(response){0==$("#infoMenu").length&&$("#indexPage").append('<div id="infoMenu" class="commonHalfMenu" style="background-color: white; z-index: 1002;"></div>');for(var category in response){var wktGeometry=null;if(null!=response[category].features){if(0==response[category].features.length){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title);break}if(Utility.enrichService(response[category].features[0]),null!=response[category].features[0].properties.serviceType){for(var found=!1,i=0;i<InfoManager.singleTemplatesList.length;i++)response[category].features[0].properties.serviceType==InfoManager.singleTemplatesList[i].serviceType&&(window[InfoManager.singleTemplatesList[i].varName].renderSingleService(response),found=!0);found||("TransferServiceAndRenting_SensorSite"==response[category].features[0].properties.serviceType?(ViewManager.render(response,"#infoMenu","SensorSite"),ViewManager.render(response[category].features[0],"#infoMenuInnerDetailHeader","ServiceDetailHeader"),ViewManager.render(response[category].features[0],"#infoMenuInnerDetails","ServiceDetails")):(ViewManager.render(response,"#infoMenu",null),ViewManager.render(response[category].features[0],"#infoMenuInnerDetail","ServiceDetailAll")))}else ViewManager.render(response,"#infoMenu",null),ViewManager.render(response[category].features[0],"#infoMenuInnerDetail","ServiceDetail");null==InfoManager.longitude&&(InfoManager.longitude=response[category].features[0].geometry.coordinates[0]),null==InfoManager.latitude&&(InfoManager.latitude=response[category].features[0].geometry.coordinates[1]),wktGeometry=response[category].features[0].properties.wktGeometry,null!=response[category].features[0]&&(InfoManager.currentResponse=response[category].features[0])}else if("head"==category||"ERROR"==category){response.results.bindings[0].changeFormatDateTimeMst=Utility.changeFormatDateTimeMst;for(i=0;i<response.results.bindings.length;i++)response.results.bindings[i].day.value=Globalization.labels.weather[response.results.bindings[i].day.value];ViewManager.render(response,"#infoMenu","Weather")}MapManager.showMenuReduceMap("#infoMenu"),$("#collapseInfoMenu").hide(),$("#serviceCarouselPhotos").swiperight(function(){$("#serviceCarouselPhotos").carousel("prev")}),$("#serviceCarouselPhotos").swipeleft(function(){$("#serviceCarouselPhotos").carousel("next")}),$("#infoMenu").draggable({drag:function(e,ui){$(window).height()>$(window).width()?$("#infoMenu").css({top:e.pageY+"px",height:"auto"}):$("#infoMenu").css({left:e.pageX+"px",width:"auto"})},handle:"#infoMenuExpandHandler",stop:function(event,ui){$(window).height()>$(window).width()?$("#infoMenu").position().top<.5*$(window).height()?null!=InfoManager.currentResponse&&(InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselContent),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.4*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.4*$(window).width()+"px")):null!=InfoManager.currentResponse&&(InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselThumbContent),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.2*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.2*$(window).width()+"px")):$("#infoMenu").position().left<.5*$(window).width()?null!=InfoManager.currentResponse&&(InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselContent),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.4*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.4*$(window).width()+"px")):null!=InfoManager.currentResponse&&(InfoManager.changePhotoOnCarousel(InfoManager.currentResponse.properties.carouselThumbContent),$("#serviceCarouselPhotos .carousel-inner .item").css("height",.2*$(window).width()+"px"),$("#serviceCarouselPhotos .carousel-inner .item img").css("max-height",.2*$(window).width()+"px"))}}),null!=wktGeometry&&""!=wktGeometry&&-1==wktGeometry.indexOf("POINT")?MapManager.addSelectedGeometry(wktGeometry):null!=InfoManager.latitude&&null!=InfoManager.longitude&&MapManager.centerMapOnCoordinates(InfoManager.latitude,InfoManager.longitude),InfoManager.open&&application.removingMenuToCheck("InfoManager"),InfoManager.open=!0,application.addingMenuToCheck("InfoManager"),0!=InfoManager.menuToManageList.length&&null!=window[InfoManager.menuToManageList[0]].idMenu&&Utility.checkAxisToDragReduced("#"+window[InfoManager.menuToManageList[0]].idMenu),Utility.checkAxisToDrag("#infoMenu"),application.setBackButtonListener();break}},addOrRemoveServiceToFavourites:function(){Favourites.checkService(InfoManager.currentResponse)},errorQuery:function(error){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)},addToCalendar:function(title,location,note,startDate,endDate){window.plugins.calendar.createEvent(Utility.capitalize(Utility.unescapeHtml(title).replace(/"/g,""),!0),Utility.unescapeHtml(location),Utility.unescapeHtml(note),new Date(startDate),new Date(endDate),function(message){InfoManager.successAddCalendar(message)},function(message){InfoManager.errorAddCalendar(message)})},successAddCalendar:function(message){navigator.notification.alert(Globalization.alerts.addCalendarSuccess.message,function(){},Globalization.alerts.addCalendarSuccess.title)},errorAddCalendar:function(message){navigator.notification.alert(Globalization.alerts.addCalendarError.message,function(){},Globalization.alerts.addCalendarError.title)},share:function(message,title,image,link,divToShare){if("Win32NT"!=device.platform&&"windows"!=device.platform)if(InfoManager.lockSharing)InfoManager.showSharedRunning();else{InfoManager.lockSharing=!0;var height=0,top=0;if("infoMenu"==divToShare)$("#loadingOverlayPage").show(),top=$("#infoMenu").css("top"),$("#infoMenu").css({height:"100%",bottom:""}),$("#infoMenu").css({height:"auto",top:top}),height=$("#infoMenu").height(),$("#indexPage").css({overflow:"visible"}),html2canvas(document.getElementById(divToShare),{allowTaint:!0,height:height}).then(function(canvas){$("#loadingOverlayPage").hide(),$("#infoMenu").css({height:"auto",bottom:"0px",top:top}),$("#indexPage").css({overflow:"hidden"}),window.plugins.socialsharing.shareWithOptions({message:Utility.capitalize(Utility.unescapeHtml(Utility.unescapeHtml(message)).replace(/"/g,""),!0),subject:title,files:[canvas.toDataURL()],url:"http://www.km4city.org/app/"},function(){InfoManager.lockSharing=!1},function(){InfoManager.lockSharing=!1})});else if("indexPage"==divToShare){Loading.showSettingsLoading();var imageMask=document.createElement("img");$(imageMask).css({height:"100%",width:"100%"});var canvas=$("#content canvas");canvas.hide(),imageMask.src=canvas[0].toDataURL("png"),$("#content div.ol-viewport").append(imageMask),setTimeout(function(){navigator.screenshot.URI(function(error,res){error?console.error(error):(window.plugins.socialsharing.shareWithOptions({message:Utility.capitalize(Utility.unescapeHtml(Utility.unescapeHtml(message)).replace(/"/g,""),!0),subject:title,files:[res.URI],url:"http://www.km4city.org/app/"},function(){InfoManager.lockSharing=!1},function(){InfoManager.lockSharing=!1}),canvas.show(),$(imageMask).remove(),Loading.hideSettingsLoading())},"jpg",60)},500)}}else window.plugins.socialsharing.share(Utility.capitalize(Utility.unescapeHtml(message).replace(/"/g,""),!0),Utility.capitalize(Utility.unescapeHtml(title).replace(/"/g,""),!0),image,link)},shareFacebook:function(message,image,link){window.plugins.socialsharing.shareViaFacebookWithPasteMessageHint(Utility.capitalize(Utility.unescapeHtml(Utility.unescapeHtml(message)).replace(/"/g,""),!0),image,link,Globalization.labels.shareFacebook.paste,function(){console.log("Shared")},function(errormsg){navigator.notification.alert(Globalization.alerts.shareFacebook.message,function(){},Globalization.alerts.shareFacebook.title)})},showSharedRunning:function(){window.plugins.toast.showWithOptions({message:Globalization.labels.infoMenu.sharedRunning,duration:"long",position:"bottom",addPixelsY:-40},function(){},function(){})},changePhotoOnCarousel:function(imagesArray){$("#serviceCarouselPhotos .carousel-inner .item").each(function(index){$(this).children("img").attr("src",imagesArray[index].photo)})},addingMenuToManage:function(menuToManage){InfoManager.menuToManageList.unshift(menuToManage)},removingMenuToManage:function(menuToManage){-1!=InfoManager.menuToManageList.indexOf(menuToManage)&&(InfoManager.lastRemovedMenu=menuToManage,InfoManager.menuToManageList.splice(InfoManager.menuToManageList.indexOf(menuToManage),1))},openLastSearchPerformed:function(){var menuToOpen=null;null!=(menuToOpen=0!=InfoManager.menuToManageList.length?InfoManager.menuToManageList[0]:InfoManager.lastRemovedMenu)&&null!=window[menuToOpen]&&null!=window[menuToOpen].show&&window[menuToOpen].show()},checkNewSingleTemplates:function(){Utility.loadFilesInsideDirectory("www/js/modules/",null,"singleTemplate.json",!0,InfoManager.loadSingleTemplate,function(e){})},loadSingleTemplate:function(fullPath){$.ajax({url:fullPath,async:!1,dataType:"json",success:function(data){InfoManager.addSingleTemplate(data)}})},addSingleTemplate:function(singleTemplatesToAdd){InfoManager.singleTemplatesList=InfoManager.singleTemplatesList.concat(singleTemplatesToAdd)}},MapManager={map:null,map3d:null,gpsMarker:null,gpsMarkerPopUp:null,gpsButton:null,gpsZoom:!0,eventsButton:null,selectedGeometry:null,selectedServiceMarker:null,selectedServicePopUp:null,searchOnSelectedServiceMarker:!1,manualMarker:null,manualMarkerPopUp:null,manualButton:null,sharingButton:null,ticketButton:null,cyclePathsButton:null,carParkButton:null,busStopButton:null,greenAreasButton:null,infoSOCButton:null,searchArea:null,weatherButton:null,keyOfMoveEndListener:null,navigationSearchButton:null,geometryWktLayer:[],iconsLayer:[],iconUrl:null,nightDayLayer:null,correctRotation:0,correctRotationButton:null,activate3dVisualButton:null,currentHeading:null,defaultLatitude:43.7761,defaultLongitude:11.2484,menuToCheckForClick:null,manualMarkerCallback:"CategorySearcher.forceSelectedKeys = ['Service']; SearchManager.searchOnManualMarker('CategorySearcher')",createMap:function(){null===MapManager.map&&(MapManager.map=new ol.Map({target:"map",moveTolerance:5,controls:ol.control.defaults({attributionOptions:{collapsible:!1}}),layers:[new ol.layer.Tile({source:new ol.source.OSM})],view:new ol.View({center:ol.proj.fromLonLat([MapManager.defaultLongitude,MapManager.defaultLatitude]),zoom:14})}),null==MapManager.gpsButton&&MapManager.addSingleButton('<i class="glyphicon glyphicon-record"></i>',function(){MapManager.centerMapOnGps()},"gpsButton ol-unselectable ol-control","gpsButton"),MapManager.addVariableButtons(),MapManager.map.on("click",function(event){MapManager.onClickCallback(event)}))},onClickCallback:function(event){MapManager.removeSearchArea();var feature=MapManager.getFeaturesAtPixel(event.pixel);if(MapManager.closePopUp(),feature){if("gps"==feature.get("name"))null==MapManager.menuToCheckForClick&&(void 0!==NavigatorSearcher?1!=NavigatorSearcher.started&&MapManager.initializeAndUpdatePopUpGpsMarker():MapManager.initializeAndUpdatePopUpGpsMarker());else if("manual"==feature.get("name"))null!=MapManager.menuToCheckForClick?null!=window[MapManager.menuToCheckForClick].clickOnManualMarker&&window[MapManager.menuToCheckForClick].clickOnManualMarker(event):MapManager.initializeAndUpdatePopUpManualMarker(Globalization.labels.searchPopUp.aroundYou,MapManager.manualMarkerCallback);else if(null!=feature.get("name")){console.log(feature);var lnglat=ol.proj.toLonLat(feature.getGeometry().getCoordinates());MapManager.addSelectedServiceMarker(feature.get("serviceType"),feature.get("name").replace(/_/g," ").toLowerCase(),feature.get("civic"),feature.get("busLines"),feature.get("agency"),feature.get("serviceUri"),lnglat[1],lnglat[0],feature.get("alternativeIcon")),"pointerMarker"!=feature.get("type")&&InfoManager.showInfoAboutOneMarker(feature.get("serviceUri"),lnglat[1],lnglat[0])}}else void 0!==NavigatorSearcher?1!=NavigatorSearcher.started&&(null!=MapManager.menuToCheckForClick?null!=window[MapManager.menuToCheckForClick].clickOnMap&&window[MapManager.menuToCheckForClick].clickOnMap(event):(MapManager.addManualMarker(event.coordinate,Globalization.labels.searchPopUp.aroundYou,MapManager.manualMarkerCallback),SearchManager.fireLastCallback&&$("#lastOperationInner").click())):null!=MapManager.menuToCheckForClick?null!=window[MapManager.menuToCheckForClick].clickOnMap&&window[MapManager.menuToCheckForClick].clickOnMap(event):(MapManager.addManualMarker(event.coordinate,Globalization.labels.searchPopUp.aroundYou,MapManager.manualMarkerCallback),SearchManager.fireLastCallback&&$("#lastOperationInner").click())},activate3d:function(){if(null!=MapManager.map&&null==MapManager.map3d&&"undefined"!=typeof Cesium)try{MapManager.map3d=new olcs.OLCesium({map:MapManager.map}),MapManager.map3d.setEnabled(!0),MapManager.map3d.getCamera().setTilt(Math.PI/3),MapManager.map3d.getCamera().setAltitude(200),$("#activate3dVisualButton").html("<b>2D</b>")}catch(err){console.log(err),null!=MapManager.activate3dVisualButton&&(MapManager.map.removeControl(MapManager.activate3dVisualButton),MapManager.activate3dVisualButton=null)}},disabling3d:function(){null!=MapManager.map3d&&(MapManager.map3d.setEnabled(!1),MapManager.map3d=null,null!=$("#activate3dVisualButton")&&$("#activate3dVisualButton").html("<b>3D</b>"),MapManager.updateMap())},getFeaturesAtPixel:function(pixel){var featureToReturn=null;if(MapManager.map3d&&MapManager.map3d.getEnabled()){var pickedObject=MapManager.map3d.getCesiumScene().pick(new Cesium.Cartesian2(pixel[0],pixel[1]));void 0!==pickedObject&&(featureToReturn=pickedObject.primitive.olFeature)}else MapManager.map.forEachFeatureAtPixel(pixel,function(feature){null==feature.get("serviceUri")&&null==feature.get("name")||null==featureToReturn&&(featureToReturn=feature)});return featureToReturn},updateMap:function(){null!=MapManager.map&&MapManager.map.updateSize()},disactiveInterationsForNavigation:function(){MapManager.map.getInteractions().forEach(function(interaction){interaction instanceof ol.interaction.DragPan&&interaction.setActive(!1),interaction instanceof ol.interaction.PinchRotate&&interaction.setActive(!1),interaction instanceof ol.interaction.DragZoom&&interaction.setActive(!1)},this),MapManager.keyOfMoveEndListener=MapManager.map.on("moveend",function(event){MapManager.map.getView().setCenter(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates())})},activeIntereationsAfterNavigation:function(){MapManager.map.getInteractions().forEach(function(interaction){interaction instanceof ol.interaction.DragPan&&interaction.setActive(!0),interaction instanceof ol.interaction.PinchRotate&&interaction.setActive(!0),interaction instanceof ol.interaction.DragZoom&&interaction.setActive(!0)},this),ol.Observable.unByKey(MapManager.keyOfMoveEndListener)},addSingleButton:function(innerHTML,callback,className,buttonToAdd){var buttonFunction=function(opt_options){var options=opt_options||{},button=document.createElement("button");button.innerHTML=innerHTML,button.id=buttonToAdd;var handle=callback;button.addEventListener("click",handle,!1);var element=document.createElement("div");element.className=className,element.appendChild(button),ol.control.Control.call(this,{element:element,target:options.target})};ol.inherits(buttonFunction,ol.control.Control),MapManager[buttonToAdd]=new buttonFunction,null!=MapManager.map&&MapManager.map.addControl(MapManager[buttonToAdd])},addVariableButtons:function(){null==MapManager.manualButton&&MapManager.addSingleButton('<i class="fa fa-map-marker"></i>',function(){MapManager.centerMapOnManual()},"manualButton ol-unselectable ol-control","manualButton"),null==MapManager.eventsButton&&MapManager.addSingleButton('<i class="fa fa-calendar"></i>',function(){EventsSearcher.search("week")},"eventsButton ol-unselectable ol-control","eventsButton"),null==MapManager.cyclePathsButton&&MapManager.addSingleButton('<i class="fa fa-bicycle"></i>',function(){CategorySearcher.forceSelectedKeys=["Cycle_paths"],SearchManager.search("CategorySearcher")},"cyclePathsButton ol-unselectable ol-control","cyclePathsButton"),null==MapManager.carParkButton&&MapManager.addSingleButton("<b>P</b>",function(){SearchManager.search("ParkingSearcher")},"carParkButton ol-unselectable ol-control","carParkButton"),null==MapManager.sharingButton&&"Win32NT"!=device.platform&&"windows"!=device.platform&&"Web"!=device.platform&&MapManager.addSingleButton('<i class="fa fa-share-alt"></i>',function(){InfoManager.share(Globalization.labels.infoMenu.sharedFrom+Globalization.labels.utility.appName,Globalization.labels.infoMenu.sharedFrom+Globalization.labels.utility.appName,null,null,"indexPage")},"sharingButton ol-unselectable ol-control","sharingButton")},removeVariableButtons:function(){null!=MapManager.weatherButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.weatherButton),MapManager.weatherButton=null),null!=MapManager.ticketButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.ticketButton),MapManager.ticketButton=null),null!=MapManager.navigationSearchButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.navigationSearchButton),MapManager.navigationSearchButton=null),null!=MapManager.manualButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.manualButton),MapManager.manualButton=null),null!=MapManager.eventsButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.eventsButton),MapManager.eventsButton=null),null!=MapManager.cyclePathsButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.cyclePathsButton),MapManager.cyclePathsButton=null),null!=MapManager.carParkButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.carParkButton),MapManager.carParkButton=null),null!=MapManager.greenAreasButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.greenAreasButton),MapManager.greenAreasButton=null),null!=MapManager.infoSOCButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.infoSOCButton),MapManager.infoSOCButton=null),null!=MapManager.busStopButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.busStopButton),MapManager.busStopButton=null),null!=MapManager.sharingButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.sharingButton),MapManager.sharingButton=null),null!=MapManager.fuelStationButton&&null!=MapManager.map&&(MapManager.map.removeControl(MapManager.fuelStationButton),MapManager.fuelStationButton=null)},showPublicTransportMap:function(){MapManager.removeVariableButtons(),null==MapManager.manualButton&&MapManager.addSingleButton('<i class="fa fa-map-marker"></i>',function(){MapManager.centerMapOnManual()},"manualButton ol-unselectable ol-control","manualButton")},showPrivateTransportMap:function(){MapManager.removeVariableButtons(),null==MapManager.manualButton&&MapManager.addSingleButton('<i class="fa fa-map-marker"></i>',function(){MapManager.centerMapOnManual()},"manualButton ol-unselectable ol-control","manualButton"),null==MapManager.eventsButton&&MapManager.addSingleButton('<i class="fa fa-calendar"></i>',function(){EventsSearcher.search("week")},"cyclePathsButton ol-unselectable ol-control","eventsButton"),null==MapManager.cyclePathsButton&&MapManager.addSingleButton('<i class="fa fa-bicycle"></i>',function(){CategorySearcher.forceSelectedKeys=["Cycle_paths"],SearchManager.search("CategorySearcher")},"busStopButton ol-unselectable ol-control","cyclePathsButton"),null==MapManager.carParkButton&&MapManager.addSingleButton("<b>P</b>",function(){SearchManager.search("ParkingSearcher")},"infoSOCButton ol-unselectable ol-control","carParkButton")},showEnvironmentMap:function(){MapManager.removeVariableButtons(),null==MapManager.manualButton&&MapManager.addSingleButton('<i class="fa fa-map-marker"></i>',function(){MapManager.centerMapOnManual()},"manualButton ol-unselectable ol-control","manualButton"),null==MapManager.cyclePathsButton&&MapManager.addSingleButton('<i class="fa fa-bicycle"></i>',function(){CategorySearcher.forceSelectedKeys=["Cycle_paths"],SearchManager.search("CategorySearcher")},"carParkButton ol-unselectable ol-control","cyclePathsButton"),null==MapManager.busStopButton&&MapManager.addSingleButton('<i class="fa fa-bus"></i>',function(){SearchManager.search("TPLSearcher")},"busStopButton ol-unselectable ol-control","busStopButton")},centerMapOnGps:function(){null!=MapManager.gpsMarker&&null!=MapManager.map?(MapManager.map.getView().setCenter(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),MapManager.map.getView().setZoom(16),void 0!==NavigatorSearcher?1!=NavigatorSearcher.started&&$(document.getElementById("gpsPopup")).popover("show"):$(document.getElementById("gpsPopup")).popover("show")):null!=MapManager.manualMarker?navigator.notification.alert(Globalization.alerts.noPosition.message,function(){},Globalization.alerts.noPosition.title):navigator.notification.confirm(Globalization.alerts.noPosition.message,function(indexButton){"Android"==device.platform&&3==indexButton&&CheckGPS.openSettings()},Globalization.alerts.noPosition.title,Globalization.alerts.noPosition.buttonName)},centerMapOnManual:function(){null!=MapManager.manualMarker?(MapManager.map.getView().setCenter(MapManager.manualMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),MapManager.map.getView().setZoom(16),$(document.getElementById("manualPopup")).popover("show")):navigator.notification.alert(Globalization.alerts.manualPosition.message,function(){},Globalization.alerts.manualPosition.title)},centerMapOnCoordinates:function(latitude,longitude){null!=MapManager.map&&MapManager.map.getView().setCenter(ol.proj.fromLonLat([longitude,latitude]))},updateGpsMarker:function(latitude,longitude){if(null!=MapManager.gpsMarker){var currentCoordinates=ol.proj.toLonLat(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),newLongitude=longitude,newLatitude=latitude;GpsManager.getDistanceFromLatLonInM(latitude,longitude,currentCoordinates[1],currentCoordinates[0])<20&&(newLongitude=(currentCoordinates[0]+longitude)/2,newLatitude=(currentCoordinates[1]+latitude)/2),MapManager.gpsMarker.getSource().getFeatures()[0].setGeometry(new ol.geom.Point(ol.proj.fromLonLat([newLongitude,newLatitude]))),void 0!==NavigatorSearcher&&1==NavigatorSearcher.started&&MapManager.map.getView().setCenter(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),null!=MapManager.gpsMarkerPopUp&&MapManager.gpsMarkerPopUp.setPosition(ol.proj.fromLonLat([longitude,latitude]))}else MapManager.initializeGpsMarker(latitude,longitude)},updateRotation:function(heading,sender){if(void 0!==NavigatorSearcher&&1==NavigatorSearcher.started){var rad=0;Math.abs(heading-MapManager.currentHeading)<180?MapManager.currentHeading=(heading+MapManager.currentHeading)/2:MapManager.currentHeading=heading,"gps"==sender?rad=(360-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180:null!=screen.orientation.angle?rad=(360-screen.orientation.angle-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180:"portrait-primary"==screen.orientation?rad=(360-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180:"landscape-primary"==screen.orientation?rad=(270-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180:"portrait-secondary"==screen.orientation?rad=(180-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180:"landscape-secondary"==screen.orientation&&(rad=(90-MapManager.currentHeading+MapManager.correctRotation)*Math.PI/180),MapManager.map.getView().setRotation(rad)}},increaseCorrectRotation:function(){MapManager.correctRotation=(MapManager.correctRotation+90)%360,null!=MapManager.currentHeading&&MapManager.updateRotation(MapManager.currentHeading)},initializeGpsMarker:function(latitude,longitude){var coordinates=[longitude,latitude],gpsFeature=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(coordinates)),name:"gps"}),iconStyle=new ol.style.Style({image:new ol.style.Icon({size:[20,20],src:"img/gpsMarker.png"})});gpsFeature.setStyle(iconStyle),MapManager.gpsMarker=new ol.layer.Vector({source:new ol.source.Vector({features:[gpsFeature]})}),null!=MapManager.map&&(MapManager.map.addLayer(MapManager.gpsMarker),MapManager.gpsMarker.setZIndex(1),1==MapManager.gpsZoom&&(MapManager.map.getView().setCenter(ol.proj.fromLonLat(coordinates)),MapManager.map.getView().setZoom(16))),MapManager.initializeAndUpdatePopUpGpsMarker()},initializeAndUpdatePopUpGpsMarker:function(){if(null!=MapManager.map&&null!=MapManager.gpsMarker){$(document.getElementById("gpsPopup")).popover("destroy");var element=document.getElementById("gpsPopup"),initPopUp=!1;null==MapManager.gpsMarkerPopUp&&(initPopUp=!0,MapManager.gpsMarkerPopUp=new ol.Overlay({element:element,offset:[0,-9],positioning:"bottom-center"}),MapManager.map.addOverlay(MapManager.gpsMarkerPopUp)),MapManager.gpsMarkerPopUp.setPosition(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),$(element).popover({placement:"top",animation:!1,html:!0,content:'<h4><a onclick="CategorySearcher.forceSelectedKeys = [\'Service\']; SearchManager.searchOnGpsMarker(\'CategorySearcher\');" style="text-decoration: none;cursor: pointer;"><b style="color: blue; "> '+Globalization.labels.gpsPopUp.aroundYou+" </b></a></h4>"}),null==MapManager.menuToCheckForClick&&("iOS"==device.platform&&initPopUp?setTimeout(function(){$(element).popover("show")},800):$(element).popover("show"))}},removeAndUpdatePopUpGpsMarker:function(){null!=MapManager.map&&null!=MapManager.gpsMarker&&$(document.getElementById("gpsPopup")).popover("hide")},initializeAndUpdatePopUpManualMarker:function(label,callback){if(null!=MapManager.map&&null!=MapManager.manualMarker){$(document.getElementById("manualPopup")).popover("destroy");var element=document.getElementById("manualPopup");null==MapManager.manualMarkerPopUp&&(MapManager.manualMarkerPopUp=new ol.Overlay({element:element,offset:[0,-23],positioning:"bottom-center"}),MapManager.map.addOverlay(MapManager.manualMarkerPopUp)),MapManager.manualMarkerPopUp.setPosition(MapManager.manualMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()),$(element).popover({placement:"top",animation:!1,html:!0,content:'<h4><a onclick="'+callback+'" style="text-decoration: none;cursor: pointer;"><b style="color: blue; white-space: nowrap;"> '+label+' </b></a></h4><h4><a onclick="MapManager.removeManualMarker();" style="text-decoration: none;cursor: pointer;"><b style="color: red"> '+Globalization.labels.searchPopUp.remove+" </b></a></h4>"}),$(element).popover("show")}},closePopUp:function(){null!=MapManager.gpsMarker&&$(document.getElementById("gpsPopup")).popover("hide"),null!=MapManager.manualMarker&&$(document.getElementById("manualPopup")).popover("hide"),null!=MapManager.selectedServiceMarker&&$(document.getElementById("selectedServicePopup")).popover("hide")},mapCenterCoordinates:function(){if(null!=MapManager.map){var lnglat=ol.proj.toLonLat(MapManager.map.getView().getCenter());return[lnglat[1],lnglat[0]]}return null},gpsMarkerCoordinates:function(){if(null!=MapManager.gpsMarker){var lnglat=ol.proj.toLonLat(MapManager.gpsMarker.getSource().getFeatures()[0].getGeometry().getCoordinates());return[lnglat[1],lnglat[0]]}return null},manualMarkerCoordinates:function(){if(null!=MapManager.manualMarker)return[(lnglat=ol.proj.toLonLat(MapManager.manualMarker.getSource().getFeatures()[0].getGeometry().getCoordinates()))[1],lnglat[0]];if(null==MapManager.menuToCheckForClick)return null;if(null!=window[MapManager.menuToCheckForClick].manualMarker){var lnglat=ol.proj.toLonLat(window[MapManager.menuToCheckForClick].manualMarker.getSource().getFeatures()[0].getGeometry().getCoordinates());return[lnglat[1],lnglat[0]]}},selectedServiceMarkerCoordinates:function(){if(null!=MapManager.selectedServiceMarker){var lnglat=ol.proj.toLonLat(MapManager.selectedServiceMarker.getSource().getFeatures()[0].getGeometry().getCoordinates());return[lnglat[1],lnglat[0]]}return null},addGeoJSONLayer:function(jsonFile){MapManager.closePopUp(),1==MapManager.searchOnSelectedServiceMarker?MapManager.resetMarkerExceptSelectedServiceMarker():MapManager.resetMarker();var areaStyle,searchAreaFeature=new ol.Feature({geometry:new ol.geom.Circle(ol.proj.fromLonLat([SearchManager.searchCenter[1],SearchManager.searchCenter[0]]),1e3*QueryManager.maxDists*1.5)}),serviceUriWithGeometry=[];for(var category in jsonFile)if(null!=jsonFile[category].features)if(0!=jsonFile[category].features.length){for(var features=(new ol.format.GeoJSON).readFeatures(jsonFile[category]),i=0;i<features.length;i++){if(null==features[i].get("alternativeIcon"))iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+features[i].get("serviceType")+".png","classic");else var iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+features[i].get("alternativeIcon")+".png","classic");var iconStyle=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[36,41],src:iconUrl})});features[i].setStyle(iconStyle),features[i].getGeometry().getCoordinates()[0]=features[i].getGeometry().getCoordinates()[0]+(Math.random()*(3e-5-1e-5)+1e-5),features[i].getGeometry().getCoordinates()[1]=features[i].getGeometry().getCoordinates()[1]+(Math.random()*(3e-5-1e-5)+1e-5),features[i].setGeometry(new ol.geom.Point(ol.proj.fromLonLat(features[i].getGeometry().getCoordinates()))),1==features[i].get("hasGeometry")&&"TransferServiceAndRenting_Controlled_parking_zone"!=features[i].get("serviceType")&&"TourismService_Tourist_trail"!=features[i].get("serviceType")&&serviceUriWithGeometry.push(features[i].get("serviceUri"))}if(MapManager.iconsLayer[category]=new ol.layer.Vector({source:new ol.source.Vector({features:features})}),null!=MapManager.map){MapManager.map.addLayer(MapManager.iconsLayer[category]),MapManager.iconsLayer[category].setZIndex(1);for(i=0;i<serviceUriWithGeometry.length;i++){var serviceQuery=QueryManager.createServiceQuery(serviceUriWithGeometry[i],"app");APIClient.executeQueryWithoutAlert(serviceQuery,MapManager.addGeometryWktElement,MapManager.errorQueryGeometryWktElement)}}null==jsonFile[category].fullCount||isNaN(jsonFile[category].fullCount)?$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length):jsonFile[category].fullCount>jsonFile[category].features.length?$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].fullCount+Globalization.labels.servicesFounded.available):$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].features.length+Globalization.labels.servicesFounded.available),$("#servicesFounded").show(0),areaStyle=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0, 204, 0, 0.3)"}),stroke:new ol.style.Stroke({color:"#0c0",width:4})})}else areaStyle=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 0, 51, 0.3)"}),stroke:new ol.style.Stroke({color:"#f03",width:4})});searchAreaFeature.setStyle(areaStyle),MapManager.searchArea=new ol.layer.Vector({source:new ol.source.Vector({features:[searchAreaFeature]})}),null!=MapManager.map&&(MapManager.map.addLayer(MapManager.searchArea),MapManager.searchArea.setZIndex(0),MapManager.map.getView().fit(MapManager.searchArea.getSource().getExtent(),MapManager.map.getSize(),{constrainResolution:!1,padding:[10,10,10,10]})),1==MapManager.searchOnSelectedServiceMarker&&($(document.getElementById("selectedServicePopup")).popover("show"),MapManager.searchOnSelectedServiceMarker=!1)},addGeoJSONLayerWithoutArea:function(jsonFile){MapManager.closePopUp(),1==MapManager.searchOnSelectedServiceMarker?MapManager.resetMarkerExceptSelectedServiceMarker():MapManager.resetMarker();var serviceUriWithGeometry=[];for(var category in jsonFile)if(null!=jsonFile[category].features&&0!=jsonFile[category].features.length){for(var features=(new ol.format.GeoJSON).readFeatures(jsonFile[category]),i=0;i<features.length;i++){if(null==features[i].get("alternativeIcon"))iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+features[i].get("serviceType")+".png","classic");else var iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/"+features[i].get("alternativeIcon")+".png","classic");var iconStyle=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[36,41],src:iconUrl})});features[i].setStyle(iconStyle),features[i].getGeometry().getCoordinates()[0]=features[i].getGeometry().getCoordinates()[0]+(Math.random()*(3e-5-1e-5)+1e-5),features[i].getGeometry().getCoordinates()[1]=features[i].getGeometry().getCoordinates()[1]+(Math.random()*(3e-5-1e-5)+1e-5),features[i].setGeometry(new ol.geom.Point(ol.proj.fromLonLat(features[i].getGeometry().getCoordinates()))),1==features[i].get("hasGeometry")&&"TransferServiceAndRenting_Controlled_parking_zone"!=features[i].get("serviceType")&&"TourismService_Tourist_trail"!=features[i].get("serviceType")&&serviceUriWithGeometry.push(features[i].get("serviceUri"))}if(MapManager.iconsLayer[category]=new ol.layer.Vector({source:new ol.source.Vector({features:features})}),null!=MapManager.map){MapManager.map.addLayer(MapManager.iconsLayer[category]),MapManager.iconsLayer[category].setZIndex(1);for(i=0;i<serviceUriWithGeometry.length;i++){var serviceQuery=QueryManager.createServiceQuery(serviceUriWithGeometry[i],"app");APIClient.executeQueryWithoutAlert(serviceQuery,MapManager.addGeometryWktElement,MapManager.errorQueryGeometryWktElement)}}null==jsonFile[category].fullCount||isNaN(jsonFile[category].fullCount)?"Event"==category?$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.events+jsonFile[category].features.length):$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length):"Event"==category?jsonFile[category].fullCount>jsonFile[category].features.length?$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.events+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].fullCount+Globalization.labels.servicesFounded.available):$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.events+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].features.length+Globalization.labels.servicesFounded.available):jsonFile[category].fullCount>jsonFile[category].features.length?$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].fullCount+Globalization.labels.servicesFounded.available):$("#servicesFoundedInner").html(Globalization.labels.servicesFounded.services+jsonFile[category].features.length+Globalization.labels.servicesFounded.on+jsonFile[category].features.length+Globalization.labels.servicesFounded.available),$("#servicesFounded").show(0),null!=MapManager.map&&1!=NavigatorSearcher.started&&(MapManager.iconsLayer[category].getSource().getFeatures().length>1?MapManager.map.getView().fit(MapManager.iconsLayer[category].getSource().getExtent(),MapManager.map.getSize(),{constrainResolution:!1,padding:[40,20,10,20]}):1==MapManager.iconsLayer[category].getSource().getFeatures().length&&MapManager.map.getView().setCenter(MapManager.iconsLayer[category].getSource().getFeatures()[0].getGeometry().getCoordinates()))}1==MapManager.searchOnSelectedServiceMarker&&($(document.getElementById("selectedServicePopup")).popover("show"),MapManager.searchOnSelectedServiceMarker=!1)},addGeometryWktElement:function(jsonFile){for(var category in jsonFile)if(0!=jsonFile[category].features.length){for(var features=(new ol.format.GeoJSON).readFeatures(jsonFile[category]),geometryStyle=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0, 0, 255, 0.3)"}),stroke:new ol.style.Stroke({color:"#00f",width:4})}),i=0;i<features.length;i++)features[i]=(new ol.format.WKT).readFeature(features[i].get("wktGeometry"),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),features[i].setStyle(geometryStyle);null==MapManager.geometryWktLayer[category]?(MapManager.geometryWktLayer[category]=new ol.layer.Vector({source:new ol.source.Vector({features:features})}),null!=MapManager.map&&MapManager.map.addLayer(MapManager.geometryWktLayer[category])):MapManager.geometryWktLayer[category].getSource().addFeatures(features)}},addManualMarker:function(coordinates,label,callback){if(null===MapManager.manualMarker){var manualFeature=new ol.Feature({geometry:new ol.geom.Point(coordinates),name:"manual"}),iconStyle=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[16,24],src:"img/manualMarker.png"})});manualFeature.setStyle(iconStyle),MapManager.manualMarker=new ol.layer.Vector({source:new ol.source.Vector({features:[manualFeature]})}),null!=MapManager.map&&(MapManager.map.addLayer(MapManager.manualMarker),MapManager.manualMarker.setZIndex(1))}else MapManager.manualMarker.getSource().getFeatures()[0].setGeometry(new ol.geom.Point(coordinates));MapManager.initializeAndUpdatePopUpManualMarker(label,callback)},addSelectedServiceMarker:function(serviceType,name,civic,busLines,agency,serviceUri,latitude,longitude,alternativeIcon){null!=MapManager.selectedServiceMarker&&MapManager.map.removeLayer(MapManager.selectedServiceMarker);for(var category in MapManager.geometryWktLayer)MapManager.map.removeLayer(MapManager.geometryWktLayer[category]),MapManager.geometryWktLayer=[];var coordinates=[longitude,latitude],selectedServiceFeature=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(coordinates)),name:name,civic:civic,busLines:busLines,agency:agency,serviceType:serviceType,serviceUri:serviceUri});if(null==alternativeIcon||""==alternativeIcon)iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/over/"+serviceType+"_over.png","over");else var iconUrl=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/over/"+alternativeIcon+"_over.png","over");var iconStyle=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[36,41],src:iconUrl})});selectedServiceFeature.setStyle(iconStyle),MapManager.selectedServiceMarker=new ol.layer.Vector({source:new ol.source.Vector({features:[selectedServiceFeature]})}),null!=MapManager.map&&(MapManager.map.addLayer(MapManager.selectedServiceMarker),MapManager.selectedServiceMarker.setZIndex(2)),$(document.getElementById("selectedServicePopup")).popover("destroy");var element=document.getElementById("selectedServicePopup");null==MapManager.selectedServicePopUp&&(MapManager.selectedServicePopUp=new ol.Overlay({element:element,offset:[0,-40],positioning:"bottom-center"}),MapManager.map.addOverlay(MapManager.selectedServicePopUp)),MapManager.selectedServicePopUp.setPosition(MapManager.selectedServiceMarker.getSource().getFeatures()[0].getGeometry().getCoordinates());var content='<a style="text-transform:capitalize; color: #777;text-decoration: none" onclick="InfoManager.showInfoAboutOneMarker(\''+serviceUri+"',"+latitude+","+longitude+')"><h4><b>'+Utility.unescapeHtml(name)+"</b></h4>";""==civic||null==civic||void 0!==serviceType&&""!=serviceType||(content+='<i id="civicNumber">'+Globalization.labels.textSearchMenu.civic+"</i>"+civic),""!=agency&&null!=agency&&-1!==serviceType.indexOf("TransferServiceAndRenting_BusStop")&&(content+="<span>"+agency+"</span><br>"),""!=busLines&&null!=busLines&&-1!==serviceType.indexOf("TransferServiceAndRenting_BusStop")&&(content+='<i id="busStopLines">'+Globalization.labels.textSearchMenu.lines+"</i>"+busLines),content+="</a>",$(element).popover({placement:"top",animation:!1,html:!0,content:content}),setTimeout(function(){$(element).popover("show")},400)},addSelectedGeometry:function(wktGeometry){if(null!=wktGeometry&&""!=wktGeometry&&-1==wktGeometry.indexOf("POINT")){null!=MapManager.selectedGeometry&&(MapManager.map.removeLayer(MapManager.selectedGeometry),MapManager.selectedGeometry=null);var feature=(new ol.format.WKT).readFeature(wktGeometry,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});geometryStyle=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(120, 0, 170, 0.3)"}),stroke:new ol.style.Stroke({color:"#7800aa",width:4})}),feature.setStyle(geometryStyle),null==MapManager.selectedGeometry&&(MapManager.selectedGeometry=new ol.layer.Vector({source:new ol.source.Vector({features:[feature]})}),null!=MapManager.map&&(MapManager.map.addLayer(MapManager.selectedGeometry),MapManager.selectedGeometry.setZIndex(0),MapManager.map.getView().fit(MapManager.selectedGeometry.getSource().getExtent(),MapManager.map.getSize(),{constrainResolution:!1,padding:[130,30,10,30]})))}},removeGpsMarker:function(){null!=MapManager.gpsMarker&&(MapManager.map.removeLayer(MapManager.gpsMarker),MapManager.gpsMarker=null,$(document.getElementById("gpsPopup")).popover("destroy"))},removeManualMarker:function(){null!=MapManager.manualMarker&&(MapManager.map.removeLayer(MapManager.manualMarker),MapManager.manualMarker=null,$(document.getElementById("manualPopup")).popover("destroy"))},removeSearchArea:function(){null!=MapManager.searchArea&&(MapManager.map.removeLayer(MapManager.searchArea),MapManager.searchArea=null)},resetMarker:function(){null!=MapManager.selectedServiceMarker&&(MapManager.map.removeLayer(MapManager.selectedServiceMarker),MapManager.selectedServiceMarker=null,$(document.getElementById("selectedServicePopup")).popover("destroy")),null!=MapManager.selectedGeometry&&(MapManager.map.removeLayer(MapManager.selectedGeometry),MapManager.selectedGeometry),MapManager.removeSearchArea();for(var category in MapManager.iconsLayer)MapManager.map.removeLayer(MapManager.iconsLayer[category]),MapManager.iconsLayer=[];for(var category in MapManager.geometryWktLayer)MapManager.map.removeLayer(MapManager.geometryWktLayer[category]),MapManager.geometryWktLayer=[];$("#servicesFounded").hide(0)},resetMarkerExceptSelectedServiceMarker:function(){MapManager.removeSearchArea();for(var category in MapManager.iconsLayer)MapManager.map.removeLayer(MapManager.iconsLayer[category]),MapManager.iconsLayer=[];for(var category in MapManager.geometryWktLayer)MapManager.map.removeLayer(MapManager.geometryWktLayer[category]),MapManager.geometryWktLayer=[];$("#servicesFounded").hide(0)},showMenuReduceMap:function(idDivMenu){$(window).height()>$(window).width()?($(idDivMenu).css({bottom:"0px",top:"auto",right:"0px",left:"0px",width:"100%",height:"35%"}),$("#content").css({height:"65%",width:"100%"}),$("#lastOperation").css({left:"42.5%",right:"42.5%",bottom:"35%"}),$(idDivMenu+" div.grippyContainer").removeClass("grippyContainer-vertical").addClass("grippyContainer-horizontal"),$(idDivMenu+" div.grippy").removeClass("grippy-vertical").addClass("grippy-horizontal"),$("#categorySearchMenu").css("height",$("#content").height()+"px")):($(idDivMenu).css({bottom:"0px",top:"0px",left:"auto",right:"0px",width:"35%",height:"100%"}),$("#content").css({height:"100%",width:"65%"}),$("#lastOperation").css({left:.425*$("#content").width()+"px",right:.425*$("#content").width()+.35*$(window).width()+"px",bottom:"0px"}),$(idDivMenu+" div.grippyContainer").removeClass("grippyContainer-horizontal").addClass("grippyContainer-vertical"),$(idDivMenu+" div.grippy").removeClass("grippy-horizontal").addClass("grippy-vertical"),$("#dropdownThreeVertical").removeClass("open"),CategorySearcher.hidePanelMenu()),$("#servicesFounded").css({left:.15*$("#content").width()+"px",width:.7*$("#content").width()+"px"}),$("#loadingImage").css({left:.48*$("#content").width()+"px"}),$("#settingsLoadingImage").css({left:.48*$("#content").width()+"px"}),$("#autoSearchLoadingImage").css({left:.48*$("#content").width()+"px"}),$("#easterEggReducedMap").show(),MapManager.updateMap()},reduceMenuShowMap:function(idDivMenu,force){null!=idDivMenu&&$(idDivMenu).css({bottom:"-100%",top:"auto",right:"auto",width:"100%",height:"35%"}),(application.menuToCheckArray.length<3||3==application.menuToCheckArray.length&&(1==CategorySearcher.openPanelMenu||-1!=application.menuToCheckArray.indexOf(PathFinder.varName))||force)&&($("#content").css({height:"100%",width:"100%"}),$("#servicesFounded").css({left:"15%",width:"70%"}),$("#lastOperation").css({left:"42.5%",right:"42.5%",bottom:"0px"}),$("#loadingImage").css({left:"48%"}),$("#settingsLoadingImage").css({left:"48%"}),$("#autoSearchLoadingImage").css({left:"48%"}),$("#categorySearchMenu").css("height",$("#content").height()+"px"),MapManager.updateMap()),$("#easterEggReducedMap").hide()},disableGpsZoom:function(){MapManager.gpsZoom=!1},addingMenuToCheck:function(menuToCheck){MapManager.menuToCheckForClick=menuToCheck},removingMenuToCheck:function(){MapManager.menuToCheckForClick=null}},PictureManager={sendPhotoModalOpen:!1,sendPhotoAlbumModalOpen:!1,currentServiceUri:null,formDataArrayToUpload:null,sendedImages:0,errorSendedImagesLabels:[],errorSendedImagesPath:[],fileArrayToUpload:[],maxImages:5,abortOperation:!1,takePhoto:function(serviceUri){PictureManager.currentServiceUri=serviceUri,PictureManager.fileArrayToUpload=[],navigator.camera.getPicture(PictureManager.successTake,PictureManager.errorTake)},successTake:function(imageUri){$("#sendPhotoPreview").attr("src",imageUri),PictureManager.showSendPhotoModal(),PictureManager.fileArrayToUpload.push(imageUri)},errorTake:function(){console.log("Error!")},pickPhotoFromAlbum:function(serviceUri){if(PictureManager.currentServiceUri=serviceUri,PictureManager.fileArrayToUpload=[],"Android"==device.platform)plugins.imagePicker.getPictures(PictureManager.successPickArray,PictureManager.errorPick,{maxImages:PictureManager.maxImages,quality:70});else{var destinationTypeValue="windows"==device.platform||"Win32NT"==device.platform?2:1;navigator.camera.getPicture(PictureManager.successPickUri,PictureManager.errorPick,{sourceType:0,quality:70,destinationType:destinationTypeValue})}},successPickUri:function(imageUri){$("#sendPhotoAlbumModalImageList").empty();var content="<img src='"+imageUri+'\'style="margin-right: 2.5px; margin-left: 2.5px; max-width: 70%" class="photoAlbum card-2">';PictureManager.fileArrayToUpload.push(imageUri),$("#sendPhotoAlbumModalImageList").html(content),PictureManager.showSendPhotoAlbumModal()},successPickArray:function(results){if(0!=results.length){$("#sendPhotoAlbumModalImageList").empty();for(var content="",i=0;i<results.length;i++)content=content+"<img src='"+results[i]+'\'style="margin-right: 2.5px; margin-left: 2.5px" class="photoAlbum">',PictureManager.fileArrayToUpload.push(results[i]);$("#sendPhotoAlbumModalImageList").html(content),PictureManager.showSendPhotoAlbumModal()}},errorPick:function(error){console.log("Error: "+error)},uploadPhoto:function(){if(PictureManager.abortOperation=!1,PictureManager.sendedImages=0,PictureManager.errorSendedImagesLabels=[],PictureManager.errorSendedImagesPath=[],"Web"!=device.platform)for(i=0;i<PictureManager.fileArrayToUpload.length;i++)APIClient.uploadPhoto(PictureManager.fileArrayToUpload[i],PictureManager.currentServiceUri,PictureManager.successUpload,PictureManager.errorUpload);else for(var photoUploadQuery=QueryManager.createPhotoUploadQuery(PictureManager.currentServiceUri,"user"),i=0;i<PictureManager.formDataArrayToUpload.length;i++)APIClient.uploadPhotoFromWeb(photoUploadQuery,PictureManager.formDataArrayToUpload[i],PictureManager.successUpload,PictureManager.errorUpload)},successUpload:function(r){PictureManager.sendedImages++,"Web"!=device.platform?(console.log("Code = "+r.responseCode+" Response = "+r.response+" Sent = "+r.bytesSent),PictureManager.sendedImages+PictureManager.errorSendedImagesPath.length==PictureManager.fileArrayToUpload.length&&PictureManager.finalOperation()):(console.log("Sent Image"),PictureManager.sendedImages+PictureManager.errorSendedImagesPath.length==PictureManager.formDataArrayToUpload.length&&PictureManager.finalOperation())},errorUpload:function(error){"Web"!=device.platform?(console.log("An error has occurred: Code = "+error.code+" upload error source "+error.source+" upload error target "+error.target),PictureManager.errorSendedImagesLabels.push(error.source.substring(error.source.lastIndexOf("/")+1)),PictureManager.errorSendedImagesPath.push(error.source),null!=PictureManager.errorSendedImagesPath&&null!=PictureManager.formDataArrayToUpload&&PictureManager.sendedImages+PictureManager.errorSendedImagesPath.length==PictureManager.fileArrayToUpload.length&&PictureManager.finalOperation()):(console.log("An error has occurred"),null!=PictureManager.errorSendedImagesPath&&null!=PictureManager.formDataArrayToUpload?PictureManager.sendedImages+PictureManager.errorSendedImagesPath.length==PictureManager.formDataArrayToUpload.length&&PictureManager.finalOperation():PictureManager.finalOperation())},retryUploadPhoto:function(){PictureManager.fileArrayToUpload=PictureManager.errorSendedImagesPath,PictureManager.uploadPhoto()},finalOperation:function(){FeedbackManager.currentServiceUri=PictureManager.currentServiceUri,FeedbackManager.sendStars(),PictureManager.abortOperation?(navigator.notification.alert(Globalization.alerts.photoUpload.sendedImages+PictureManager.sendedImages+"\n"+Globalization.alerts.photoUpload.moderator,function(){},Globalization.alerts.photoUpload.problemTitle),PictureManager.hideSendPhotoAlbumModal()):null!=PictureManager.fileArrayToUpload&&PictureManager.sendedImages==PictureManager.fileArrayToUpload.length||null!=PictureManager.formDataArrayToUpload&&PictureManager.sendedImages==PictureManager.formDataArrayToUpload.length?(navigator.notification.alert(Globalization.alerts.photoUpload.sendedImages+PictureManager.sendedImages+"\n"+Globalization.alerts.photoUpload.moderator,function(){},Globalization.alerts.photoUpload.doneTitle),PersonalAssistant.removeMessage(PersonalAssistant.currentIdToRemove),PictureManager.hideSendPhotoModal(),PictureManager.hideSendPhotoAlbumModal()):navigator.notification.confirm(Globalization.alerts.photoUpload.sendedImages+PictureManager.sendedImages+"\n"+Globalization.alerts.photoUpload.moderator+"\n"+Globalization.alerts.photoUpload.unsendedImages+"\n"+PictureManager.errorSendedImagesLabels.join("\n"),function(indexButton){2==indexButton&&PictureManager.retryUploadPhoto(),1==indexButton&&(PictureManager.hideSendPhotoModal(),PictureManager.hideSendPhotoAlbumModal())},Globalization.alerts.photoUpload.problemTitle,Globalization.alerts.photoUpload.buttonName)},showSendPhotoModal:function(){$("#sendPhotoModalCancelButton").html(Globalization.labels.commonLabels.cancel),$("#sendPhotoModalSendButton").html(Globalization.labels.commonLabels.send),$("#userStarsLabelSendPhotoModal").html(Globalization.labels.infoMenu.userStars),$("#commentLabelSendPhotoModal").html(Globalization.labels.infoMenu.comment),$("#sendPhotoModal").modal("show"),$("#sendPhotoModal").on("hide.bs.modal",function(e){PictureManager.sendPhotoModalOpen=!1}),$("#inputStarsSendPhotoModal").parent().children("div.rating").children("span.empty-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),$("#inputStarsSendPhotoModal").parent().children("div.rating").children("span.filled-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),PictureManager.sendPhotoModalOpen=!0},hideSendPhotoModal:function(){$("#sendPhotoModal").modal("hide"),PictureManager.sendPhotoModalOpen=!1},showSendPhotoAlbumModal:function(){$("#sendPhotoAlbumModalCancelButton").html(Globalization.labels.commonLabels.cancel),$("#sendPhotoAlbumModalSendButton").html(Globalization.labels.commonLabels.send),$("#userStarsLabelSendPhotoAlbumModal").html(Globalization.labels.infoMenu.userStars),$("#commentLabelSendPhotoAlbumModal").html(Globalization.labels.infoMenu.comment),$("#sendPhotoAlbumModal").modal("show"),$("#sendPhotoAlbumModal").on("hide.bs.modal",function(e){PictureManager.sendPhotoAlbumModalOpen=!1}),$("#inputStarsSendPhotoAlbumModal").parent().children("div.rating").children("span.empty-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),$("#inputStarsSendPhotoAlbumModal").parent().children("div.rating").children("span.filled-stars").children("span.star").css("color",$("#infoMenuHeader").css("background-color")),PictureManager.sendPhotoAlbumModalOpen=!0},hideSendPhotoAlbumModal:function(){$("#sendPhotoAlbumModal").modal("hide"),PictureManager.sendPhotoAlbumModalOpen=!1}},QueryManager={defaultDists:Parameters.distsQueryManager,defaultDistsRecommender:Parameters.distsRecommenderQueryManager,defaultResults:Parameters.resultsQueryManager,defaultLanguage:"ita",defaultProfile:"all",uid:null,uid2:null,version:null,appID:null,maxDists:null,maxDistsRecommender:null,maxResults:null,language:null,profile:null,backupMaxDists:null,format:"json",refreshParameters:function(){null!=SettingsManager.maxDistanceRecommender?QueryManager.maxDistsRecommender=SettingsManager.maxDistanceRecommender:QueryManager.maxDistsRecommender=QueryManager.defaultDistsRecommender,null!=SettingsManager.maxDistance?QueryManager.maxDists=SettingsManager.maxDistance:QueryManager.maxDists=QueryManager.defaultDists,null!=SettingsManager.numberOfItems?QueryManager.maxResults=SettingsManager.numberOfItems:QueryManager.maxResults=QueryManager.defaultResults,null!=SettingsManager.language?QueryManager.language=SettingsManager.language.substring(0,2):QueryManager.language=QueryManager.defaultLanguage,null!=SettingsManager.profile?QueryManager.profile=SettingsManager.profile:QueryManager.profile=QueryManager.defaultProfile,QueryManager.uid2=application.uid2,QueryManager.appID=application.appID,QueryManager.version=application.version},createRetrieveActionsQuery:function(){return"engager-api/engager?uid="+application.uid},createBusStopsRoutesQuery:function(line,agencyUri,busStopName,geometry,requestFrom){return"tpl/bus-routes/?line="+line+"&agency="+agencyUri+"&busStopName="+busStopName+"&geometry="+geometry+"&requestFrom="+requestFrom+"&uid="+application.uid},createRouteQuery:function(route,geometry,requestFrom){return"tpl/bus-stops/?route="+route+"&geometry="+geometry+"&requestFrom="+requestFrom+"&uid="+application.uid},createLocationQuery:function(queryCoordinates,requestFrom){return"location/?position="+queryCoordinates.join(";")+"&requestFrom="+requestFrom+"&uid="+application.uid+"&lang="+QueryManager.language},createCategoriesQuery:function(categories,queryCoordinates,requestFrom){return null!==QueryManager.maxDists&&null!==QueryManager.maxResults||QueryManager.refreshParameters(),"?selection="+queryCoordinates.join(";")+"&requestFrom="+requestFrom+"&categories="+categories.join(";")+"&maxResults="+QueryManager.maxResults+"&maxDists="+QueryManager.maxDists+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true"},createCategoriesOnWKTQuery:function(categories,wktGeometry,requestFrom){return null!==QueryManager.maxDists&&null!==QueryManager.maxResults||QueryManager.refreshParameters(),"?selection=wkt:"+wktGeometry+"&requestFrom="+requestFrom+"&categories="+categories.join(";")+"&maxResults="+QueryManager.maxResults+"&maxDists="+QueryManager.maxDists+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true"},createServiceQuery:function(serviceUri,requestFrom){return"?serviceUri="+serviceUri+"&requestFrom="+requestFrom+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language},createTextQuery:function(text,queryCoordinates,requestFrom){return"?selection="+queryCoordinates.join(";")+"&requestFrom="+requestFrom+"&search="+text+"&maxResults="+QueryManager.maxResults+"&maxDists="+QueryManager.maxDists+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true"},createFullTextQuery:function(text,requestFrom){return"?search="+text+"&requestFrom="+requestFrom+"&maxResults="+QueryManager.maxResults+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true"},createAddressPOISearchQuery:function(text,queryCoordinates,sortByDistance,searchMode,categories,requestFrom){return null!=queryCoordinates?"location/?search="+text+"&position="+queryCoordinates.join(";")+"&sortByDistance="+sortByDistance+"&searchMode="+searchMode+"&categories="+categories.join(";")+"&requestFrom="+requestFrom+"&maxResults="+QueryManager.maxResults+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true":"location/?search="+text+"&sortByDistance="+sortByDistance+"&searchMode="+searchMode+"&categories="+categories.join(";")+"&requestFrom="+requestFrom+"&maxResults="+QueryManager.maxResults+"&format="+QueryManager.format+"&uid="+application.uid+"&lang="+QueryManager.language+"&geometry=true"},createFeedbackQuery:function(serviceUri,comment,stars,requestFrom){return null!=stars?"feedback/?serviceUri="+serviceUri+"&uid="+application.uid+"&stars="+stars+"&requestFrom="+requestFrom:null!=comment?"feedback/?serviceUri="+serviceUri+"&uid="+application.uid+"&comment="+encodeURIComponent(comment)+"&requestFrom="+requestFrom:void 0},createLastFeedbackQuery:function(requestFrom){return"feedback/last/?lang="+QueryManager.language+"&maxResults=8&uid="+application.uid+"&requestFrom="+requestFrom},createEventsQuery:function(time,requestFrom){return"events/?range="+time+"&requestFrom="+requestFrom+"&uid="+application.uid},createVoteSuggestion:function(serviceUri,genID,vote,suggType){return null!=serviceUri?"?action=assess&uid="+application.uid+"&serviceUri="+serviceUri+"&vote="+vote+"&suggType="+suggType:null!=genID?"?action=assess&uid="+application.uid+"&genID="+genID+"&vote="+vote+"&suggType="+suggType:void 0},createRecommenderQuery:function(queryCoordinates,mode,aroundMe){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"getSuggestions  latitude="+queryCoordinates[0]+" longitude="+queryCoordinates[1]+" mode="+mode+" distance="+QueryManager.maxDistsRecommender),"?action=recommend&uid="+application.uid+"&uid2="+QueryManager.uid2+"&appID="+QueryManager.appID+"&profile="+QueryManager.profile+"&version="+QueryManager.version+"&latitude="+queryCoordinates[0]+"&longitude="+queryCoordinates[1]+"&mode="+mode+"&aroundme="+aroundMe+"&distance="+QueryManager.maxDistsRecommender+"&lang="+QueryManager.language},createRecommendAGroupQuery:function(queryCoordinates,groupToRecommend,mode){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"getGroupSuggestions  group="+groupToRecommend+" latitude="+queryCoordinates[0]+" longitude="+queryCoordinates[1]+" mode="+mode+" distance="+QueryManager.maxDistsRecommender),"?action=recommendForGroup&uid="+application.uid+"&uid2="+QueryManager.uid2+"&appID="+QueryManager.appID+"&profile="+QueryManager.profile+"&version="+QueryManager.version+"&latitude="+queryCoordinates[0]+"&longitude="+queryCoordinates[1]+"&mode="+mode+"&group="+groupToRecommend+"&distance="+QueryManager.maxDistsRecommender+"&lang="+QueryManager.language},createDislikeGroupQuery:function(groupToDislike){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"dislikeGroup  group="+groupToDislike),"?action=dislike&uid="+application.uid+"&group="+groupToDislike+"&lang="+QueryManager.language},createDislikeSubCategoryQuery:function(subCategoryToDislike){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"dislikeSubCategory  subcategory="+subCategoryToDislike),"?action=dislikeSubclass&uid="+application.uid+"&subclass="+subCategoryToDislike+"&lang="+QueryManager.language},createRemoveDislikeQuery:function(){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"removeAllDislike"),"?action=removeDislike&uid="+application.uid+"&lang="+QueryManager.language},createLogViewedTweetQuery:function(tweetID,group){return LogRecommender.write(dateFormat(new Date,"[yyyy-mm-dd HH:MM:ss]")+"logViewedTweet"),"?action=logViewedTweet&uid="+application.uid+"&twitterId="+tweetID+"&group="+group+"&lang="+QueryManager.language},createLogPrincipalMenuChoices:function(buttonId,requestFrom){return"notification/?uid="+application.uid+"&selection="+buttonId+"&requestFrom="+requestFrom},createLogRemoveMessagePersonalAssistant:function(messageId){return"cancel-engagement?id="+messageId},createShortestPathQuery:function(queryCoordinatesSource,queryCoordinatesDestination,routeType,startDatetime,requestFrom){return"shortestpath/?uid="+application.uid+"&source="+queryCoordinatesSource.join(";")+"&destination="+queryCoordinatesDestination.join(";")+"&routeType="+routeType+"&startDatetime="+startDatetime+"&format="+QueryManager.format+"&requestFrom="+requestFrom},increaseMaxDistTemporary:function(){return null==QueryManager.backupMaxDists&&(QueryManager.backupMaxDists=QueryManager.maxDists),QueryManager.maxDists=2*QueryManager.maxDists,!(QueryManager.maxDists>Parameters.limitDistance)},resetMaxDists:function(){null!=QueryManager.backupMaxDists&&(QueryManager.maxDists=QueryManager.backupMaxDists,QueryManager.backupMaxDists=null)}},SearchManager={searchCenter:null,typeOfSearchCenter:null,currentType:null,fireLastCallback:!1,search:function(searcher){SearchManager.fireLastCallback=!1,SearchManager.currentType=searcher,null!=MapManager.gpsMarkerCoordinates()?null!=MapManager.manualMarkerCoordinates()?null!=MapManager.selectedServiceMarkerCoordinates()?navigator.notification.confirm(Globalization.alerts.chooseThreeSearchCenter.message,function(indexButton){"Android"==device.platform||"Web"==device.platform?(3==indexButton&&SearchManager.searchOnSelectedServiceMarker(SearchManager.currentType),2==indexButton&&SearchManager.searchOnManualMarker(SearchManager.currentType),1==indexButton&&SearchManager.searchOnGpsMarker(SearchManager.currentType)):"iOS"!=device.platform&&"Win32NT"!=device.platform&&"windows"!=device.platform||(2==indexButton&&SearchManager.searchOnSelectedServiceMarker(SearchManager.currentType),1==indexButton&&SearchManager.searchOnManualMarker(SearchManager.currentType))},Globalization.alerts.chooseThreeSearchCenter.title,Globalization.alerts.chooseThreeSearchCenter.buttonName):navigator.notification.confirm(Globalization.alerts.chooseGpsManualSearchCenter.message,function(indexButton){2==indexButton&&SearchManager.searchOnManualMarker(SearchManager.currentType),1==indexButton&&SearchManager.searchOnGpsMarker(SearchManager.currentType)},Globalization.alerts.chooseGpsManualSearchCenter.title,Globalization.alerts.chooseGpsManualSearchCenter.buttonName):null!=MapManager.selectedServiceMarkerCoordinates()?navigator.notification.confirm(Globalization.alerts.chooseGpsServiceSearchCenter.message,function(indexButton){2==indexButton&&SearchManager.searchOnSelectedServiceMarker(SearchManager.currentType),1==indexButton&&SearchManager.searchOnGpsMarker(SearchManager.currentType)},Globalization.alerts.chooseGpsServiceSearchCenter.title,Globalization.alerts.chooseGpsServiceSearchCenter.buttonName):SearchManager.searchOnGpsMarker(SearchManager.currentType):null!=MapManager.manualMarkerCoordinates()?null!=MapManager.selectedServiceMarkerCoordinates()?navigator.notification.confirm(Globalization.alerts.chooseManualServiceSearchCenter.message,function(indexButton){2==indexButton&&SearchManager.searchOnSelectedServiceMarker(SearchManager.currentType),1==indexButton&&SearchManager.searchOnManualMarker(SearchManager.currentType)},Globalization.alerts.chooseManualServiceSearchCenter.title,Globalization.alerts.chooseManualServiceSearchCenter.buttonName):SearchManager.searchOnManualMarker(SearchManager.currentType):null!=MapManager.selectedServiceMarkerCoordinates()?SearchManager.searchOnSelectedServiceMarker(SearchManager.currentType):navigator.notification.confirm(Globalization.alerts.noPosition.message,function(indexButton){"Android"==device.platform&&(3==indexButton&&CheckGPS.openSettings(),2==indexButton&&(SearchManager.fireLastCallback=!0))},Globalization.alerts.noPosition.title,Globalization.alerts.noPosition.buttonName)},searchOnManualMarker:function(searcher){SearchManager.searchCenter=MapManager.manualMarkerCoordinates(),SearchManager.typeOfSearchCenter="manualMarker",SearchManager.rightSearch(searcher)},searchOnGpsMarker:function(searcher){SearchManager.searchCenter=MapManager.gpsMarkerCoordinates(),SearchManager.typeOfSearchCenter="gpsMarker",SearchManager.rightSearch(searcher)},searchOnSelectedServiceMarker:function(searcher){SearchManager.searchCenter=MapManager.selectedServiceMarkerCoordinates(),SearchManager.typeOfSearchCenter="selectedServiceMarker",SearchManager.rightSearch(searcher)},rightSearch:function(searcher){null!=window[searcher]&&null!=window[searcher].search&&window[searcher].search()},startAutoSearch:function(searcher){if(1==QueryManager.increaseMaxDistTemporary())Loading.showAutoSearchLoading(),null!=window[searcher]&&null!=window[searcher].search&&window[searcher].search();else{var response={Results:{fullCount:0,type:"FeatureCollection",features:[]}};MapManager.addGeoJSONLayer(response),null!=window[searcher]&&(null!=window[searcher].results&&(window[searcher].results=response.Results),null!=window[searcher].refreshMenu&&window[searcher].refreshMenu(),null!=window[searcher].resetSearch&&window[searcher].resetSearch()),navigator.notification.alert(Globalization.alerts.overMaxDistance.message,function(){},Globalization.alerts.overMaxDistance.title)}}},SettingsManager={urlDefaultSettings:RelativePath.jsonFolder+"defaultSettings.json",open:!1,menu:null,defaultSettings:null,language:null,textSize:null,maxDistance:null,maxDistanceRecommender:null,numberOfItems:null,track:null,scanPeriod:null,profile:null,notifySuggestions:null,notifyInfoSoc:null,notifyPersonalAssistant:null,notifyPeriod:null,periodBackgroundNotifier:null,nightDay:null,chronologyMaxSize:null,gpsPosition:null,initializeSettings:function(settingsOnInit){null==SettingsManager.defaultSettings&&$.ajax({url:SettingsManager.urlDefaultSettings,async:!1,dataType:"json",success:function(data){SettingsManager.defaultSettings=data}});for(var setting in SettingsManager.defaultSettings)null===localStorage.getItem(setting)&&localStorage.setItem(setting,SettingsManager.defaultSettings[setting]),SettingsManager[setting]=localStorage.getItem(setting);"it"==SettingsManager.language?localStorage.setItem("language","ita"):"es"==SettingsManager.language?localStorage.setItem("language","esp"):"en"==SettingsManager.language?localStorage.setItem("language","eng"):"fr"==SettingsManager.language?localStorage.setItem("language","fra"):"de"==SettingsManager.language&&localStorage.setItem("language","deu"),SettingsManager.language=localStorage.getItem("language"),"true"==settingsOnInit?(Globalization.refresh(),SettingsManager.refreshMenu()):SettingsManager.refreshAll()},resetSettings:function(){for(var setting in SettingsManager.defaultSettings)SettingsManager[setting]=SettingsManager.defaultSettings[setting];SettingsManager.refreshMenu()},saveSettings:function(){for(var setting in SettingsManager.defaultSettings)SettingsManager[setting]=$("[name='"+setting+"']").val(),localStorage.setItem(setting,SettingsManager[setting]);SettingsManager.refreshAll()},cancelChanges:function(){for(var setting in SettingsManager.defaultSettings)null===localStorage.getItem(setting)&&localStorage.setItem(setting,SettingsManager.defaultSettings[setting]),SettingsManager[setting]=localStorage.getItem(setting)},refreshMenu:function(){$.ajax({url:RelativePath.jsonFolder+"settingsMenu/settingsMenu."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){SettingsManager.menu=data}});for(var i=0;i<SettingsManager.menu.Settings.groups.length;i++)for(var j=0;j<SettingsManager.menu.Settings.groups[i].items.length;j++){var item=SettingsManager.menu.Settings.groups[i].items[j];if(null!=item.options)for(var l=0;l<item.options.length;l++)item.options[l].key==SettingsManager[item.key]&&(SettingsManager.menu.Settings.groups[i].items[j].options[l].selected="selected")}SettingsManager.menu.Settings.platform=device.platform,0==$("#settingsMenu").length&&$("#indexPage").append('<div id="settingsMenu" class="commonMenu"></div>'),ViewManager.render(SettingsManager.menu,"#settingsMenu",null)},showSettingsMenu:function(){SettingsManager.refreshMenu(),$("#settingsMenu").show(),SettingsManager.open=!0,application.addingMenuToCheck("SettingsManager"),application.setBackButtonListener()},checkSaveSettings:function(){navigator.notification.confirm(Globalization.alerts.saveSettings.message,function(indexButton){2==indexButton&&(application.resetInterface(),MapManager.resetMarker(),SettingsManager.saveSettings()),1==indexButton&&(SettingsManager.cancelChanges(),SettingsManager.hideSettingsMenu())},"",Globalization.alerts.saveSettings.buttonName)},hideSettingsMenu:function(){setTimeout(function(){$("#settingsMenu").hide(Parameters.hidePanelGeneralDuration),application.removingMenuToCheck("SettingsManager"),PrincipalMenu.fromPrincipalMenu&&SettingsManager.open&&PrincipalMenu.show(),SettingsManager.open=!1},1e3)},refreshAll:function(){Globalization.refresh(),SettingsManager.refreshMenu(),CategorySearcher.refreshCategoryMenu(),GpsManager.refresh(),MapManager.initializeAndUpdatePopUpGpsMarker(),MapManager.initializeAndUpdatePopUpManualMarker(Globalization.labels.searchPopUp.aroundYou,MapManager.manualMarkerCallback),ViewManager.render(null,"#threeVerticalDotMenu","ThreeVerticalDotMenu"),QueryManager.refreshParameters(),"operator"==SettingsManager.profile?("ita"==SettingsManager.language?$("#profileShowerInner").html("Operatore"):$("#profileShowerInner").html("Operator"),$("#profileShower").show(0)):$("#profileShower").hide(0),SettingsManager.hideSettingsMenu()},checkForBackButton:function(){SettingsManager.checkSaveSettings()},closeAll:function(){SettingsManager.hideSettingsMenu()}},BusRoutesSearcher={infoRouteModalOpen:!1,open:!1,expanded:!1,results:null,currentRoute:null,varName:"BusRoutesSearcher",idMenu:"busRoutesMenu",getRoutesForLineToBusStop:function(line,agencyUri,busStopName){var busStopsRoutesQuery=QueryManager.createBusStopsRoutesQuery(line,agencyUri,Utility.unescapeHtml(busStopName),"false","user");APIClient.executeQuery(busStopsRoutesQuery,BusRoutesSearcher.successGetRoutes,BusRoutesSearcher.errorQuery)},successGetRoutes:function(routes){ViewManager.render(routes,"#infoRouteModal","InfoRouteModal"),BusRoutesSearcher.showInfoRouteModal(),InfoManager.collapseInfoAboutOneMarker()},show:function(){application.resetInterface(),MapManager.showMenuReduceMap("#"+BusRoutesSearcher.idMenu),$("#"+BusRoutesSearcher.idMenu+"Collapse").hide(),BusRoutesSearcher.open=!0,InfoManager.addingMenuToManage(BusRoutesSearcher.varName),application.addingMenuToCheck(BusRoutesSearcher.varName),application.setBackButtonListener()},hide:function(){MapManager.reduceMenuShowMap("#"+BusRoutesSearcher.idMenu),BusRoutesSearcher.open=!1,InfoManager.removingMenuToManage(BusRoutesSearcher.varName),application.removingMenuToCheck(BusRoutesSearcher.varName)},checkForBackButton:function(){BusRoutesSearcher.open&&BusRoutesSearcher.hide()},refreshMenuPosition:function(){BusRoutesSearcher.open&&(MapManager.showMenuReduceMap("#"+BusRoutesSearcher.idMenu),Utility.checkAxisToDrag("#"+BusRoutesSearcher.idMenu),BusRoutesSearcher.expanded&&BusRoutesSearcher.expandBusRoutesMenu())},closeAll:function(){BusRoutesSearcher.hide()},expandBusRoutesMenu:function(){Utility.expandMenu("#"+BusRoutesSearcher.idMenu,"#"+BusRoutesSearcher.idMenu+"Expand","#"+BusRoutesSearcher.idMenu+"Collapse"),BusRoutesSearcher.expanded=!0},collapseBusRoutesMenu:function(){Utility.collapseMenu("#"+BusRoutesSearcher.idMenu,"#"+BusRoutesSearcher.idMenu+"Expand","#"+BusRoutesSearcher.idMenu+"Collapse"),BusRoutesSearcher.expanded=!1},showInfoRouteModal:function(){$("#infoRouteModal").modal("show"),$("#infoRouteModal").on("hide.bs.modal",function(e){BusRoutesSearcher.infoRouteModalOpen=!1}),BusRoutesSearcher.infoRouteModalOpen=!0},hideInfoRouteModal:function(){$("#"+BusRoutesSearcher.idMenu).css({"z-index":"1001"}),$("#infoRouteModal").modal("hide"),BusRoutesSearcher.infoRouteModalOpen=!1},drawRoute:function(routeNumber){var routeQuery=QueryManager.createRouteQuery(routeNumber,"true","user");APIClient.executeQuery(routeQuery,BusRoutesSearcher.successQuery,BusRoutesSearcher.errorQuery)},successQuery:function(results){if(response=results.BusStops,BusRoutesSearcher.hideInfoRouteModal(),0!=response.features.length){for(var indexMinDistanceFromCenter=0,indexMinDistanceFromGPS=0,i=0;i<response.features.length;i++)Utility.enrichService(response.features[i],i),null!=response.features[i].properties.distanceFromSearchCenter&&response.features[i].properties.distanceFromSearchCenter<response.features[indexMinDistanceFromCenter].properties.distanceFromSearchCenter&&(indexMinDistanceFromCenter=i),response.features[i].properties.distanceFromGPS<response.features[indexMinDistanceFromGPS].properties.distanceFromGPS&&(indexMinDistanceFromGPS=i);response.features[i-1].properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/LastStopOfRoute.png","classic"),response.features[i-1].properties.alternativeIcon="LastStopOfRoute",response.features[0].properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/FirstStopOfRoute.png","classic"),response.features[0].properties.alternativeIcon="FirstStopOfRoute",MapManager.searchOnSelectedServiceMarker=!0,MapManager.addGeoJSONLayerWithoutArea({Results:response}),response.lineNumber=results.Route.lineNumber,response.firstBusStop=response.features[0].properties.name.toUpperCase(),response.lastBusStop=response.features[i-1].properties.name.toUpperCase(),response.features[i-1].properties.thisIsLastStop=!0,response.features[0].properties.thisIsLastStop=!0,null!=response.features[0].properties.distanceFromSearchCenter&&(response.features[indexMinDistanceFromCenter].properties.closerSearchCenter=!0),response.features[indexMinDistanceFromGPS].properties.closerGPS=!0,BusRoutesSearcher.results=response,BusRoutesSearcher.currentRoute=results.Route.wktGeometry,MapManager.addSelectedGeometry(results.Route.wktGeometry),BusRoutesSearcher.refreshMenu(),BusRoutesSearcher.show()}},errorQuery:function(error){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)},searchServicesOnRoute:function(){var servicesOnRouteQuery=QueryManager.createCategoriesOnWKTQuery(["Service"],BusRoutesSearcher.currentRoute,"user");APIClient.executeQuery(servicesOnRouteQuery,BusRoutesSearcher.successQueryServices,BusRoutesSearcher.errorQuery)},successQueryServices:function(response){var responseObject={Results:{fullCount:0,type:"FeatureCollection",features:[]}};for(var category in response)0!=response[category].features.length&&(responseObject.Results.features=responseObject.Results.features.concat(response[category].features),responseObject.Results.fullCount=responseObject.Results.fullCount+response[category].fullCount);if(0!=responseObject.Results.features.length){for(var i=0;i<responseObject.Results.features.length;i++)responseObject.Results.features[i].id=i,Utility.enrichService(responseObject.Results.features[i],i);CategorySearcher.results=responseObject.Results,CategorySearcher.refreshMenu(),CategorySearcher.show(),MapManager.addGeoJSONLayerWithoutArea(responseObject),MapManager.addSelectedGeometry(BusRoutesSearcher.currentRoute)}},refreshMenu:function(){0==$("#"+BusRoutesSearcher.idMenu).length&&$("#indexPage").append('<div id="'+BusRoutesSearcher.idMenu+'" class="commonHalfMenu"></div>'),ViewManager.render(BusRoutesSearcher.results,"#"+BusRoutesSearcher.idMenu,"BusRoutesMenu"),Utility.movingPanelWithTouch("#"+BusRoutesSearcher.idMenu+"ExpandHandler","#"+BusRoutesSearcher.idMenu)}},EventsSearcher={open:!1,expanded:!1,results:null,varName:"EventsSearcher",idMenu:"eventsMenu",currentTime:null,refreshMenu:function(){0==$("#"+EventsSearcher.idMenu).length&&$("#indexPage").append('<div id="'+EventsSearcher.idMenu+'" class="commonHalfMenu"></div>'),ViewManager.render(EventsSearcher.results,"#"+EventsSearcher.idMenu,"EventsMenu"),null!=EventsSearcher.currentTime&&$("#eventsButton"+EventsSearcher.currentTime.charAt(0).toUpperCase()+EventsSearcher.currentTime.slice(1)).removeClass("btn-primary").addClass("btn-success"),Utility.movingPanelWithTouch("#"+EventsSearcher.idMenu+"ExpandHandler","#"+EventsSearcher.idMenu)},search:function(time){EventsSearcher.currentTime=time;var eventsQuery=QueryManager.createEventsQuery(time,"user");APIClient.executeQuery(eventsQuery,EventsSearcher.successQuery,EventsSearcher.errorQuery)},show:function(){application.resetInterface(),MapManager.showMenuReduceMap("#"+EventsSearcher.idMenu),$("#"+EventsSearcher.idMenu+"Collapse").hide(),localStorage.setItem("latestEventsClickedTime",(new Date).getTime()),PrincipalMenu.resetEventsBadge(),EventsSearcher.open=!0,InfoManager.addingMenuToManage(EventsSearcher.varName),application.addingMenuToCheck(EventsSearcher.varName),application.setBackButtonListener()},hide:function(){$("#"+EventsSearcher.idMenu).css({"z-index":"1001"}),MapManager.reduceMenuShowMap("#"+EventsSearcher.idMenu),InfoManager.removingMenuToManage(EventsSearcher.varName),application.removingMenuToCheck(EventsSearcher.varName),EventsSearcher.open=!1},checkForBackButton:function(){EventsSearcher.open&&EventsSearcher.hide()},refreshMenuPosition:function(){EventsSearcher.open&&(MapManager.showMenuReduceMap("#"+EventsSearcher.idMenu),Utility.checkAxisToDrag("#"+EventsSearcher.idMenu),EventsSearcher.expanded&&EventsSearcher.expandEventsMenu())},closeAll:function(){EventsSearcher.hide()},expandEventsMenu:function(){Utility.expandMenu("#"+EventsSearcher.idMenu,"#"+EventsSearcher.idMenu+"Expand","#"+EventsSearcher.idMenu+"Collapse"),EventsSearcher.expanded=!0},collapseEventsMenu:function(){Utility.collapseMenu("#"+EventsSearcher.idMenu,"#"+EventsSearcher.idMenu+"Expand","#"+EventsSearcher.idMenu+"Collapse"),EventsSearcher.expanded=!1},successQuery:function(response){if(0!=response.Event.features.length){for(var i=0;i<response.Event.features.length;i++)Utility.enrichService(response.Event.features[i],i),null!=response.Event.features[i].properties.name&&(response.Event.features[i].properties.name=response.Event.features[i].properties.name.replace(/_/g," "),response.Event.features[i].properties.nameEscaped=Utility.escapeHtml(response.Event.features[i].properties.name).replace(/_/g," ").toLowerCase()),response.Event.features[i].properties.imgsrc=Utility.checkServiceIcon(RelativePath.images+SettingsManager.language+"/Event.png","classic");null!=response.Event.features[0].properties.distanceFromSearchCenter?response.Event.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):response.Event.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS})}EventsSearcher.results=response,EventsSearcher.refreshMenu(),EventsSearcher.show(),MapManager.addGeoJSONLayerWithoutArea(response)},errorQuery:function(error){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)}},NavigatorSearcher={searchInterval:null,lastCoordinated:null,init:null,started:null,start:function(){$("#loadingOverlayPage").show(),null==NavigatorSearcher.searchInterval&&navigator.notification.confirm(Globalization.alerts.navigatorSearcherStart.message,function(indexButton){2==indexButton?NavigatorSearcher.startNavigation():$("#loadingOverlayPage").hide()},Globalization.alerts.navigatorSearcherStart.title,Globalization.alerts.navigatorSearcherStart.buttonName)},stop:function(){Loading.hide(),$("#navbarNavigation").hide(0),$(".ol-rotate").show(0),clearInterval(NavigatorSearcher.searchInterval),NavigatorSearcher.searchInterval=null,CompassManager.stopWatchingCompass(),void 0!==window.plugins&&window.plugins.insomnia.allowSleepAgain(),NavigatorSearcher.started=!1,MapManager.addVariableButtons(),$("#navigationSearchButton").html('<i class="fa fa-location-arrow"></i>'),MapManager.removeNavigationButtons(),MapManager.initializeAndUpdatePopUpGpsMarker(),MapManager.disabling3d(),MapManager.activeIntereationsAfterNavigation(),application.resetInterface()},startNavigation:function(){if(null!=GpsManager.currentCoordinates()){"undefined"==typeof Cesium&&$.ajax({url:"js/Cesium/Cesium.js",async:!1,dataType:"script",success:function(){CESIUM_BASE_URL="js/Cesium"}});var selectedKeys=["Service"];null==NavigatorSearcher.lastCoordinates&&(NavigatorSearcher.lastCoordinates=MapManager.gpsMarkerCoordinates()),NavigatorSearcher.init=!0,NavigatorSearcher.viewAdjustement(),MapManager.disactiveInterationsForNavigation(),$("#navigationSearchButton").html('<i class="icon ion-android-hand"></i>'),CompassManager.initializeHeading(),void 0!==window.plugins&&window.plugins.insomnia.keepAwake(),application.addingMenuToCheck("NavigatorSearcher"),NavigatorSearcher.started=!0,NavigatorSearcher.search(selectedKeys),$("#loadingOverlayPage").hide(),NavigatorSearcher.searchInterval=setInterval(function(){NavigatorSearcher.search(selectedKeys)},2e4)}else navigator.notification.confirm(Globalization.alerts.noPosition.message,function(indexButton){"Android"==device.platform?(3==indexButton&&CheckGPS.openSettings(),1!=indexButton&&0!=indexButton||CategorySearcher.resetSearch()):"iOS"!=device.platform&&"Win32NT"!=device.platform&&"windows"!=device.platform&&"Web"!=device.platform||1!=indexButton&&0!=indexButton||CategorySearcher.resetSearch()},Globalization.alerts.noPosition.title,Globalization.alerts.noPosition.buttonName)},search:function(selectedKeys){if(Math.round(GpsManager.getDistanceFromGPSInM(NavigatorSearcher.lastCoordinates[0],NavigatorSearcher.lastCoordinates[1]))>75||1==NavigatorSearcher.init){NavigatorSearcher.init=!1,NavigatorSearcher.lastCoordinates=MapManager.gpsMarkerCoordinates(),SearchManager.searchCenter=NavigatorSearcher.lastCoordinates;var categoriesQuery=QueryManager.createCategoriesQuery(selectedKeys,MapManager.gpsMarkerCoordinates(),"app");APIClient.executeQueryWithoutAlert(categoriesQuery,NavigatorSearcher.successQuery,NavigatorSearcher.errorQuery)}},viewAdjustement:function(){MapManager.removeManualMarker(),MapManager.removeAndUpdatePopUpGpsMarker(),MapManager.removeVariableButtons(),MapManager.addNavigationButtons(),MapManager.activate3d(),MapManager.disabling3d(),application.resetInterface(),$("#dropdownThreeVertical").removeClass("open"),$("#navigationMode").html(Globalization.labels.navigatiorSearcherBar.navigationMode),$("#navbarNavigation").show(0),$(".ol-rotate").hide(0)},closeAll:function(){1==NavigatorSearcher.started&&NavigatorSearcher.stop(),application.removingMenuToCheck("NavigatorSearcher"),$("#navigationSearchButton").html('<i class="fa fa-location-arrow"></i>')},checkForBackButton:function(){NavigatorSearcher.closeAll()},successQuery:function(response){if(NavigatorSearcher.started){var responseObject={Results:{fullCount:0,type:"FeatureCollection",features:[]}};for(var category in response)0!=response[category].features.length&&(responseObject.Results.features=responseObject.Results.features.concat(response[category].features),responseObject.Results.fullCount=responseObject.Results.fullCount+response[category].fullCount);if(0!=responseObject.Results.features.length){for(var i=0;i<responseObject.Results.features.length;i++)responseObject.Results.features[i].id=i,Utility.enrichService(responseObject.Results.features[i],i);null!=responseObject.Results.features[0].properties.distanceFromSearchCenter?responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS}),CategorySearcher.results=responseObject.Results,CategorySearcher.refreshMenu(),CategorySearcher.showWithoutResetInterface(),MapManager.addGeoJSONLayerWithoutArea(responseObject),navigator.vibrate(500)}}},errorQuery:function(error){}},TextSearcher={open:!1,results:null,varName:"TextSearcher",idMenu:"textSearchMenu",text:null,currentCoordinates:null,isManualCoordinates:!1,isGPSCoordinates:!1,clickOnManualButton:!1,refreshMenu:function(){0==$("#"+TextSearcher.idMenu).length&&$("#indexPage").append('<div id="'+TextSearcher.idMenu+'"></div>'),ViewManager.render(TextSearcher.results,"#"+TextSearcher.idMenu,"TextSearchMenu"),TextSearcher.isGPSCoordinates&&$("#buttonGPSCoordinates").removeClass("btn-default").addClass("btn-primary"),TextSearcher.isManualCoordinates&&$("#buttonManualCoordinates").removeClass("btn-default").addClass("btn-primary"),$("#"+TextSearcher.idMenu+"Input").val(TextSearcher.text)},search:function(){if($("#listPOISearched").dropdown().hide(),TextSearcher.text=$("#"+TextSearcher.idMenu+"Input").val(),""!=TextSearcher.text){var shortcut=!1;if("km4citytestmodeon"==TextSearcher.text&&(APIClient.useTestAPI(),TextSearcher.hide(),shortcut=!0),"km4citytestmodeoff"==TextSearcher.text&&(APIClient.useProductionAPI(),TextSearcher.hide(),shortcut=!0),!shortcut){var textQuery=QueryManager.createAddressPOISearchQuery(TextSearcher.text,TextSearcher.currentCoordinates,!0,"AND",[],"user");APIClient.executeQuery(textQuery,TextSearcher.successQuery,TextSearcher.errorQuery)}}else navigator.notification.alert(Globalization.alerts.noTextToSearch.message,function(){},Globalization.alerts.noTextToSearch.title)},onKeyEnter:function(event){return 13!=event.which&&13!=event.keyCode||(TextSearcher.search(),!1)},show:function(){application.resetInterface(),TextSearcher.refreshMenu(),$("#"+TextSearcher.idMenu).show(),$("#"+TextSearcher.idMenu+"Input").focus(),TextSearcher.setCoordinatesToManual(),TextSearcher.open=!0,application.addingMenuToCheck(TextSearcher.varName),application.setBackButtonListener()},hide:function(){$("#"+TextSearcher.idMenu).hide(),application.removingMenuToCheck(TextSearcher.varName),TextSearcher.open=!1},checkForBackButton:function(){TextSearcher.open&&TextSearcher.hide()},closeAll:function(){TextSearcher.hide()},resetSearch:function(){QueryManager.resetMaxDists(),Loading.hideAutoSearchLoading()},resetInputText:function(){$("#"+TextSearcher.idMenu+"Input").val(""),$("#"+TextSearcher.idMenu+"Input").focus(),$("#listPOISearched").dropdown().hide()},inputTextOnFocus:function(){TextSearcher.searchPOIFast()},successQuery:function(response){if("selectedServiceMarker"==SearchManager.typeOfSearchCenter&&(MapManager.searchOnSelectedServiceMarker=!0),0!=response.features.length){for(var i=0;i<response.features.length;i++)response.features[i].properties.serviceType=response.features[i].properties.serviceType.replace(/\ /g,"_"),Utility.enrichService(response.features[i],i);null!=response.features[0].properties.distanceFromSearchCenter?response.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):response.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS}),MapManager.addGeoJSONLayerWithoutArea({Results:response}),TextSearcher.results=response,CategorySearcher.results=response,CategorySearcher.refreshMenu(),CategorySearcher.showWithoutResetInterface(),TextSearcher.resetSearch(),CategorySearcher.hidePanelMenu()}else navigator.notification.alert(Globalization.alerts.noFullTextResults.message,function(){},Globalization.alerts.noFullTextResults.title)},errorQuery:function(error){TextSearcher.resetSearch(),navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)},searchPOIFast:function(){if(TextSearcher.text=$("#"+TextSearcher.idMenu+"Input").val(),TextSearcher.text.length>=3){$("#listPOISearched").html("<img src='img/loader.gif' style='position: absolute;left: 40%;' width='64'>");var addressPOISearchQuery=QueryManager.createAddressPOISearchQuery(TextSearcher.text,TextSearcher.currentCoordinates,!0,"AND",[],"user");APIClient.executeQueryWithoutAlert(addressPOISearchQuery,TextSearcher.successFastQuery)}else""==TextSearcher.text&&$("#listPOISearched").dropdown().hide()},successFastQuery:function(response){for(var responseObject={Results:{fullCount:0,type:"FeatureCollection",features:[]}},itemToShow=response.features.length>20?20:response.features.length,i=0;i<itemToShow;i++)response.features[i].properties.serviceType=response.features[i].properties.serviceType.replace(/\ /g,"_"),null!=response.features[i].properties.address&&(response.features[i].properties.address=response.features[i].properties.address.replace(/'/g," ")),null!=response.features[i].properties.city&&(response.features[i].properties.city=response.features[i].properties.city.replace(/'/g," ")),responseObject.Results.features.push(response.features[i]);if(0!=responseObject.Results.features.length){for(i=0;i<responseObject.Results.features.length;i++)responseObject.Results.features[i].id=i,Utility.enrichService(responseObject.Results.features[i],i);null!=responseObject.Results.features[0].properties.distanceFromSearchCenter?responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS}),responseObject.Results.generalCallback="TextSearcher.hide();",SearchDropDown.createAndShow("#listPOISearched",responseObject.Results),$("#listPOISearched").css("max-height",.8*$(window).height()+"px")}else $("#listPOISearched").dropdown().show(),$("#listPOISearched").html("<b style='position: absolute;left: 35%;top: 25px;'>"+Globalization.labels.timetable.noResults+"</b>")},setCoordinatesToManual:function(){null!=MapManager.manualMarkerCoordinates()?($("#buttonManualCoordinates").removeClass("btn-default").addClass("btn-primary"),$("#buttonGPSCoordinates").removeClass("btn-primary").addClass("btn-default"),TextSearcher.currentCoordinates=MapManager.manualMarkerCoordinates(),TextSearcher.isManualCoordinates=!0,TextSearcher.isGPSCoordinates=!1,TextSearcher.searchPOIFast()):(TextSearcher.clickOnManualButton&&navigator.notification.alert(Globalization.alerts.manualPosition.message,function(){},Globalization.alerts.manualPosition.title),$("#buttonManualCoordinates").removeClass("btn-primary").addClass("btn-default"),TextSearcher.setCoordinatesToGPS(!0)),TextSearcher.clickOnManualButton=!1},setCoordinatesToGPS:function(fromManualButton){null!=MapManager.gpsMarkerCoordinates()?($("#buttonGPSCoordinates").removeClass("btn-default").addClass("btn-primary"),$("#buttonManualCoordinates").removeClass("btn-primary").addClass("btn-default"),TextSearcher.currentCoordinates=MapManager.gpsMarkerCoordinates(),TextSearcher.isManualCoordinates=!1,TextSearcher.isGPSCoordinates=!0,TextSearcher.searchPOIFast()):($("#buttonGPSCoordinates").removeClass("btn-primary").addClass("btn-default"),fromManualButton||navigator.notification.confirm(Globalization.alerts.noPosition.message,function(indexButton){"Android"==device.platform&&3==indexButton&&CheckGPS.openSettings()},Globalization.alerts.noPosition.title,Globalization.alerts.noPosition.buttonName))}},APIClient={apiUrl:"http://www.disit.org/ServiceMap/api/v1/",photoServerUrl:"http://www.disit.org/ServiceMap/api/v1/photo",fileTransfer:null,lockQuery:!1,executeQuery:function(query,successCallback,errorCallback){null!=query&&null!=successCallback&&(APIClient.lockQuery?APIClient.showOperationRunning():(console.log(APIClient.apiUrl+query),$.ajax({url:encodeURI(APIClient.apiUrl+query),timeout:Parameters.timeoutGetQuery,method:"GET",dataType:"json",beforeSend:function(){APIClient.lockQuery=!0,Loading.show()},success:function(data){APIClient.lockQuery=!1,null!=successCallback&&successCallback(data)},error:function(error){APIClient.lockQuery=!1,"timeout"==error.statusText?navigator.notification.alert(Globalization.alerts.timeoutError.message,function(){},Globalization.alerts.timeoutError.title):"error"==error.statusText?navigator.notification.alert(Globalization.alerts.connectionError.message,function(){},Globalization.alerts.connectionError.title):null!=errorCallback&&errorCallback(error)},complete:function(){Loading.hide()}})))},executeQueryWithoutAlert:function(query,successCallback,errorCallback){null!=query&&null!=successCallback&&(console.log(APIClient.apiUrl+query),$.ajax({url:encodeURI(APIClient.apiUrl+query),timeout:Parameters.timeoutGetQuery,method:"GET",dataType:"json",success:function(data){null!=successCallback&&successCallback(data)},error:function(error){null!=errorCallback&&errorCallback(error)},beforeSend:function(){NavigatorSearcher.started&&Loading.show()},complete:function(){NavigatorSearcher.started&&Loading.hide()}}))},executeQueryText:function(query,successCallback,errorCallback){null!=query&&null!=successCallback&&(APIClient.lockQuery?APIClient.showOperationRunning():(console.log(APIClient.apiUrl+query),$.ajax({url:encodeURI(APIClient.apiUrl+query),timeout:Parameters.timeoutGetQuery,method:"GET",dataType:"text",beforeSend:function(){APIClient.lockQuery=!0,Loading.showSettingsLoading()},success:function(data){APIClient.lockQuery=!1,null!=successCallback&&successCallback(data)},error:function(error){APIClient.lockQuery=!1,"timeout"==error.statusText?navigator.notification.alert(Globalization.alerts.timeoutError.message,function(){},Globalization.alerts.timeoutError.title):"error"==error.statusText?navigator.notification.alert(Globalization.alerts.connectionError.message,function(){},Globalization.alerts.connectionError.title):null!=errorCallback&&errorCallback(error)},complete:function(){Loading.hideSettingsLoading()}})))},uploadPhoto:function(photoUrl,serviceUri,successCallback,errorCallback){APIClient.fileTransfer=new FileTransfer;var options=new FileUploadOptions,params={};params.uid=application.uid,params.serviceUri=serviceUri,options.params=params,"jpg"==photoUrl.substring(photoUrl.lastIndexOf(".")+1)?options.mimeType="image/jpeg":options.mimeType="image/"+photoUrl.substring(photoUrl.lastIndexOf(".")+1);options.fileKey="file",options.fileName=photoUrl.substring(photoUrl.lastIndexOf("/")+1),APIClient.fileTransfer.upload(photoUrl,encodeURI(APIClient.photoServerUrl),successCallback,errorCallback,options)},uploadPhotoFromWeb:function(query,formData,successCallback,errorCallback){console.log(APIClient.photoServerUrl),$.ajax({data:formData,processData:!1,contentType:!1,type:"POST",url:encodeURI(APIClient.photoServerUrl+query),timeout:Parameters.timeoutPostQuery,success:function(data){null!=successCallback&&successCallback(data)},error:function(error){"timeout"==error.statusText?navigator.notification.alert(Globalization.alerts.timeoutError.message,function(){},Globalization.alerts.timeoutError.title):"error"==error.statusText?navigator.notification.alert(Globalization.alerts.connectionError.message,function(){},Globalization.alerts.connectionError.title):null!=errorCallback&&errorCallback(error)}})},abortUploadingPhoto:function(){null!=APIClient.fileTransfer&&APIClient.fileTransfer.abort()},showOperationRunning:function(){void 0!==window.plugins&&window.plugins.toast.showWithOptions({message:Globalization.labels.apiclient.operationRunning,duration:"long",position:"bottom",addPixelsY:-40},function(){},function(){})}},BackgroundTracker={tracker:null,result:null,config:{},initialize:function(){BackgroundTracker.tracker=cordova.plugins.backgroundServices.tracker,BackgroundTracker.start(),BackgroundTracker.bootStart()},getStatus:function(){BackgroundTracker.tracker.getStatus(function(r){BackgroundTracker.displayResult(r)},function(e){BackgroundTracker.displayError(e)})},displayResult:function(data){console.log("Is service running: "+data.ServiceRunning)},displayError:function(data){console.log("We have an error")},handleSuccess:function(data){console.log("Success")},handleError:function(data){console.log("Error"+data)},updateHandler:function(data){if(null!=data.LatestResult){if(null!=data.LatestResult.Message){var resultMessage=JSON.parse(data.LatestResult.Message);resultMessage.lines=resultMessage.lines.reverse(),localStorage.setItem("logTracker",JSON.stringify(resultMessage))}Log.refreshLog()}},start:function(){BackgroundTracker.tracker.getStatus(function(r){BackgroundTracker.startService(r)},function(e){BackgroundTracker.displayError(e)})},stop:function(){null!=BackgroundTracker.tracker&&BackgroundTracker.tracker.getStatus(function(r){BackgroundTracker.stopService(r)},function(e){BackgroundTracker.displayError(e)})},bootStart:function(){BackgroundTracker.tracker.getStatus(function(r){BackgroundTracker.registerForBootStart(r)},function(e){BackgroundTracker.displayError(e)})},removeBootStart:function(){null!=BackgroundTracker.tracker&&BackgroundTracker.tracker.getStatus(function(r){BackgroundTracker.deregisterForBootStart(r)},function(e){BackgroundTracker.displayError(e)})},registerForBootStart:function(data){data.RegisteredForBootStart||BackgroundTracker.tracker.registerForBootStart(function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)})},deregisterForBootStart:function(data){data.RegisteredForBootStart&&BackgroundTracker.tracker.deregisterForBootStart(function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)})},startService:function(data){data.ServiceRunning?BackgroundTracker.enableTimer(data):BackgroundTracker.tracker.startService(function(r){BackgroundTracker.enableTimer(r)},function(e){BackgroundTracker.displayError(e)})},stopService:function(data){data.ServiceRunning&&BackgroundTracker.tracker.stopService(function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)})},enableTimer:function(data){data.TimerEnabled?BackgroundTracker.registerForUpdates(data):BackgroundTracker.tracker.enableTimer(BackgroundTracker.config.doWorkIntervalPeriod,function(r){BackgroundTracker.registerForUpdates(r)},function(e){BackgroundTracker.displayError(e)})},registerForUpdates:function(data){data.RegisteredForUpdates||BackgroundTracker.tracker.registerForUpdates(function(r){BackgroundTracker.updateHandler(r)},function(e){BackgroundTracker.handleError(e)})},refreshOrStartService:function(data){data.ServiceRunning?(BackgroundTracker.tracker.setConfiguration(BackgroundTracker.config,function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)}),BackgroundTracker.tracker.disableTimer(function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)}),BackgroundTracker.tracker.enableTimer(BackgroundTracker.config.doWorkIntervalPeriod,function(r){BackgroundTracker.handleSuccess(r)},function(e){BackgroundTracker.handleError(e)})):BackgroundTracker.initialize()}},ChooseLanguage={open:!1,show:function(){0==$("#chooseLanguage").length&&$("#indexPage").append('<div id="chooseLanguage"></div>'),$.ajax({url:RelativePath.jsonFolder+"languages.json",async:!1,dataType:"json",success:function(data){ViewManager.render(data,"#chooseLanguage","ChooseLanguage")}}),$("#chooseLanguage").show(),ChooseLanguage.open=!0},hide:function(){$("#chooseLanguage").hide(),SettingsManager.initializeSettings("true"),ChooseLanguage.open=!1,ChooseProfile.show()}},ChooseProfile={open:!1,show:function(){0==$("#chooseProfile").length&&$("#indexPage").append('<div id="chooseProfile"></div>'),$.ajax({url:RelativePath.profiles+"profiles."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){ViewManager.render(data,"#chooseProfile","ChooseProfile")}}),$("#chooseProfile").show(),ChooseProfile.open=!0,application.addingMenuToCheck("ChooseProfile")},hide:function(){$("#chooseProfile").hide(),localStorage.setItem("acceptInformation",!0),localStorage.setItem("appVersion",application.version),ChooseProfile.open=!1,application.removingMenuToCheck("ChooseProfile"),application.startingApp()},checkForBackButton:function(){ChooseProfile.open&&(ChooseProfile.hide(),ChooseLanguage.show())}},Globalization={labels:[],alerts:[],currentLanguage:null,refresh:function(){0==Globalization.labels.length&&null!=JSON.parse(localStorage.getItem("globalizationLabels"+SettingsManager.language))&&(Globalization.labels=JSON.parse(localStorage.getItem("globalizationLabels"+SettingsManager.language))),0==Globalization.alerts.length&&null!=JSON.parse(localStorage.getItem("globalizationAlerts"+SettingsManager.language))&&(Globalization.alerts=JSON.parse(localStorage.getItem("globalizationAlerts"+SettingsManager.language))),Globalization.currentLanguage!=SettingsManager.language&&($.ajax({url:RelativePath.build+"labels."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){0==Globalization.labels.length?Globalization.labels=data:Globalization.modifyLabels(data)}}),$.ajax({url:RelativePath.alerts+"alerts."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){0==Globalization.alerts.length?Globalization.alerts=data:Globalization.modifyAlerts(data)}}),$.ajax({url:RelativePath.alerts+"alerts."+device.platform+"."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){0==Globalization.alerts.length?Globalization.alerts=data:Globalization.modifyAlerts(data)}}),$.ajax({url:RelativePath.build+"alerts."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){Globalization.modifyAlerts(data)}}),$.ajax({url:RelativePath.build+"alerts."+device.platform+"."+SettingsManager.language+".json",async:!1,dataType:"json",success:function(data){Globalization.modifyAlerts(data)}}),localStorage.setItem("globalizationLabels"+SettingsManager.language,JSON.stringify(Globalization.labels)),localStorage.setItem("globalizationAlerts"+SettingsManager.language,JSON.stringify(Globalization.alerts)),PrincipalMenu.refreshMenu(),Globalization.currentLanguage=SettingsManager.language)},loadAndAddLabels:function(fullPath){$.ajax({url:fullPath,async:!1,dataType:"json",success:function(data){Globalization.modifyLabels(data)}})},loadAndAddAlerts:function(fullPath){$.ajax({url:fullPath,dataType:"json",success:function(data){Globalization.modifyAlerts(data)}})},modifyLabels:function(labelsToAdd){for(var objectName in labelsToAdd)for(var fieldName in labelsToAdd[objectName])if(null!=Globalization.labels[objectName])Globalization.labels[objectName][fieldName]=labelsToAdd[objectName][fieldName];else{var jsonObject={};jsonObject[fieldName]=labelsToAdd[objectName][fieldName],Globalization.labels[objectName]=jsonObject}},modifyAlerts:function(alertsToAdd){for(var objectName in alertsToAdd)for(var fieldName in alertsToAdd[objectName])if(null!=Globalization.alerts[objectName])Globalization.alerts[objectName][fieldName]=alertsToAdd[objectName][fieldName];else{var jsonObject={};jsonObject[fieldName]=alertsToAdd[objectName][fieldName],Globalization.alerts[objectName]=jsonObject}}},Information={open:!1,show:function(){0==$("#information").length&&$("#indexPage").append(' <div id="information" class="commonMenu" style="background-color: white"></div>'),ViewManager.render(null,"#information","Information"),$("#information").show(),Information.open=!0,application.addingMenuToCheck("Information"),application.setBackButtonListener()},hide:function(){$("#information").hide(Parameters.hidePanelGeneralDuration),Information.open=!1,application.removingMenuToCheck("Information"),PrincipalMenu.fromPrincipalMenu&&PrincipalMenu.show()},checkForBackButton:function(){Information.open&&(Information.hide(),PrincipalMenu.fromPrincipalMenu&&PrincipalMenu.show())},closeAll:function(){Information.hide()}},Loading={show:function(){$("#loadingImage").show(0)},hide:function(){$("#loadingImage").hide(0)},showSettingsLoading:function(){$("#settingsLoadingImage").show(0)},hideSettingsLoading:function(){$("#settingsLoadingImage").hide(0)},showAutoSearchLoading:function(){$("#autoSearchLoadingImage").show(0)},hideAutoSearchLoading:function(){$("#autoSearchLoadingImage").hide(0)},moveProgressBar:function(){var progressTotal=$(".progress-wrap").data("progress-percent")/100*$(".progress-wrap").width();$(".progress-bar").stop().animate({left:progressTotal},6e3)}},Log={open:!1,maxRow:Parameters.maxRowLog,showLogTracker:function(){0==$("#log").length&&$("#indexPage").append('<div id="log"></div>'),"Android"!=device.platform?ViewManager.render(JSON.parse(localStorage.getItem("log")),"#log","Log"):ViewManager.render(JSON.parse(localStorage.getItem("logTracker")),"#log","Log"),$("#log").show(),Log.open=!0,application.addingMenuToCheck("Log"),application.setBackButtonListener()},showLogNotifier:function(){0==$("#log").length&&$("#indexPage").append('<div id="log"></div>'),ViewManager.render(JSON.parse(localStorage.getItem("logNotifier")),"#log","Log"),$("#log").show(),Log.open=!0,application.addingMenuToCheck("Log"),application.setBackButtonListener()},refreshLog:function(){0==$("#log").length&&$("#indexPage").append('<div id="log"></div>'),ViewManager.render(JSON.parse(localStorage.getItem("logTracker")),"#log","Log")},hide:function(){$("#log").hide(Parameters.hidePanelGeneralDuration),Log.open=!1,application.removingMenuToCheck("Log")},checkForBackButton:function(){Log.open&&Log.hide()},closeAll:function(){Log.hide()},write:function(textToWrite){var currentLog=JSON.parse(localStorage.getItem("log"));null!=currentLog?(currentLog.lines.push({line:textToWrite}),currentLog.lines.length>Log.maxRow?localStorage.setItem("log",JSON.stringify({lines:currentLog.lines.slice(currentLog.lines.length-Log.maxRow)})):localStorage.setItem("log",JSON.stringify(currentLog))):localStorage.setItem("log",JSON.stringify({lines:[{line:textToWrite}]})),ViewManager.render(JSON.parse(localStorage.getItem("log")),"#log","Log")}},LogRecommender={open:!1,maxRow:Parameters.maxRowLog,show:function(){0==$("#logRecommender").length&&$("#indexPage").append('<div id="logRecommender"></div>'),ViewManager.render(JSON.parse(localStorage.getItem("logRecommender")),"#logRecommender","Log"),$("#logRecommender").show(),LogRecommender.open=!0,application.addingMenuToCheck("LogRecommender"),application.setBackButtonListener()},refreshLog:function(){0==$("#logRecommender").length&&$("#indexPage").append('<div id="logRecommender"></div>'),ViewManager.render(JSON.parse(localStorage.getItem("logRecommender")),"#logRecommender","Log")},hide:function(){$("#logRecommender").hide(Parameters.hidePanelGeneralDuration),LogRecommender.open=!1,application.removingMenuToCheck("LogRecommender")},checkForBackButton:function(){LogRecommender.open&&LogRecommender.hide()},closeAll:function(){LogRecommender.hide()},write:function(textToWrite){var currentLog=JSON.parse(localStorage.getItem("logRecommender"));null!=currentLog?(currentLog.lines.push({line:textToWrite}),currentLog.lines.length>LogRecommender.maxRow?localStorage.setItem("logRecommender",JSON.stringify({lines:currentLog.lines.slice(currentLog.lines.length-LogRecommender.maxRow)})):localStorage.setItem("logRecommender",JSON.stringify(currentLog))):localStorage.setItem("logRecommender",JSON.stringify({lines:[{line:textToWrite}]})),ViewManager.render(JSON.parse(localStorage.getItem("logRecommender")),"#logRecommender","Log")}};!function(global,factory){"object"==typeof exports&&exports?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.Mustache={})}(this,function(mustache){function isFunction(object){return"function"==typeof object}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function testRegExp(re,string){return RegExp_test.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function parseTemplate(template,tags){function compileTags(tags){if("string"==typeof tags&&(tags=tags.split(spaceRe,2)),!isArray(tags)||2!==tags.length)throw new Error("Invalid tags: "+tags);openingTagRe=new RegExp(escapeRegExp(tags[0])+"\\s*"),closingTagRe=new RegExp("\\s*"+escapeRegExp(tags[1])),closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tags[1]))}if(!template)return[];var openingTagRe,closingTagRe,closingCurlyRe,sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1;compileTags(tags||mustache.tags);for(var start,type,value,chr,token,openSection,scanner=new Scanner(template);!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(openingTagRe))for(var i=0,valueLength=value.length;i<valueLength;++i)isWhitespace(chr=value.charAt(i))?spaces.push(tokens.length):nonSpace=!0,tokens.push(["text",chr,start,start+1]),start+=1,"\n"===chr&&function(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}();if(!scanner.scan(openingTagRe))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(equalsRe),scanner.scan(equalsRe),scanner.scanUntil(closingTagRe)):"{"===type?(value=scanner.scanUntil(closingCurlyRe),scanner.scan(curlyRe),scanner.scanUntil(closingTagRe),type="&"):value=scanner.scanUntil(closingTagRe),!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(token=[type,value,start,scanner.pos],tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(!(openSection=sections.pop()))throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else"name"===type||"{"===type||"&"===type?nonSpace=!0:"="===type&&compileTags(value)}if(openSection=sections.pop())throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){for(var token,lastToken,squashedTokens=[],i=0,numTokens=tokens.length;i<numTokens;++i)(token=tokens[i])&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(squashedTokens.push(token),lastToken=token));return squashedTokens}function nestTokens(tokens){for(var token,nestedTokens=[],collector=nestedTokens,sections=[],i=0,numTokens=tokens.length;i<numTokens;++i)switch((token=tokens[i])[0]){case"#":case"^":collector.push(token),sections.push(token),collector=token[4]=[];break;case"/":sections.pop()[5]=token[2],collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}return nestedTokens}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parentContext){this.view=null==view?{}:view,this.cache={".":this.view},this.parent=parentContext}function Writer(){this.cache={}}var Object_toString=Object.prototype.toString,isArray=Array.isArray||function(object){return"[object Array]"===Object_toString.call(object)},RegExp_test=RegExp.prototype.test,nonSpaceRe=/\S/,entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];return this.tail=this.tail.substring(string.length),this.pos+=string.length,string},Scanner.prototype.scanUntil=function(re){var match,index=this.tail.search(re);switch(index){case-1:match=this.tail,this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index),this.tail=this.tail.substring(index)}return this.pos+=match.length,match},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var value,cache=this.cache;if(name in cache)value=cache[name];else{for(var names,index,context=this;context;){if(name.indexOf(".")>0)for(value=context.view,names=name.split("."),index=0;null!=value&&index<names.length;)value=value[names[index++]];else"object"==typeof context.view&&(value=context.view[name]);if(null!=value)break;context=context.parent}cache[name]=value}return isFunction(value)&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){this.cache={}},Writer.prototype.parse=function(template,tags){var cache=this.cache,tokens=cache[template];return null==tokens&&(tokens=cache[template]=parseTemplate(template,tags)),tokens},Writer.prototype.render=function(template,view,partials){var tokens=this.parse(template),context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)},Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate){for(var token,symbol,value,buffer="",i=0,numTokens=tokens.length;i<numTokens;++i)value=void 0,"#"===(symbol=(token=tokens[i])[0])?value=this._renderSection(token,context,partials,originalTemplate):"^"===symbol?value=this._renderInverted(token,context,partials,originalTemplate):">"===symbol?value=this._renderPartial(token,context,partials,originalTemplate):"&"===symbol?value=this._unescapedValue(token,context):"name"===symbol?value=this._escapedValue(token,context):"text"===symbol&&(value=this._rawValue(token)),void 0!==value&&(buffer+=value);return buffer},Writer.prototype._renderSection=function(token,context,partials,originalTemplate){var self=this,buffer="",value=context.lookup(token[1]);if(value){if(isArray(value))for(var j=0,valueLength=value.length;j<valueLength;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);else if("object"==typeof value||"string"==typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);else if(isFunction(value)){if("string"!=typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");null!=(value=value.call(context.view,originalTemplate.slice(token[3],token[5]),function(template){return self.render(template,context,partials)}))&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate);return buffer}},Writer.prototype._renderInverted=function(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&0===value.length)return this.renderTokens(token[4],context,partials,originalTemplate)},Writer.prototype._renderPartial=function(token,context,partials){if(partials){var value=isFunction(partials)?partials(token[1]):partials[token[1]];return null!=value?this.renderTokens(this.parse(value),context,partials,value):void 0}},Writer.prototype._unescapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return value},Writer.prototype._escapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return mustache.escape(value)},Writer.prototype._rawValue=function(token){return token[1]},mustache.name="mustache.js",mustache.version="1.0.0",mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.parse=function(template,tags){return defaultWriter.parse(template,tags)},mustache.render=function(template,view,partials){return defaultWriter.render(template,view,partials)},mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if(!isFunction(send))return result;send(result)},mustache.escape=function(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})},mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer});var PrincipalMenu={open:!1,secondaryMenuOpen:!1,fromPrincipalMenu:!1,fromHomeButton:!1,suggestionsBadge:0,eventsBadge:0,infoSOCBadge:0,personalAssistantBadge:0,principalMenuButtons:[],weatherBadge:0,currentWeatherIcon:"icon ion-ios-partlysunny",weatherInterval:null,gridster:null,draggedButton:null,droppedButton:null,modifing:!1,init:!0,createPrincipalMenu:function(){0==PrincipalMenu.principalMenuButtons.length&&null!=JSON.parse(localStorage.getItem("principalMenuButtons"))&&(PrincipalMenu.principalMenuButtons=JSON.parse(localStorage.getItem("principalMenuButtons"))),PrincipalMenu.refreshMenu(),PrincipalMenu.init&&PrincipalMenu.checkNewButtons()},refreshMenu:function(){0==$("#principalMenu").length&&$("#indexPage").append('<div id="principalMenu"></div>'),ViewManager.render({principalMenuButtons:PrincipalMenu.principalMenuButtons},"#principalMenu","PrincipalMenu");for(var i=0;i<PrincipalMenu.principalMenuButtons.length;i++)void 0!=PrincipalMenu.principalMenuButtons[i]&&$("#"+PrincipalMenu.principalMenuButtons[i].captionId).html(Globalization.labels.principalMenu[PrincipalMenu.principalMenuButtons[i].captionTextId]);1==PrincipalMenu.modifing?PrincipalMenu.modifyPrincipalMenu():PrincipalMenu.refreshingBadge()},checkNewButtons:function(){$.ajax({url:RelativePath.jsonFolder+"principalMenu.json",async:!1,dataType:"json",success:function(data){PrincipalMenu.checkButtonsToAdd(data),PrincipalMenu.refreshMenu(),localStorage.setItem("principalMenuButtons",JSON.stringify(PrincipalMenu.principalMenuButtons)),PrincipalMenu.init=!1}})},loadModulesButton:function(fullPath){$.ajax({url:fullPath,async:!1,dataType:"json",success:function(data){PrincipalMenu.checkButtonsToAdd(data)}})},checkButtonsToAdd:function(buttonsToAdd){for(var i=0;i<buttonsToAdd.length;i++){for(var j=0,buttonAlreadyInserted=!1;j<PrincipalMenu.principalMenuButtons.length&&!buttonAlreadyInserted;)PrincipalMenu.principalMenuButtons[j].captionId==buttonsToAdd[i].captionId&&(buttonAlreadyInserted=!0,1!=buttonsToAdd[i].delete?(buttonsToAdd[i].forceRemoved?PrincipalMenu.principalMenuButtons[j].removed=buttonsToAdd[i].removed:buttonsToAdd[i].removed=PrincipalMenu.principalMenuButtons[j].removed,PrincipalMenu.principalMenuButtons.splice(j,1,buttonsToAdd[i])):PrincipalMenu.principalMenuButtons.splice(j,1)),j++;if(!buttonAlreadyInserted&&1!=buttonsToAdd[i].delete)if(0==buttonsToAdd[i].index){for(var inserted=!1,k=0;k<PrincipalMenu.principalMenuButtons.length;k++)if(1==PrincipalMenu.principalMenuButtons[k].removed){PrincipalMenu.principalMenuButtons.splice(k,0,buttonsToAdd[i]),inserted=!0;break}inserted||PrincipalMenu.principalMenuButtons.push(buttonsToAdd[i])}else PrincipalMenu.principalMenuButtons.splice(buttonsToAdd[i].index,0,buttonsToAdd[i])}PrincipalMenu.refreshIndexOfMenuButton()},resetPrincipalMenu:function(){$.ajax({url:RelativePath.jsonFolder+"principalMenu.json",async:!1,dataType:"json",success:function(data){PrincipalMenu.principalMenuButtons=data}}),PrincipalMenu.init=!0,PrincipalMenu.createPrincipalMenu()},show:function(){if(!PrincipalMenu.secondaryMenuOpen||PrincipalMenu.fromHomeButton){if(PrincipalMenu.createPrincipalMenu(),$("#principalMenu").show(),"Web"!=device.platform&&(screen.orientation.unlock(),navigator.splashscreen.hide()),application.resetInterface(),application.menuToCheckArray=[],MapManager.resetMarker(),MapManager.removeVariableButtons(),MapManager.addVariableButtons(),PrincipalMenu.open=!0,PrincipalMenu.fromPrincipalMenu=!1,PrincipalMenu.fromHomeButton=!1,PrincipalMenu.secondaryMenuOpen=!1,PrincipalMenu.resetWeatherBadge(),Math.abs(localStorage.getItem("latestEventsClickedTime")-(new Date).getTime())>Parameters.showBadgeAfterThisTime||null==localStorage.getItem("latestEventsClickedTime")){var eventsQuery=QueryManager.createEventsQuery("day","app");APIClient.executeQueryWithoutAlert(eventsQuery,PrincipalMenu.updatingEventsBadge,null)}null!=PrincipalMenu.weatherInterval&&clearInterval(PrincipalMenu.weatherInterval),(Math.abs(localStorage.getItem("latestWeatherClickedTime")-(new Date).getTime())>Parameters.showBadgeAfterThisTime/2||null==localStorage.getItem("latestWeatherClickedTime"))&&(PrincipalMenu.weatherInterval=setInterval(function(){if(null!=MapManager.gpsMarkerCoordinates()){var municipalityQuery=QueryManager.createLocationQuery(MapManager.gpsMarkerCoordinates(),"app");APIClient.executeQueryWithoutAlert(municipalityQuery,PrincipalMenu.updatingWeatherBadge,PrincipalMenu.updatingWeatherBadge)}},5e3)),PrincipalMenu.refreshingBadge(),$("#coverMap").hide(),$("#loadingOverlayPage").hide()}else $("#principalMenu").show(),PrincipalMenu.open=!0},hide:function(callback){$("#principalMenu").hide(),null!=callback&&($("#loadingOverlayPage").show(),setTimeout(function(){$("#loadingOverlayPage").hide()},2e3)),application.setBackButtonListener(),PrincipalMenu.open=!1,null!=callback&&setTimeout(function(){callback()},300)},clickOnLogo:function(){PrincipalMenu.open&&"Web"!=device.platform?window.plugins.toast.showWithOptions({message:Globalization.labels.principalMenu.alertLogoMessage,duration:"long",position:"bottom",addPixelsY:-40},function(){},function(){}):PrincipalMenu.show()},updateBadge:function(suggestionsBadge,eventsBadge,weatherBadge,infoSOCBadge,personalAssistantBadge){null!=suggestionsBadge&&0!=suggestionsBadge&&(PrincipalMenu.suggestionsBadge=suggestionsBadge,localStorage.setItem("suggestionsBadge",PrincipalMenu.suggestionsBadge)),null!=eventsBadge&&0!=eventsBadge&&(PrincipalMenu.eventsBadge=eventsBadge,localStorage.setItem("eventsBadge",PrincipalMenu.eventsBadge)),null!=weatherBadge&&0!=weatherBadge&&(PrincipalMenu.weatherBadge=weatherBadge,localStorage.setItem("weatherBadge",PrincipalMenu.weatherBadge)),null!=infoSOCBadge&&0!=infoSOCBadge&&(PrincipalMenu.infoSOCBadge=infoSOCBadge,localStorage.setItem("infoSOCBadge",PrincipalMenu.infoSOCBadge)),null!=personalAssistantBadge&&0!=personalAssistantBadge&&(PrincipalMenu.personalAssistantBadge=personalAssistantBadge,localStorage.setItem("personalAssistantBadge",PrincipalMenu.personalAssistantBadge)),PrincipalMenu.refreshingBadge()},updateProfileIcon:function(){},updatingEventsBadge:function(response){PrincipalMenu.updateBadge(null,response.Event.features.length)},updatingWeatherBadge:function(response){if(null!=PrincipalMenu.weatherInterval&&(clearInterval(PrincipalMenu.weatherInterval),PrincipalMenu.weatherInterval=null),response.municipalityUri){var serviceQuery=QueryManager.createServiceQuery(response.municipalityUri,"app");APIClient.executeQueryWithoutAlert(serviceQuery,PrincipalMenu.updatingWeatherBadge,null)}else response.results&&(PrincipalMenu.updateBadge(null,null,1),$("#principalMenuWeatherIcon").css("font-size","38px"),"sereno"==response.results.bindings[0].description.value?$("#principalMenuWeatherIcon").removeClass().addClass("glyphicon glyphicon-sunglasses"):-1!=response.results.bindings[0].description.value.indexOf("pioggia")||-1!=response.results.bindings[0].description.value.indexOf("temporale")?$("#principalMenuWeatherIcon").removeClass().addClass("glyphicon glyphicon-tint"):-1!=response.results.bindings[0].description.value.indexOf("neve")?$("#principalMenuWeatherIcon").removeClass().addClass("glyphicon glyphicon-asterisk"):-1!=response.results.bindings[0].description.value.indexOf("foschia")||-1!=response.results.bindings[0].description.value.indexOf("nebbia")?$("#principalMenuWeatherIcon").removeClass().addClass("glyphicon glyphicon-align-justify"):$("#principalMenuWeatherIcon").removeClass().addClass("glyphicon glyphicon-cloud"),PrincipalMenu.currentWeatherIcon=$("#principalMenuWeatherIcon").attr("class"))},resetSuggestionsBadge:function(){"undefined"!=typeof cordova&&cordova.plugins.notification.badge.clear(),PrincipalMenu.suggestionsBadge=0,localStorage.setItem("suggestionsBadge",PrincipalMenu.suggestionsBadge),PrincipalMenu.refreshingBadge(),$("#suggestionsBadge").hide()},resetWeatherBadge:function(){PrincipalMenu.weatherBadge=0,localStorage.setItem("weatherBadge",PrincipalMenu.weatherBadge),PrincipalMenu.refreshingBadge(),$("#weatherBadge").hide()},resetEventsBadge:function(){PrincipalMenu.eventsBadge=0,localStorage.setItem("eventsBadge",PrincipalMenu.eventsBadge),PrincipalMenu.refreshingBadge(),$("#eventsBadge").hide()},resetInfoSOCBadge:function(){"undefined"!=typeof cordova&&cordova.plugins.notification.badge.clear(),PrincipalMenu.infoSOCBadge=0,localStorage.setItem("infoSOCBadge",PrincipalMenu.infoSOCBadge),PrincipalMenu.refreshingBadge(),$("#infoSOCBadge").hide()},resetPersonalAssistantBadge:function(){"undefined"!=typeof cordova&&cordova.plugins.notification.badge.clear(),PrincipalMenu.personalAssistantBadge=0,localStorage.setItem("personalAssistantBadge",PrincipalMenu.personalAssistantBadge),PrincipalMenu.refreshingBadge(),$("#personalAssistantBadge").hide()},refreshingBadge:function(){if(PrincipalMenu.suggestionsBadge=localStorage.getItem("suggestionsBadge"),null!=PrincipalMenu.suggestionsBadge&&0!=PrincipalMenu.suggestionsBadge&&($("#suggestionsBadge").html(PrincipalMenu.suggestionsBadge),$("#suggestionsBadge").show()),PrincipalMenu.eventsBadge=localStorage.getItem("eventsBadge"),null!=PrincipalMenu.eventsBadge&&0!=PrincipalMenu.eventsBadge&&($("#eventsBadge").html(PrincipalMenu.eventsBadge),$("#eventsBadge").show()),PrincipalMenu.weatherBadge=localStorage.getItem("weatherBadge"),null!=PrincipalMenu.weatherBadge&&0!=PrincipalMenu.weatherBadge&&($("#principalMenuWeatherIcon").attr("class",PrincipalMenu.currentWeatherIcon),$("#weatherBadge").html(PrincipalMenu.weatherBadge),$("#weatherBadge").show()),PrincipalMenu.infoSOCBadge=localStorage.getItem("infoSOCBadge"),null!=PrincipalMenu.infoSOCBadge&&0!=PrincipalMenu.infoSOCBadge&&($("#infoSOCBadge").html(PrincipalMenu.infoSOCBadge),$("#infoSOCBadge").show()),PrincipalMenu.personalAssistantBadge=localStorage.getItem("personalAssistantBadge"),null!=PrincipalMenu.personalAssistantBadge&&(0!=PrincipalMenu.personalAssistantBadge?($("#personalAssistantBadge").html(PrincipalMenu.personalAssistantBadge),$("#personalAssistantBadge").show()):$("#personalAssistantBadge").hide()),PrincipalMenu.updateProfileIcon(),"Android"!=device.platform&&"Web"!=device.platform){var currentBadge=parseInt(PrincipalMenu.personalAssistantBadge)+parseInt(PrincipalMenu.infoSOCBadge)+parseInt(PrincipalMenu.suggestionsBadge);cordova.plugins.notification.badge.set(currentBadge)}},logPrincipalMenuChoices:function(buttonId){if(null!=buttonId){var logPrincipalMenuChoicesQuery=QueryManager.createLogPrincipalMenuChoices(buttonId,"app");APIClient.executeQueryWithoutAlert(logPrincipalMenuChoicesQuery,PrincipalMenu.logPrincipalMenuChoicesSuccessQuery,null)}},logPrincipalMenuChoicesSuccessQuery:function(data){console.log(JSON.stringify(data)),console.log("SUCCESS LOG BUTTON")},modifyPrincipalMenu:function(){$("#principalMenuInner div.principalMenuButton").draggable({drag:function(event,ui){PrincipalMenu.draggedButton=$(this).data("index")},containment:"#principalMenuInner",revert:"invalid",handle:"span.btn-primary",zIndex:2,opacity:.5}),$("#principalMenuInner div.principalMenuButton").droppable({drop:function(event,ui){PrincipalMenu.droppedButton=$(this).data("index"),PrincipalMenu.swapButtons(PrincipalMenu.draggedButton,PrincipalMenu.droppedButton)},classes:{"ui-droppable-hover":"ui-state-hover","ui-droppable-active":"ui-state-default"}}),PrincipalMenu.modifing=!0,$("#principalMenuInner div.principalMenuButtonRemoved").show(),$("#principalMenuInner div.ribbon").hide(),$("#principalMenuInner span.step").hide(),$("#principalMenuModifyMenuButton").hide(),$("#principalMenuChangeButtonsDimension").hide(),$("#principalMenuResetMenuButton").show(),$("#principalMenuSaveMenuButton").show(),$("#principalMenuInner span.iconModifing").show(),$("#principalMenuInner div").prop("onclick",null).off("click"),$("#principalMenuInner div").css({height:"114px","padding-top":"25px"}),$("#principalMenuInner .textCaption").css({bottom:"26px"})},swapButtons:function(buttonIndex,targetIndex){if(void 0!=buttonIndex&&void 0!=targetIndex){var tempElement=PrincipalMenu.principalMenuButtons[targetIndex];PrincipalMenu.principalMenuButtons[targetIndex]=PrincipalMenu.principalMenuButtons[buttonIndex],PrincipalMenu.principalMenuButtons[targetIndex].index=targetIndex,PrincipalMenu.principalMenuButtons[buttonIndex]=tempElement,PrincipalMenu.principalMenuButtons[buttonIndex].index=buttonIndex}PrincipalMenu.createPrincipalMenu()},savePrincipalMenu:function(){localStorage.setItem("principalMenuButtons",JSON.stringify(PrincipalMenu.principalMenuButtons)),PrincipalMenu.modifing=!1,$("#principalMenuInner div.principalMenuButtonRemoved").hide(),$("#principalMenuChangeButtonsDimension").show(),$("#principalMenuModifyMenuButton").show(),$("#principalMenuResetMenuButton").hide(),$("#principalMenuSaveMenuButton").hide(),$("#principalMenuInner span.iconModifing").hide(),$("#principalMenuInner div").css({height:"70px","padding-top":"5px"}),$("#principalMenuInner .textCaption").css({bottom:"1px"}),PrincipalMenu.createPrincipalMenu()},removeButtonFromPrincipalMenu:function(buttonIndex){PrincipalMenu.principalMenuButtons[buttonIndex].removed=!0,PrincipalMenu.principalMenuButtons.push(PrincipalMenu.principalMenuButtons.splice(buttonIndex,1)[0]),PrincipalMenu.refreshIndexOfMenuButton(),PrincipalMenu.createPrincipalMenu()},addButtonToPrincipalMenu:function(buttonIndex){for(var i=0;i<PrincipalMenu.principalMenuButtons.length;i++)if(1==PrincipalMenu.principalMenuButtons[i].removed){if(i!=buttonIndex){PrincipalMenu.principalMenuButtons[buttonIndex].removed=!1,PrincipalMenu.principalMenuButtons.splice(i,0,PrincipalMenu.principalMenuButtons.splice(buttonIndex,1)[0]);break}PrincipalMenu.principalMenuButtons[buttonIndex].removed=!1;break}PrincipalMenu.refreshIndexOfMenuButton(),PrincipalMenu.createPrincipalMenu()},refreshIndexOfMenuButton:function(){for(var i=0;i<PrincipalMenu.principalMenuButtons.length;i++)void 0!=PrincipalMenu.principalMenuButtons[i]&&(PrincipalMenu.principalMenuButtons[i].index=i)},showSecondaryMenu:function(idMenu){$.ajax({url:RelativePath.jsonFolder+"secondaryMenu/"+idMenu+".json",async:!1,dataType:"json",success:function(data){ViewManager.render({principalMenuButtons:data},"#principalMenu","PrincipalMenu");for(var i=0;i<data.length;i++)void 0!=data[i]&&$("#"+data[i].captionId).html(Globalization.labels.principalMenu[data[i].captionTextId]);application.addingMenuToCheck("PrincipalMenu"),$("#principalMenuModifyMenuButton").hide(),$("#principalMenuHeaderTitle").parent().children("img").css({float:"left","margin-top":"7px"}),$("#principalMenuHeaderTitle").html('<i class="fa fa-home" style="color:#777;font-size: 35px; margin-top: 9px; margin-left: -2px;"></i>'),PrincipalMenu.secondaryMenuOpen=!0}})},checkForBackButton:function(){PrincipalMenu.open?(PrincipalMenu.secondaryMenuOpen=!1,application.removingMenuToCheck("PrincipalMenu")):PrincipalMenu.open=!0,PrincipalMenu.show()},createLastOperationButton:function(index){0!=$("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] i").length?($("#lastOperationInner").html($("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] i").clone()),$("#lastOperationInner i").css("font-size","35px"),$("#lastOperationInner i").attr("id","lastOperationInnerButton")):0!=$("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] img").length?($("#lastOperationInner").html($("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] img").clone()),$("#lastOperationInner img").css("font-size","35px"),$("#lastOperationInner img").attr("id","lastOperationInnerButton")):0!=$("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] b.textIcon").length&&($("#lastOperationInner").html($("#principalMenuInner div.principalMenuButton[data-index='"+index+"'] b.textIcon").clone()),$("#lastOperationInner b").css("font-size","35px"),$("#lastOperationInner b").attr("id","lastOperationInnerButton")),$("#lastOperationInner").attr("onclick",$("#principalMenuInner div.principalMenuButton[data-index='"+index+"']").attr("onclick"))}},StartInformation={open:!1,show:function(){0==$("#startInformation").length&&$("#indexPage").append('<div id="startInformation"></div>'),ViewManager.render(null,"#startInformation","StartInformation"),$("#startInformation").show(),StartInformation.open=!0,application.addingMenuToCheck("StartInformation")},hide:function(){$("#startInformation").hide(),StartInformation.open=!1,application.removingMenuToCheck("StartInformation")},checkForBackButton:function(){StartInformation.open&&StartInformation.hide()}},ViewManager={loadTemplate:function(templateUrl){var template="";return $.ajax({url:templateUrl,async:!1,dataType:"html",success:function(data){template=data}}),template},render:function(data,component,templateName){var template="";if(null==templateName)for(var pageType in data){template=this.loadTemplate("templates/"+pageType+".mst.html");break}else template=-1==templateName.indexOf("mst.html")?this.loadTemplate("templates/"+templateName+".mst.html"):this.loadTemplate(templateName);""!=template&&(html=Mustache.render(template,data)),$(component).empty(),$(component).html(html)}};;var ExampleModule={open:!1,expanded:!1,result:null,varName:"ExampleModule",idMenu:"exampleMenu",refreshMenu:function(){0==$("#"+ExampleModule.idMenu).length&&$("#indexPage").append('<div id="'+ExampleModule.idMenu+'" class="commonHalfMenu"></div>'),ViewManager.render(ExampleModule.results,"#"+ExampleModule.idMenu,"ExampleMenu"),Utility.movingPanelWithTouch("#"+ExampleModule.idMenu+"ExpandHandler","#"+ExampleModule.idMenu)},show:function(){application.resetInterface(),MapManager.showMenuReduceMap("#"+ExampleModule.idMenu),$("#"+ExampleModule.idMenu+"Collapse").hide(),ExampleModule.open=!0,InfoManager.addingMenuToManage(ExampleModule.varName),application.addingMenuToCheck(ExampleModule.varName),application.setBackButtonListener()},hide:function(){$("#"+ExampleModule.idMenu).css({"z-index":"1001"}),MapManager.reduceMenuShowMap("#"+ExampleModule.idMenu),InfoManager.removingMenuToManage(ExampleModule.varName),application.removingMenuToCheck(ExampleModule.varName),ExampleModule.open=!1},checkForBackButton:function(){ExampleModule.open&&ExampleModule.hide()},refreshMenuPosition:function(){ExampleModule.open&&(MapManager.showMenuReduceMap("#"+ExampleModule.idMenu),Utility.checkAxisToDrag("#"+ExampleModule.idMenu),ExampleModule.expanded&&ExampleModule.expandBusRoutesMenu())},closeAll:function(){ExampleModule.open&&ExampleModule.hide()},expandExampleModule:function(){Utility.expandMenu("#"+ExampleModule.idMenu,"#"+ExampleModule.idMenu+"Expand","#"+ExampleModule.idMenu+"Collapse"),ExampleModule.expanded=!0},collapseExampleModule:function(){Utility.collapseMenu("#"+ExampleModule.idMenu,"#"+ExampleModule.idMenu+"Expand","#"+ExampleModule.idMenu+"Collapse"),ExampleModule.expanded=!1},successQuery:function(response){ExampleModule.results=response,ExampleModule.refreshMenu(),ExampleModule.show(),MapManager.addGeoJSONLayerWithoutArea(response),ExampleModule.resetSearch()},errorQuery:function(error){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)},resetSearch:function(){QueryManager.resetMaxDists(),Loading.hideAutoSearchLoading()}},ParkingSearcher={open:!1,expanded:!1,results:null,varName:"ParkingSearcher",idMenu:"parkingMenu",responseLength:0,temporaryResponse:null,show:function(){application.resetInterface(),MapManager.showMenuReduceMap("#"+ParkingSearcher.idMenu),$("#"+ParkingSearcher.idMenu+"Collapse").hide(),ParkingSearcher.open=!0,InfoManager.addingMenuToManage(ParkingSearcher.varName),application.addingMenuToCheck(ParkingSearcher.varName),application.setBackButtonListener()},hide:function(){$("#"+ParkingSearcher.idMenu).css({"z-index":"1001"}),MapManager.reduceMenuShowMap("#"+ParkingSearcher.idMenu),InfoManager.removingMenuToManage(ParkingSearcher.varName),application.removingMenuToCheck(ParkingSearcher.varName),ParkingSearcher.open=!1},checkForBackButton:function(){ParkingSearcher.open&&ParkingSearcher.hide()},refreshMenuPosition:function(){ParkingSearcher.open&&(MapManager.showMenuReduceMap("#"+ParkingSearcher.idMenu),Utility.checkAxisToDrag("#"+ParkingSearcher.idMenu),ParkingSearcher.expanded&&ParkingSearcher.expandParkingSearcher())},refreshMenu:function(){0==$("#"+ParkingSearcher.idMenu).length&&$("#indexPage").append('<div id="'+ParkingSearcher.idMenu+'" class="commonHalfMenu"></div>'),ViewManager.render(ParkingSearcher.results,"#"+ParkingSearcher.idMenu,"js/modules/parkingSearcher/ParkingMenu.mst.html"),Utility.movingPanelWithTouch("#"+ParkingSearcher.idMenu+"ExpandHandler","#"+ParkingSearcher.idMenu),ParkingSearcher.expanded?$("#"+ParkingSearcher.idMenu+"Expand").hide():$("#"+ParkingSearcher.idMenu+"Collapse").hide()},closeAll:function(){ParkingSearcher.hide()},expandParkingSearcher:function(){Utility.expandMenu("#"+ParkingSearcher.idMenu,"#"+ParkingSearcher.idMenu+"Expand","#"+ParkingSearcher.idMenu+"Collapse"),ParkingSearcher.expanded=!0},collapseParkingSearcher:function(){Utility.collapseMenu("#"+ParkingSearcher.idMenu,"#"+ParkingSearcher.idMenu+"Expand","#"+ParkingSearcher.idMenu+"Collapse"),ParkingSearcher.expanded=!1},search:function(){QueryManager.increaseMaxDistTemporary(),QueryManager.increaseMaxDistTemporary();var parkingQuery=QueryManager.createCategoriesQuery(["Car_park"],SearchManager.searchCenter,"user");APIClient.executeQuery(parkingQuery,ParkingSearcher.searchInformationForEachFeature,ParkingSearcher.errorQuery)},searchInformationForEachFeature:function(response){for(var category in response)if(0!=response[category].features.length){ParkingSearcher.responseLength=response[category].features.length,ParkingSearcher.temporaryResponse={Results:{features:[],fullCount:ParkingSearcher.responseLength,type:"FeatureCollection"}},Loading.showAutoSearchLoading();for(var i=0;i<response[category].features.length;i++){var serviceQuery=QueryManager.createServiceQuery(response[category].features[i].properties.serviceUri,"app");APIClient.executeQueryWithoutAlert(serviceQuery,ParkingSearcher.mergeResults,ParkingSearcher.decrementAndCheckRetrieved)}}else SearchManager.startAutoSearch(ParkingSearcher.varName)},mergeResults:function(response){for(var category in response)null!=response[category].features&&0!=response[category].features.length&&(null!=response.realtime&&null!=response.realtime.results&&null!=response.realtime.results.bindings[0]&&(null!=response.realtime.results.bindings[0].freeParkingLots&&(response[category].features[0].properties.freeParkingLots=response.realtime.results.bindings[0].freeParkingLots.value,response[category].features[0].properties.freeParkingLots>20?response[category].features[0].properties.freeParkingLotsColor="green":response[category].features[0].properties.freeParkingLots>0?response[category].features[0].properties.freeParkingLotsColor="orange":response[category].features[0].properties.freeParkingLotsColor="red"),null!=response.realtime.results.bindings[0].updating&&(response[category].features[0].properties.updating=response.realtime.results.bindings[0].updating.value)),null!=response.predictions&&response.predictions.length>1&&(response[category].features[0].properties.prediction=response.predictions[1],response[category].features[0].properties.prediction.freePrediction>20?response[category].features[0].properties.predictionColor="green":response[category].features[0].properties.prediction.freePrediction>0?response[category].features[0].properties.predictionColor="orange":response[category].features[0].properties.predictionColor="red"),ParkingSearcher.temporaryResponse.Results.features.push(response[category].features[0]));ParkingSearcher.decrementAndCheckRetrieved()},decrementAndCheckRetrieved:function(){ParkingSearcher.responseLength--,0==ParkingSearcher.responseLength&&(ParkingSearcher.successQuery(ParkingSearcher.temporaryResponse),Loading.hideAutoSearchLoading())},successQuery:function(response){var responseObject=response;"selectedServiceMarker"==SearchManager.typeOfSearchCenter&&(MapManager.searchOnSelectedServiceMarker=!0);for(var i=0;i<responseObject.Results.features.length;i++)responseObject.Results.features[i].id=i,Utility.enrichService(responseObject.Results.features[i],i);null!=responseObject.Results.features[0]&&(null!=responseObject.Results.features[0].properties.distanceFromSearchCenter?responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}):responseObject.Results.features.sort(function(a,b){return a.properties.distanceFromGPS-b.properties.distanceFromGPS})),ParkingSearcher.results=responseObject.Results,ParkingSearcher.refreshMenu(),ParkingSearcher.show(),MapManager.addGeoJSONLayer(responseObject),ParkingSearcher.resetSearch()},errorQuery:function(error){navigator.notification.alert(Globalization.alerts.servicesServerError.message,function(){},Globalization.alerts.servicesServerError.title)},renderSingleService:function(singleService){if(ViewManager.render(singleService,"#"+InfoManager.idMenu,"js/modules/parkingSearcher/Parking.mst.html"),ViewManager.render(singleService.Service.features[0],"#infoMenuInnerDetailHeader","ServiceDetailHeader"),ViewManager.render(singleService.Service.features[0],"#infoMenuInnerDetails","ServiceDetails"),null!=singleService.trends){for(var chartObject={},i=0;i<singleService.trends.length;i++)void 0===chartObject[singleService.trends[i].day]&&(chartObject[singleService.trends[i].day]={values:[],labels:[],colorsArea:[],colorsBorder:[],active:""}),chartObject[singleService.trends[i].day].values.push(parseInt(singleService.trends[i].free)),parseInt(singleService.trends[i].free)>20?(chartObject[singleService.trends[i].day].colorsArea.push("rgba(75, 192, 192, 0.2)"),chartObject[singleService.trends[i].day].colorsBorder.push("rgba(75, 192, 192, 1)")):(chartObject[singleService.trends[i].day].colorsArea.push("rgba(255, 159, 64, 0.2)"),chartObject[singleService.trends[i].day].colorsBorder.push("rgba(255, 159, 64, 1)")),chartObject[singleService.trends[i].day].labels.push(singleService.trends[i].hour.substring(0,2));var currentWeekDay=(new Date).getDay();for(var category in chartObject){parseInt(category)==currentWeekDay&&(chartObject[category].active="active"),0==$("#predictionTrendChart"+category).length&&$("#predictionTrendCarouselInner").append('<div id="predictionTrendChart'+category+'" class="item '+chartObject[category].active+'" style="left: 5%; width: 90%;"> <canvas height="180"></canvas></div>');new Chart($("#predictionTrendChart"+category+" canvas"),{type:"bar",data:{labels:chartObject[category].labels,datasets:[{data:chartObject[category].values,backgroundColor:chartObject[category].colorsArea,borderColor:chartObject[category].colorsBorder,borderWidth:1}]},options:{legend:{display:!1},title:{display:!0,text:Globalization.labels.weekDay[category],position:"bottom"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}}},resetSearch:function(){QueryManager.resetMaxDists(),Loading.hideAutoSearchLoading()},orderByFreeParkingLots:function(){ParkingSearcher.results.features.sort(function(a,b){return null==a.properties.freeParkingLots?1:null==b.properties.freeParkingLots?-1:b.properties.freeParkingLots-a.properties.freeParkingLots}),ParkingSearcher.refreshMenu(),$("#parkingSearcherMenuFreeParkingOrderImage").addClass("glyphicon-sort-by-attributes-alt"),$("#parkingSearcherMenuGpsOrderImage").removeClass("glyphicon-sort-by-attributes"),$("#parkingSearcherMenuSearchCenterOrderImage").removeClass("glyphicon-sort-by-attributes")},orderByDistanceFromGPS:function(){ParkingSearcher.results.features.sort(function(a,b){return null==a.properties.distanceFromGPS?1:null==b.properties.distanceFromGPS?-1:a.properties.distanceFromGPS-b.properties.distanceFromGPS}),ParkingSearcher.refreshMenu(),$("#parkingSearcherMenuGpsOrderImage").addClass("glyphicon-sort glyphicon-sort-by-attributes"),$("#parkingSearcherMenuFreeParkingOrderImage").removeClass("glyphicon-sort-by-attributes-alt"),$("#parkingSearcherMenuSearchCenterOrderImage").removeClass("glyphicon-sort-by-attributes")},orderByDistanceFromSearchCenter:function(){ParkingSearcher.results.features.sort(function(a,b){return null==a.properties.distanceFromSearchCenter?1:null==b.properties.distanceFromSearchCenter?-1:a.properties.distanceFromSearchCenter-b.properties.distanceFromSearchCenter}),ParkingSearcher.refreshMenu(),$("#parkingSearcherMenuSearchCenterOrderImage").addClass("glyphicon-sort-by-attributes"),$("#parkingSearcherMenuGpsOrderImage").removeClass("glyphicon-sort-by-attributes"),$("#parkingSearcherMenuFreeParkingOrderImage").removeClass("glyphicon-sort-by-attributes")}};